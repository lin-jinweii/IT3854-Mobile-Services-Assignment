"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{2093:(y,w,g)=>{g.d(w,{c:()=>p});var _=g(2361),v=g(2335),u=g(1363);const p=(t,c)=>{let n,o;const d=(r,a,e)=>{if("undefined"==typeof document)return;const l=document.elementFromPoint(r,a);l&&c(l)?l!==n&&(s(),i(l,e)):s()},i=(r,a)=>{n=r,o||(o=n);const e=n;(0,_.c)(()=>e.classList.add("ion-activated")),a()},s=(r=!1)=>{if(!n)return;const a=n;(0,_.c)(()=>a.classList.remove("ion-activated")),r&&o!==n&&n.click(),n=void 0};return(0,u.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:r=>d(r.currentX,r.currentY,v.a),onMove:r=>d(r.currentX,r.currentY,v.b),onEnd:()=>{s(!0),(0,v.h)(),o=void 0}})}},7438:(y,w,g)=>{g.d(w,{g:()=>_});const _=(c,n,o,d,i)=>u(c[1],n[1],o[1],d[1],i).map(s=>v(c[0],n[0],o[0],d[0],s)),v=(c,n,o,d,i)=>i*(3*n*Math.pow(i-1,2)+i*(-3*o*i+3*o+d*i))-c*Math.pow(i-1,3),u=(c,n,o,d,i)=>t((d-=i)-3*(o-=i)+3*(n-=i)-(c-=i),3*o-6*n+3*c,3*n-3*c,c).filter(r=>r>=0&&r<=1),t=(c,n,o,d)=>{if(0===c)return((c,n,o)=>{const d=n*n-4*c*o;return d<0?[]:[(-n+Math.sqrt(d))/(2*c),(-n-Math.sqrt(d))/(2*c)]})(n,o,d);const i=(3*(o/=c)-(n/=c)*n)/3,s=(2*n*n*n-9*n*o+27*(d/=c))/27;if(0===i)return[Math.pow(-s,1/3)];if(0===s)return[Math.sqrt(-i),-Math.sqrt(-i)];const r=Math.pow(s/2,2)+Math.pow(i/3,3);if(0===r)return[Math.pow(s/2,.5)-n/3];if(r>0)return[Math.pow(-s/2+Math.sqrt(r),1/3)-Math.pow(s/2+Math.sqrt(r),1/3)-n/3];const a=Math.sqrt(Math.pow(-i/3,3)),e=Math.acos(-s/(2*Math.sqrt(Math.pow(-i/3,3)))),l=2*Math.pow(a,1/3);return[l*Math.cos(e/3)-n/3,l*Math.cos((e+2*Math.PI)/3)-n/3,l*Math.cos((e+4*Math.PI)/3)-n/3]}},5062:(y,w,g)=>{g.d(w,{i:()=>_});const _=v=>v&&""!==v.dir?"rtl"===v.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},4560:(y,w,g)=>{g.r(w),g.d(w,{startFocusVisible:()=>p});const _="ion-focused",u=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],p=t=>{let c=[],n=!0;const o=t?t.shadowRoot:document,d=t||document.body,i=m=>{c.forEach(f=>f.classList.remove(_)),m.forEach(f=>f.classList.add(_)),c=m},s=()=>{n=!1,i([])},r=m=>{n=u.includes(m.key),n||i([])},a=m=>{if(n&&m.composedPath){const f=m.composedPath().filter(E=>!!E.classList&&E.classList.contains("ion-focusable"));i(f)}},e=()=>{o.activeElement===d&&i([])};return o.addEventListener("keydown",r),o.addEventListener("focusin",a),o.addEventListener("focusout",e),o.addEventListener("touchstart",s),o.addEventListener("mousedown",s),{destroy:()=>{o.removeEventListener("keydown",r),o.removeEventListener("focusin",a),o.removeEventListener("focusout",e),o.removeEventListener("touchstart",s),o.removeEventListener("mousedown",s)},setFocus:i}}},2407:(y,w,g)=>{g.d(w,{C:()=>t,a:()=>u,d:()=>p});var _=g(5861),v=g(206);const u=function(){var c=(0,_.Z)(function*(n,o,d,i,s,r){if(n)return n.attachViewToDom(o,d,s,i);if(!(r||"string"==typeof d||d instanceof HTMLElement))throw new Error("framework delegate is missing");const a="string"==typeof d?o.ownerDocument&&o.ownerDocument.createElement(d):d;return i&&i.forEach(e=>a.classList.add(e)),s&&Object.assign(a,s),o.appendChild(a),yield new Promise(e=>(0,v.c)(a,e)),a});return function(o,d,i,s,r,a){return c.apply(this,arguments)}}(),p=(c,n)=>{if(n){if(c)return c.removeViewFromDom(n.parentElement,n);n.remove()}return Promise.resolve()},t=()=>{let c,n;return{attachViewToDom:function(){var i=(0,_.Z)(function*(s,r,a={},e=[]){if(c=s,r){const m="string"==typeof r?c.ownerDocument&&c.ownerDocument.createElement(r):r;e.forEach(f=>m.classList.add(f)),Object.assign(m,a),c.appendChild(m),yield new Promise(f=>(0,v.c)(m,f))}else if(c.children.length>0){const m=c.ownerDocument&&c.ownerDocument.createElement("div");e.forEach(f=>m.classList.add(f)),m.append(...c.children),c.appendChild(m)}const l=document.querySelector("ion-app")||document.body;return n=document.createComment("ionic teleport"),c.parentNode.insertBefore(n,c),l.appendChild(c),c});return function(r,a){return i.apply(this,arguments)}}(),removeViewFromDom:()=>(c&&n&&(n.parentNode.insertBefore(c,n),n.remove()),Promise.resolve())}}},2335:(y,w,g)=>{g.d(w,{a:()=>u,b:()=>p,c:()=>v,d:()=>c,h:()=>t});const _={getEngine(){const n=window;return n.TapticEngine||n.Capacitor&&n.Capacitor.isPluginAvailable("Haptics")&&n.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(n){const o=this.getEngine();if(!o)return;const d=this.isCapacitor()?n.style.toUpperCase():n.style;o.impact({style:d})},notification(n){const o=this.getEngine();if(!o)return;const d=this.isCapacitor()?n.style.toUpperCase():n.style;o.notification({style:d})},selection(){this.impact({style:"light"})},selectionStart(){const n=this.getEngine();!n||(this.isCapacitor()?n.selectionStart():n.gestureSelectionStart())},selectionChanged(){const n=this.getEngine();!n||(this.isCapacitor()?n.selectionChanged():n.gestureSelectionChanged())},selectionEnd(){const n=this.getEngine();!n||(this.isCapacitor()?n.selectionEnd():n.gestureSelectionEnd())}},v=()=>{_.selection()},u=()=>{_.selectionStart()},p=()=>{_.selectionChanged()},t=()=>{_.selectionEnd()},c=n=>{_.impact(n)}},6665:(y,w,g)=>{g.d(w,{s:()=>_});const _=o=>{try{if(o instanceof class n{constructor(d){this.value=d}})return o.value;if(!p()||"string"!=typeof o||""===o)return o;const d=document.createDocumentFragment(),i=document.createElement("div");d.appendChild(i),i.innerHTML=o,c.forEach(e=>{const l=d.querySelectorAll(e);for(let m=l.length-1;m>=0;m--){const f=l[m];f.parentNode?f.parentNode.removeChild(f):d.removeChild(f);const E=u(f);for(let h=0;h<E.length;h++)v(E[h])}});const s=u(d);for(let e=0;e<s.length;e++)v(s[e]);const r=document.createElement("div");r.appendChild(d);const a=r.querySelector("div");return null!==a?a.innerHTML:r.innerHTML}catch(d){return console.error(d),""}},v=o=>{if(o.nodeType&&1!==o.nodeType)return;for(let i=o.attributes.length-1;i>=0;i--){const s=o.attributes.item(i),r=s.name;if(!t.includes(r.toLowerCase())){o.removeAttribute(r);continue}const a=s.value;null!=a&&a.toLowerCase().includes("javascript:")&&o.removeAttribute(r)}const d=u(o);for(let i=0;i<d.length;i++)v(d[i])},u=o=>null!=o.children?o.children:o.childNodes,p=()=>{const o=window,d=o&&o.Ionic&&o.Ionic.config;return!d||(d.get?d.get("sanitizerEnabled",!0):!0===d.sanitizerEnabled||void 0===d.sanitizerEnabled)},t=["class","id","href","src","name","slot"],c=["script","style","iframe","meta","link","object","embed"]},8117:(y,w,g)=>{g.d(w,{a:()=>_,b:()=>s,c:()=>c,d:()=>r,e:()=>h,f:()=>u,g:()=>v,h:()=>f,i:()=>n,j:()=>d,k:()=>a,l:()=>o,m:()=>t,n:()=>p,o:()=>i,p:()=>e,q:()=>l,r:()=>m,s:()=>E});const _="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Back</title><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",t="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Three</title><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Two</title><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",E="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},410:(y,w,g)=>{g.r(w),g.d(w,{KEYBOARD_DID_CLOSE:()=>v,KEYBOARD_DID_OPEN:()=>_,copyVisualViewport:()=>E,keyboardDidClose:()=>e,keyboardDidOpen:()=>r,keyboardDidResize:()=>a,resetKeyboardAssist:()=>n,setKeyboardClose:()=>s,setKeyboardOpen:()=>i,startKeyboardAssist:()=>o,trackViewportChanges:()=>f});const _="ionKeyboardDidShow",v="ionKeyboardDidHide";let p={},t={},c=!1;const n=()=>{p={},t={},c=!1},o=h=>{d(h),h.visualViewport&&(t=E(h.visualViewport),h.visualViewport.onresize=()=>{f(h),r()||a(h)?i(h):e(h)&&s(h)})},d=h=>{h.addEventListener("keyboardDidShow",D=>i(h,D)),h.addEventListener("keyboardDidHide",()=>s(h))},i=(h,D)=>{l(h,D),c=!0},s=h=>{m(h),c=!1},r=()=>!c&&p.width===t.width&&(p.height-t.height)*t.scale>150,a=h=>c&&!e(h),e=h=>c&&t.height===h.innerHeight,l=(h,D)=>{const M=new CustomEvent(_,{detail:{keyboardHeight:D?D.keyboardHeight:h.innerHeight-t.height}});h.dispatchEvent(M)},m=h=>{const D=new CustomEvent(v);h.dispatchEvent(D)},f=h=>{p=Object.assign({},t),t=E(h.visualViewport)},E=h=>({width:Math.round(h.width),height:Math.round(h.height),offsetTop:h.offsetTop,offsetLeft:h.offsetLeft,pageTop:h.pageTop,pageLeft:h.pageLeft,scale:h.scale})},9955:(y,w,g)=>{g.d(w,{S:()=>v});const v={bubbles:{dur:1e3,circles:9,fn:(u,p,t)=>{const c=u*p/t-u+"ms",n=2*Math.PI*p/t;return{r:5,style:{top:9*Math.sin(n)+"px",left:9*Math.cos(n)+"px","animation-delay":c}}}},circles:{dur:1e3,circles:8,fn:(u,p,t)=>{const c=p/t,n=u*c-u+"ms",o=2*Math.PI*c;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":n}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(u,p)=>({r:6,style:{left:9-9*p+"px","animation-delay":-110*p+"ms"}})},lines:{dur:1e3,lines:8,fn:(u,p,t)=>({y1:14,y2:26,style:{transform:`rotate(${360/t*p+(p<t/2?180:-180)}deg)`,"animation-delay":u*p/t-u+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(u,p,t)=>({y1:12,y2:20,style:{transform:`rotate(${360/t*p+(p<t/2?180:-180)}deg)`,"animation-delay":u*p/t-u+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(u,p,t)=>({y1:17,y2:29,style:{transform:`rotate(${30*p+(p<6?180:-180)}deg)`,"animation-delay":u*p/t-u+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(u,p,t)=>({y1:12,y2:20,style:{transform:`rotate(${30*p+(p<6?180:-180)}deg)`,"animation-delay":u*p/t-u+"ms"}})}}},5732:(y,w,g)=>{g.r(w),g.d(w,{createSwipeBackGesture:()=>t});var _=g(206),v=g(5062),u=g(1363);g(2733);const t=(c,n,o,d,i)=>{const s=c.ownerDocument.defaultView,r=(0,v.i)(c),e=h=>r?-h.deltaX:h.deltaX;return(0,u.createGesture)({el:c,gestureName:"goback-swipe",gesturePriority:40,threshold:10,canStart:h=>(h=>{const{startX:x}=h;return r?x>=s.innerWidth-50:x<=50})(h)&&n(),onStart:o,onMove:h=>{const x=e(h)/s.innerWidth;d(x)},onEnd:h=>{const D=e(h),x=s.innerWidth,M=D/x,A=(h=>r?-h.velocityX:h.velocityX)(h),L=A>=0&&(A>.2||D>x/2),C=(L?1-M:M)*x;let P=0;if(C>5){const S=C/Math.abs(A);P=Math.min(S,540)}i(L,M<=0?.01:(0,_.k)(0,M,.9999),P)}})}},7300:(y,w,g)=>{g.d(w,{c:()=>u,g:()=>t,h:()=>v,o:()=>n});var _=g(5861);const v=(o,d)=>null!==d.closest(o),u=(o,d)=>"string"==typeof o&&o.length>0?Object.assign({"ion-color":!0,[`ion-color-${o}`]:!0},d):d,t=o=>{const d={};return(o=>void 0!==o?(Array.isArray(o)?o:o.split(" ")).filter(i=>null!=i).map(i=>i.trim()).filter(i=>""!==i):[])(o).forEach(i=>d[i]=!0),d},c=/^[a-z][a-z0-9+\-.]*:/,n=function(){var o=(0,_.Z)(function*(d,i,s,r){if(null!=d&&"#"!==d[0]&&!c.test(d)){const a=document.querySelector("ion-router");if(a)return null!=i&&i.preventDefault(),a.push(d,s,r)}return!1});return function(i,s,r,a){return o.apply(this,arguments)}}()},5009:(y,w,g)=>{g.r(w),g.d(w,{DonationApprovalPageModule:()=>r});var _=g(9808),v=g(4182),u=g(9537),p=g(501),t=g(2096),c=g(3224);function n(a,e){1&a&&(t.TgZ(0,"div",5)(1,"strong"),t._uU(2,"There are no donations to be approved yet"),t.qZA()())}function o(a,e){if(1&a){const l=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._UZ(3,"ion-icon",6),t._uU(4),t.qZA(),t._UZ(5,"img",7)(6,"br"),t.TgZ(7,"h3"),t._uU(8),t.qZA(),t.TgZ(9,"h3"),t._uU(10),t.qZA(),t.TgZ(11,"h3"),t._uU(12),t.qZA(),t.TgZ(13,"h3"),t._uU(14),t.qZA(),t.TgZ(15,"ion-button",8),t.NdJ("click",function(){const E=t.CHM(l).$implicit;return t.oxw().statusUpdate(E,"Approved")}),t._uU(16,"Approve"),t.qZA(),t.TgZ(17,"ion-button",9),t.NdJ("click",function(){const E=t.CHM(l).$implicit;return t.oxw().statusUpdate(E,"Rejected")}),t._uU(18,"Reject"),t.qZA()()()}if(2&a){const l=e.$implicit;t.xp6(4),t.Oqu(l.username),t.xp6(1),t.Q6J("src",l.image,t.LSH),t.xp6(3),t.hij("Name: ",l.name,""),t.xp6(2),t.hij("Quality: ",l.quality,""),t.xp6(2),t.hij("Damages: ",l.damages,""),t.xp6(2),t.hij("Available: ",l.available,"")}}const i=[{path:"",component:(()=>{class a{constructor(l){this.donationService=l,this.NewUsed="",this.donationService.getPendingDonations().subscribe(m=>{this.donations=m})}filter(l){"New"==l.target.value?this.donationService.getNewDonations().subscribe(f=>{this.donations=f}):this.donationService.getUsedDonations().subscribe(f=>{this.donations=f})}statusUpdate(l,m){this.donationService.updateStatus(l,m)}ngOnInit(){}}return a.\u0275fac=function(l){return new(l||a)(t.Y36(c.l))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-donation-approval"]],decls:16,vars:2,consts:[["name","NewUsed",3,"ionChange","[ngModel]"],["value","New"],["value","Used"],["id","container",4,"ngIf"],[4,"ngFor","ngForOf"],["id","container"],["name","person","slot","start"],["width","200px","height","150px",3,"src"],["color","success","fill","outline",3,"click"],["color","danger","fill","outline",3,"click"]],template:function(l,m){1&l&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Donation Approval"),t.qZA()()(),t.TgZ(4,"ion-content")(5,"ion-item")(6,"ion-label"),t._uU(7,"Filter by Quality"),t.qZA(),t.TgZ(8,"ion-select",0),t.NdJ("ionChange",function(E){return m.filter(E)})("[ngModel]",function(){return m.NewUsed}),t.TgZ(9,"ion-select-option",1),t._uU(10,"New"),t.qZA(),t.TgZ(11,"ion-select-option",2),t._uU(12,"Used"),t.qZA()()(),t.YNc(13,n,3,0,"div",3),t.TgZ(14,"ion-list"),t.YNc(15,o,19,6,"ion-item",4),t.qZA()()),2&l&&(t.xp6(13),t.Q6J("ngIf",0===m.donations.length),t.xp6(2),t.Q6J("ngForOf",m.donations))},directives:[u.Gu,u.sr,u.wd,u.W2,u.Ie,u.Q$,u.t9,u.QI,u.n0,_.O5,u.q_,_.sg,u.gu,u.YG],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}"]}),a})()}];let s=(()=>{class a{}return a.\u0275fac=function(l){return new(l||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[p.Bz.forChild(i)],p.Bz]}),a})(),r=(()=>{class a{}return a.\u0275fac=function(l){return new(l||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[_.ez,v.u5,u.Pc,s]]}),a})()},9309:(y,w,g)=>{g.r(w),g.d(w,{LoanExtensionPageModule:()=>a});var _=g(9808),v=g(4182),u=g(9537),p=g(501),t=g(2096),c=g(406),n=g(3151);function o(e,l){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.qZA()),2&e){const m=l.$implicit;t.xp6(1),t.AsE("",m.id," x ",m.quantity,"")}}function d(e,l){if(1&e){const m=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._UZ(3,"ion-icon",2),t._uU(4),t.qZA(),t.YNc(5,o,2,2,"h3",1),t._UZ(6,"br"),t.TgZ(7,"h3"),t._uU(8),t.qZA(),t.TgZ(9,"h3"),t._uU(10),t.qZA(),t.TgZ(11,"ion-button",3),t.NdJ("click",function(){const h=t.CHM(m).$implicit;return t.oxw().statusUpdate(h,"approved")}),t._uU(12,"Approve"),t.qZA(),t.TgZ(13,"ion-button",4),t.NdJ("click",function(){const h=t.CHM(m).$implicit;return t.oxw().statusUpdate(h,"rejected")}),t._uU(14,"Reject"),t.qZA()()()}if(2&e){const m=l.$implicit;t.xp6(4),t.Oqu(m.username),t.xp6(1),t.Q6J("ngForOf",m.items),t.xp6(3),t.hij("Days Requested: ",m.days,""),t.xp6(2),t.hij("Reason: ",m.reason,"")}}const s=[{path:"",component:(()=>{class e{constructor(m,f){this.loanService=m,this.itemService=f,this.loanService.getPendingExtensionLoans().subscribe(E=>{this.loans=E})}statusUpdate(m,f){this.loanService.updatePendingExtensionLoans(m,f)}}return e.\u0275fac=function(m){return new(m||e)(t.Y36(c.B),t.Y36(n.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-loan-extension"]],decls:7,vars:2,consts:[[3,"translucent"],[4,"ngFor","ngForOf"],["name","person","slot","start"],["color","success","fill","outline",3,"click"],["color","danger","fill","outline",3,"click"]],template:function(m,f){1&m&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3," Loan Extension Request "),t.qZA()()(),t.TgZ(4,"ion-content")(5,"ion-list"),t.YNc(6,d,15,4,"ion-item",1),t.qZA()()),2&m&&(t.Q6J("translucent",!0),t.xp6(6),t.Q6J("ngForOf",f.loans))},directives:[u.Gu,u.sr,u.wd,u.W2,u.q_,_.sg,u.Ie,u.Q$,u.gu,u.YG],styles:[""]}),e})()}];let r=(()=>{class e{}return e.\u0275fac=function(m){return new(m||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.Bz.forChild(s)],p.Bz]}),e})(),a=(()=>{class e{}return e.\u0275fac=function(m){return new(m||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[_.ez,v.u5,u.Pc,r]]}),e})()},3224:(y,w,g)=>{g.d(w,{l:()=>n});var _=g(9426),v=g(5867),p=(g(2731),g(2916)),t=g(2096),c=g(2139);let n=(()=>{class o{constructor(i){this.authService=i,this.authService.observeAuthState(s=>{this.email=s.email})}add(i){v.Z.firestore().collection("donations").add({name:i.name,quality:i.quality,damages:i.damages,available:i.available,status:i.status,username:i.username}).then(s=>{if(i.image){const r=i.image.changingThisBreaksApplicationSecurity;v.Z.storage().ref().child(s.id).putString(r,v.Z.storage.StringFormat.DATA_URL).then(()=>{v.Z.firestore().collection("donations").doc(s.id).update({image:s.id})})}})}getAllDonations(){return new p.y(i=>{v.Z.firestore().collection("donations").onSnapshot(s=>{let r=[];s.forEach(a=>{let e=a.data(),l=new _.Z(e.name,e.quality,e.damages,e.available,e.image,e.status,e.username,a.id);e.image&&(l.imagePath=e.image,v.Z.storage().ref().child(e.image).getDownloadURL().then(f=>{l.image=f}).catch(f=>{console.log("Error: Read image fail "+f)})),r.push(l)}),i.next(r)})})}getDonationByID(i){return new p.y(s=>{v.Z.firestore().collection("donations").doc(i).get().then(r=>{let a=r.data(),e=new _.Z(a.name,a.quality,a.damages,a.available,a.image,a.status,a.username,r.id);a.image&&(e.imagePath=a.image,v.Z.storage().ref().child(a.image).getDownloadURL().then(m=>{e.image=m,s.next(e),console.log("Image is "+e.image)}).catch(m=>{console.log("Error: Read image fail "+m)})),s.next(e)})})}getPendingDonations(){return new p.y(i=>{v.Z.firestore().collection("donations").where("status","==","Pending Approval").onSnapshot(s=>{let r=[];s.forEach(a=>{let e=a.data(),l=new _.Z(e.name,e.quality,e.damages,e.available,e.image,e.status,e.username,a.id);e.image&&(l.imagePath=e.image,v.Z.storage().ref().child(e.image).getDownloadURL().then(f=>{l.image=f}).catch(f=>{console.log("Error: Read image fail "+f)})),r.push(l)}),i.next(r)})})}getUsedDonations(){return new p.y(i=>{v.Z.firestore().collection("donations").where("quality","==","Used").where("status","==","Pending Approval").onSnapshot(s=>{let r=[];s.forEach(a=>{let e=a.data(),l=new _.Z(e.name,e.quality,e.damages,e.available,e.image,e.status,e.username,a.id);e.image&&(l.imagePath=e.image,v.Z.storage().ref().child(e.image).getDownloadURL().then(f=>{l.image=f}).catch(f=>{console.log("Error: Read image fail "+f)})),r.push(l)}),i.next(r)})})}getNewDonations(){return new p.y(i=>{v.Z.firestore().collection("donations").where("quality","==","New").where("status","==","Pending Approval").onSnapshot(s=>{let r=[];s.forEach(a=>{let e=a.data(),l=new _.Z(e.name,e.quality,e.damages,e.available,e.image,e.status,e.username,a.id);e.image&&(l.imagePath=e.image,v.Z.storage().ref().child(e.image).getDownloadURL().then(f=>{l.image=f}).catch(f=>{console.log("Error: Read image fail "+f)})),r.push(l)}),i.next(r)})})}deleteDonation(i){const s=v.Z.firestore().collection("donations").doc(i.id);s.get().then(r=>{r.exists&&s.delete()})}updateStatus(i,s){v.Z.firestore().collection("donations").doc(i.id).update("Approved"===s?{status:"Approved"}:{status:"Rejected"})}}return o.\u0275fac=function(i){return new(i||o)(t.LFG(c.e))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},9426:(y,w,g)=>{g.d(w,{Z:()=>_});class _{constructor(u,p,t,c,n,o,d,i){this.name=u,this.quality=p,this.damages=t,this.available=c,this.image=n,this.status=o,this.username=d,this.id=i}}},406:(y,w,g)=>{g.d(w,{B:()=>o});var _=g(2173),v=g(8242),u=g(5867),t=(g(2731),g(2916)),c=g(2096),n=g(2139);let o=(()=>{class d{constructor(s){this.authService=s,this.authService.observeAuthState(r=>{this.email=r.email})}createLoan(s){let r=new Date;r.setHours(0,0,0,0),r.setDate(r.getDate()+14);let l=new v.Z(this.email,"pending",r,0,"");return u.Z.firestore().collection("loans").add({username:l.username,status:l.status,duedate:l.duedate,days:l.days,reason:l.reason}).then(m=>{l.id=m.id;for(let f of s)f.quantity>0&&u.Z.firestore().collection("loans/"+m.id+"/items/").doc(f.id).set({quantity:f.quantity});return l})}getAllLoans(){return new t.y(s=>{u.Z.firestore().collection("loans").where("username","==",this.email).orderBy("duedate","asc").onSnapshot(r=>{let a=[];r.forEach(e=>{try{let l=new v.Z(e.data().username,e.data().status,e.data().duedate.toDate(),e.data().days,e.data().reason,e.id);a.push(l),u.Z.firestore().collection("loans/"+e.id+"/items").onSnapshot(f=>{l.items=[],f.forEach(E=>{let h=new _.c(E.id,E.data().quantity);l.items.push(h)})})}catch(l){}}),s.next(a)})})}getLoanById(s){return new t.y(r=>{u.Z.firestore().collection("loans").doc(s).get().then(a=>{let e=new v.Z(a.data().username,a.data().status,a.data().duedate.toDate(),a.data().days,a.data().reason,a.id);u.Z.firestore().collection("loans/"+s+"/items").get().then(l=>{e.items=[],l.forEach(m=>{let f=new _.c(m.id,m.data().quantity);e.items.push(f)}),r.next(e)})})})}getPendingLoans(){return new t.y(s=>{u.Z.firestore().collection("loans").where("status","==","pending").onSnapshot(r=>{let a=[];r.forEach(e=>{try{let l=new v.Z(e.data().username,e.data().status,e.data().duedate.toDate(),e.data().days,e.data().reason,e.id);a.push(l),u.Z.firestore().collection("loans/"+e.id+"/items").onSnapshot(f=>{l.items=[],f.forEach(E=>{let h=new _.c(E.id,E.data().quantity);l.items.push(h)})})}catch(l){}}),s.next(a)})})}deletePendingLoan(s){const r=u.Z.firestore().collection("loans").doc(s.id);r.get().then(a=>{a.exists&&r.delete()})}updatePendingLoans(s,r){u.Z.firestore().collection("loans").doc(s.id).update("approved"===r?{status:"approved"}:{status:"rejected"})}extendApprovedLoans(s){u.Z.firestore().collection("loans").doc(s.id).update({status:s.status,days:s.days,reason:s.reason})}getPendingExtensionLoans(){return new t.y(s=>{u.Z.firestore().collection("loans").where("status","==","pending-extension").onSnapshot(r=>{let a=[];r.forEach(e=>{try{let l=new v.Z(e.data().username,e.data().status,e.data().duedate.toDate(),e.data().days,e.data().reason,e.id);a.push(l),u.Z.firestore().collection("loans/"+e.id+"/items").onSnapshot(f=>{l.items=[],f.forEach(E=>{let h=new _.c(E.id,E.data().quantity);l.items.push(h)})})}catch(l){}}),s.next(a)})})}updatePendingExtensionLoans(s,r){const a=u.Z.firestore().collection("loans").doc(s.id);let e=s.duedate;e.setHours(0,0,0,0),e.setDate(e.getDate()+s.days),a.update("approved"===r?{status:"extended",duedate:e}:{status:"not extended"})}}return d.\u0275fac=function(s){return new(s||d)(c.LFG(n.e))},d.\u0275prov=c.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},8242:(y,w,g)=>{g.d(w,{Z:()=>_});class _{constructor(u,p,t,c,n,o){this.username=u,this.status=p,this.duedate=t,this.days=c,this.reason=n,this.id=o,this.items=[]}}},2139:(y,w,g)=>{g.d(w,{e:()=>t});var _=g(4304),u=(g(5880),g(2916)),p=g(2096);let t=(()=>{class c{constructor(){}login(o,d){return _.Z.auth().signInWithEmailAndPassword(o,d)}observeAuthState(o){return _.Z.auth().onAuthStateChanged(o)}getUserRole(o){return new u.y(d=>{_.Z.firestore().collection("users").doc(o).get().then(i=>{let s=i.data().role;d.next(s)})})}getEmail(){return this.email}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275prov=p.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},5867:(y,w,g)=>{g.d(w,{Z:()=>_.default});var _=g(8367),u="8.10.1";_.default.registerVersion("firebase",u,"app"),_.default.SDK_VERSION=u}}]);