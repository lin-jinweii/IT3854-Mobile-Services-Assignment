(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2106:(wr,an,fe)=>{"use strict";var f=fe(8367),j=fe(2461),H=fe(655),tt=fe(492),Le=fe(4003);function we(Ce){return Ce&&"object"==typeof Ce&&"default"in Ce?Ce:{default:Ce}}var Dt,_e=we(f),qe=((Dt={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Dt["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Dt["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Dt["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Dt["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Dt["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Dt["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Dt["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Dt["recaptcha-error"]="ReCAPTCHA error.",Dt),x=new tt.ErrorFactory("appCheck","AppCheck",qe),Se=new Map,xe={activated:!1,tokenObservers:[]},ce={enabled:!1};function ve(Ce){return Se.get(Ce)||xe}function Pe(Ce,Ae){Se.set(Ce,Ae)}function ue(){return ce}var Ge="https://content-firebaseappcheck.googleapis.com/v1beta",Ut=function(){function Ce(Ae,st,Ot,Pt,Jt){if(this.operation=Ae,this.retryPolicy=st,this.getWaitDuration=Ot,this.lowerBound=Pt,this.upperBound=Jt,this.pending=null,this.nextErrorWaitInterval=Pt,Pt>Jt)throw new Error("Proactive refresh lower bound greater than upper bound!")}return Ce.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},Ce.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},Ce.prototype.isRunning=function(){return!!this.pending},Ce.prototype.process=function(Ae){return H.__awaiter(this,void 0,void 0,function(){var st;return H.__generator(this,function(Ot){switch(Ot.label){case 0:this.stop(),Ot.label=1;case 1:return Ot.trys.push([1,6,,7]),this.pending=new tt.Deferred,[4,nt(this.getNextRun(Ae))];case 2:return Ot.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return Ot.sent(),this.pending=new tt.Deferred,[4,this.operation()];case 4:return Ot.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return Ot.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return st=Ot.sent(),this.retryPolicy(st)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},Ce.prototype.getNextRun=function(Ae){if(Ae)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var st=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),st},Ce}();function nt(Ce){return new Promise(function(Ae){setTimeout(Ae,Ce)})}function rt(){return self.grecaptcha}function Nt(Ce){if(!ve(Ce).activated)throw x.create("use-before-activation",{appName:Ce.name})}function rn(Ce){return tt.base64.encodeString(JSON.stringify(Ce),!1)}function Ye(Ce,Ae){var st=Ce.url,Ot=Ce.body;return H.__awaiter(this,void 0,void 0,function(){var Pt,Jt,Fn,Jn,Cr,sr,ni,kt,dt,ke;return H.__generator(this,function(mt){switch(mt.label){case 0:Pt={"Content-Type":"application/json"},(Jt=Ae.getImmediate({optional:!0}))&&(Pt["X-Firebase-Client"]=Jt.getPlatformInfoString()),Fn={method:"POST",body:JSON.stringify(Ot),headers:Pt},mt.label=1;case 1:return mt.trys.push([1,3,,4]),[4,fetch(st,Fn)];case 2:return Jn=mt.sent(),[3,4];case 3:throw Cr=mt.sent(),x.create("fetch-network-error",{originalErrorMessage:Cr.message});case 4:if(200!==Jn.status)throw x.create("fetch-status-error",{httpStatus:Jn.status});mt.label=5;case 5:return mt.trys.push([5,7,,8]),[4,Jn.json()];case 6:return sr=mt.sent(),[3,8];case 7:throw ni=mt.sent(),x.create("fetch-parse-error",{originalErrorMessage:ni.message});case 8:if(!(kt=sr.ttl.match(/^([\d.]+)(s)$/))||!kt[2]||isNaN(Number(kt[1])))throw x.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+sr.ttl});return dt=1e3*Number(kt[1]),ke=Date.now(),[2,{token:sr.attestationToken,expireTimeMillis:ke+dt,issuedAtTimeMillis:ke}]}})})}function ze(Ce,Ae){var st=Ce.options;return{url:Ge+"/projects/"+st.projectId+"/apps/"+st.appId+":exchangeRecaptchaToken?key="+st.apiKey,body:{recaptcha_token:Ae}}}function ae(Ce,Ae){var st=Ce.options;return{url:Ge+"/projects/"+st.projectId+"/apps/"+st.appId+":exchangeDebugToken?key="+st.apiKey,body:{debug_token:Ae}}}var at="firebase-app-check-store",Tn="debug-token",gn=null;function Tt(){return gn||(gn=new Promise(function(Ce,Ae){try{var st=indexedDB.open("firebase-app-check-database",1);st.onsuccess=function(Ot){Ce(Ot.target.result)},st.onerror=function(Ot){var Pt;Ae(x.create("storage-open",{originalErrorMessage:null===(Pt=Ot.target.error)||void 0===Pt?void 0:Pt.message}))},st.onupgradeneeded=function(Ot){0===Ot.oldVersion&&Ot.target.result.createObjectStore(at,{keyPath:"compositeKey"})}}catch(Ot){Ae(x.create("storage-open",{originalErrorMessage:Ot.message}))}}))}function At(Ce){return Ft(on(Ce))}function Mt(Ce,Ae){return H.__awaiter(this,void 0,void 0,function(){var st,Ot,Pt,Jt;return H.__generator(this,function(Fn){switch(Fn.label){case 0:return[4,Tt()];case 1:return st=Fn.sent(),Ot=st.transaction(at,"readwrite"),Pt=Ot.objectStore(at),Jt=Pt.put({compositeKey:Ce,value:Ae}),[2,new Promise(function(Jn,Cr){Jt.onsuccess=function(sr){Jn()},Ot.onerror=function(sr){var ni;Cr(x.create("storage-set",{originalErrorMessage:null===(ni=sr.target.error)||void 0===ni?void 0:ni.message}))}})]}})})}function Ft(Ce){return H.__awaiter(this,void 0,void 0,function(){var Ae,st,Ot,Pt;return H.__generator(this,function(Jt){switch(Jt.label){case 0:return[4,Tt()];case 1:return Ae=Jt.sent(),st=Ae.transaction(at,"readonly"),Ot=st.objectStore(at),Pt=Ot.get(Ce),[2,new Promise(function(Fn,Jn){Pt.onsuccess=function(Cr){var sr=Cr.target.result;Fn(sr?sr.value:void 0)},st.onerror=function(Cr){var sr;Jn(x.create("storage-get",{originalErrorMessage:null===(sr=Cr.target.error)||void 0===sr?void 0:sr.message}))}})]}})})}function on(Ce){return Ce.options.appId+"-"+Ce.name}var We=new Le.Logger("@firebase/app-check");function yn(Ce,Ae){return tt.isIndexedDBAvailable()?function Rt(Ce,Ae){return Mt(on(Ce),Ae)}(Ce,Ae).catch(function(st){We.warn("Failed to write token to indexeddb. Error: "+st)}):Promise.resolve()}function er(){return H.__awaiter(this,void 0,void 0,function(){var Ce;return H.__generator(this,function(Ae){if((Ce=ue()).enabled&&Ce.token)return[2,Ce.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var or={error:"UNKNOWN_ERROR"};function Kn(Ce,Ae,st){return void 0===st&&(st=!1),H.__awaiter(this,void 0,void 0,function(){var Ot,Pt,Jt,Fn,Jn,Cr,sr,ni,kt,dt;return H.__generator(this,function(ke){switch(ke.label){case 0:return Nt(Ce),Ot=ve(Ce),Jt=void 0,(Pt=Ot.token)?[3,2]:[4,Ot.cachedTokenPromise];case 1:(Fn=ke.sent())&&Sr(Fn)&&(Pt=Fn,Pe(Ce,H.__assign(H.__assign({},Ot),{token:Pt})),Lr(Ce,{token:Pt.token})),ke.label=2;case 2:return!st&&Pt&&Sr(Pt)?[2,{token:Pt.token}]:function Mn(){return ue().enabled}()?(Cr=Ye,sr=ae,ni=[Ce],[4,er()]):[3,6];case 3:return[4,Cr.apply(void 0,[sr.apply(void 0,ni.concat([ke.sent()])),Ae])];case 4:return Jn=ke.sent(),[4,yn(Ce,Jn)];case 5:return ke.sent(),Pe(Ce,H.__assign(H.__assign({},Ot),{token:Jn})),[2,{token:Jn.token}];case 6:return ke.trys.push([6,8,,9]),[4,Ot.provider.getToken()];case 7:return Pt=ke.sent(),[3,9];case 8:return kt=ke.sent(),We.error(kt),Jt=kt,[3,9];case 9:return Pt?[3,10]:(dt=function rr(Ce){return{token:rn(or),error:Ce}}(Jt),[3,12]);case 10:return dt={token:Pt.token},Pe(Ce,H.__assign(H.__assign({},Ot),{token:Pt})),[4,yn(Ce,Pt)];case 11:ke.sent(),ke.label=12;case 12:return Lr(Ce,dt),[2,dt]}})})}function Vr(Ce,Ae,st,Ot,Pt){var Jt=ve(Ce),Fn={next:Ot,error:Pt,type:st},Jn=H.__assign(H.__assign({},Jt),{tokenObservers:H.__spreadArray(H.__spreadArray([],Jt.tokenObservers),[Fn])});if(!Jn.tokenRefresher){var Cr=function Fr(Ce,Ae){var st=this;return new Ut(function(){return H.__awaiter(st,void 0,void 0,function(){var Pt;return H.__generator(this,function(Jt){switch(Jt.label){case 0:return ve(Ce).token?[3,2]:[4,Kn(Ce,Ae)];case 1:return Pt=Jt.sent(),[3,4];case 2:return[4,Kn(Ce,Ae,!0)];case 3:Pt=Jt.sent(),Jt.label=4;case 4:if(Pt.error)throw Pt.error;return[2]}})})},function(){return!0},function(){var Ot=ve(Ce);if(Ot.token){var Pt=Ot.token.issuedAtTimeMillis+.5*(Ot.token.expireTimeMillis-Ot.token.issuedAtTimeMillis)+3e5;return Pt=Math.min(Pt,Ot.token.expireTimeMillis-3e5),Math.max(0,Pt-Date.now())}return 0},3e4,96e4)}(Ce,Ae);Jn.tokenRefresher=Cr}if(!Jn.tokenRefresher.isRunning()&&Jt.isTokenAutoRefreshEnabled&&Jn.tokenRefresher.start(),Jt.token&&Sr(Jt.token)){var sr=Jt.token;Promise.resolve().then(function(){return Ot({token:sr.token})}).catch(function(){})}else null==Jt.token&&Jt.cachedTokenPromise.then(function(ni){ni&&Sr(ni)&&Ot({token:ni.token})}).catch(function(){});Pe(Ce,Jn)}function cr(Ce,Ae){var st=ve(Ce),Ot=st.tokenObservers.filter(function(Pt){return Pt.next!==Ae});0===Ot.length&&st.tokenRefresher&&st.tokenRefresher.isRunning()&&st.tokenRefresher.stop(),Pe(Ce,H.__assign(H.__assign({},st),{tokenObservers:Ot}))}function Lr(Ce,Ae){for(var Ot=0,Pt=ve(Ce).tokenObservers;Ot<Pt.length;Ot++){var Jt=Pt[Ot];try{"EXTERNAL"===Jt.type&&null!=Ae.error?Jt.error(Ae.error):Jt.next(Ae)}catch(Fn){}}}function Sr(Ce){return Ce.expireTimeMillis-Date.now()>0}function Hr(Ce){return H.__awaiter(this,void 0,void 0,function(){var st;return H.__generator(this,function(Ot){switch(Ot.label){case 0:return Nt(Ce),[4,ve(Ce).reCAPTCHAState.initialized.promise];case 1:return st=Ot.sent(),[2,new Promise(function(Pt,Jt){var Fn=ve(Ce).reCAPTCHAState;st.ready(function(){Pt(st.execute(Fn.widgetId,{action:"fire_app_check"}))})})]}})})}function Gn(Ce,Ae,st,Ot){var Pt=st.render(Ot,{sitekey:Ae,size:"invisible"}),Jt=ve(Ce);Pe(Ce,H.__assign(H.__assign({},Jt),{reCAPTCHAState:H.__assign(H.__assign({},Jt.reCAPTCHAState),{widgetId:Pt})}))}var br=function(){function Ce(Ae){this._siteKey=Ae}return Ce.prototype.getToken=function(){return H.__awaiter(this,void 0,void 0,function(){var Ae;return H.__generator(this,function(st){switch(st.label){case 0:if(!this._app||!this._platformLoggerProvider)throw x.create("use-before-activation",{appName:""});st.label=1;case 1:return st.trys.push([1,3,,4]),[4,Hr(this._app)];case 2:return Ae=st.sent(),[3,4];case 3:throw st.sent(),x.create("recaptcha-error");case 4:return[2,Ye(ze(this._app,Ae),this._platformLoggerProvider)]}})})},Ce.prototype.initialize=function(Ae,st){this._app=Ae,this._platformLoggerProvider=st,function fi(Ce,Ae){var st=ve(Ce),Ot=new tt.Deferred;Pe(Ce,H.__assign(H.__assign({},st),{reCAPTCHAState:{initialized:Ot}}));var Pt="fire_app_check_"+Ce.name,Jt=document.createElement("div");Jt.id=Pt,Jt.style.display="none",document.body.appendChild(Jt);var Fn=rt();return Fn?Fn.ready(function(){Gn(Ce,Ae,Fn,Pt),Ot.resolve(Fn)}):function nr(Ce){var Ae=document.createElement("script");Ae.src="https://www.google.com/recaptcha/api.js",Ae.onload=Ce,document.head.appendChild(Ae)}(function(){var Jn=rt();if(!Jn)throw new Error("no recaptcha");Jn.ready(function(){Gn(Ce,Ae,Jn,Pt),Ot.resolve(Jn)})}),Ot.promise}(Ae,this._siteKey).catch(function(){})},Ce}(),$t=function(){function Ce(Ae){this._customProviderOptions=Ae}return Ce.prototype.getToken=function(){return H.__awaiter(this,void 0,void 0,function(){var Ae,st,Ot;return H.__generator(this,function(Pt){switch(Pt.label){case 0:if(!this._app)throw x.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return Ae=Pt.sent(),st=tt.issuedAtTime(Ae.token),Ot=null!==st&&st<Date.now()&&st>0?1e3*st:Date.now(),[2,H.__assign(H.__assign({},Ae),{issuedAtTimeMillis:Ot})]}})})},Ce.prototype.initialize=function(Ae){this._app=Ae},Ce}();function Si(Ce,Ae){return{app:Ce,activate:function(st,Ot){return function Qn(Ce,Ae,st,Ot){var Pt=ve(Ce);if(Pt.activated)throw x.create("already-activated",{appName:Ce.name});var Jt=H.__assign(H.__assign({},Pt),{activated:!0});Jt.cachedTokenPromise=function Bn(Ce){return H.__awaiter(this,void 0,void 0,function(){var Ae,st;return H.__generator(this,function(Ot){switch(Ot.label){case 0:if(!tt.isIndexedDBAvailable())return[3,5];Ae=void 0,Ot.label=1;case 1:return Ot.trys.push([1,3,,4]),[4,At(Ce)];case 2:return Ae=Ot.sent(),[3,4];case 3:return st=Ot.sent(),We.warn("Failed to read token from indexeddb. Error: "+st),[3,4];case 4:return[2,Ae];case 5:return[2,void 0]}})})}(Ce).then(function(Fn){return Fn&&Sr(Fn)&&Pe(Ce,H.__assign(H.__assign({},ve(Ce)),{token:Fn})),Fn}),Jt.provider="string"==typeof Ae?new br(Ae):Ae instanceof br||Ae instanceof $t?Ae:new $t({getToken:Ae.getToken}),Jt.isTokenAutoRefreshEnabled=void 0===Ot?Ce.automaticDataCollectionEnabled:Ot,Pe(Ce,Jt),Jt.provider.initialize(Ce,st)}(Ce,st,Ae,Ot)},setTokenAutoRefreshEnabled:function(st){return function vr(Ce,Ae){var st=ve(Ce);st.tokenRefresher&&(!0===Ae?st.tokenRefresher.start():st.tokenRefresher.stop()),Pe(Ce,H.__assign(H.__assign({},st),{isTokenAutoRefreshEnabled:Ae}))}(Ce,st)},getToken:function(st){return function Ei(Ce,Ae,st){return H.__awaiter(this,void 0,void 0,function(){var Ot;return H.__generator(this,function(Pt){switch(Pt.label){case 0:return[4,Kn(Ce,Ae,st)];case 1:if((Ot=Pt.sent()).error)throw Ot.error;return[2,{token:Ot.token}]}})})}(Ce,Ae,st)},onTokenChanged:function(st,Ot,Pt){return function xr(Ce,Ae,st,Ot,Pt){var Jt,Fn=function(){};return Jt=null!=st.next?st.next.bind(st):st,null!=st.error?Fn=st.error.bind(st):Ot&&(Fn=Ot),Vr(Ce,Ae,"EXTERNAL",Jt,Fn),function(){return cr(Ce,Jt)}}(Ce,Ae,st,Ot)},INTERNAL:{delete:function(){for(var Ot=0,Pt=ve(Ce).tokenObservers;Ot<Pt.length;Ot++)cr(Ce,Pt[Ot].next);return Promise.resolve()}}}}var Ue="app-check-internal";(function bt(Ce){Ce.INTERNAL.registerComponent(new j.Component("appCheck",function(Ae){return Si(Ae.getProvider("app").getImmediate(),Ae.getProvider("platform-logger"))},"PUBLIC").setServiceProps({ReCaptchaV3Provider:br,CustomProvider:$t}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(Ae,st,Ot){Ae.getProvider(Ue).initialize()})),Ce.INTERNAL.registerComponent(new j.Component(Ue,function(Ae){return function Or(Ce,Ae){return{getToken:function(st){return Kn(Ce,Ae,st)},addTokenListener:function(st){return Vr(Ce,Ae,"INTERNAL",st)},removeTokenListener:function(st){return cr(Ce,st)}}}(Ae.getProvider("app").getImmediate(),Ae.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT")),Ce.registerVersion("@firebase/app-check","0.3.2")})(_e.default),function Pr(){var Ce=tt.getGlobal();if("string"==typeof Ce.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===Ce.FIREBASE_APPCHECK_DEBUG_TOKEN){var Ae=ue();Ae.enabled=!0;var st=new tt.Deferred;Ae.token=st,st.resolve("string"==typeof Ce.FIREBASE_APPCHECK_DEBUG_TOKEN?Ce.FIREBASE_APPCHECK_DEBUG_TOKEN:function ar(){return H.__awaiter(this,void 0,void 0,function(){var Ce,Ae;return H.__generator(this,function(st){switch(st.label){case 0:Ce=void 0,st.label=1;case 1:return st.trys.push([1,3,,4]),[4,Ft(Tn)];case 2:return Ce=st.sent(),[3,4];case 3:return st.sent(),[3,4];case 4:return Ce?[2,Ce]:(Ae=function Et(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Ce){var Ae=16*Math.random()|0;return("x"===Ce?Ae:3&Ae|8).toString(16)})}(),function St(Ce){return Mt(Tn,Ce)}(Ae).catch(function(Ot){return We.warn("Failed to persist debug token to indexeddb. Error: "+Ot)}),console.log("AppCheck debug token: "+Ae+". You will need to whitelist it in the Firebase console for it to work"),[2,Ae])}})})}())}}()},8367:(wr,an,fe)=>{"use strict";fe.r(an),fe.d(an,{default:()=>Rt,firebase:()=>At});var Le,nt,f=fe(655),j=fe(492),H=fe(2461),tt=fe(4003),we=((Le={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Le["bad-app-name"]="Illegal App name: '{$appName}",Le["duplicate-app"]="Firebase App named '{$appName}' already exists",Le["app-deleted"]="Firebase App named '{$appName}' already deleted",Le["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Le["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Le),_e=new j.ErrorFactory("app","Firebase",we),Dt="@firebase/app",rt="[DEFAULT]",Nt=((nt={})[Dt]="fire-core",nt["@firebase/analytics"]="fire-analytics",nt["@firebase/app-check"]="fire-app-check",nt["@firebase/auth"]="fire-auth",nt["@firebase/database"]="fire-rtdb",nt["@firebase/functions"]="fire-fn",nt["@firebase/installations"]="fire-iid",nt["@firebase/messaging"]="fire-fcm",nt["@firebase/performance"]="fire-perf",nt["@firebase/remote-config"]="fire-rc",nt["@firebase/storage"]="fire-gcs",nt["@firebase/firestore"]="fire-fst",nt["fire-js"]="fire-js",nt["firebase-wrapper"]="fire-js-all",nt),Et=new tt.Logger("@firebase/app"),rn=function(){function St(yt,Mt,Ft){var on=this;this.firebase_=Ft,this.isDeleted_=!1,this.name_=Mt.name,this.automaticDataCollectionEnabled_=Mt.automaticDataCollectionEnabled||!1,this.options_=(0,j.deepCopy)(yt),this.container=new H.ComponentContainer(Mt.name),this._addComponent(new H.Component("app",function(){return on},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(We){return on._addComponent(We)})}return Object.defineProperty(St.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(yt){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=yt},enumerable:!1,configurable:!0}),Object.defineProperty(St.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(St.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),St.prototype.delete=function(){var yt=this;return new Promise(function(Mt){yt.checkDestroyed_(),Mt()}).then(function(){return yt.firebase_.INTERNAL.removeApp(yt.name_),Promise.all(yt.container.getProviders().map(function(Mt){return Mt.delete()}))}).then(function(){yt.isDeleted_=!0})},St.prototype._getService=function(yt,Mt){var Ft;void 0===Mt&&(Mt=rt),this.checkDestroyed_();var on=this.container.getProvider(yt);return!on.isInitialized()&&"EXPLICIT"===(null===(Ft=on.getComponent())||void 0===Ft?void 0:Ft.instantiationMode)&&on.initialize(),on.getImmediate({identifier:Mt})},St.prototype._removeServiceInstance=function(yt,Mt){void 0===Mt&&(Mt=rt),this.container.getProvider(yt).clearInstance(Mt)},St.prototype._addComponent=function(yt){try{this.container.addComponent(yt)}catch(Mt){Et.debug("Component "+yt.name+" failed to register with FirebaseApp "+this.name,Mt)}},St.prototype._addOrOverwriteComponent=function(yt){this.container.addOrOverwriteComponent(yt)},St.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},St.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw _e.create("app-deleted",{appName:this.name_})},St}();rn.prototype.name&&rn.prototype.options||rn.prototype.delete||console.log("dc");var Be=function ae(){var St=function ze(St){var yt={},Mt=new Map,Ft={__esModule:!0,initializeApp:function Bn(or,Kn){void 0===Kn&&(Kn={}),("object"!=typeof Kn||null===Kn)&&(Kn={name:Kn});var cr=Kn;void 0===cr.name&&(cr.name=rt);var Fr=cr.name;if("string"!=typeof Fr||!Fr)throw _e.create("bad-app-name",{appName:String(Fr)});if((0,j.contains)(yt,Fr))throw _e.create("duplicate-app",{appName:Fr});var Lr=new St(or,cr,Ft);return yt[Fr]=Lr,Lr},app:We,registerVersion:function Mn(or,Kn,Vr){var cr,Fr=null!==(cr=Nt[or])&&void 0!==cr?cr:or;Vr&&(Fr+="-"+Vr);var Lr=Fr.match(/\s|\//),Sr=Kn.match(/\s|\//);if(Lr||Sr){var rr=['Unable to register library "'+Fr+'" with version "'+Kn+'":'];return Lr&&rr.push('library name "'+Fr+'" contains illegal characters (whitespace or "/")'),Lr&&Sr&&rr.push("and"),Sr&&rr.push('version name "'+Kn+'" contains illegal characters (whitespace or "/")'),void Et.warn(rr.join(" "))}ar(new H.Component(Fr+"-version",function(){return{library:Fr,version:Kn}},"VERSION"))},setLogLevel:tt.setLogLevel,onLog:function er(or,Kn){if(null!==or&&"function"!=typeof or)throw _e.create("invalid-log-argument");(0,tt.setUserLogHandler)(or,Kn)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:ar,removeApp:function on(or){delete yt[or]},components:Mt,useAsService:function Pr(or,Kn){return"serverAuth"===Kn?null:Kn}}};function We(or){if(!(0,j.contains)(yt,or=or||rt))throw _e.create("no-app",{appName:or});return yt[or]}function ar(or){var Kn=or.name;if(Mt.has(Kn))return Et.debug("There were multiple attempts to register component "+Kn+"."),"PUBLIC"===or.type?Ft[Kn]:null;if(Mt.set(Kn,or),"PUBLIC"===or.type){var Vr=function(Sr){if(void 0===Sr&&(Sr=We()),"function"!=typeof Sr[Kn])throw _e.create("invalid-app-argument",{appName:Kn});return Sr[Kn]()};void 0!==or.serviceProps&&(0,j.deepExtend)(Vr,or.serviceProps),Ft[Kn]=Vr,St.prototype[Kn]=function(){for(var Sr=[],rr=0;rr<arguments.length;rr++)Sr[rr]=arguments[rr];return this._getService.bind(this,Kn).apply(this,or.multipleInstances?Sr:[])}}for(var cr=0,Fr=Object.keys(yt);cr<Fr.length;cr++)yt[Fr[cr]]._addComponent(or);return"PUBLIC"===or.type?Ft[Kn]:null}return Ft.default=Ft,Object.defineProperty(Ft,"apps",{get:function yn(){return Object.keys(yt).map(function(or){return yt[or]})}}),We.App=St,Ft}(rn);return St.INTERNAL=(0,f.__assign)((0,f.__assign)({},St.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function yt(Mt){(0,j.deepExtend)(St,Mt)},createSubscribe:j.createSubscribe,ErrorFactory:j.ErrorFactory,deepExtend:j.deepExtend}),St}(),Ke=function(){function St(yt){this.container=yt}return St.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Mt){if(function at(St){var yt=St.getComponent();return"VERSION"===(null==yt?void 0:yt.type)}(Mt)){var Ft=Mt.getImmediate();return Ft.library+"/"+Ft.version}return null}).filter(function(Mt){return Mt}).join(" ")},St}();if((0,j.isBrowser)()&&void 0!==self.firebase){Et.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var gn=self.firebase.SDK_VERSION;gn&&gn.indexOf("LITE")>=0&&Et.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Tt=Be.initializeApp;Be.initializeApp=function(){for(var St=[],yt=0;yt<arguments.length;yt++)St[yt]=arguments[yt];return(0,j.isNode)()&&Et.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Tt.apply(void 0,St)};var At=Be;!function Tn(St,yt){St.INTERNAL.registerComponent(new H.Component("platform-logger",function(Mt){return new Ke(Mt)},"PRIVATE")),St.registerVersion(Dt,"0.6.30",yt),St.registerVersion("fire-js","")}(At);const Rt=At},5880:(wr,an,fe)=>{"use strict";var f=fe(8367);(function(){var j,H="function"==typeof Object.defineProperties?Object.defineProperty:function(e,a,m){e!=Array.prototype&&e!=Object.prototype&&(e[a]=m.value)},Le=function tt(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var a=0;a<e.length;++a){var m=e[a];if(m&&m.Math==Math)return m}return globalThis}(this);function _e(e){var a=0;return function(){return a<e.length?{done:!1,value:e[a++]}:{done:!0}}}function Dt(e){var a="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return a?a.call(e):{next:_e(e)}}!function we(e,a){if(a){var m=Le;e=e.split(".");for(var C=0;C<e.length-1;C++){var L=e[C];L in m||(m[L]={}),m=m[L]}(a=a(C=m[e=e[e.length-1]]))!=C&&null!=a&&H(m,e,{configurable:!0,writable:!0,value:a})}}("Promise",function(e){function a(ye){this.b=0,this.c=void 0,this.a=[];var ot=this.f();try{ye(ot.resolve,ot.reject)}catch(pn){ot.reject(pn)}}function m(){this.a=null}function C(ye){return ye instanceof a?ye:new a(function(ot){ot(ye)})}if(e)return e;m.prototype.b=function(ye){if(null==this.a){this.a=[];var ot=this;this.c(function(){ot.g()})}this.a.push(ye)};var L=Le.setTimeout;m.prototype.c=function(ye){L(ye,0)},m.prototype.g=function(){for(;this.a&&this.a.length;){var ye=this.a;this.a=[];for(var ot=0;ot<ye.length;++ot){var pn=ye[ot];ye[ot]=null;try{pn()}catch(Pn){this.f(Pn)}}}this.a=null},m.prototype.f=function(ye){this.c(function(){throw ye})},a.prototype.f=function(){function ye(Pn){return function(Ni){pn||(pn=!0,Pn.call(ot,Ni))}}var ot=this,pn=!1;return{resolve:ye(this.m),reject:ye(this.g)}},a.prototype.m=function(ye){if(ye===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(ye instanceof a)this.s(ye);else{e:switch(typeof ye){case"object":var ot=null!=ye;break e;case"function":ot=!0;break e;default:ot=!1}ot?this.v(ye):this.h(ye)}},a.prototype.v=function(ye){var ot=void 0;try{ot=ye.then}catch(pn){return void this.g(pn)}"function"==typeof ot?this.u(ot,ye):this.h(ye)},a.prototype.g=function(ye){this.i(2,ye)},a.prototype.h=function(ye){this.i(1,ye)},a.prototype.i=function(ye,ot){if(0!=this.b)throw Error("Cannot settle("+ye+", "+ot+"): Promise already settled in state"+this.b);this.b=ye,this.c=ot,this.l()},a.prototype.l=function(){if(null!=this.a){for(var ye=0;ye<this.a.length;++ye)ie.b(this.a[ye]);this.a=null}};var ie=new m;return a.prototype.s=function(ye){var ot=this.f();ye.Ra(ot.resolve,ot.reject)},a.prototype.u=function(ye,ot){var pn=this.f();try{ye.call(ot,pn.resolve,pn.reject)}catch(Pn){pn.reject(Pn)}},a.prototype.then=function(ye,ot){function pn(xo,ua){return"function"==typeof xo?function(Vl){try{Pn(xo(Vl))}catch(Wh){Ni(Wh)}}:ua}var Pn,Ni,Fo=new a(function(xo,ua){Pn=xo,Ni=ua});return this.Ra(pn(ye,Pn),pn(ot,Ni)),Fo},a.prototype.catch=function(ye){return this.then(void 0,ye)},a.prototype.Ra=function(ye,ot){function pn(){switch(Pn.b){case 1:ye(Pn.c);break;case 2:ot(Pn.c);break;default:throw Error("Unexpected state: "+Pn.b)}}var Pn=this;null==this.a?ie.b(pn):this.a.push(pn)},a.resolve=C,a.reject=function(ye){return new a(function(ot,pn){pn(ye)})},a.race=function(ye){return new a(function(ot,pn){for(var Pn=Dt(ye),Ni=Pn.next();!Ni.done;Ni=Pn.next())C(Ni.value).Ra(ot,pn)})},a.all=function(ye){var ot=Dt(ye),pn=ot.next();return pn.done?C([]):new a(function(Pn,Ni){function Fo(Vl){return function(Wh){xo[Vl]=Wh,0==--ua&&Pn(xo)}}var xo=[],ua=0;do{xo.push(void 0),ua++,C(pn.value).Ra(Fo(xo.length-1),Ni),pn=ot.next()}while(!pn.done)})},a});var qe=qe||{},x=this||self,Se=/^[\w+/_-]+[=]{0,2}$/,xe=null;function ce(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&Se.test(e)?e:""}function ve(){}function Pe(e){var a=typeof e;return"object"!=a?a:e?Array.isArray(e)?"array":a:"null"}function ue(e){var a=Pe(e);return"array"==a||"object"==a&&"number"==typeof e.length}function Ge(e){return"function"==Pe(e)}function Qe(e){var a=typeof e;return"object"==a&&null!=e||"function"==a}function ct(e){return Object.prototype.hasOwnProperty.call(e,wt)&&e[wt]||(e[wt]=++Ut)}var wt="closure_uid_"+(1e9*Math.random()>>>0),Ut=0;function nt(e,a,m){return e.call.apply(e.bind,arguments)}function rt(e,a,m){if(!e)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,C),e.apply(a,L)}}return function(){return e.apply(a,arguments)}}function Nt(e,a,m){return(Nt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nt:rt).apply(null,arguments)}function Et(e,a){var m=Array.prototype.slice.call(arguments,1);return function(){var C=m.slice();return C.push.apply(C,arguments),e.apply(this,C)}}var rn=Date.now;function Ye(e,a){function m(){}m.prototype=a.prototype,e.bb=a.prototype,e.prototype=new m,e.prototype.constructor=e}function ze(e){return e}function ae(e,a,m){this.code=Ke+e,this.message=a||at[e]||"",this.a=m||null}function Be(e){var a=e&&e.code;return a?new ae(a.substring(Ke.length),e.message,e.serverResponse):null}Ye(ae,Error),ae.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},ae.prototype.toJSON=function(){return this.w()};var Tt,Ke="auth/",at={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Tn={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function gn(e){for(var a in Tn)if(Tn[a].id===e)return{firebaseEndpoint:(e=Tn[a]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function At(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(a){return!1}}function Rt(e){if(Error.captureStackTrace)Error.captureStackTrace(this,Rt);else{var a=Error().stack;a&&(this.stack=a)}e&&(this.message=String(e))}function St(e,a){for(var m="",C=(e=e.split("%s")).length-1,L=0;L<C;L++)m+=e[L]+(L<a.length?a[L]:"%s");Rt.call(this,m+e[C])}function yt(e,a){throw new St("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function Mt(e,a){this.c=e,this.f=a,this.b=0,this.a=null}function Ft(e,a){e.f(a),100>e.b&&(e.b++,a.next=e.a,e.a=a)}function on(){this.b=this.a=null}Tt=gn("__EID__")?"__EID__":void 0,Ye(Rt,Error),Rt.prototype.name="CustomError",Ye(St,Rt),St.prototype.name="AssertionError",Mt.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var We=new Mt(function(){return new yn},function(e){e.reset()});function Bn(){var e=Do,a=null;return e.a&&(a=e.a,e.a=e.a.next,e.a||(e.b=null),a.next=null),a}function yn(){this.next=this.b=this.a=null}on.prototype.add=function(e,a){var m=We.get();m.set(e,a),this.b?this.b.next=m:this.a=m,this.b=m},yn.prototype.set=function(e,a){this.a=e,this.b=a,this.next=null},yn.prototype.reset=function(){this.next=this.b=this.a=null};var ar=Array.prototype.indexOf?function(e,a){return Array.prototype.indexOf.call(e,a,void 0)}:function(e,a){if("string"==typeof e)return"string"!=typeof a||1!=a.length?-1:e.indexOf(a,0);for(var m=0;m<e.length;m++)if(m in e&&e[m]===a)return m;return-1},Mn=Array.prototype.forEach?function(e,a,m){Array.prototype.forEach.call(e,a,m)}:function(e,a,m){for(var C=e.length,L="string"==typeof e?e.split(""):e,ie=0;ie<C;ie++)ie in L&&a.call(m,L[ie],ie,e)},Pr=Array.prototype.filter?function(e,a){return Array.prototype.filter.call(e,a,void 0)}:function(e,a){for(var m=e.length,C=[],L=0,ie="string"==typeof e?e.split(""):e,ye=0;ye<m;ye++)if(ye in ie){var ot=ie[ye];a.call(void 0,ot,ye,e)&&(C[L++]=ot)}return C},or=Array.prototype.map?function(e,a){return Array.prototype.map.call(e,a,void 0)}:function(e,a){for(var m=e.length,C=Array(m),L="string"==typeof e?e.split(""):e,ie=0;ie<m;ie++)ie in L&&(C[ie]=a.call(void 0,L[ie],ie,e));return C},Kn=Array.prototype.some?function(e,a){return Array.prototype.some.call(e,a,void 0)}:function(e,a){for(var m=e.length,C="string"==typeof e?e.split(""):e,L=0;L<m;L++)if(L in C&&a.call(void 0,C[L],L,e))return!0;return!1};function cr(e,a){return 0<=ar(e,a)}function Fr(e,a){var m;return(m=0<=(a=ar(e,a)))&&Array.prototype.splice.call(e,a,1),m}function Lr(e,a){!function er(e,a){for(var m="string"==typeof e?e.split(""):e,C=e.length-1;0<=C;--C)C in m&&a.call(void 0,m[C],C,e)}(e,function(C,L){a.call(void 0,C,L,e)&&Array.prototype.splice.call(e,L,1)})}function Sr(e){return Array.prototype.concat.apply([],arguments)}function rr(e){var a=e.length;if(0<a){for(var m=Array(a),C=0;C<a;C++)m[C]=e[C];return m}return[]}var xr,Rr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},fi=/&/g,Hr=/</g,Gn=/>/g,nr=/"/g,br=/'/g,$t=/\x00/g,Qn=/[\x00&<>"']/;function vr(e,a){return-1!=e.indexOf(a)}function Ei(e,a){return e<a?-1:e>a?1:0}e:{var Si=x.navigator;if(Si){var Or=Si.userAgent;if(Or){xr=Or;break e}}xr=""}function kr(e){return vr(xr,e)}function Zr(e,a){for(var m in e)a.call(void 0,e[m],m,e)}function it(e){for(var a in e)return!1;return!0}function Ue(e){var m,a={};for(m in e)a[m]=e[m];return a}var bt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ce(e,a){for(var m,C,L=1;L<arguments.length;L++){for(m in C=arguments[L])e[m]=C[m];for(var ie=0;ie<bt.length;ie++)m=bt[ie],Object.prototype.hasOwnProperty.call(C,m)&&(e[m]=C[m])}}function Ae(e,a){e:{try{var m=e&&e.ownerDocument,C=m&&(m.defaultView||m.parentWindow);if((C=C||x).Element&&C.Location){var L=C;break e}}catch(ye){}L=null}if(L&&void 0!==L[a]&&(!e||!(e instanceof L[a])&&(e instanceof L.Location||e instanceof L.Element))){if(Qe(e))try{var ie=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(ye){ie="<object could not be stringified>"}else ie=void 0===e?"undefined":null===e?"null":typeof e;yt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,ie)}}function st(e,a){this.a=e===Jt&&a||"",this.b=Pt}function Ot(e){return e instanceof st&&e.constructor===st&&e.b===Pt?e.a:(yt("expected object of type Const, got '"+e+"'"),"type_error:Const")}st.prototype.ta=!0,st.prototype.sa=function(){return this.a},st.prototype.toString=function(){return"Const{"+this.a+"}"};var Fn,Pt={},Jt={};function Jn(){if(void 0===Fn){var e=null,a=x.trustedTypes;if(a&&a.createPolicy){try{e=a.createPolicy("goog#html",{createHTML:ze,createScript:ze,createScriptURL:ze})}catch(m){x.console&&x.console.error(m.message)}Fn=e}else Fn=e}return Fn}function Cr(e,a){this.a=a===ke?e:""}function sr(e){return e instanceof Cr&&e.constructor===Cr?e.a:(yt("expected object of type TrustedResourceUrl, got '"+e+"' of type "+Pe(e)),"type_error:TrustedResourceUrl")}function ni(e,a){var m=Ot(e);if(!dt.test(m))throw Error("Invalid TrustedResourceUrl format: "+m);return function mt(e){var a=Jn();return new Cr(e=a?a.createScriptURL(e):e,ke)}(e=m.replace(kt,function(C,L){if(!Object.prototype.hasOwnProperty.call(a,L))throw Error('Found marker, "'+L+'", in format string, "'+m+'", but no valid label mapping found in args: '+JSON.stringify(a));return(C=a[L])instanceof st?Ot(C):encodeURIComponent(String(C))}))}Cr.prototype.ta=!0,Cr.prototype.sa=function(){return this.a.toString()},Cr.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var kt=/%{(\w+)}/g,dt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ke={};function Lt(e,a){this.a=a===tn?e:""}function Xn(e){return e instanceof Lt&&e.constructor===Lt?e.a:(yt("expected object of type SafeUrl, got '"+e+"' of type "+Pe(e)),"type_error:SafeUrl")}Lt.prototype.ta=!0,Lt.prototype.sa=function(){return this.a.toString()},Lt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Er=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ve=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,He=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function nn(e){if(e instanceof Lt)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),He.test(e))e=new Lt(e,tn);else{var a=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Ve);e=a&&Er.test(a[1])?new Lt(e,tn):null}return e}function zt(e){return e instanceof Lt?e:(e="object"==typeof e&&e.ta?e.sa():String(e),He.test(e)||(e="about:invalid#zClosurez"),new Lt(e,tn))}var tn={},dn=new Lt("about:invalid#zClosurez",tn);function cn(e,a,m){this.a=m===In?e:""}cn.prototype.ta=!0,cn.prototype.sa=function(){return this.a.toString()},cn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var In={};function Nn(e,a,m,C){return e=e instanceof Lt?e:zt(e),a=a||x,m=m instanceof st?Ot(m):m||"",a.open(Xn(e),m,C,void 0)}function lr(e,a){for(var m=e.split("%s"),C="",L=Array.prototype.slice.call(arguments,1);L.length&&1<m.length;)C+=m.shift()+L.shift();return C+m.join("%s")}function Zn(e){return Qn.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(fi,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(Hr,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(Gn,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(nr,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(br,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace($t,"&#0;"))),e}function ii(e){return ii[" "](e),e}ii[" "]=ve;var zn,e,ci=kr("Opera"),bn=kr("Trident")||kr("MSIE"),_r=kr("Edge"),Qr=_r||bn,Ai=kr("Gecko")&&!(vr(xr.toLowerCase(),"webkit")&&!kr("Edge"))&&!(kr("Trident")||kr("MSIE"))&&!kr("Edge"),Ki=vr(xr.toLowerCase(),"webkit")&&!kr("Edge");function $r(){var e=x.document;return e?e.documentMode:void 0}e:{var Dn="",fr=(e=xr,Ai?/rv:([^\);]+)(\)|;)/.exec(e):_r?/Edge\/([\d\.]+)/.exec(e):bn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ki?/WebKit\/(\S+)/.exec(e):ci?/(?:Version)[ \/]?(\S+)/.exec(e):void 0);if(fr&&(Dn=fr?fr[1]:""),bn){var gi=$r();if(null!=gi&&gi>parseFloat(Dn)){zn=String(gi);break e}}zn=Dn}var ne={};function Oe(e){return function Di(e,a){var m=ne;return Object.prototype.hasOwnProperty.call(m,e)?m[e]:m[e]=a(e)}(e,function(){for(var a=0,m=Rr(String(zn)).split("."),C=Rr(String(e)).split("."),L=Math.max(m.length,C.length),ie=0;0==a&&ie<L;ie++){var ye=m[ie]||"",ot=C[ie]||"";do{if(ye=/(\d*)(\D*)(.*)/.exec(ye)||["","","",""],ot=/(\d*)(\D*)(.*)/.exec(ot)||["","","",""],0==ye[0].length&&0==ot[0].length)break;a=Ei(0==ye[1].length?0:parseInt(ye[1],10),0==ot[1].length?0:parseInt(ot[1],10))||Ei(0==ye[2].length,0==ot[2].length)||Ei(ye[2],ot[2]),ye=ye[3],ot=ot[3]}while(0==a)}return 0<=a})}var ut=x.document&&bn&&($r()||parseInt(zn,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var lt=!bn||9<=Number(ut);function It(e){var a=document;return"string"==typeof e?a.getElementById(e):e}function en(e,a){Zr(a,function(m,C){m&&"object"==typeof m&&m.ta&&(m=m.sa()),"style"==C?e.style.cssText=m:"class"==C?e.className=m:"for"==C?e.htmlFor=m:Wt.hasOwnProperty(C)?e.setAttribute(Wt[C],m):0==C.lastIndexOf("aria-",0)||0==C.lastIndexOf("data-",0)?e.setAttribute(C,m):e[C]=m})}var Ir,Zi,Wt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function On(e,a,m){function C(ot){ot&&a.appendChild("string"==typeof ot?e.createTextNode(ot):ot)}for(var L=2;L<m.length;L++){var ie=m[L];if(!ue(ie)||Qe(ie)&&0<ie.nodeType)C(ie);else{e:{if(ie&&"number"==typeof ie.length){if(Qe(ie)){var ye="function"==typeof ie.item||"string"==typeof ie.item;break e}if(Ge(ie)){ye="function"==typeof ie.item;break e}}ye=!1}Mn(ye?rr(ie):ie,C)}}}function tr(e,a){return a=String(a),"application/xhtml+xml"===e.contentType&&(a=a.toLowerCase()),e.createElement(a)}function pr(e){x.setTimeout(function(){throw e},0)}function Wr(e,a){Zi||function di(){if(x.Promise&&x.Promise.resolve){var e=x.Promise.resolve(void 0);Zi=function(){e.then(rs)}}else Zi=function(){var a=rs;!Ge(x.setImmediate)||x.Window&&x.Window.prototype&&!kr("Edge")&&x.Window.prototype.setImmediate==x.setImmediate?(Ir||(Ir=function lo(){var e=x.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!kr("Presto")&&(e=function(){var L=tr(document,"IFRAME");L.style.display="none",document.documentElement.appendChild(L);var ie=L.contentWindow;(L=ie.document).open(),L.close();var ye="callImmediate"+Math.random(),ot="file:"==ie.location.protocol?"*":ie.location.protocol+"//"+ie.location.host;L=Nt(function(pn){("*"==ot||pn.origin==ot)&&pn.data==ye&&this.port1.onmessage()},this),ie.addEventListener("message",L,!1),this.port1={},this.port2={postMessage:function(){ie.postMessage(ye,ot)}}}),void 0!==e&&!kr("Trident")&&!kr("MSIE")){var a=new e,m={},C=m;return a.port1.onmessage=function(){if(void 0!==m.next){var L=(m=m.next).Hb;m.Hb=null,L()}},function(L){C.next={Hb:L},C=C.next,a.port2.postMessage(0)}}return function(L){x.setTimeout(L,0)}}()),Ir(a)):x.setImmediate(a)}}(),$i||(Zi(),$i=!0),Do.add(e,a)}var $i=!1,Do=new on;function rs(){for(var e;e=Bn();){try{e.a.call(e.b)}catch(a){pr(a)}Ft(We,e)}$i=!1}function gr(e,a){if(this.a=Oo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=ve)try{var m=this;e.call(a,function(C){jt(m,wo,C)},function(C){if(!(C instanceof Mr))try{throw C instanceof Error?C:Error("Promise rejected.")}catch(L){}jt(m,Xi,C)})}catch(C){jt(this,Xi,C)}}var Oo=0,wo=2,Xi=3;function Lo(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Lo.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ar=new Mt(function(){return new Lo},function(e){e.reset()});function Yr(e,a,m){var C=Ar.get();return C.g=e,C.b=a,C.f=m,C}function ur(e){if(e instanceof gr)return e;var a=new gr(ve);return jt(a,wo,e),a}function li(e){return new gr(function(a,m){m(e)})}function bo(e,a,m){En(e,a,m,null)||Wr(Et(a,e))}function q(e){return new gr(function(a){var m=e.length,C=[];if(m)for(var L=function(ot,pn,Pn){m--,C[ot]=pn?{Qb:!0,value:Pn}:{Qb:!1,reason:Pn},0==m&&a(C)},ie=0;ie<e.length;ie++)bo(e[ie],Et(L,ie,!0),Et(L,ie,!1));else a(C)})}function Me(e,a){if(e.a==Oo)if(e.c){var m=e.c;if(m.b){for(var C=0,L=null,ie=null,ye=m.b;ye&&(ye.c||(C++,ye.a==e&&(L=ye),!(L&&1<C)));ye=ye.next)L||(ie=ye);L&&(m.a==Oo&&1==C?Me(m,a):(ie?((C=ie).next==m.f&&(m.f=C),C.next=C.next.next):mr(m),dr(m,L,Xi,a)))}e.c=null}else jt(e,Xi,a)}function Je(e,a){e.b||e.a!=wo&&e.a!=Xi||Un(e),e.f?e.f.next=a:e.b=a,e.f=a}function Ct(e,a,m,C){var L=Yr(null,null,null);return L.a=new gr(function(ie,ye){L.g=a?function(ot){try{var pn=a.call(C,ot);ie(pn)}catch(Pn){ye(Pn)}}:ie,L.b=m?function(ot){try{var pn=m.call(C,ot);void 0===pn&&ot instanceof Mr?ye(ot):ie(pn)}catch(Pn){ye(Pn)}}:ye}),L.a.c=e,Je(e,L),L.a}function jt(e,a,m){e.a==Oo&&(e===m&&(a=Xi,m=new TypeError("Promise cannot resolve to itself")),e.a=1,En(m,e.$c,e.ad,e)||(e.i=m,e.a=a,e.c=null,Un(e),a!=Xi||m instanceof Mr||function mi(e,a){e.g=!0,Wr(function(){e.g&&po.call(null,a)})}(e,m)))}function En(e,a,m,C){if(e instanceof gr)return Je(e,Yr(a||ve,m||null,C)),!0;if(At(e))return e.then(a,m,C),!0;if(Qe(e))try{var L=e.then;if(Ge(L))return function xn(e,a,m,C,L){function ie(pn){ot||(ot=!0,C.call(L,pn))}var ot=!1;try{a.call(e,function ye(pn){ot||(ot=!0,m.call(L,pn))},ie)}catch(pn){ie(pn)}}(e,L,a,m,C),!0}catch(ie){return m.call(C,ie),!0}return!1}function Un(e){e.h||(e.h=!0,Wr(e.gc,e))}function mr(e){var a=null;return e.b&&(e.b=(a=e.b).next,a.next=null),e.b||(e.f=null),a}function dr(e,a,m,C){if(m==Xi&&a.b&&!a.c)for(;e&&e.g;e=e.c)e.g=!1;if(a.a)a.a.c=null,oi(a,m,C);else try{a.c?a.g.call(a.f):oi(a,m,C)}catch(L){po.call(null,L)}Ft(Ar,a)}function oi(e,a,m){a==wo?e.g.call(e.f,m):e.b&&e.b.call(e.f,m)}gr.prototype.then=function(e,a,m){return Ct(this,Ge(e)?e:null,Ge(a)?a:null,m)},gr.prototype.$goog_Thenable=!0,(j=gr.prototype).oa=function(e,a){return(e=Yr(e,e,a)).c=!0,Je(this,e),this},j.o=function(e,a){return Ct(this,null,e,a)},j.cancel=function(e){if(this.a==Oo){var a=new Mr(e);Wr(function(){Me(this,a)},this)}},j.$c=function(e){this.a=Oo,jt(this,wo,e)},j.ad=function(e){this.a=Oo,jt(this,Xi,e)},j.gc=function(){for(var e;e=mr(this);)dr(this,e,this.a,this.i);this.h=!1};var po=pr;function Mr(e){Rt.call(this,e)}function vi(){0!=Qi&&(Ur[ct(this)]=this),this.ya=this.ya,this.pa=this.pa}Ye(Mr,Rt),Mr.prototype.name="cancel";var Qi=0,Ur={};function Ui(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Qi)){var a=ct(e);if(0!=Qi&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ur[a]}}vi.prototype.ya=!1,vi.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var eo=Object.freeze||function(e){return e},Mi=!bn||9<=Number(ut),Fi=bn&&!Oe("9"),To=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var e=!1,a=Object.defineProperty({},"passive",{get:function(){e=!0}});try{x.addEventListener("test",ve,a),x.removeEventListener("test",ve,a)}catch(m){}return e}();function to(e,a){this.type=e,this.b=this.target=a,this.defaultPrevented=!1}function z(e,a){if(to.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var m=this.type=e.type,C=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=a,a=e.relatedTarget){if(Ai){e:{try{ii(a.nodeName);var L=!0;break e}catch(ie){}L=!1}L||(a=null)}}else"mouseover"==m?a=e.fromElement:"mouseout"==m&&(a=e.toElement);this.relatedTarget=a,C?(this.clientX=void 0!==C.clientX?C.clientX:C.pageX,this.clientY=void 0!==C.clientY?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:oe[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}to.prototype.preventDefault=function(){this.defaultPrevented=!0},Ye(z,to);var oe=eo({2:"touch",3:"pen",4:"mouse"});z.prototype.preventDefault=function(){z.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Fi)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(a){}},z.prototype.g=function(){return this.a};var K="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function ht(e,a,m,C,L){this.listener=e,this.proxy=null,this.src=a,this.type=m,this.capture=!!C,this.Wa=L,this.key=++Ee,this.wa=this.Qa=!1}function Ht(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function Cn(e){this.src=e,this.a={},this.b=0}function $n(e,a){var m=a.type;m in e.a&&Fr(e.a[m],a)&&(Ht(a),0==e.a[m].length&&(delete e.a[m],e.b--))}function yi(e,a,m,C){for(var L=0;L<e.length;++L){var ie=e[L];if(!ie.wa&&ie.listener==a&&ie.capture==!!m&&ie.Wa==C)return L}return-1}Cn.prototype.add=function(e,a,m,C,L){var ie=e.toString();(e=this.a[ie])||(e=this.a[ie]=[],this.b++);var ye=yi(e,a,C,L);return-1<ye?(a=e[ye],m||(a.Qa=!1)):((a=new ht(a,this.src,ie,!!C,L)).Qa=m,e.push(a)),a};var si="closure_lm_"+(1e6*Math.random()|0),jr={};function Ti(e,a,m,C,L){if(C&&C.once)Hi(e,a,m,C,L);else if(Array.isArray(a))for(var ie=0;ie<a.length;ie++)Ti(e,a[ie],m,C,L);else m=Ln(m),e&&e[K]?E(e,a,m,Qe(C)?!!C.capture:!!C,L):_i(e,a,m,!1,C,L)}function _i(e,a,m,C,L,ie){if(!a)throw Error("Invalid event type");var ye=Qe(L)?!!L.capture:!!L,ot=ge(e);if(ot||(e[si]=ot=new Cn(e)),!(m=ot.add(a,m,C,ye,ie)).proxy)if(C=function ji(){var e=B,a=Mi?function(m){return e.call(a.src,a.listener,m)}:function(m){if(!(m=e.call(a.src,a.listener,m)))return m};return a}(),m.proxy=C,C.src=e,C.listener=m,e.addEventListener)To||(L=ye),void 0===L&&(L=!1),e.addEventListener(a.toString(),C,L);else if(e.attachEvent)e.attachEvent(hi(a.toString()),C);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(C)}}function Hi(e,a,m,C,L){if(Array.isArray(a))for(var ie=0;ie<a.length;ie++)Hi(e,a[ie],m,C,L);else m=Ln(m),e&&e[K]?X(e,a,m,Qe(C)?!!C.capture:!!C,L):_i(e,a,m,!0,C,L)}function zi(e,a,m,C,L){if(Array.isArray(a))for(var ie=0;ie<a.length;ie++)zi(e,a[ie],m,C,L);else C=Qe(C)?!!C.capture:!!C,m=Ln(m),e&&e[K]?(e=e.v,(a=String(a).toString())in e.a&&-1<(m=yi(ie=e.a[a],m,C,L))&&(Ht(ie[m]),Array.prototype.splice.call(ie,m,1),0==ie.length&&(delete e.a[a],e.b--))):e&&(e=ge(e))&&(a=e.a[a.toString()],e=-1,a&&(e=yi(a,m,C,L)),(m=-1<e?a[e]:null)&&ei(m))}function ei(e){if("number"!=typeof e&&e&&!e.wa){var a=e.src;if(a&&a[K])$n(a.v,e);else{var m=e.type,C=e.proxy;a.removeEventListener?a.removeEventListener(m,C,e.capture):a.detachEvent?a.detachEvent(hi(m),C):a.addListener&&a.removeListener&&a.removeListener(C),(m=ge(a))?($n(m,e),0==m.b&&(m.src=null,a[si]=null)):Ht(e)}}}function hi(e){return e in jr?jr[e]:jr[e]="on"+e}function Y(e,a,m,C){var L=!0;if((e=ge(e))&&(a=e.a[a.toString()]))for(a=a.concat(),e=0;e<a.length;e++){var ie=a[e];ie&&ie.capture==m&&!ie.wa&&(ie=$(ie,C),L=L&&!1!==ie)}return L}function $(e,a){var m=e.listener,C=e.Wa||e.src;return e.Qa&&ei(e),m.call(C,a)}function B(e,a){if(e.wa)return!0;if(!Mi){if(!a)e:{a=["window","event"];for(var m=x,C=0;C<a.length;C++)if(null==(m=m[a[C]])){a=null;break e}a=m}if(a=new z(C=a,this),m=!0,!(0>C.keyCode||null!=C.returnValue)){e:{var L=!1;if(0==C.keyCode)try{C.keyCode=-1;break e}catch(ye){L=!0}(L||null==C.returnValue)&&(C.returnValue=!0)}for(C=[],L=a.b;L;L=L.parentNode)C.push(L);for(e=e.type,L=C.length-1;0<=L;L--){a.b=C[L];var ie=Y(C[L],e,!0,a);m=m&&ie}for(L=0;L<C.length;L++)a.b=C[L],ie=Y(C[L],e,!1,a),m=m&&ie}return m}return $(e,new z(a,this))}function ge(e){return(e=e[si])instanceof Cn?e:null}var Yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ln(e){return Ge(e)?e:(e[Yt]||(e[Yt]=function(a){return e.handleEvent(a)}),e[Yt])}function vn(){vi.call(this),this.v=new Cn(this),this.bc=this,this.hb=null}function E(e,a,m,C,L){e.v.add(String(a),m,!1,C,L)}function X(e,a,m,C,L){e.v.add(String(a),m,!0,C,L)}function b(e,a,m,C){if(!(a=e.v.a[String(a)]))return!0;a=a.concat();for(var L=!0,ie=0;ie<a.length;++ie){var ye=a[ie];if(ye&&!ye.wa&&ye.capture==m){var ot=ye.listener,pn=ye.Wa||ye.src;ye.Qa&&$n(e.v,ye),L=!1!==ot.call(pn,C)&&L}}return L&&!C.defaultPrevented}function G(e,a,m){if(Ge(e))m&&(e=Nt(e,m));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Nt(e.handleEvent,e)}return 2147483647<Number(a)?-1:x.setTimeout(e,a||0)}function de(e){var a=null;return new gr(function(m,C){-1==(a=G(function(){m(void 0)},e))&&C(Error("Failed to schedule timer."))}).o(function(m){throw x.clearTimeout(a),m})}function Kt(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(ue(e)){for(var a=[],m=e.length,C=0;C<m;C++)a.push(e[C]);return a}for(C in a=[],m=0,e)a[m++]=e[C];return a}function Sn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(ue(e)||"string"==typeof e){var a=[];e=e.length;for(var m=0;m<e;m++)a.push(m);return a}for(var C in a=[],m=0,e)a[m++]=C;return a}}function Vn(e,a){this.b={},this.a=[],this.c=0;var m=arguments.length;if(1<m){if(m%2)throw Error("Uneven number of arguments");for(var C=0;C<m;C+=2)this.set(arguments[C],arguments[C+1])}else if(e)if(e instanceof Vn)for(m=e.Y(),C=0;C<m.length;C++)this.set(m[C],e.get(m[C]));else for(C in e)this.set(C,e[C])}function wi(e){if(e.c!=e.a.length){for(var a=0,m=0;a<e.a.length;){var C=e.a[a];zr(e.b,C)&&(e.a[m++]=C),a++}e.a.length=m}if(e.c!=e.a.length){var L={};for(m=a=0;a<e.a.length;)zr(L,C=e.a[a])||(e.a[m++]=C,L[C]=1),a++;e.a.length=m}}function zr(e,a){return Object.prototype.hasOwnProperty.call(e,a)}Ye(vn,vi),vn.prototype[K]=!0,vn.prototype.addEventListener=function(e,a,m,C){Ti(this,e,a,m,C)},vn.prototype.removeEventListener=function(e,a,m,C){zi(this,e,a,m,C)},vn.prototype.dispatchEvent=function(e){var a,m=this.hb;if(m)for(a=[];m;m=m.hb)a.push(m);m=this.bc;var C=e.type||e;if("string"==typeof e)e=new to(e,m);else if(e instanceof to)e.target=e.target||m;else{var L=e;Ce(e=new to(C,m),L)}if(L=!0,a)for(var ie=a.length-1;0<=ie;ie--){var ye=e.b=a[ie];L=b(ye,C,!0,e)&&L}if(L=b(ye=e.b=m,C,!0,e)&&L,L=b(ye,C,!1,e)&&L,a)for(ie=0;ie<a.length;ie++)L=b(ye=e.b=a[ie],C,!1,e)&&L;return L},vn.prototype.Da=function(){if(vn.bb.Da.call(this),this.v){var m,e=this.v;for(m in e.a){for(var C=e.a[m],L=0;L<C.length;L++)Ht(C[L]);delete e.a[m],e.b--}}this.hb=null},(j=Vn.prototype).X=function(){wi(this);for(var e=[],a=0;a<this.a.length;a++)e.push(this.b[this.a[a]]);return e},j.Y=function(){return wi(this),this.a.concat()},j.clear=function(){this.b={},this.c=this.a.length=0},j.get=function(e,a){return zr(this.b,e)?this.b[e]:a},j.set=function(e,a){zr(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=a},j.forEach=function(e,a){for(var m=this.Y(),C=0;C<m.length;C++){var L=m[C],ie=this.get(L);e.call(a,ie,L,this)}};var so=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wi(e,a){var m;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Wi?(this.i=void 0!==a?a:e.i,Li(this,e.c),this.l=e.l,this.a=e.a,_n(this,e.g),this.f=e.f,Qs(this,Jo(e.b)),this.h=e.h):e&&(m=String(e).match(so))?(this.i=!!a,Li(this,m[1]||"",!0),this.l=Qo(m[2]||""),this.a=Qo(m[3]||"",!0),_n(this,m[4]),this.f=Qo(m[5]||"",!0),Qs(this,m[6]||"",!0),this.h=Qo(m[7]||"")):(this.i=!!a,this.b=new is(null,this.i))}function Li(e,a,m){e.c=m?Qo(a,!0):a,e.c&&(e.c=e.c.replace(/:$/,""))}function _n(e,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);e.g=a}else e.g=null}function Qs(e,a,m){a instanceof is?(e.b=a,function Uo(e,a){a&&!e.f&&(fo(e),e.c=null,e.a.forEach(function(m,C){var L=C.toLowerCase();C!=L&&(Po(this,C),Ia(this,L,m))},e)),e.f=a}(e.b,e.i)):(m||(a=vo(a,Is)),e.b=new is(a,e.i))}function Pi(e,a,m){e.b.set(a,m)}function Bo(e,a){return e.b.get(a)}function ko(e){return e instanceof Wi?new Wi(e):new Wi(e,void 0)}function mo(e,a,m,C){var L=new Wi(null,void 0);return e&&Li(L,e),a&&(L.a=a),m&&_n(L,m),C&&(L.f=C),L}function Qo(e,a){return e?a?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function vo(e,a,m){return"string"==typeof e?(e=encodeURI(e).replace(a,ks),m&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ks(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wi.prototype.toString=function(){var e=[],a=this.c;a&&e.push(vo(a,Vo,!0),":");var m=this.a;return(m||"file"==a)&&(e.push("//"),(a=this.l)&&e.push(vo(a,Vo,!0),"@"),e.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.g)&&e.push(":",String(m))),(m=this.f)&&(this.a&&"/"!=m.charAt(0)&&e.push("/"),e.push(vo(m,"/"==m.charAt(0)?$o:Js,!0))),(m=this.b.toString())&&e.push("?",m),(m=this.h)&&e.push("#",vo(m,La)),e.join("")},Wi.prototype.resolve=function(e){var a=new Wi(this),m=!!e.c;m?Li(a,e.c):m=!!e.l,m?a.l=e.l:m=!!e.a,m?a.a=e.a:m=null!=e.g;var C=e.f;if(m)_n(a,e.g);else if(m=!!e.f){if("/"!=C.charAt(0))if(this.a&&!this.f)C="/"+C;else{var L=a.f.lastIndexOf("/");-1!=L&&(C=a.f.substr(0,L+1)+C)}if(".."==(L=C)||"."==L)C="";else if(vr(L,"./")||vr(L,"/.")){C=0==L.lastIndexOf("/",0),L=L.split("/");for(var ie=[],ye=0;ye<L.length;){var ot=L[ye++];"."==ot?C&&ye==L.length&&ie.push(""):".."==ot?((1<ie.length||1==ie.length&&""!=ie[0])&&ie.pop(),C&&ye==L.length&&ie.push("")):(ie.push(ot),C=!0)}C=ie.join("/")}else C=L}return m?a.f=C:m=""!==e.b.toString(),m?Qs(a,Jo(e.b)):m=!!e.h,m&&(a.h=e.h),a};var Vo=/[#\/\?@]/g,Js=/[#\?:]/g,$o=/[#\?]/g,Is=/[#\?@]/g,La=/#/g;function is(e,a){this.b=this.a=null,this.c=e||null,this.f=!!a}function fo(e){e.a||(e.a=new Vn,e.b=0,e.c&&function no(e,a){if(e){e=e.split("&");for(var m=0;m<e.length;m++){var C=e[m].indexOf("="),L=null;if(0<=C){var ie=e[m].substring(0,C);L=e[m].substring(C+1)}else ie=e[m];a(ie,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}(e.c,function(a,m){e.add(decodeURIComponent(a.replace(/\+/g," ")),m)}))}function ca(e){var a=Sn(e);if(void 0===a)throw Error("Keys are undefined");var m=new is(null,void 0);e=Kt(e);for(var C=0;C<a.length;C++){var L=a[C],ie=e[C];Array.isArray(ie)?Ia(m,L,ie):m.add(L,ie)}return m}function Po(e,a){fo(e),a=ro(e,a),zr(e.a.b,a)&&(e.c=null,e.b-=e.a.get(a).length,zr((e=e.a).b,a)&&(delete e.b[a],e.c--,e.a.length>2*e.c&&wi(e)))}function Ns(e,a){return fo(e),a=ro(e,a),zr(e.a.b,a)}function Ia(e,a,m){Po(e,a),0<m.length&&(e.c=null,e.a.set(ro(e,a),rr(m)),e.b+=m.length)}function Jo(e){var a=new is;return a.c=e.c,e.a&&(a.a=new Vn(e.a),a.b=e.b),a}function ro(e,a){return a=String(a),e.f&&(a=a.toLowerCase()),a}function Ps(e){var a=[];return qo(new Ds,e,a),a.join("")}function Ds(){}function qo(e,a,m){if(null==a)m.push("null");else{if("object"==typeof a){if(Array.isArray(a)){var C=a;a=C.length,m.push("[");for(var L="",ie=0;ie<a;ie++)m.push(L),qo(e,C[ie],m),L=",";return void m.push("]")}if(!(a instanceof String||a instanceof Number||a instanceof Boolean)){for(C in m.push("{"),L="",a)Object.prototype.hasOwnProperty.call(a,C)&&"function"!=typeof(ie=a[C])&&(m.push(L),io(C,m),m.push(":"),qo(e,ie,m),L=",");return void m.push("}")}a=a.valueOf()}switch(typeof a){case"string":io(a,m);break;case"number":m.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":m.push(String(a));break;case"function":m.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}(j=is.prototype).add=function(e,a){fo(this),this.c=null,e=ro(this,e);var m=this.a.get(e);return m||this.a.set(e,m=[]),m.push(a),this.b+=1,this},j.clear=function(){this.a=this.c=null,this.b=0},j.forEach=function(e,a){fo(this),this.a.forEach(function(m,C){Mn(m,function(L){e.call(a,L,C,this)},this)},this)},j.Y=function(){fo(this);for(var e=this.a.X(),a=this.a.Y(),m=[],C=0;C<a.length;C++)for(var L=e[C],ie=0;ie<L.length;ie++)m.push(a[C]);return m},j.X=function(e){fo(this);var a=[];if("string"==typeof e)Ns(this,e)&&(a=Sr(a,this.a.get(ro(this,e))));else{e=this.a.X();for(var m=0;m<e.length;m++)a=Sr(a,e[m])}return a},j.set=function(e,a){return fo(this),this.c=null,Ns(this,e=ro(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[a]),this.b+=1,this},j.get=function(e,a){return e&&0<(e=this.X(e)).length?String(e[0]):a},j.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],a=this.a.Y(),m=0;m<a.length;m++){var C=a[m],L=encodeURIComponent(String(C));C=this.X(C);for(var ie=0;ie<C.length;ie++){var ye=L;""!==C[ie]&&(ye+="="+encodeURIComponent(String(C[ie]))),e.push(ye)}}return this.c=e.join("&")};var Ba={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},mu=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function io(e,a){a.push('"',e.replace(mu,function(m){var C=Ba[m];return C||(C="\\u"+(65536|m.charCodeAt(0)).toString(16).substr(1),Ba[m]=C),C}),'"')}function jo(){var e=So();return bn&&!!ut&&11==ut||/Edge\/\d+/.test(e)}function Bi(){return x.window&&x.window.location.href||self&&self.location&&self.location.href||""}function la(e,a){a=a||x.window;var m="about:blank";e&&(m=Xn(nn(e)||dn)),a.location.href=m}function Da(e,a){var C,m=[];for(C in e)C in a?typeof e[C]!=typeof a[C]?m.push(C):"object"==typeof e[C]&&null!=e[C]&&null!=a[C]?0<Da(e[C],a[C]).length&&m.push(C):e[C]!==a[C]&&m.push(C):m.push(C);for(C in a)C in e||m.push(C);return m}function zo(e){return!!((e=(e||So()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function ea(e){e=e||x.window;try{e.close()}catch(a){}}function y(e,a,m){var C=Math.floor(1e9*Math.random()).toString();a=a||500,m=m||600;var L=(window.screen.availHeight-m)/2,ie=(window.screen.availWidth-a)/2;for(ye in a={width:a,height:m,top:0<L?L:0,left:0<ie?ie:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},m=So().toLowerCase(),C&&(a.target=C,vr(m,"crios/")&&(a.target="_blank")),Hs(So())==hs&&(e=e||"http://localhost",a.scrollbars=!0),m=e||"",(e=a)||(e={}),C=window,a=m instanceof Lt?m:nn(void 0!==m.href?m.href:String(m))||dn,m=e.target||m.target,L=[],e)switch(ye){case"width":case"height":case"top":case"left":L.push(ye+"="+e[ye]);break;case"target":case"noopener":case"noreferrer":break;default:L.push(ye+"="+(e[ye]?1:0))}var ye=L.join(",");if((kr("iPhone")&&!kr("iPod")&&!kr("iPad")||kr("iPad")||kr("iPod"))&&C.navigator&&C.navigator.standalone&&m&&"_self"!=m?(Ae(ye=tr(document,"A"),"HTMLAnchorElement"),a=a instanceof Lt?a:zt(a),ye.href=Xn(a),ye.setAttribute("target",m),e.noreferrer&&ye.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,C,1),ye.dispatchEvent(e),ye={}):e.noreferrer?(ye=Nn("",C,m,ye),e=Xn(a),ye&&(Qr&&vr(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),ye.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Zn(e)+'">',e=new cn(e=(C=Jn())?C.createHTML(e):e,null,In),C=ye.document)&&(C.write(function An(e){return e instanceof cn&&e.constructor===cn?e.a:(yt("expected object of type SafeHtml, got '"+e+"' of type "+Pe(e)),"type_error:SafeHtml")}(e)),C.close())):(ye=Nn(a,C,m,ye))&&e.noopener&&(ye.opener=null),ye)try{ye.focus()}catch(ot){}return ye}var te=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ie=/^[^@]+@[^@]+$/;function ft(){var e=null;return new gr(function(a){"complete"==x.document.readyState?a():(e=function(){a()},Hi(window,"load",e))}).o(function(a){throw zi(window,"load",e),a})}function Hn(e){return e=e||So(),!("file:"!==ta()&&"ionic:"!==ta()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ri(){var e=x.window;try{return!(!e||e==e.top)}catch(a){return!1}}function ai(){return void 0!==x.WorkerGlobalScope&&"function"==typeof x.importScripts}function Gi(){return f.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":f.default.INTERNAL.hasOwnProperty("node")?"Node":ai()?"Worker":"Browser"}function Eo(){var e=Gi();return"ReactNative"===e||"Node"===e}var hs="Firefox";function Hs(e){var a=e.toLowerCase();return vr(a,"opera/")||vr(a,"opr/")||vr(a,"opios/")?"Opera":vr(a,"iemobile")?"IEMobile":vr(a,"msie")||vr(a,"trident/")?"IE":vr(a,"edge/")?"Edge":vr(a,"firefox/")?hs:vr(a,"silk/")?"Silk":vr(a,"blackberry")?"Blackberry":vr(a,"webos")?"Webos":!vr(a,"safari/")||vr(a,"chrome/")||vr(a,"crios/")||vr(a,"android")?!vr(a,"chrome/")&&!vr(a,"crios/")||vr(a,"edge/")?vr(a,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"}var Nu={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Gs(e,a){a=a||[];var L,m=[],C={};for(L in Nu)C[Nu[L]]=!0;for(L=0;L<a.length;L++)void 0!==C[a[L]]&&(delete C[a[L]],m.push(a[L]));return m.sort(),(a=m).length||(a=["FirebaseCore-web"]),"Browser"===(m=Gi())?m=Hs(C=So()):"Worker"===m&&(m=Hs(C=So())+"-"+m),m+"/JsCore/"+e+"/"+a.join(",")}function So(){return x.navigator&&x.navigator.userAgent||""}function ao(e,a){e=e.split("."),a=a||x;for(var m=0;m<e.length&&"object"==typeof a&&null!=a;m++)a=a[e[m]];return m!=e.length&&(a=void 0),a}function Qa(){try{var e=x.localStorage,a=_s();if(e)return e.setItem(a,"1"),e.removeItem(a),!jo()||!!x.indexedDB}catch(m){return ai()&&!!x.indexedDB}return!1}function Ts(){return(Va()||"chrome-extension:"===ta()||Hn())&&!Eo()&&Qa()&&!ai()}function Va(){return"http:"===ta()||"https:"===ta()}function ta(){return x.location&&x.location.protocol||null}function Wo(e){return!(zo(e=e||So())||Hs(e)==hs)}function da(e){return void 0===e?null:Ps(e)}function xi(e){var m,a={};for(m in e)e.hasOwnProperty(m)&&null!=e[m]&&(a[m]=e[m]);return a}function Ss(e){if(null!==e)return JSON.parse(e)}function _s(e){return e||Math.floor(1e9*Math.random()).toString()}function Pu(e){return!("Safari"==Hs(e=e||So())||e.toLowerCase().match(/iphone|ipad|ipod/))}function ha(){var e=x.___jsl;if(e&&e.H)for(var a in e.H)if(e.H[a].r=e.H[a].r||[],e.H[a].L=e.H[a].L||[],e.H[a].r=e.H[a].L.concat(),e.CP)for(var m=0;m<e.CP.length;m++)e.CP[m]=null}function ts(e,a){if(e>a)throw Error("Short delay should be less than long delay!");this.a=e,this.c=a,e=So(),a=Gi(),this.b=zo(e)||"ReactNative"===a}function $a(){var e=x.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function qs(e){try{var a=new Date(parseInt(e,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(e))return a.toUTCString()}catch(m){}return null}function vu(){return!(!ao("fireauth.oauthhelper",x)&&!ao("fireauth.iframe",x))}ts.prototype.get=function(){var e=x.navigator;return!e||"boolean"!=typeof e.onLine||!Va()&&"chrome-extension:"!==ta()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ws,zs={};function _u(e){zs[e]||(zs[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var us={};Object.defineProperty(us,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(us,"abcd",{configurable:!0,enumerable:!0,value:2}),Ws=2==us.abcd}catch(e){Ws=!1}function Dr(e,a,m){Ws?Object.defineProperty(e,a,{configurable:!0,enumerable:!0,value:m}):e[a]=m}function uo(e,a){if(a)for(var m in a)a.hasOwnProperty(m)&&Dr(e,m,a[m])}function na(e){var a={};return uo(a,e),a}function Ys(e){var a=e;if("object"==typeof e&&null!=e)for(var m in a="length"in e?[]:{},e)Dr(a,m,Ys(e[m]));return a}function wu(e){var a=e&&(e[tu]?"phone":null);if(!(a&&e&&e[eu]))throw new ae("internal-error","Internal assert: invalid MultiFactorInfo object");Dr(this,"uid",e[eu]),Dr(this,"displayName",e[Ju]||null);var m=null;e[ra]&&(m=new Date(e[ra]).toUTCString()),Dr(this,"enrollmentTime",m),Dr(this,"factorId",a)}function bu(e){try{var a=new ia(e)}catch(m){a=null}return a}wu.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Ju="displayName",ra="enrolledAt",eu="mfaEnrollmentId",tu="phoneInfo";function ia(e){wu.call(this,e),Dr(this,"phoneNumber",e[tu])}function Ao(e){var a={},m=e[A],C=e[U],L=e[ee];if(e=bu(e[D]),!L||L!=Ho&&L!=N&&!m||L==N&&!C||L==ga&&!e)throw Error("Invalid checkActionCode response!");L==N?(a[Xe]=m||null,a[un]=m||null,a[le]=C):(a[Xe]=C||null,a[un]=C||null,a[le]=m||null),a[gt]=e||null,Dr(this,Oi,L),Dr(this,ir,Ys(a))}Ye(ia,wu),ia.prototype.w=function(){var e=ia.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ga="REVERT_SECOND_FACTOR_ADDITION",Ho="EMAIL_SIGNIN",N="VERIFY_AND_CHANGE_EMAIL",A="email",D="mfaInfo",U="newEmail",ee="requestType",le="email",Xe="fromEmail",gt="multiFactorInfo",un="previousEmail",ir="data",Oi="operation";function Nr(e){var a=Bo(e=ko(e),Vi)||null,m=Bo(e,Ci)||null,C=Bo(e,nu)||null;if(C=C&&Zo[C]||null,!a||!m||!C)throw new ae("argument-error",Vi+", "+Ci+"and "+nu+" are required in a valid action code URL.");uo(this,{apiKey:a,operation:C,code:m,continueUrl:Bo(e,ps)||null,languageCode:Bo(e,Co)||null,tenantId:Bo(e,Ua)||null})}var Vi="apiKey",Ci="oobCode",ps="continueUrl",Co="languageCode",nu="mode",Ua="tenantId",Zo={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ga,signIn:Ho,verifyAndChangeEmail:N,verifyEmail:"VERIFY_EMAIL"};function Fu(e){try{return new Nr(e)}catch(a){return null}}function Mo(e){var a=e[Lc];if(void 0===a)throw new ae("missing-continue-uri");if("string"!=typeof a||"string"==typeof a&&!a.length)throw new ae("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var m=e[ss];if(m&&"object"==typeof m){a=m[Hl];var C=m[pc];if(m=m[Bc],"string"==typeof a&&a.length){if(this.a=a,void 0!==C&&"boolean"!=typeof C)throw new ae("argument-error",pc+" property must be a boolean when specified.");if(this.g=!!C,void 0!==m&&("string"!=typeof m||"string"==typeof m&&!m.length))throw new ae("argument-error",Bc+" property must be a non empty string when specified.");this.b=m||null}else{if(void 0!==a)throw new ae("argument-error",Hl+" property must be a non empty string when specified.");if(void 0!==C||void 0!==m)throw new ae("missing-android-pkg-name")}}else if(void 0!==m)throw new ae("argument-error",ss+" property must be a non null object when specified.");if(this.f=null,(a=e[ru])&&"object"==typeof a){if("string"==typeof(a=a[gc])&&a.length)this.f=a;else if(void 0!==a)throw new ae("argument-error",gc+" property must be a non empty string when specified.")}else if(void 0!==a)throw new ae("argument-error",ru+" property must be a non null object when specified.");if(void 0!==(a=e[Sa])&&"boolean"!=typeof a)throw new ae("argument-error",Sa+" property must be a boolean when specified.");if(this.c=!!a,void 0!==(e=e[Ta])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new ae("argument-error",Ta+" property must be a non empty string when specified.");this.i=e||null}var ss="android",Ta="dynamicLinkDomain",Sa="handleCodeInApp",ru="iOS",Lc="url",pc="installApp",Bc="minimumVersion",Hl="packageName",gc="bundleId";function iu(e){var a={};for(var m in a.continueUrl=e.h,a.canHandleCodeInApp=e.c,(a.androidPackageName=e.a)&&(a.androidMinimumVersion=e.b,a.androidInstallApp=e.g),a.iOSBundleId=e.f,a.dynamicLinkDomain=e.i,a)null===a[m]&&delete a[m];return a}var ms=null;function su(e){var a=Lu(e);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=e,this.a=a.exp,this.i=a.sub,e=Date.now()/1e3,this.g=a.iat||(e>this.a?this.a:e),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||"anonymous"==this.b}function ja(e){try{return new su(e)}catch(a){return null}}function Lu(e){if(!e||3!=(e=e.split(".")).length)return null;for(var a=(4-(e=e[1]).length%4)%4,m=0;m<a;m++)e+=".";try{var C=function Aa(e){var a=[];return function ou(e,a){function m(pn){for(;C<e.length;){var Pn=e.charAt(C++),Ni=ms[Pn];if(null!=Ni)return Ni;if(!/^[\s\xa0]*$/.test(Pn))throw Error("Unknown base64 encoding at char: "+Pn)}return pn}!function ma(){if(!ms){ms={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],m=0;5>m;m++)for(var C=e.concat(a[m].split("")),L=0;L<C.length;L++){var ie=C[L];void 0===ms[ie]&&(ms[ie]=L)}}}();for(var C=0;;){var L=m(-1),ie=m(0),ye=m(64),ot=m(64);if(64===ot&&-1===L)break;a(L<<2|ie>>4),64!=ye&&(a(ie<<4&240|ye>>2),64!=ot&&a(ye<<6&192|ot))}}(e,function(m){a.push(m)}),a}(e);for(e=[],m=a=0;a<C.length;){var L=C[a++];if(128>L)e[m++]=String.fromCharCode(L);else if(191<L&&224>L){var ie=C[a++];e[m++]=String.fromCharCode((31&L)<<6|63&ie)}else if(239<L&&365>L){ie=C[a++];var ye=C[a++],pn=((7&L)<<18|(63&ie)<<12|(63&ye)<<6|63&C[a++])-65536;e[m++]=String.fromCharCode(55296+(pn>>10)),e[m++]=String.fromCharCode(56320+(1023&pn))}else ie=C[a++],ye=C[a++],e[m++]=String.fromCharCode((15&L)<<12|(63&ie)<<6|63&ye)}return JSON.parse(e.join(""))}catch(Pn){}return null}su.prototype.T=function(){return this.f},su.prototype.l=function(){return this.c},su.prototype.toString=function(){return this.h};var va="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Eu=["client_id","response_type","scope","redirect_uri","state"],mc={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Eu},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Eu},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Eu},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:va},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Ha(e){for(var a in mc)if(mc[a].fa==e)return mc[a];return null}function Zu(e){var a={};a["facebook.com"]=Vc,a["google.com"]=gl,a["github.com"]=vc,a["twitter.com"]=$c;var m=e&&e[Cu];try{if(m)return a[m]?new a[m](e):new Ks(e);if(void 0!==e[Bu])return new Ma(e)}catch(C){}return null}var Bu="idToken",Cu="providerId";function Ma(e){var a=e[Cu];if(!a&&e[Bu]){var m=ja(e[Bu]);m&&m.b&&(a=m.b)}if(!a)throw Error("Invalid additional user info!");("anonymous"==a||"custom"==a)&&(a=null),m=!1,void 0!==e.isNewUser?m=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(m=!0),Dr(this,"providerId",a),Dr(this,"isNewUser",m)}function Ks(e){Ma.call(this,e),Dr(this,"profile",Ys((e=Ss(e.rawUserInfo||"{}"))||{}))}function Vc(e){if(Ks.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function vc(e){if(Ks.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Dr(this,"username",this.profile&&this.profile.login||null)}function gl(e){if(Ks.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function $c(e){if(Ks.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Dr(this,"username",e.screenName||null)}function R(e){var a=ko(e),m=Bo(a,"link"),C=Bo(ko(m),"link");return a=Bo(a,"deep_link_id"),Bo(ko(a),"link")||a||C||m||e}function M(e,a){if(!e&&!a)throw new ae("internal-error","Internal assert: no raw session string available");if(e&&a)throw new ae("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=a||null,this.type=this.a?W:se}Ye(Ks,Ma),Ye(Vc,Ks),Ye(vc,Ks),Ye(gl,Ks),Ye($c,Ks);var W="enroll",se="signin";function me(){}function Ne(e,a){return e.then(function(m){if(m[ho]){var C=ja(m[ho]);if(!C||a!=C.i)throw new ae("user-mismatch");return m}throw new ae("user-mismatch")}).o(function(m){throw m&&m.code&&m.code==Ke+"user-not-found"?new ae("user-mismatch"):m})}function _t(e,a){if(!a)throw new ae("internal-error","failed to construct a credential");this.a=a,Dr(this,"providerId",e),Dr(this,"signInMethod",e)}function xt(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function sn(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new _t(e.providerId,e.pendingToken)}catch(a){}return null}function mn(e,a,m){if(this.a=null,a.idToken||a.accessToken)a.idToken&&Dr(this,"idToken",a.idToken),a.accessToken&&Dr(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&Dr(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else{if(!a.oauthToken||!a.oauthTokenSecret)throw new ae("internal-error","failed to construct a credential");Dr(this,"accessToken",a.oauthToken),Dr(this,"secret",a.oauthTokenSecret)}Dr(this,"providerId",e),Dr(this,"signInMethod",m)}function jn(e){var a={};return e.idToken&&(a.id_token=e.idToken),e.accessToken&&(a.access_token=e.accessToken),e.secret&&(a.oauth_token_secret=e.secret),a.providerId=e.providerId,e.nonce&&!e.a&&(a.nonce=e.nonce),a={postBody:ca(a).toString(),requestUri:"http://localhost"},e.a&&(delete a.postBody,a.pendingToken=e.a),a}function ti(e){if(e&&e.providerId&&e.signInMethod){var a={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new mn(e.providerId,a,e.signInMethod)}catch(m){}}return null}function Br(e,a){this.Qc=a||[],uo(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Ha(e)||{}).Ja||null,this.pb=null}function oo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new ae("argument-error",'SAML provider IDs must be prefixed with "saml."');Br.call(this,e,[])}function ki(e){Br.call(this,e,Eu),this.a=[]}function Ro(){ki.call(this,"facebook.com")}function Fs(e){if(!e)throw new ae("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=e;return Qe(e)&&(a=e.accessToken),(new Ro).credential({accessToken:a})}function cs(){ki.call(this,"github.com")}function Ls(e){if(!e)throw new ae("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=e;return Qe(e)&&(a=e.accessToken),(new cs).credential({accessToken:a})}function Bs(){ki.call(this,"google.com"),this.Ca("profile")}function ec(e,a){var m=e;return Qe(e)&&(m=e.idToken,a=e.accessToken),(new Bs).credential({idToken:m,accessToken:a})}function Yo(){Br.call(this,"twitter.com",va)}function ya(e,a){var m=e;if(Qe(m)||(m={oauthToken:e,oauthTokenSecret:a}),!m.oauthToken||!m.oauthTokenSecret)throw new ae("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mn("twitter.com",m,"twitter.com")}function ls(e,a,m){this.a=e,this.f=a,Dr(this,"providerId","password"),Dr(this,"signInMethod",m===_a.EMAIL_LINK_SIGN_IN_METHOD?_a.EMAIL_LINK_SIGN_IN_METHOD:_a.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Vu(e){return e&&e.email&&e.password?new ls(e.email,e.password,e.signInMethod):null}function _a(){uo(this,{providerId:"password",isOAuthProvider:!1})}function Gl(e,a){if(!(a=ml(a)))throw new ae("argument-error","Invalid email link!");return new ls(e,a.code,_a.EMAIL_LINK_SIGN_IN_METHOD)}function ml(e){return(e=Fu(e=R(e)))&&e.operation===Ho?e:null}function oa(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new ae("internal-error");this.a=e,Dr(this,"providerId","phone"),this.fa="phone",Dr(this,"signInMethod","phone")}function vl(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var a={};return Mn(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(m){e[m]&&(a[m]=e[m])}),new oa(a)}return null}function Uc(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function as(e){try{this.a=e||f.default.auth()}catch(a){throw new ae("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}uo(this,{providerId:"phone",isOAuthProvider:!1})}function yl(e,a){if(!e)throw new ae("missing-verification-id");if(!a)throw new ae("missing-verification-code");return new oa({fb:e,eb:a})}function yc(e){if(e.temporaryProof&&e.phoneNumber)return new oa({La:e.temporaryProof,ea:e.phoneNumber});var a=e&&e.providerId;if(!a||"password"===a)return null;var m=e&&e.oauthAccessToken,C=e&&e.oauthTokenSecret,L=e&&e.nonce,ie=e&&e.oauthIdToken,ye=e&&e.pendingToken;try{switch(a){case"google.com":return ec(ie,m);case"facebook.com":return Fs(m);case"github.com":return Ls(m);case"twitter.com":return ya(m,C);default:return m||C||ie||ye?ye?0==a.indexOf("saml.")?new _t(a,ye):new mn(a,{pendingToken:ye,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},a):new ki(a).credential({idToken:ie,accessToken:m,rawNonce:L}):null}}catch(ot){return null}}function jc(e){if(!e.isOAuthProvider)throw new ae("invalid-oauth-provider")}function vs(e,a,m,C,L,ie,ye){if(this.c=e,this.b=a||null,this.g=m||null,this.f=C||null,this.i=ie||null,this.h=ye||null,this.a=L||null,!this.g&&!this.a)throw new ae("invalid-auth-event");if(this.g&&this.a)throw new ae("invalid-auth-event");if(this.g&&!this.f)throw new ae("invalid-auth-event")}function _l(e){return(e=e||{}).type?new vs(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Be(e.error),e.postBody,e.tenantId):null}function sa(){this.b=null,this.a=[]}M.prototype.Ha=function(){return ur(this.a?this.a:this.b)},M.prototype.w=function(){return this.type==W?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},me.prototype.ka=function(){},me.prototype.b=function(){},me.prototype.c=function(){},me.prototype.w=function(){},_t.prototype.ka=function(e){return Sl(e,xt(this))},_t.prototype.b=function(e,a){var m=xt(this);return m.idToken=a,Mc(e,m)},_t.prototype.c=function(e,a){return Ne(Rc(e,xt(this)),a)},_t.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},mn.prototype.ka=function(e){return Sl(e,jn(this))},mn.prototype.b=function(e,a){var m=jn(this);return m.idToken=a,Mc(e,m)},mn.prototype.c=function(e,a){return Ne(Rc(e,jn(this)),a)},mn.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Br.prototype.Ka=function(e){return this.Jb=Ue(e),this},Ye(oo,Br),Ye(ki,Br),ki.prototype.Ca=function(e){return cr(this.a,e)||this.a.push(e),this},ki.prototype.Rb=function(){return rr(this.a)},ki.prototype.credential=function(e,a){var m;if(!(m=Qe(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:a||null}).idToken&&!m.accessToken)throw new ae("argument-error","credential failed: must provide the ID token and/or the access token.");return new mn(this.providerId,m,this.providerId)},Ye(Ro,ki),Dr(Ro,"PROVIDER_ID","facebook.com"),Dr(Ro,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),Ye(cs,ki),Dr(cs,"PROVIDER_ID","github.com"),Dr(cs,"GITHUB_SIGN_IN_METHOD","github.com"),Ye(Bs,ki),Dr(Bs,"PROVIDER_ID","google.com"),Dr(Bs,"GOOGLE_SIGN_IN_METHOD","google.com"),Ye(Yo,Br),Dr(Yo,"PROVIDER_ID","twitter.com"),Dr(Yo,"TWITTER_SIGN_IN_METHOD","twitter.com"),ls.prototype.ka=function(e){return this.signInMethod==_a.EMAIL_LINK_SIGN_IN_METHOD?Ji(e,xc,{email:this.a,oobCode:this.f}):Ji(e,sf,{email:this.a,password:this.f})},ls.prototype.b=function(e,a){return this.signInMethod==_a.EMAIL_LINK_SIGN_IN_METHOD?Ji(e,Mu,{idToken:a,email:this.a,oobCode:this.f}):Ji(e,rf,{idToken:a,email:this.a,password:this.f})},ls.prototype.c=function(e,a){return Ne(this.ka(e),a)},ls.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},uo(_a,{PROVIDER_ID:"password"}),uo(_a,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),uo(_a,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),oa.prototype.ka=function(e){return e.gb(Uc(this))},oa.prototype.b=function(e,a){var m=Uc(this);return m.idToken=a,Ji(e,Wu,m)},oa.prototype.c=function(e,a){var m=Uc(this);return m.operation="REAUTH",Ne(e=Ji(e,kl,m),a)},oa.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},as.prototype.gb=function(e,a){var m=this.a.a;return ur(a.verify()).then(function(C){if("string"!=typeof C)throw new ae("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===a.type){var ye,L=Qe(e)?e.session:null,ie=Qe(e)?e.phoneNumber:e;return ye=L&&L.type==W?L.Ha().then(function(ot){return function Xf(e,a){return Ji(e,Af,a).then(function(m){return m.phoneSessionInfo.sessionInfo})}(m,{idToken:ot,phoneEnrollmentInfo:{phoneNumber:ie,recaptchaToken:C}})}):L&&L.type==se?L.Ha().then(function(ot){return function Qf(e,a){return Ji(e,Mf,a).then(function(m){return m.phoneResponseInfo.sessionInfo})}(m,{mfaPendingCredential:ot,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:C}})}):function Kf(e,a){return Ji(e,ac,a)}(m,{phoneNumber:ie,recaptchaToken:C}),ye.then(function(ot){return"function"==typeof a.reset&&a.reset(),ot},function(ot){throw"function"==typeof a.reset&&a.reset(),ot})}throw new ae("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},uo(as,{PROVIDER_ID:"phone"}),uo(as,{PHONE_SIGN_IN_METHOD:"phone"}),vs.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},vs.prototype.T=function(){return this.h},vs.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var nc,Hc=null;function tc(e){var a="unauthorized-domain",m=void 0,C=ko(e);e=C.a,"chrome-extension"==(C=C.c)?m=lr("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==C||"https"==C?m=lr("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):a="operation-not-supported-in-this-environment",ae.call(this,a,m)}function $u(e,a,m){ae.call(this,e,m),(e=a||{}).Kb&&Dr(this,"email",e.Kb),e.ea&&Dr(this,"phoneNumber",e.ea),e.credential&&Dr(this,"credential",e.credential),e.$b&&Dr(this,"tenantId",e.$b)}function Gc(e){if(e.code){var a=e.code||"";0==a.indexOf(Ke)&&(a=a.substring(Ke.length));var m={credential:yc(e),$b:e.tenantId};if(e.email)m.Kb=e.email;else if(e.phoneNumber)m.ea=e.phoneNumber;else if(!m.credential)return new ae(a,e.message||void 0);return new $u(a,m,e.message)}return null}function Uu(){}function qc(){}function bf(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],m=0;m<a.length;m++){var C=a[m];try{return new ActiveXObject(C),e.f=C}catch(L){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function zc(){}function Ef(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=Nt(this.qc,this),this.a.onerror=Nt(this.Tb,this),this.a.onprogress=Nt(this.rc,this),this.a.ontimeout=Nt(this.vc,this)}function wa(e,a){e.readyState=a,e.onreadystatechange&&e.onreadystatechange()}function Ra(e,a,m){this.reset(e,a,m,void 0,void 0)}function Wc(e){this.f=e,this.b=this.c=this.a=null}function Yc(e,a){this.name=e,this.value=a}Ye(tc,ae),Ye($u,ae),$u.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&Ce(e,a),e},$u.prototype.toJSON=function(){return this.w()},Uu.prototype.c=null,Ye(qc,Uu),qc.prototype.a=function(){var e=bf(this);return e?new ActiveXObject(e):new XMLHttpRequest},qc.prototype.b=function(){var e={};return bf(this)&&(e[0]=!0,e[1]=!0),e},nc=new qc,Ye(zc,Uu),zc.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Ef;throw Error("Unsupported browser")},zc.prototype.b=function(){return{}},(j=Ef.prototype).open=function(e,a,m){if(null!=m&&!m)throw Error("Only async requests are supported.");this.a.open(e,a)},j.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},j.abort=function(){this.a.abort()},j.setRequestHeader=function(){},j.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},j.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,wa(this,4)},j.Tb=function(){this.status=500,this.response=this.responseText="",wa(this,4)},j.vc=function(){this.Tb()},j.rc=function(){this.status=200,wa(this,1)},j.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ra.prototype.a=null,Ra.prototype.reset=function(e,a,m,C,L){C||rn(),delete this.a},Yc.prototype.toString=function(){return this.name};var Cf=new Yc("SEVERE",1e3),Kc=new Yc("WARNING",900),wl=new Yc("CONFIG",700),If=new Yc("FINE",500);function zl(e){return e.c?e.c:e.a?zl(e.a):(yt("Root logger has no level set."),null)}Wc.prototype.log=function(e,a,m){if(e.value>=zl(this).value)for(Ge(a)&&(a=a()),e=new Ra(e,String(a),this.f),m&&(e.a=m),m=this;m;)m=m.a};var bl={},_c=null;function wc(e){var a;if(_c||(_c=new Wc(""),bl[""]=_c,_c.c=wl),!(a=bl[e])){a=new Wc(e);var m=e.lastIndexOf("."),C=e.substr(m+1);(m=wc(e.substr(0,m))).b||(m.b={}),m.b[C]=a,a.a=m,bl[e]=a}return a}function xa(e,a){e&&e.log(If,a,void 0)}function rc(e){this.f=e}function ju(e){vn.call(this),this.u=e,this.h=void 0,this.readyState=Du,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=wc("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}Ye(rc,Uu),rc.prototype.a=function(){return new ju(this.f)},rc.prototype.b=function(e){return function(){return e}}({}),Ye(ju,vn);var Du=0;function ws(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function Tu(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Su(e)}function Su(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function au(e){vn.call(this),this.headers=new Vn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Xc,this.u=this.S=!1}(j=ju.prototype).open=function(e,a){if(this.readyState!=Du)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=a,this.readyState=1,Su(this)},j.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(a.body=e),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},j.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Tu(this)),this.readyState=Du},j.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Su(this)),this.a&&(this.readyState=3,Su(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==x.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ws(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},j.pc=function(e){if(this.a){var a=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});a&&(this.response=this.responseText+=a),e.done?Tu(this):Su(this),3==this.readyState&&ws(this)}},j.tc=function(e){this.a&&(this.response=this.responseText=e,Tu(this))},j.sc=function(e){this.a&&(this.response=e,Tu(this))},j.Va=function(e){var a=this.i;a&&a.log(Kc,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Tu(this)},j.setRequestHeader=function(e,a){this.l.append(e,a)},j.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(Kc,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},j.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(Kc,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var a=this.b.entries(),m=a.next();!m.done;)e.push((m=m.value)[0]+": "+m[1]),m=a.next();return e.join("\r\n")},Object.defineProperty(ju.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),Ye(au,vn);var Xc="";au.prototype.b=wc("goog.net.XhrIo");var Hu=/^https?$/i,zf=["POST","PUT"];function bc(e){return"content-type"==e.toLowerCase()}function Oa(e,a){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=a,El(e),Jc(e)}function El(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Cl(e){if(e.c&&void 0!==qe)if(e.C[1]&&4==Gu(e)&&2==el(e))xa(e.b,Ga(e,"Local request error detected and ignored"));else if(e.i&&4==Gu(e))G(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Gu(e)){xa(e.b,Ga(e,"Request complete")),e.c=!1;try{var C,a=el(e);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}if(!(C=m)){var L;if(L=0===a){var ie=String(e.l).match(so)[1]||null;if(!ie&&x.self&&x.self.location){var ye=x.self.location.protocol;ie=ye.substr(0,ye.length-1)}L=!Hu.test(ie?ie.toLowerCase():"")}C=L}if(C)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var ot=2<Gu(e)?e.a.statusText:""}catch(pn){xa(e.b,"Can not get status: "+pn.message),ot=""}e.h=ot+" ["+el(e)+"]",El(e)}}finally{Jc(e)}}}function Jc(e,a){if(e.a){Zc(e);var m=e.a,C=e.C[0]?ve:null;e.a=null,e.C=null,a||e.dispatchEvent("ready");try{m.onreadystatechange=C}catch(L){(e=e.b)&&e.log(Cf,"Problem encountered resetting onreadystatechange: "+L.message,void 0)}}}function Zc(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(x.clearTimeout(e.s),e.s=null)}function Gu(e){return e.a?e.a.readyState:0}function el(e){try{return 2<Gu(e)?e.a.status:-1}catch(a){return-1}}function Ga(e,a){return a+" ["+e.P+" "+e.l+" "+el(e)+"]"}function qa(e){var a=Go;this.g=[],this.u=a,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ec(e,a,m){e.a=!0,e.c=m,e.f=!a,ka(e)}function Ms(e){if(e.a){if(!e.v)throw new uu(e);e.v=!1}}function go(e,a,m,C){e.g.push([a,m,C]),e.a&&ka(e)}function Ic(e){return Kn(e.g,function(a){return Ge(a[1])})}function ka(e){if(e.h&&e.a&&Ic(e)){var a=e.h,m=za[a];m&&(x.clearTimeout(m.a),delete za[a]),e.h=0}e.b&&(e.b.l--,delete e.b),a=e.c;for(var C=m=!1;e.g.length&&!e.i;){var L=e.g.shift(),ie=L[0],ye=L[1];if(L=L[2],ie=e.f?ye:ie)try{var ot=ie.call(L||e.s,a);void 0!==ot&&(e.f=e.f&&(ot==a||ot instanceof Error),e.c=a=ot),(At(a)||"function"==typeof x.Promise&&a instanceof x.Promise)&&(C=!0,e.i=!0)}catch(pn){a=pn,e.f=!0,Ic(e)||(m=!0)}}e.c=a,C&&(ot=Nt(e.m,e,!0),C=Nt(e.m,e,!1),a instanceof qa?(go(a,ot,C),a.C=!0):a.then(ot,C)),m&&(a=new co(a),za[a.a]=a,e.h=a.a)}function uu(){Rt.call(this)}function cu(){Rt.call(this)}function co(e){this.a=x.setTimeout(Nt(this.c,this),0),this.b=e}(j=au.prototype).Ma=function(){void 0!==qe&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",xa(this.b,Ga(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},j.abort=function(){this.a&&this.c&&(xa(this.b,Ga(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Jc(this))},j.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Jc(this,!0)),au.bb.Da.call(this)},j.Wb=function(){this.ya||(this.N||this.i||this.f?Cl(this):this.Jc())},j.Jc=function(){Cl(this)},j.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Xc:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Cf,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return xa(this.b,"Can not get response: "+a.message),null}},qa.prototype.cancel=function(e){if(this.a)this.c instanceof qa&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,e?a.cancel(e):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new cu(this),Ms(this),Ec(this,!1,e))}},qa.prototype.m=function(e,a){this.i=!1,Ec(this,e,a)},qa.prototype.then=function(e,a,m){var C,L,ie=new gr(function(ye,ot){C=ye,L=ot});return go(this,C,function(ye){ye instanceof cu?ie.cancel():L(ye)}),ie.then(e,a,m)},qa.prototype.$goog_Thenable=!0,Ye(uu,Rt),uu.prototype.message="Deferred has already fired",uu.prototype.name="AlreadyCalledError",Ye(cu,Rt),cu.prototype.message="Deferred was canceled",cu.prototype.name="CanceledError",co.prototype.c=function(){throw delete za[this.a],this.b};var za={};function Il(e){var a={},m=a.document||document,C=sr(e).toString(),L=tr(document,"SCRIPT"),ie={Xb:L,Ma:void 0},ye=new qa(ie),ot=null,pn=null!=a.timeout?a.timeout:5e3;return 0<pn&&(ot=window.setTimeout(function(){Vs(L,!0);var Pn=new fs(Dc,"Timeout reached for loading script "+C);Ms(ye),Ec(ye,!1,Pn)},pn),ie.Ma=ot),L.onload=L.onreadystatechange=function(){L.readyState&&"loaded"!=L.readyState&&"complete"!=L.readyState||(Vs(L,a.xd||!1,ot),Ms(ye),Ec(ye,!0,null))},L.onerror=function(){Vs(L,!0,ot);var Pn=new fs(ic,"Error while loading script "+C);Ms(ye),Ec(ye,!1,Pn)},Ce(ie=a.attributes||{},{type:"text/javascript",charset:"UTF-8"}),en(L,ie),function yr(e,a){Ae(e,"HTMLScriptElement"),e.src=sr(a),(a=e.ownerDocument&&e.ownerDocument.defaultView)&&a!=x?a=ce(a.document):(null===xe&&(xe=ce(x.document)),a=xe),a&&e.setAttribute("nonce",a)}(L,e),function tl(e){var a;return(a=(e||document).getElementsByTagName("HEAD"))&&0!=a.length?a[0]:e.documentElement}(m).appendChild(L),ye}function Go(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Vs(e,!0,this.Ma)}}function Vs(e,a,m){null!=m&&x.clearTimeout(m),e.onload=ve,e.onerror=ve,e.onreadystatechange=ve,a&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var ic=0,Dc=1;function fs(e,a){var m="Jsloader error (code #"+e+")";a&&(m+=": "+a),Rt.call(this,m),this.code=e}function qu(e){this.f=e}function aa(e,a,m){if(this.c=e,this.l=(e=a||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Tc,this.g=Ue(e.secureTokenHeaders||Dl),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ns,this.a=Ue(e.firebaseHeaders||ys),m&&(this.a["X-Client-Version"]=m,this.g["X-Client-Version"]=m),m="Node"==Gi(),!(m=x.XMLHttpRequest||m&&f.default.INTERNAL.node&&f.default.INTERNAL.node.XMLHttpRequest)&&!ai())throw new ae("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=ai()?new rc(self):Eo()?new qu(m):new zc,this.b=null}Ye(fs,Rt),Ye(qu,Uu),qu.prototype.a=function(){return new this.f},qu.prototype.b=function(){return{}};var zu,ho="idToken",Tc=new ts(3e4,6e4),Dl={"Content-Type":"application/x-www-form-urlencoded"},ns=new ts(3e4,6e4),ys={"Content-Type":"application/json"};function nl(e,a){a?e.a["X-Firebase-Locale"]=a:delete e.a["X-Firebase-Locale"]}function Xs(e,a){a&&(e.l=Sc("https://securetoken.googleapis.com/v1/token",a),e.h=Sc("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),e.i=Sc("https://identitytoolkit.googleapis.com/v2/",a))}function Sc(e,a){return e=ko(e),a=ko(a.url),e.f=e.a+e.f,Li(e,a.c),e.a=a.a,_n(e,a.g),e.toString()}function Wa(e,a){a?(e.a["X-Client-Version"]=a,e.g["X-Client-Version"]=a):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function Au(e,a,m,C,L,ie,ye){(function Zs(){var e=So();return!((e="Chrome"!=Hs(e)?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||bn&&ut&&!(9<ut))})()||ai()?e=Nt(e.u,e):(zu||(zu=new gr(function(ot,pn){!function Kl(e,a){((window.gapi||{}).client||{}).request?e():(x[Ac]=function(){((window.gapi||{}).client||{}).request?e():a(Error("CORS_UNSUPPORTED"))},function Cc(e,a){go(e,null,a,void 0)}(Il(ni(oc,{onload:Ac})),function(){a(Error("CORS_UNSUPPORTED"))}))}(ot,pn)})),e=Nt(e.s,e)),e(a,m,C,L,ie,ye)}aa.prototype.T=function(){return this.b},aa.prototype.u=function(e,a,m,C,L,ie){if(ai()&&(void 0===x.fetch||void 0===x.Headers||void 0===x.Request))throw new ae("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var ye=new au(this.f);if(ie){ye.g=Math.max(0,ie);var ot=setTimeout(function(){ye.dispatchEvent("timeout")},ie)}E(ye,"complete",function(){ot&&clearTimeout(ot);var pn=null;try{pn=JSON.parse(function Yl(e){try{return e.a?e.a.responseText:""}catch(a){return xa(e.b,"Can not get responseText: "+a.message),""}}(this))||null}catch(Pn){pn=null}a&&a(pn)}),X(ye,"ready",function(){ot&&clearTimeout(ot),Ui(this)}),X(ye,"timeout",function(){ot&&clearTimeout(ot),Ui(this),a&&a(null)}),function Wl(e,a,m,C,L){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+a);m=m?m.toUpperCase():"GET",e.l=a,e.h="",e.P=m,e.J=!1,e.c=!0,e.a=e.D?e.D.a():nc.a(),e.C=function As(e){return e.c||(e.c=e.b())}(e.D?e.D:nc),e.a.onreadystatechange=Nt(e.Wb,e);try{xa(e.b,Ga(e,"Opening Xhr")),e.N=!0,e.a.open(m,String(a),!0),e.N=!1}catch(ye){return xa(e.b,Ga(e,"Error opening Xhr: "+ye.message)),void Oa(e,ye)}a=C||"";var ie=new Vn(e.headers);L&&function Vt(e,a){if(e.forEach&&"function"==typeof e.forEach)e.forEach(a,void 0);else if(ue(e)||"string"==typeof e)Mn(e,a,void 0);else for(var m=Sn(e),C=Kt(e),L=C.length,ie=0;ie<L;ie++)a.call(void 0,C[ie],m&&m[ie],e)}(L,function(ye,ot){ie.set(ot,ye)}),L=function Vr(e){e:{for(var a=bc,m=e.length,C="string"==typeof e?e.split(""):e,L=0;L<m;L++)if(L in C&&a.call(void 0,C[L],L,e)){a=L;break e}a=-1}return 0>a?null:"string"==typeof e?e.charAt(a):e[a]}(ie.Y()),C=x.FormData&&a instanceof x.FormData,!cr(zf,m)||L||C||ie.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),ie.forEach(function(ye,ot){this.a.setRequestHeader(ot,ye)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Zc(e),0<e.g&&(e.u=function Qc(e){return bn&&Oe(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),xa(e.b,Ga(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=Nt(e.Ma,e)):e.s=G(e.Ma,e.g,e)),xa(e.b,Ga(e,"Sending request")),e.i=!0,e.a.send(a),e.i=!1}catch(ye){xa(e.b,Ga(e,"Send error: "+ye.message)),Oa(e,ye)}}(ye,e,m,C,L)};var oc=new st(Jt,"https://apis.google.com/js/client.js?onload=%{onload}"),Ac="__fcb"+Math.floor(1e6*Math.random()).toString();function lu(e){if("string"!=typeof(e=e.email)||!Ie.test(e))throw new ae("invalid-email")}function Ql(e){"email"in e&&lu(e)}function Rs(e){if(!e[ho])throw e.mfaPendingCredential?new ae("multi-factor-auth-required",null,Ue(e)):new ae("internal-error")}function rl(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new ae("internal-error")}else{if(!e.sessionInfo)throw new ae("missing-verification-id");if(!e.code)throw new ae("missing-verification-code")}}aa.prototype.s=function(e,a,m,C,L){var ie=this;zu.then(function(){window.gapi.client.setApiKey(ie.c);var ye=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:m,body:C,headers:L,authType:"none",callback:function(ot){window.gapi.auth.setToken(ye),a&&a(ot)}})}).o(function(ye){a&&a({error:{message:ye&&ye.message||"CORS_UNSUPPORTED"}})})},aa.prototype.Ab=function(){return Ji(this,xl,{})},aa.prototype.Cb=function(e,a){return Ji(this,Rl,{idToken:e,email:a})},aa.prototype.Db=function(e,a){return Ji(this,rf,{idToken:e,password:a})};var Df={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Jl(e){if(!e.phoneVerificationInfo)throw new ae("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new ae("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new ae("missing-verification-code")}function il(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new ae("internal-error")}function Tl(e,a){return a.oauthIdToken&&a.providerId&&0==a.providerId.indexOf("oidc.")&&!a.pendingToken&&(e.sessionId?a.nonce=e.sessionId:e.postBody&&Ns(e=new is(e.postBody),"nonce")&&(a.nonce=e.get("nonce"))),a}function bs(e){var a=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",a=Gc(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",a=Gc(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",a=Gc(e)):e.errorMessage&&(a=uc(e.errorMessage)),a)throw a;Rs(e)}function Sl(e,a){return a.returnIdpCredential=!0,Ji(e,Rf,a)}function Mc(e,a){return a.returnIdpCredential=!0,Ji(e,Ol,a)}function Rc(e,a){return a.returnIdpCredential=!0,a.autoCreate=!1,Ji(e,of,a)}function du(e){if(!e.oobCode)throw new ae("invalid-action-code")}(j=aa.prototype).Eb=function(e,a){var m={idToken:e},C=[];return Zr(Df,function(L,ie){var ye=a[ie];null===ye?C.push(L):ie in a&&(m[ie]=ye)}),C.length&&(m.deleteAttribute=C),Ji(this,Rl,m)},j.wb=function(e,a){return Ce(e={requestType:"PASSWORD_RESET",email:e},a),Ji(this,sc,e)},j.xb=function(e,a){return Ce(e={requestType:"EMAIL_SIGNIN",email:e},a),Ji(this,Sf,e)},j.vb=function(e,a){return Ce(e={requestType:"VERIFY_EMAIL",idToken:e},a),Ji(this,nf,e)},j.Fb=function(e,a,m){return Ce(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:a},m),Ji(this,Ml,e)},j.gb=function(e){return Ji(this,pu,e)},j.ob=function(e,a){return Ji(this,Pa,{oobCode:e,newPassword:a})},j.Sa=function(e){return Ji(this,Tf,{oobCode:e})},j.kb=function(e){return Ji(this,Ya,{oobCode:e})};var Ya={endpoint:"setAccountInfo",A:du,Z:"email",B:!0},Tf={endpoint:"resetPassword",A:du,G:function(e){var a=e.requestType;if(!a||!e.email&&"EMAIL_SIGNIN"!=a&&"VERIFY_AND_CHANGE_EMAIL"!=a)throw new ae("internal-error")},B:!0},ef={endpoint:"signupNewUser",A:function(e){if(lu(e),!e.password)throw new ae("weak-password")},G:Rs,V:!0,B:!0},tf={endpoint:"createAuthUri",B:!0},Al={endpoint:"deleteAccount",O:["idToken"]},hu={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new ae("internal-error")}},xc={endpoint:"emailLinkSignin",O:["email","oobCode"],A:lu,G:Rs,V:!0,B:!0},Mu={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:lu,G:Rs,V:!0},Ru={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Jl,G:Rs,B:!0,Na:!0},Oc={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Jl,G:Rs,B:!0,Na:!0},Na={endpoint:"getAccountInfo"},Sf={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new ae("internal-error");lu(e)},Z:"email",B:!0},nf={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new ae("internal-error")},Z:"email",B:!0},Ml={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new ae("internal-error")},Z:"email",B:!0},sc={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new ae("internal-error");lu(e)},Z:"email",B:!0},ba={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Jf={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new ae("internal-error")}},Pa={endpoint:"resetPassword",A:du,Z:"email",B:!0},ac={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Rl={endpoint:"setAccountInfo",O:["idToken"],A:Ql,V:!0},rf={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(Ql(e),!e.password)throw new ae("weak-password")},G:Rs,V:!0},xl={endpoint:"signupNewUser",G:Rs,V:!0,B:!0},Af={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new ae("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new ae("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new ae("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new ae("internal-error")},B:!0,Na:!0},Mf={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new ae("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new ae("internal-error")},B:!0,Na:!0},Rf={endpoint:"verifyAssertion",A:il,Za:Tl,G:bs,V:!0,B:!0},of={endpoint:"verifyAssertion",A:il,Za:Tl,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new ae("user-not-found");if(e.errorMessage)throw uc(e.errorMessage);Rs(e)},V:!0,B:!0},Ol={endpoint:"verifyAssertion",A:function(e){if(il(e),!e.idToken)throw new ae("internal-error")},Za:Tl,G:bs,V:!0},Zf={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new ae("invalid-custom-token")},G:Rs,V:!0,B:!0},sf={endpoint:"verifyPassword",A:function(e){if(lu(e),!e.password)throw new ae("wrong-password")},G:Rs,V:!0,B:!0},pu={endpoint:"verifyPhoneNumber",A:rl,G:Rs,B:!0},Wu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new ae("internal-error");rl(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Gc(e);Rs(e)}},kl={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:rl,G:Rs,B:!0},xf={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[ho]^!!e.refreshToken)throw new ae("internal-error")},B:!0,Na:!0};function Ji(e,a,m){if(!function pa(e,a){if(!a||!a.length)return!0;if(!e)return!1;for(var m=0;m<a.length;m++){var C=e[a[m]];if(null==C||""===C)return!1}return!0}(m,a.O))return li(new ae("internal-error"));var ie,C=!!a.Na,L=a.Vb||"POST";return ur(m).then(a.A).then(function(){return a.V&&(m.returnSecureToken=!0),a.B&&e.b&&void 0===m.tenantId&&(m.tenantId=e.b),function Xl(e,a,m,C,L,ie,ye){var ot=ko(a+m);Pi(ot,"key",e.c),ye&&Pi(ot,"cb",Date.now().toString());var pn="GET"==C;if(pn)for(var Pn in L)L.hasOwnProperty(Pn)&&Pi(ot,Pn,L[Pn]);return new gr(function(Ni,Fo){Au(e,ot.toString(),function(xo){xo?xo.error?Fo(kc(xo,ie||{})):Ni(xo):Fo(new ae("network-request-failed"))},C,pn?void 0:Ps(xi(L)),e.a,e.v.get())})}(e,C?e.i:e.h,a.endpoint,L,m,a.Ib,a.mb||!1)}).then(function(ye){return ie=ye,a.Za?a.Za(m,ie):ie}).then(a.G).then(function(){if(!a.Z)return ie;if(!(a.Z in ie))throw new ae("internal-error");return ie[a.Z]})}function uc(e){return kc({error:{errors:[{message:e}],code:400,message:e}})}function kc(e,a){var m=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",C={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(m=C[m]?new ae(C[m]):null)return m;for(var L in m=e.error&&e.error.message||"",Ce(C={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},a||{}),a=(a=m.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0,C)if(0===m.indexOf(L))return new ae(C[L],a);return!a&&e&&(a=da(e)),new ae("internal-error",a)}function cc(e){this.b=e,this.a=null,this.sb=function af(e){return function J(){return F||(F=new gr(function(e,a){function m(){ha(),ao("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){ha(),a(Error("Network Error"))},timeout:v.get()})}if(ao("gapi.iframes.Iframe"))e();else if(ao("gapi.load"))m();else{var C="__iframefcb"+Math.floor(1e6*Math.random()).toString();x[C]=function(){ao("gapi.load")?m():a(Error("Network Error"))},ur(Il(C=ni(h,{onload:C}))).o(function(){a(Error("Network Error"))})}}).o(function(e){throw F=null,e}))}().then(function(){return new gr(function(a,m){ao("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:ao("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(C){function L(){clearTimeout(ie),a()}e.a=C,e.a.restyle({setHideOnLeave:!1});var ie=setTimeout(function(){m(Error("Network Error"))},I.get());C.ping(L).then(L,function(){m(Error("Network Error"))})})})})}(this)}var h=new st(Jt,"https://apis.google.com/js/api.js?onload=%{onload}"),v=new ts(3e4,6e4),I=new ts(5e3,15e3),F=null;function De(e,a,m,C){this.l=e,this.h=a,this.i=m,this.g=C,this.f=null,e=this.g?mo((e=ko(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):mo("https",this.l,null,"/__/auth/iframe"),this.a=e,Pi(this.a,"apiKey",this.h),Pi(this.a,"appName",this.i),this.b=null,this.c=[]}function Re(e,a,m,C,L,ie){this.u=e,this.s=a,this.c=m,this.m=C,this.v=ie,this.i=this.g=this.l=null,this.a=L,this.h=this.f=null}function je(e){try{return f.default.app(e).auth().Ga()}catch(a){return[]}}function Ze(e,a,m,C,L,ie){this.s=e,this.g=a,this.b=m,this.f=ie,this.c=C||null,this.i=L||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Xt(e){var a=Bi();return function fu(e){return Ji(e,ba,{}).then(function(a){return a.authorizedDomains||[]})}(e).then(function(m){e:{var C=ko(a),L=C.c;C=C.a;for(var ie=0;ie<m.length;ie++){var ye=m[ie],ot=C,pn=L;if(0==ye.indexOf("chrome-extension://")?ot=ko(ye).a==ot&&"chrome-extension"==pn:"http"!=pn&&"https"!=pn?ot=!1:te.test(ye)?ot=ot==ye:(ye=ye.split(".").join("\\."),ot=new RegExp("^(.+\\."+ye+"|"+ye+")$","i").test(ot)),ot){m=!0;break e}}m=!1}if(!m)throw new tc(Bi())})}function hn(e){return e.m||(e.m=ft().then(function(){if(!e.u){var a=e.c,m=e.i,C=je(e.b),L=new De(e.s,e.g,e.b,e.f);L.f=a,L.b=m,L.c=rr(C||[]),e.u=L.toString()}e.v=new cc(e.u),function Xr(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function c(e,a){e.sb.then(function(){e.a.register("authEvent",a,ao("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.v,function(a){var m={};if(a&&a.authEvent){var C=!1;for(a=_l(a.authEvent),m=0;m<e.h.length;m++)C=e.h[m](a)||C;return(m={}).status=C?"ACK":"ERROR",ur(m)}return m.status="ERROR",ur(m)})}(e)})),e.m}function kn(e){return e.l||(e.C=e.c?Gs(e.c,je(e.b)):null,e.l=new aa(e.g,gn(e.i),e.C),e.f&&Xs(e.l,e.f)),e.l}function qn(e,a,m,C,L,ie,ye,ot,pn,Pn,Ni,Fo){return(e=new Re(e,a,m,C,L,Fo)).l=ie,e.g=ye,e.i=ot,e.b=Ue(pn||null),e.f=Pn,e.zb(Ni).toString()}function bi(e){if(this.a=e||f.default.INTERNAL.reactNative&&f.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new ae("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function es(e){this.b=e,this.a={},this.f=Nt(this.c,this)}De.prototype.toString=function(){return this.f?Pi(this.a,"v",this.f):Po(this.a.b,"v"),this.b?Pi(this.a,"eid",this.b):Po(this.a.b,"eid"),this.c.length?Pi(this.a,"fw",this.c.join(",")):Po(this.a.b,"fw"),this.a.toString()},Re.prototype.zb=function(e){return this.h=e,this},Re.prototype.toString=function(){if(this.v){var e=ko(this.v.url);e=mo(e.c,e.a,e.g,"/emulator/auth/handler")}else e=mo("https",this.u,null,"/__/auth/handler");if(Pi(e,"apiKey",this.s),Pi(e,"appName",this.c),Pi(e,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var m=f.default.app(this.c).auth().la()}catch(ot){m=null}for(var C in a.pb=m,Pi(e,"providerId",this.a.providerId),a=xi((m=this.a).Jb))a[C]=a[C].toString();C=m.Qc,a=Ue(a);for(var L=0;L<C.length;L++){var ie=C[L];ie in a&&delete a[ie]}m.qb&&m.pb&&!a[m.qb]&&(a[m.qb]=m.pb),it(a)||Pi(e,"customParameters",da(a))}if("function"==typeof this.a.Rb&&(m=this.a.Rb()).length&&Pi(e,"scopes",m.join(",")),this.l?Pi(e,"redirectUrl",this.l):Po(e.b,"redirectUrl"),this.g?Pi(e,"eventId",this.g):Po(e.b,"eventId"),this.i?Pi(e,"v",this.i):Po(e.b,"v"),this.b)for(var ye in this.b)this.b.hasOwnProperty(ye)&&!Bo(e,ye)&&Pi(e,ye,this.b[ye]);return this.h?Pi(e,"tid",this.h):Po(e.b,"tid"),this.f?Pi(e,"eid",this.f):Po(e.b,"eid"),(ye=je(this.c)).length&&Pi(e,"fw",ye.join(",")),e.toString()},(j=Ze.prototype).Pb=function(e,a,m){var C=new ae("popup-closed-by-user"),L=new ae("web-storage-unsupported"),ie=this,ye=!1;return this.ma().then(function(){(function Jr(e){var a={type:"webStorageSupport"};return hn(e).then(function(){return function l(e,a){return e.sb.then(function(){return new gr(function(m){e.a.send(a.type,a,m,ao("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(e.v,a)}).then(function(m){if(m&&m.length&&void 0!==m[0].webStorageSupport)return m[0].webStorageSupport;throw Error()})})(ie).then(function(ot){ot||(e&&ea(e),a(L),ye=!0)})}).o(function(){}).then(function(){if(!ye)return function P(e){return new gr(function(a){return function m(){de(2e3).then(function(){if(e&&!e.closed)return m();a()})}()})}(e)}).then(function(){if(!ye)return de(m).then(function(){a(C)})})},j.Yb=function(){var e=So();return!Wo(e)&&!Pu(e)},j.Ub=function(){return!1},j.Nb=function(e,a,m,C,L,ie,ye,ot){if(!e)return li(new ae("popup-blocked"));if(ye&&!Wo())return this.ma().o(function(Pn){ea(e),L(Pn)}),C(),ur();this.a||(this.a=Xt(kn(this)));var pn=this;return this.a.then(function(){var Pn=pn.ma().o(function(Ni){throw ea(e),L(Ni),Ni});return C(),Pn}).then(function(){jc(m),ye||la(qn(pn.s,pn.g,pn.b,a,m,null,ie,pn.c,void 0,pn.i,ot,pn.f),e)}).o(function(Pn){throw"auth/network-request-failed"==Pn.code&&(pn.a=null),Pn})},j.Ob=function(e,a,m,C){this.a||(this.a=Xt(kn(this)));var L=this;return this.a.then(function(){jc(a),la(qn(L.s,L.g,L.b,e,a,Bi(),m,L.c,void 0,L.i,C,L.f))}).o(function(ie){throw"auth/network-request-failed"==ie.code&&(L.a=null),ie})},j.ma=function(){var e=this;return hn(this).then(function(){return e.v.sb}).o(function(){throw e.a=null,new ae("network-request-failed")})},j.ac=function(){return!0},j.Ea=function(e){this.h.push(e)},j.Ta=function(e){Lr(this.h,function(a){return a==e})},(j=bi.prototype).get=function(e){return ur(this.a.getItem(e)).then(function(a){return a&&Ss(a)})},j.set=function(e,a){return ur(this.a.setItem(e,da(a)))},j.U=function(e){return ur(this.a.removeItem(e))},j.ca=function(){},j.ia=function(){};var u,xs=[];function Nc(e,a,m){it(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[a]&&(e.a[a]=[]),e.a[a].push(m)}function sl(e){this.a=e}function ed(e){this.c=e,this.b=!1,this.a=[]}function o(e,a,m,C){var L,ye,ot,pn,ie=m||{},Pn=null;if(e.b)return li(Error("connection_unavailable"));var Ni=C?800:50,Fo="undefined"!=typeof MessageChannel?new MessageChannel:null;return new gr(function(xo,ua){Fo?(L=Math.floor(Math.random()*Math.pow(10,20)).toString(),Fo.port1.start(),ot=setTimeout(function(){ua(Error("unsupported_event"))},Ni),e.a.push(Pn={messageChannel:Fo,onMessage:ye=function(Vl){Vl.data.eventId===L&&("ack"===Vl.data.status?(clearTimeout(ot),pn=setTimeout(function(){ua(Error("timeout"))},3e3)):"done"===Vl.data.status?(clearTimeout(pn),void 0!==Vl.data.response?xo(Vl.data.response):ua(Error("unknown_error"))):(clearTimeout(ot),clearTimeout(pn),ua(Error("invalid_response"))))}}),Fo.port1.addEventListener("message",ye),e.c.postMessage({eventType:a,eventId:L,data:ie},[Fo.port2])):ua(Error("connection_unavailable"))}).then(function(xo){return t(e,Pn),xo}).o(function(xo){throw t(e,Pn),xo})}function t(e,a){if(a){var m=a.messageChannel;m&&(m.port1.removeEventListener("message",a.onMessage),m.port1.close()),Lr(e.a,function(L){return L==a})}}function i(){if(!Q())throw new ae("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=x.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;ai()&&self?(this.v=function ol(){var e=ai()?self:null;if(Mn(xs,function(m){m.b==e&&(a=m)}),!a){var a=new es(e);xs.push(a)}return a}(),Nc(this.v,"keyChanged",function(a,m){return Zt(e).then(function(C){return 0<C.length&&Mn(e.a,function(L){L(C)}),{keyProcessed:cr(C,m.key)}})}),Nc(this.v,"ping",function(){return ur(["keyChanged"])})):function Ja(){var e=x.navigator;return e&&e.serviceWorker?ur().then(function(){return e.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):ur(null)}().then(function(a){(e.h=a)&&(e.g=new ed(new sl(a)),o(e.g,"ping",null,!0).then(function(m){m[0].fulfilled&&cr(m[0].value,"keyChanged")&&(e.s=!0)}).o(function(){}))})}function w(e){return new gr(function(a,m){var C=e.m.open("firebaseLocalStorageDb",1);C.onerror=function(L){try{L.preventDefault()}catch(ie){}m(Error(L.target.error))},C.onupgradeneeded=function(L){L=L.target.result;try{L.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(ie){m(ie)}},C.onsuccess=function(L){(L=L.target.result).objectStoreNames.contains("firebaseLocalStorage")?a(L):function p(e){return new gr(function(a,m){var C=e.m.deleteDatabase("firebaseLocalStorageDb");C.onsuccess=function(){a()},C.onerror=function(L){m(Error(L.target.error))}})}(e).then(function(){return w(e)}).then(function(ie){a(ie)}).o(function(ie){m(ie)})}})}function S(e){return e.i||(e.i=w(e)),e.i}function O(e,a){var C=0;return new gr(function m(L,ie){S(e).then(a).then(L).o(function(ye){if(!(3<++C))return S(e).then(function(ot){return ot.close(),e.i=void 0,m(L,ie)}).o(function(ot){ie(ot)});ie(ye)})})}function Q(){try{return!!x.indexedDB}catch(e){return!1}}function he(e){return e.objectStore("firebaseLocalStorage")}function Te(e,a){return e.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function et(e){return new gr(function(a,m){e.onsuccess=function(C){C&&C.target?a(C.target.result):a()},e.onerror=function(C){m(C.target.error)}})}function pt(e,a){return e.g&&e.h&&function yu(){var e=x.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?o(e.g,"keyChanged",{key:a},e.s).then(function(){}).o(function(){}):ur()}function Zt(e){return S(e).then(function(a){var m=he(Te(a,!1));return m.getAll?et(m.getAll()):new gr(function(C,L){var ie=[],ye=m.openCursor();ye.onsuccess=function(ot){(ot=ot.target.result)?(ie.push(ot.value),ot.continue()):C(ie)},ye.onerror=function(ot){L(ot.target.error)}})}).then(function(a){var m={},C=[];if(0==e.b){for(C=0;C<a.length;C++)m[a[C].fbase_key]=a[C].value;C=Da(e.c,m),e.c=m}return C})}function ln(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function fn(e){var a=this,m=null;this.a=[],this.type="indexedDB",this.c=e,this.b=ur().then(function(){if(Q()){var C=_s(),L="__sak"+C;return u||(u=new i),(m=u).set(L,C).then(function(){return m.get(L)}).then(function(ie){if(ie!==C)throw Error("indexedDB not supported!");return m.U(L)}).then(function(){return m}).o(function(){return a.c})}return a.c}).then(function(C){return a.type=C.type,C.ca(function(L){Mn(a.a,function(ie){ie(L)})}),C})}function Wn(){this.a={},this.type="inMemory"}function Kr(){if(!function qi(){var e="Node"==Gi();if(!(e=ri()||e&&f.default.INTERNAL.node&&f.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(a){return!1}}())throw"Node"==Gi()?new ae("internal-error","The LocalStorage compatibility library was not found."):new ae("web-storage-unsupported");this.a=ri()||f.default.INTERNAL.node.localStorage,this.type="localStorage"}function ri(){try{var e=x.localStorage,a=_s();return e&&(e.setItem(a,"1"),e.removeItem(a)),e}catch(m){return null}}function Ii(){this.type="nullStorage"}function Io(){if(!function uf(){var e="Node"==Gi();if(!(e=$s()||e&&f.default.INTERNAL.node&&f.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(a){return!1}}())throw"Node"==Gi()?new ae("internal-error","The SessionStorage compatibility library was not found."):new ae("web-storage-unsupported");this.a=$s()||f.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function $s(){try{var e=x.sessionStorage,a=_s();return e&&(e.setItem(a,"1"),e.removeItem(a)),e}catch(m){return null}}function Ka(){var e={};e.Browser=td,e.Node=sh,e.ReactNative=Hm,e.Worker=sp,this.a=e[Gi()]}es.prototype.c=function(e){var a=e.data.eventType,m=e.data.eventId,C=this.a[a];if(C&&0<C.length){e.ports[0].postMessage({status:"ack",eventId:m,eventType:a,response:null});var L=[];Mn(C,function(ie){L.push(ur().then(function(){return ie(e.origin,e.data.data)}))}),q(L).then(function(ie){var ye=[];Mn(ie,function(ot){ye.push({fulfilled:ot.Qb,value:ot.value,reason:ot.reason?ot.reason.message:void 0})}),Mn(ye,function(ot){for(var pn in ot)void 0===ot[pn]&&delete ot[pn]}),e.ports[0].postMessage({status:"done",eventId:m,eventType:a,response:ye})})}},sl.prototype.postMessage=function(e,a){this.a.postMessage(e,a)},ed.prototype.close=function(){for(;0<this.a.length;)t(this,this.a[0]);this.b=!0},(j=i.prototype).set=function(e,a){var m=this,C=!1;return O(this,function(L){return et((L=he(Te(L,!0))).get(e))}).then(function(L){return O(m,function(ie){if(ie=he(Te(ie,!0)),L)return L.value=a,et(ie.put(L));m.b++,C=!0;var ye={};return ye.fbase_key=e,ye.value=a,et(ie.add(ye))})}).then(function(){return m.c[e]=a,pt(m,e)}).oa(function(){C&&m.b--})},j.get=function(e){return O(this,function(a){return et(he(Te(a,!1)).get(e))}).then(function(a){return a&&a.value})},j.U=function(e){var a=this,m=!1;return O(this,function(C){return m=!0,a.b++,et(he(Te(C,!0)).delete(e))}).then(function(){return delete a.c[e],pt(a,e)}).oa(function(){m&&a.b--})},j.ca=function(e){0==this.a.length&&function Qt(e){ln(e),function a(){e.f=setTimeout(function(){e.l=Zt(e).then(function(m){0<m.length&&Mn(e.a,function(C){C(m)})}).then(function(){a()}).o(function(m){"STOP_EVENT"!=m.message&&a()})},800)}()}(this),this.a.push(e)},j.ia=function(e){Lr(this.a,function(a){return a==e}),0==this.a.length&&ln(this)},(j=fn.prototype).get=function(e){return this.b.then(function(a){return a.get(e)})},j.set=function(e,a){return this.b.then(function(m){return m.set(e,a)})},j.U=function(e){return this.b.then(function(a){return a.U(e)})},j.ca=function(e){this.a.push(e)},j.ia=function(e){Lr(this.a,function(a){return a==e})},(j=Wn.prototype).get=function(e){return ur(this.a[e])},j.set=function(e,a){return this.a[e]=a,ur()},j.U=function(e){return delete this.a[e],ur()},j.ca=function(){},j.ia=function(){},(j=Kr.prototype).get=function(e){var a=this;return ur().then(function(){return Ss(a.a.getItem(e))})},j.set=function(e,a){var m=this;return ur().then(function(){var C=da(a);null===C?m.U(e):m.a.setItem(e,C)})},j.U=function(e){var a=this;return ur().then(function(){a.a.removeItem(e)})},j.ca=function(e){x.window&&Ti(x.window,"storage",e)},j.ia=function(e){x.window&&zi(x.window,"storage",e)},(j=Ii.prototype).get=function(){return ur(null)},j.set=function(){return ur()},j.U=function(){return ur()},j.ca=function(){},j.ia=function(){},(j=Io.prototype).get=function(e){var a=this;return ur().then(function(){return Ss(a.a.getItem(e))})},j.set=function(e,a){var m=this;return ur().then(function(){var C=da(a);null===C?m.U(e):m.a.setItem(e,C)})},j.U=function(e){var a=this;return ur().then(function(){a.a.removeItem(e)})},j.ca=function(){},j.ia=function(){};var Nl,id,td={F:Kr,cb:Io},sh={F:Kr,cb:Io},Hm={F:bi,cb:Ii},sp={F:Kr,cb:Ii},nd={rd:"local",NONE:"none",td:"session"};function rd(){var e=!(Pu(So())||!Ri()),a=Wo(),m=Qa();this.m=e,this.h=a,this.l=m,this.a={},Nl||(Nl=new Ka),e=Nl;try{this.g=!jo()&&vu()||!x.indexedDB?new e.a.F:new fn(ai()?new Wn:new e.a.F)}catch(C){this.g=new Wn,this.h=!0}try{this.i=new e.a.cb}catch(C){this.i=new Wn}this.v=new Wn,this.f=Nt(this.Zb,this),this.b={}}function cf(){return id||(id=new rd),id}function al(e,a){switch(a){case"session":return e.i;case"none":return e.v;default:return e.g}}function od(e,a){return"firebase:"+e.name+(a?":"+a:"")}function Of(e,a,m){return m=od(a,m),"local"==a.F&&(e.b[m]=null),al(e,a.F).U(m)}function ah(e){e.c&&(clearInterval(e.c),e.c=null)}function ap(e){this.a=e,this.b=cf()}(j=rd.prototype).get=function(e,a){return al(this,e.F).get(od(e,a))},j.set=function(e,a,m){var C=od(e,m),L=this,ie=al(this,e.F);return ie.set(C,a).then(function(){return ie.get(C)}).then(function(ye){"local"==e.F&&(L.b[C]=ye)})},j.addListener=function(e,a,m){e=od(e,a),this.l&&(this.b[e]=x.localStorage.getItem(e)),it(this.a)&&(al(this,"local").ca(this.f),this.h||(jo()||!vu())&&x.indexedDB||!this.l||function tg(e){ah(e),e.c=setInterval(function(){for(var a in e.a){var m=x.localStorage.getItem(a),C=e.b[a];m!=C&&(e.b[a]=m,m=new z({type:"storage",key:a,target:window,oldValue:C,newValue:m,a:!0}),e.Zb(m))}},1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(m)},j.removeListener=function(e,a,m){e=od(e,a),this.a[e]&&(Lr(this.a[e],function(C){return C==m}),0==this.a[e].length&&delete this.a[e]),it(this.a)&&(al(this,"local").ia(this.f),ah(this))},j.Zb=function(e){if(e&&e.g){var a=e.a.key;if(null==a)for(var m in this.a){var C=this.b[m];void 0===C&&(C=null);var L=x.localStorage.getItem(m);L!==C&&(this.b[m]=L,this.nb(m))}else if(0==a.indexOf("firebase:")&&this.a[a]){if(void 0!==e.a.a?al(this,"local").ia(this.f):ah(this),this.m)if(m=x.localStorage.getItem(a),(C=e.a.newValue)!==m)null!==C?x.localStorage.setItem(a,C):x.localStorage.removeItem(a);else if(this.b[a]===C&&void 0===e.a.a)return;var ie=this;m=function(){(void 0!==e.a.a||ie.b[a]!==x.localStorage.getItem(a))&&(ie.b[a]=x.localStorage.getItem(a),ie.nb(a))},bn&&ut&&10==ut&&x.localStorage.getItem(a)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(m,10):m()}}else Mn(e,Nt(this.nb,this))},j.nb=function(e){this.a[e]&&Mn(this.a[e],function(a){a()})};var Sd,up={name:"authEvent",F:"local"};function Gm(){this.a=cf()}function sd(e,a){this.b=Ad,this.f=x.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=a,this.l=x.Int32Array?new Int32Array(64):Array(64),void 0===Sd&&(Sd=x.Int32Array?new Int32Array(og):og),this.reset()}Ye(sd,function cp(){this.b=-1});for(var Ad=64,qm=Ad-1,rg=[],lp=0;lp<qm;lp++)rg[lp]=0;var ig=Sr(128,rg);function fp(e){for(var a=e.f,m=e.l,C=0,L=0;L<a.length;)m[C++]=a[L]<<24|a[L+1]<<16|a[L+2]<<8|a[L+3],L=4*C;for(a=16;64>a;a++){var ie=(0|m[a-16])+(((L=0|m[a-15])>>>7|L<<25)^(L>>>18|L<<14)^L>>>3)|0,ye=(0|m[a-7])+(((C=0|m[a-2])>>>17|C<<15)^(C>>>19|C<<13)^C>>>10)|0;m[a]=ie+ye|0}C=0|e.a[0],L=0|e.a[1];var ot=0|e.a[2],pn=0|e.a[3],Pn=0|e.a[4],Ni=0|e.a[5],Fo=0|e.a[6];for(ie=0|e.a[7],a=0;64>a;a++){var xo=((C>>>2|C<<30)^(C>>>13|C<<19)^(C>>>22|C<<10))+(C&L^C&ot^L&ot)|0;ye=(ie=ie+((Pn>>>6|Pn<<26)^(Pn>>>11|Pn<<21)^(Pn>>>25|Pn<<7))|0)+((ye=(ye=Pn&Ni^~Pn&Fo)+(0|Sd[a])|0)+(0|m[a])|0)|0,ie=Fo,Fo=Ni,Ni=Pn,Pn=pn+ye|0,pn=ot,ot=L,L=C,C=ye+xo|0}e.a[0]=e.a[0]+C|0,e.a[1]=e.a[1]+L|0,e.a[2]=e.a[2]+ot|0,e.a[3]=e.a[3]+pn|0,e.a[4]=e.a[4]+Pn|0,e.a[5]=e.a[5]+Ni|0,e.a[6]=e.a[6]+Fo|0,e.a[7]=e.a[7]+ie|0}function dp(e,a,m){void 0===m&&(m=a.length);var C=0,L=e.c;if("string"==typeof a)for(;C<m;)e.f[L++]=a.charCodeAt(C++),L==e.b&&(fp(e),L=0);else{if(!ue(a))throw Error("message must be string or array");for(;C<m;){var ie=a[C++];if(!("number"==typeof ie&&0<=ie&&255>=ie&&ie==(0|ie)))throw Error("message must be a byte array");e.f[L++]=ie,L==e.b&&(fp(e),L=0)}}e.c=L,e.g+=m}sd.prototype.reset=function(){this.g=this.c=0,this.a=x.Int32Array?new Int32Array(this.h):rr(this.h)};var og=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function sg(){sd.call(this,8,zm)}Ye(sg,sd);var zm=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ag(e,a,m,C,L,ie){this.v=e,this.i=a,this.l=m,this.m=C||null,this.u=L||null,this.s=ie,this.h=a+":"+m,this.C=new Gm,this.g=new ap(this.h),this.f=null,this.b=[],this.a=this.c=null}function lc(e){return new ae("invalid-cordova-configuration",e)}function Md(e,a){for(var m=0;m<e.b.length;m++)try{e.b[m](a)}catch(C){}}function ch(e){return e.f||(e.f=e.ma().then(function(){return new gr(function(a){e.Ea(function m(C){return a(C),e.Ta(m),!1}),function cg(e){function a(ye){C=!0,L&&L.cancel(),ad(e).then(function(ot){var pn=m;if(ot&&ye&&ye.url){var Pn=null;-1!=(pn=R(ye.url)).indexOf("/__/auth/callback")&&(Pn=(Pn="object"==typeof(Pn=Ss(Bo(Pn=ko(pn),"firebaseError")||null))?Be(Pn):null)?new vs(ot.c,ot.b,null,null,Pn,null,ot.T()):new vs(ot.c,ot.b,pn,ot.f,null,null,ot.T())),pn=Pn||m}Md(e,pn)})}var m=new vs("unknown",null,null,null,new ae("no-auth-event")),C=!1,L=de(500).then(function(){return ad(e).then(function(){C||Md(e,m)})}),ie=x.handleOpenURL;x.handleOpenURL=function(ye){if(0==ye.toLowerCase().indexOf(ao("BuildInfo.packageName",x).toLowerCase()+"://")&&a({url:ye}),"function"==typeof ie)try{ie(ye)}catch(ot){console.error(ot)}},Hc||(Hc=new sa),function Iu(e){var a=Hc;a.a.push(e),a.b||(a.b=function(m){for(var C=0;C<a.a.length;C++)a.a[C](m)},"function"==typeof(e=ao("universalLinks.subscribe",x))&&e(null,a.b))}(a)}(e)})})),e.f}function ad(e){var a=null;return function ng(e){return e.b.get(up,e.a).then(function(a){return _l(a)})}(e.g).then(function(m){return a=m,Of((m=e.g).b,up,m.a)}).then(function(){return a})}function Pl(e){this.a=e,this.b=cf()}(j=ag.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=function Gt(){return Hn(void 0)?ft().then(function(){return new gr(function(e,a){var m=x.document,C=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);m.addEventListener("deviceready",function(){clearTimeout(C),e()},!1)})}):li(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof ao("universalLinks.subscribe",x))throw lc("cordova-universal-links-plugin-fix is not installed");if(void 0===ao("BuildInfo.packageName",x))throw lc("cordova-plugin-buildinfo is not installed");if("function"!=typeof ao("cordova.plugins.browsertab.openUrl",x))throw lc("cordova-plugin-browsertab is not installed");if("function"!=typeof ao("cordova.InAppBrowser.open",x))throw lc("cordova-plugin-inappbrowser is not installed")},function(){throw new ae("cordova-not-ready")})},j.Pb=function(e,a){return a(new ae("operation-not-supported-in-this-environment")),ur()},j.Nb=function(){return li(new ae("operation-not-supported-in-this-environment"))},j.ac=function(){return!1},j.Yb=function(){return!0},j.Ub=function(){return!0},j.Ob=function(e,a,m,C){if(this.c)return li(new ae("redirect-operation-pending"));var L=this,ie=x.document,ye=null,ot=null,pn=null,Pn=null;return this.c=ur().then(function(){return jc(a),ch(L)}).then(function(){return function hp(e,a,m,C,L){var ie=function uh(){for(var e=20,a=[];0<e;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return a.join("")}(),ye=new vs(a,C,null,ie,new ae("no-auth-event"),null,L),ot=ao("BuildInfo.packageName",x);if("string"!=typeof ot)throw new ae("invalid-cordova-configuration");var pn=ao("BuildInfo.displayName",x),Pn={};if(So().toLowerCase().match(/iphone|ipad|ipod/))Pn.ibi=ot;else{if(!So().toLowerCase().match(/android/))return li(new ae("operation-not-supported-in-this-environment"));Pn.apn=ot}pn&&(Pn.appDisplayName=pn),ie=function ug(e){var a=new sg;dp(a,e),e=[];var m=8*a.g;dp(a,ig,56>a.c?56-a.c:a.b-(a.c-56));for(var C=63;56<=C;C--)a.f[C]=255&m,m/=256;for(fp(a),C=m=0;C<a.i;C++)for(var L=24;0<=L;L-=8)e[m++]=a.a[C]>>L&255;return function gs(e){return or(e,function(a){return 1<(a=a.toString(16)).length?a:"0"+a}).join("")}(e)}(ie),Pn.sessionId=ie;var Ni=qn(e.v,e.i,e.l,a,m,null,C,e.m,Pn,e.u,L,e.s);return e.ma().then(function(){var Fo=e.h;return e.C.a.set(up,ye.w(),Fo)}).then(function(){var Fo=ao("cordova.plugins.browsertab.isAvailable",x);if("function"!=typeof Fo)throw new ae("invalid-cordova-configuration");var xo=null;Fo(function(ua){if(ua){if("function"!=typeof(xo=ao("cordova.plugins.browsertab.openUrl",x)))throw new ae("invalid-cordova-configuration");xo(Ni)}else{if("function"!=typeof(xo=ao("cordova.InAppBrowser.open",x)))throw new ae("invalid-cordova-configuration");ua=So(),e.a=xo(Ni,ua.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||ua.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(L,e,a,m,C)}).then(function(){return new gr(function(Ni,Fo){ot=function(){var xo=ao("cordova.plugins.browsertab.close",x);return Ni(),"function"==typeof xo&&xo(),L.a&&"function"==typeof L.a.close&&(L.a.close(),L.a=null),!1},L.Ea(ot),Pn=function(){$a()&&pn()},ie.addEventListener("resume",pn=function(){ye||(ye=de(2e3).then(function(){Fo(new ae("redirect-cancelled-by-user"))}))},!1),So().toLowerCase().match(/android/)||ie.addEventListener("visibilitychange",Pn,!1)}).o(function(Ni){return ad(L).then(function(){throw Ni})})}).oa(function(){pn&&ie.removeEventListener("resume",pn,!1),Pn&&ie.removeEventListener("visibilitychange",Pn,!1),ye&&ye.cancel(),ot&&L.Ta(ot),L.c=null})},j.Ea=function(e){this.b.push(e),ch(this).o(function(a){"auth/invalid-cordova-configuration"===a.code&&(a=new vs("unknown",null,null,null,new ae("no-auth-event")),e(a))})},j.Ta=function(e){Lr(this.b,function(a){return a==e})};var Rd={name:"pendingRedirect",F:"session"};function ud(e){return Of(e.b,Rd,e.a)}function cd(e,a,m,C){this.i={},this.u=0,this.D=e,this.v=a,this.m=m,this.J=C,this.h=[],this.f=!1,this.l=Nt(this.s,this),this.b=new ff,this.C=new _p,this.g=new Pl(xd(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=pp(this.D,this.v,this.m,Tt,this.J)}function pp(e,a,m,C,L){var ie=f.default.SDK_VERSION||null;return Hn()?new ag(e,a,m,ie,C,L):new Ze(e,a,m,ie,C,L)}function gp(e){e.f||(e.f=!0,e.a.Ea(e.l));var a=e.a;return e.a.ma().o(function(m){throw e.a==a&&e.reset(),m})}function kf(e){e.a.Yb()&&gp(e).o(function(a){var m=new vs("unknown",null,null,null,new ae("operation-not-supported-in-this-environment"));lh(a)&&e.s(m)}),e.a.Ub()||mp(e.b)}function ul(e,a){cr(e.h,a)||e.h.push(a),e.f||function fg(e){return e.b.get(Rd,e.a).then(function(a){return"pending"==a})}(e.g).then(function(m){m?ud(e.g).then(function(){gp(e).o(function(C){var L=new vs("unknown",null,null,null,new ae("operation-not-supported-in-this-environment"));lh(C)&&e.s(L)})}):kf(e)}).o(function(){kf(e)})}function ld(e,a){Lr(e.h,function(m){return m==a})}cd.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=pp(this.D,this.v,this.m,null,this.J),this.i={}},cd.prototype.s=function(e){if(!e)throw new ae("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var a=!1,m=0;m<this.h.length;m++){var C=this.h[m];if(C.Gb(e.c,e.b)){(a=this.c[e.c])&&(a.h(e,C),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),a=!0;break}}return mp(this.b),a};var Nf=new ts(2e3,1e4),fd=new ts(3e4,6e4);function lf(e,a,m,C,L,ie,ye){return e.a.Nb(a,m,C,function(){e.f||(e.f=!0,e.a.Ea(e.l))},function(){e.reset()},L,ie,ye)}function lh(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function fh(e,a,m,C,L){var ie;return function lg(e){return e.b.set(Rd,"pending",e.a)}(e.g).then(function(){return e.a.Ob(a,m,C,L).o(function(ye){if(lh(ye))throw new ae("operation-not-supported-in-this-environment");return ie=ye,ud(e.g).then(function(){throw ie})}).then(function(){return e.a.ac()?new gr(function(){}):ud(e.g).then(function(){return e.ra()}).then(function(){}).o(function(){})})})}function dh(e,a,m,C,L){return e.a.Pb(C,function(ie){a.na(m,null,ie,L)},Nf.get())}cd.prototype.ra=function(){return this.b.ra()};var dd={};function xd(e,a,m){return e=e+":"+a,m&&(e=e+":"+m.url),e}function Od(e,a,m,C){var L=xd(a,m,C);return dd[L]||(dd[L]=new cd(e,a,m,C)),dd[L]}function ff(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function mp(e){e.g||(e.g=!0,df(e,!1,null,null))}function hd(e){e.g&&!e.i&&df(e,!1,null,null)}function hh(e,a){if(e.b=function(){return ur(a)},e.f.length)for(var m=0;m<e.f.length;m++)e.f[m](a)}function df(e,a,m,C){a?C?function vp(e,a){if(e.b=function(){return li(a)},e.c.length)for(var m=0;m<e.c.length;m++)e.c[m](a)}(e,C):hh(e,m):hh(e,{user:null}),e.f=[],e.c=[]}function _p(){}function gu(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function ph(e,a){this.a=a,Dr(this,"verificationId",e)}function gh(e,a,m,C){return new as(e).gb(a,m).then(function(L){return new ph(L,C)})}function Ym(e){var a=Lu(e);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new ae("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");uo(this,{token:e,expirationTime:qs(1e3*a.exp),authTime:qs(1e3*a.auth_time),issuedAtTime:qs(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function wp(e,a,m){var C=a&&a[hg];if(!C)throw new ae("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=Ue(a),this.g=m,this.c=new M(null,C),this.b=[];var L=this;Mn(a[mh]||[],function(ie){(ie=bu(ie))&&L.b.push(ie)}),Dr(this,"auth",this.a),Dr(this,"session",this.c),Dr(this,"hints",this.b)}ff.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ff.prototype.h=function(e,a){if(e){this.reset(),this.g=!0;var m=e.c,C=e.b,L=e.a&&"auth/web-storage-unsupported"==e.a.code,ie=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!L&&!ie),"unknown"!=m||L||ie?e.a?(df(this,!0,null,e.a),ur()):a.Fa(m,C)?function Wm(e,a,m){m=m.Fa(a.c,a.b);var C=a.g,L=a.f,ie=a.i,ye=a.T(),ot=!!a.c.match(/Redirect$/);m(C,L,ye,ie).then(function(pn){df(e,ot,pn,null)}).o(function(pn){df(e,ot,null,pn)})}(this,e,a):li(new ae("invalid-auth-event")):(df(this,!1,null,null),ur())}else li(new ae("invalid-auth-event"))},ff.prototype.ra=function(){var e=this;return new gr(function(a,m){e.b?e.b().then(a,m):(e.f.push(a),e.c.push(m),function yp(e){var a=new ae("timeout");e.a&&e.a.cancel(),e.a=de(fd.get()).then(function(){e.b||(e.g=!0,df(e,!0,null,a))})}(e))})},_p.prototype.h=function(e,a){if(e){var m=e.c,C=e.b;e.a?(a.na(e.c,null,e.a,e.b),ur()):a.Fa(m,C)?function dg(e,a){var m=e.b,C=e.c;a.Fa(C,m)(e.g,e.f,e.T(),e.i).then(function(L){a.na(C,L,null,m)}).o(function(L){a.na(C,null,L,m)})}(e,a):li(new ae("invalid-auth-event"))}else li(new ae("invalid-auth-event"))},ph.prototype.confirm=function(e){return e=yl(this.verificationId,e),this.a(e)};var mh="mfaInfo",hg="mfaPendingCredential";function vh(e,a,m,C){ae.call(this,"multi-factor-auth-required",C,a),this.b=new wp(e,a,m),Dr(this,"resolver",this.b)}function kd(e,a,m){if(e&&Qe(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new vh(a,e.serverResponse,m,e.message)}catch(C){}return null}function yh(){}function _h(e){Dr(this,"factorId",e.fa),this.a=e}function wh(e){if(_h.call(this,e),this.a.fa!=as.PROVIDER_ID)throw new ae("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Pf(e,a){for(var m in to.call(this,e),a)this[m]=a[m]}function Nd(e,a){this.a=e,this.b=[],this.c=Nt(this.yc,this),Ti(this.a,"userReloaded",this.c);var m=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&Mn(a.multiFactor.enrolledFactors,function(C){var L=null,ie={};if(C){C.uid&&(ie[eu]=C.uid),C.displayName&&(ie[Ju]=C.displayName),C.enrollmentTime&&(ie[ra]=new Date(C.enrollmentTime).toISOString()),C.phoneNumber&&(ie[tu]=C.phoneNumber);try{L=new ia(ie)}catch(ye){}C=L}else C=null;C&&m.push(C)}),Pd(this,m)}function Pd(e,a){e.b=a,Dr(e,"enrolledFactors",a)}function Fd(e,a,m){if(this.h=e,this.i=a,this.g=m,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bh(e,a){e.stop(),e.b=de(function bp(e,a){return a?(e.a=e.c,e.g()):(a=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),a)}(e,a)).then(function(){return function os(){var e=x.document,a=null;return $a()||!e?ur():new gr(function(m){a=function(){$a()&&(e.removeEventListener("visibilitychange",a,!1),m())},e.addEventListener("visibilitychange",a,!1)}).o(function(m){throw e.removeEventListener("visibilitychange",a,!1),m})}()}).then(function(){return e.h()}).then(function(){bh(e,!0)}).o(function(m){e.i(m)&&bh(e,!1)})}function Yu(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function Ld(e,a){void 0===a&&(a=e.b?(a=e.b).a-a.g:0),e.c=Date.now()+1e3*a}function Ep(e,a){e.b=ja(a[ho]||""),e.a=a.refreshToken,Ld(e,void 0!==(a=a.expiresIn)?Number(a):void 0)}function pd(e,a){this.a=e||null,this.b=a||null,uo(this,{lastSignInTime:qs(a||null),creationTime:qs(e||null)})}function _g(e,a,m,C,L,ie){uo(this,{uid:e,displayName:C||null,photoURL:L||null,email:m||null,phoneNumber:ie||null,providerId:a})}function xu(e,a,m){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var C=f.default.SDK_VERSION?Gs(f.default.SDK_VERSION):null;this.a=new aa(this.l,gn(Tt),C),(this.u=e.emulatorConfig||null)&&Xs(this.a,this.u),this.h=new Yu(this.a),Th(this,a[ho]),Ep(this.h,a),Dr(this,"refreshToken",this.h.a),Cp(this,m||{}),vn.call(this),this.P=!1,this.s&&Ts()&&(this.b=Od(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function Dh(e){return new Fd(function(){return e.I(!0)},function(a){return!(!a||"auth/network-request-failed"!=a.code)},function(){var a=e.h.c-Date.now()-3e5;return 0<a?a:0})}(this),this.ba=Nt(this.ib,this);var L=this;this.za=null,this.Pa=function(ie){L.xa(ie.h)},this.qa=null,this.Ba=function(ie){gd(L,ie.c)},this.$=null,this.aa=[],this.Oa=function(ie){Fl(L,ie.f)},this.ja=null,this.S=new Nd(this,m),Dr(this,"multiFactor",this.S)}function gd(e,a){e.u=a,Xs(e.a,a),e.b&&(a=e.b,e.b=Od(e.s,e.l,e.m,e.u),e.P&&(ld(a,e),ul(e.b,e)))}function Eh(e,a){e.qa&&zi(e.qa,"languageCodeChanged",e.Pa),(e.qa=a)&&Ti(a,"languageCodeChanged",e.Pa)}function Ch(e,a){e.$&&zi(e.$,"emulatorConfigChanged",e.Ba),(e.$=a)&&Ti(a,"emulatorConfigChanged",e.Ba)}function Fl(e,a){e.aa=a,Wa(e.a,f.default.SDK_VERSION?Gs(f.default.SDK_VERSION,e.aa):null)}function md(e,a){e.ja&&zi(e.ja,"frameworkChanged",e.Oa),(e.ja=a)&&Ti(a,"frameworkChanged",e.Oa)}function Ih(e){try{return f.default.app(e.m).auth()}catch(a){throw new ae("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Bd(e){e.J||e.D.b||(e.D.start(),zi(e,"tokenChanged",e.ba),Ti(e,"tokenChanged",e.ba))}function Vd(e){zi(e,"tokenChanged",e.ba),e.D.stop()}function Th(e,a){e.Aa=a,Dr(e,"_lat",a)}function cl(e){for(var a=[],m=0;m<e.W.length;m++)a.push(e.W[m](e));return q(a).then(function(){return e})}function $d(e){e.b&&!e.P&&(e.P=!0,ul(e.b,e))}function Cp(e,a){uo(e,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new pd(a.createdAt,a.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Sh(){}function Ud(e){return ur().then(function(){if(e.J)throw new ae("app-deleted")})}function jd(e){return or(e.providerData,function(a){return a.providerId})}function Hd(e,a){a&&(Ah(e,a.providerId),e.providerData.push(a))}function Ah(e,a){Lr(e.providerData,function(m){return m.providerId==a})}function Fa(e,a,m){("uid"!=a||m)&&e.hasOwnProperty(a)&&Dr(e,a,m)}function hf(e,a){e!=a&&(uo(e,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),Dr(e,"metadata",a.metadata?function yg(e){return new pd(e.a,e.b)}(a.metadata):new pd),Mn(a.providerData,function(m){Hd(e,m)}),function vg(e,a){e.b=a.b,e.a=a.a,e.c=a.c}(e.h,a.h),Dr(e,"refreshToken",e.h.a),Pd(e.S,a.S.b))}function Mh(e){return e.I().then(function(a){var m=e.isAnonymous;return function Xm(e,a){return Ji(e.a,Na,{idToken:a}).then(Nt(e.Kc,e))}(e,a).then(function(){return m||Fa(e,"isAnonymous",!1),a})})}function Pc(e,a){a[ho]&&e.Aa!=a[ho]&&(Ep(e.h,a),e.dispatchEvent(new Pf("tokenChanged")),Th(e,a[ho]),Fa(e,"refreshToken",e.h.a))}function vd(e,a){return Mh(e).then(function(){if(cr(jd(e),a))return cl(e).then(function(){throw new ae("provider-already-linked")})})}function pf(e,a,m){return na({user:e,credential:yc(a),additionalUserInfo:a=Zu(a),operationType:m})}function Ff(e,a){return Pc(e,a),e.reload().then(function(){return e})}function Ip(e,a,m,C,L){if(!Ts())return li(new ae("operation-not-supported-in-this-environment"));if(e.i&&!L)return li(e.i);var ie=Ha(m.providerId),ye=_s(e.uid+":::"),ot=null;(!Wo()||Ri())&&e.s&&m.isOAuthProvider&&(ot=qn(e.s,e.l,e.m,a,m,null,ye,f.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var pn=y(ot,ie&&ie.va,ie&&ie.ua);return C=C().then(function(){if(xh(e),!L)return e.I().then(function(){})}).then(function(){return lf(e.b,pn,a,m,ye,!!ot,e.tenantId)}).then(function(){return new gr(function(Pn,Ni){e.na(a,null,new ae("cancelled-popup-request"),e.g||null),e.f=Pn,e.C=Ni,e.g=ye,e.c=dh(e.b,e,a,pn,ye)})}).then(function(Pn){return pn&&ea(pn),Pn?na(Pn):null}).o(function(Pn){throw pn&&ea(pn),Pn}),Us(e,C,L)}function Gd(e,a,m,C,L){if(!Ts())return li(new ae("operation-not-supported-in-this-environment"));if(e.i&&!L)return li(e.i);var ie=null,ye=_s(e.uid+":::");return C=C().then(function(){if(xh(e),!L)return e.I().then(function(){})}).then(function(){return e.ga=ye,cl(e)}).then(function(ot){return e.ha&&(ot=(ot=e.ha).b.set(qd,e.w(),ot.a)),ot}).then(function(){return fh(e.b,a,m,ye,e.tenantId)}).o(function(ot){if(ie=ot,e.ha)return gf(e.ha);throw ie}).then(function(){if(ie)throw ie}),Us(e,C,L)}function xh(e){if(!e.b||!e.P)throw new ae(e.b&&!e.P?"internal-error":"auth-domain-config-required")}function Us(e,a,m){var C=function Dp(e,a,m){return e.i&&!m?(a.cancel(),li(e.i)):a.o(function(C){throw!C||"auth/user-disabled"!=C.code&&"auth/user-token-expired"!=C.code||(e.i||e.dispatchEvent(new Pf("userInvalidated")),e.i=C),C})}(e,a,m);return e.N.push(C),C.oa(function(){Fr(e.N,C)}),C.o(function(L){var ie=null;throw L&&"auth/multi-factor-auth-required"===L.code&&(ie=kd(L.w(),Ih(e),Nt(e.jc,e))),ie||L})}function Tp(e){if(!e.apiKey)return null;var a={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},m={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;m[ho]=e.stsTokenManager.accessToken,m.refreshToken=e.stsTokenManager.refreshToken||null;var C=e.stsTokenManager.expirationTime;C&&(m.expiresIn=(C-Date.now())/1e3);var L=new xu(a,m,e);return e.providerData&&Mn(e.providerData,function(ie){ie&&Hd(L,na(ie))}),e.redirectEventId&&(L.ga=e.redirectEventId),L}function Eg(e){this.a=e,this.b=cf()}wp.prototype.Rc=function(e){var a=this;return e.tb(this.a.a,this.c).then(function(m){var C=Ue(a.f);return delete C[mh],delete C[hg],Ce(C,m),a.g(C)})},Ye(vh,ae),yh.prototype.tb=function(e,a,m){return a.type==W?function pg(e,a,m,C){return m.Ha().then(function(L){return L={idToken:L},void 0!==C&&(L.displayName=C),Ce(L,{phoneVerificationInfo:Uc(e.a)}),Ji(a,Ru,L)})}(this,e,a,m):function gg(e,a,m){return m.Ha().then(function(C){return Ce(C={mfaPendingCredential:C},{phoneVerificationInfo:Uc(e.a)}),Ji(a,Oc,C)})}(this,e,a)},Ye(_h,yh),Ye(wh,_h),Ye(Pf,to),(j=Nd.prototype).yc=function(e){Pd(this,function mg(e){var a=[];return Mn(e.mfaInfo||[],function(m){(m=bu(m))&&a.push(m)}),a}(e.hd))},j.Sb=function(){return this.a.I().then(function(e){return new M(e,null)})},j.fc=function(e,a){var m=this,C=this.a.a;return this.Sb().then(function(L){return e.tb(C,L,a)}).then(function(L){return Pc(m.a,L),m.a.reload()})},j.bd=function(e){var a=this,m="string"==typeof e?e:e.uid,C=this.a.a;return this.a.I().then(function(L){return Ji(C,xf,{idToken:L,mfaEnrollmentId:m})}).then(function(L){var ie=Pr(a.b,function(ye){return ye.uid!=m});return Pd(a,ie),Pc(a.a,L),a.a.reload().o(function(ye){if("auth/user-token-expired"!=ye.code)throw ye})})},j.w=function(){return{multiFactor:{enrolledFactors:or(this.b,function(e){return e.w()})}}},Fd.prototype.start=function(){this.a=this.c,bh(this,!0)},Fd.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Yu.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Yu.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?li(new ae("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function Km(e,a){return function Wf(e,a){return new gr(function(m,C){"refresh_token"==a.grant_type&&a.refresh_token||"authorization_code"==a.grant_type&&a.code?Au(e,e.l+"?key="+encodeURIComponent(e.c),function(L){L?L.error?C(kc(L)):L.access_token&&L.refresh_token?m(L):C(new ae("internal-error")):C(new ae("network-request-failed"))},"POST",ca(a).toString(),e.g,e.m.get()):C(new ae("internal-error"))})}(e.f,a).then(function(m){return e.b=ja(m.access_token),e.a=m.refresh_token,Ld(e,m.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(m){throw"auth/user-token-expired"==m.code&&(e.a=null),m})}(this,{grant_type:"refresh_token",refresh_token:this.a}):ur(null):ur({accessToken:this.b.toString(),refreshToken:this.a})},pd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},Ye(xu,vn),xu.prototype.xa=function(e){this.za=e,nl(this.a,e)},xu.prototype.la=function(){return this.za},xu.prototype.Ga=function(){return rr(this.aa)},xu.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Dr(xu.prototype,"providerId","firebase"),(j=xu.prototype).reload=function(){var e=this;return Us(this,Ud(this).then(function(){return Mh(e).then(function(){return cl(e)}).then(Sh)}))},j.oc=function(e){return this.I(e).then(function(a){return new Ym(a)})},j.I=function(e){var a=this;return Us(this,Ud(this).then(function(){return a.h.getToken(e)}).then(function(m){if(!m)throw new ae("internal-error");return m.accessToken!=a.Aa&&(Th(a,m.accessToken),a.dispatchEvent(new Pf("tokenChanged"))),Fa(a,"refreshToken",m.refreshToken),m.accessToken}))},j.Kc=function(e){if(!(e=e.users)||!e.length)throw new ae("internal-error");Cp(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var a=function Rh(e){return(e=e.providerUserInfo)&&e.length?or(e,function(a){return new _g(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}(e),m=0;m<a.length;m++)Hd(this,a[m]);Fa(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Pf("userReloaded",{hd:e}))},j.Lc=function(e){return _u("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},j.ub=function(e){var a=this,m=null;return Us(this,e.c(this.a,this.uid).then(function(C){return Pc(a,C),m=pf(a,C,"reauthenticate"),a.i=null,a.reload()}).then(function(){return m}),!0)},j.Cc=function(e){return _u("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},j.rb=function(e){var a=this,m=null;return Us(this,vd(this,e.providerId).then(function(){return a.I()}).then(function(C){return e.b(a.a,C)}).then(function(C){return m=pf(a,C,"link"),Ff(a,C)}).then(function(){return m}))},j.Dc=function(e,a){var m=this;return Us(this,vd(this,"phone").then(function(){return gh(Ih(m),e,a,Nt(m.rb,m))}))},j.Mc=function(e,a){var m=this;return Us(this,ur().then(function(){return gh(Ih(m),e,a,Nt(m.ub,m))}),!0)},j.Cb=function(e){var a=this;return Us(this,this.I().then(function(m){return a.a.Cb(m,e)}).then(function(m){return Pc(a,m),a.reload()}))},j.ed=function(e){var a=this;return Us(this,this.I().then(function(m){return e.b(a.a,m)}).then(function(m){return Pc(a,m),a.reload()}))},j.Db=function(e){var a=this;return Us(this,this.I().then(function(m){return a.a.Db(m,e)}).then(function(m){return Pc(a,m),a.reload()}))},j.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Ud(this);var a=this;return Us(this,this.I().then(function(m){return a.a.Eb(m,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(m){return Pc(a,m),Fa(a,"displayName",m.displayName||null),Fa(a,"photoURL",m.photoUrl||null),Mn(a.providerData,function(C){"password"===C.providerId&&(Dr(C,"displayName",a.displayName),Dr(C,"photoURL",a.photoURL))}),cl(a)}).then(Sh))},j.cd=function(e){var a=this;return Us(this,Mh(this).then(function(m){return cr(jd(a),e)?function Zl(e,a,m){return Ji(e,hu,{idToken:a,deleteProvider:m})}(a.a,m,[e]).then(function(C){var L={};return Mn(C.providerUserInfo||[],function(ie){L[ie.providerId]=!0}),Mn(jd(a),function(ie){L[ie]||Ah(a,ie)}),L[as.PROVIDER_ID]||Dr(a,"phoneNumber",null),cl(a)}):cl(a).then(function(){throw new ae("no-such-provider")})}))},j.delete=function(){var e=this;return Us(this,this.I().then(function(a){return Ji(e.a,Al,{idToken:a})}).then(function(){e.dispatchEvent(new Pf("userDeleted"))})).then(function(){for(var a=0;a<e.N.length;a++)e.N[a].cancel("app-deleted");Eh(e,null),Ch(e,null),md(e,null),e.N=[],e.J=!0,Vd(e),Dr(e,"refreshToken",null),e.b&&ld(e.b,e)})},j.Gb=function(e,a){return!!("linkViaPopup"==e&&(this.g||null)==a&&this.f||"reauthViaPopup"==e&&(this.g||null)==a&&this.f||"linkViaRedirect"==e&&(this.ga||null)==a||"reauthViaRedirect"==e&&(this.ga||null)==a)},j.na=function(e,a,m,C){"linkViaPopup"!=e&&"reauthViaPopup"!=e||C!=(this.g||null)||(m&&this.C?this.C(m):a&&!m&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},j.Fa=function(e,a){return"linkViaPopup"==e&&a==(this.g||null)?Nt(this.Lb,this):"reauthViaPopup"==e&&a==(this.g||null)?Nt(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==a?Nt(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==a?Nt(this.Mb,this):null},j.Ec=function(e){var a=this;return Ip(this,"linkViaPopup",e,function(){return vd(a,e.providerId).then(function(){return cl(a)})},!1)},j.Nc=function(e){return Ip(this,"reauthViaPopup",e,function(){return ur()},!0)},j.Fc=function(e){var a=this;return Gd(this,"linkViaRedirect",e,function(){return vd(a,e.providerId)},!1)},j.Oc=function(e){return Gd(this,"reauthViaRedirect",e,function(){return ur()},!0)},j.Lb=function(e,a,m,C){var L=this;this.c&&(this.c.cancel(),this.c=null);var ie=null;return Us(this,this.I().then(function(ye){return Mc(L.a,{requestUri:e,postBody:C,sessionId:a,idToken:ye})}).then(function(ye){return ie=pf(L,ye,"link"),Ff(L,ye)}).then(function(){return ie}))},j.Mb=function(e,a,m,C){var L=this;this.c&&(this.c.cancel(),this.c=null);var ie=null;return Us(this,ur().then(function(){return Ne(Rc(L.a,{requestUri:e,sessionId:a,postBody:C,tenantId:m}),L.uid)}).then(function(ot){return ie=pf(L,ot,"reauthenticate"),Pc(L,ot),L.i=null,L.reload()}).then(function(){return ie}),!0)},j.vb=function(e){var a=this,m=null;return Us(this,this.I().then(function(C){return m=C,void 0===e||it(e)?{}:iu(new Mo(e))}).then(function(C){return a.a.vb(m,C)}).then(function(C){if(a.email!=C)return a.reload()}).then(function(){}))},j.Fb=function(e,a){var m=this,C=null;return Us(this,this.I().then(function(L){return C=L,void 0===a||it(a)?{}:iu(new Mo(a))}).then(function(L){return m.a.Fb(C,e,L)}).then(function(L){if(m.email!=L)return m.reload()}).then(function(){}))},j.jc=function(e){var a=null,m=this;return Us(this,e=Ne(ur(e),m.uid).then(function(C){return a=pf(m,C,"reauthenticate"),Pc(m,C),m.i=null,m.reload()}).then(function(){return a}),!0)},j.toJSON=function(){return this.w()},j.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Ce(e,this.metadata.w()),Mn(this.providerData,function(a){e.providerData.push(function Za(e){var m,a={};for(m in e)e.hasOwnProperty(m)&&(a[m]=e[m]);return a}(a))}),Ce(e,this.S.w()),e};var qd={name:"redirectUser",F:"session"};function gf(e){return Of(e.b,qd,e.a)}function kh(e){this.a=e,this.b=cf(),this.c=null,this.f=function Lf(e){var a=Fc("local"),m=Fc("session"),C=Fc("none");return function eg(e,a,m){var C=od(a,m),L=al(e,a.F);return e.get(a,m).then(function(ie){var ye=null;try{ye=Ss(x.localStorage.getItem(C))}catch(ot){}if(ye&&!ie)return x.localStorage.removeItem(C),e.set(a,ye,m);ye&&ie&&"localStorage"!=L.type&&x.localStorage.removeItem(C)})}(e.b,a,e.a).then(function(){return e.b.get(m,e.a)}).then(function(L){return L?m:e.b.get(C,e.a).then(function(ie){return ie?C:e.b.get(a,e.a).then(function(ye){return ye?a:e.b.get(Ph,e.a).then(function(ot){return ot?Fc(ot):a})})})}).then(function(L){return e.c=L,Nh(e,L.F)}).o(function(){e.c||(e.c=a)})}(this),this.b.addListener(Fc("local"),this.a,Nt(this.g,this))}function Nh(e,a){var C,m=[];for(C in nd)nd[C]!==a&&m.push(Of(e.b,Fc(nd[C]),e.a));return m.push(Of(e.b,Ph,e.a)),function Z(e){return new gr(function(a,m){var C=e.length,L=[];if(C)for(var ie=function(Pn,Ni){C--,L[Pn]=Ni,0==C&&a(L)},ye=function(Pn){m(Pn)},ot=0;ot<e.length;ot++)bo(e[ot],Et(ie,ot),ye);else a(L)})}(m)}kh.prototype.g=function(){var e=this,a=Fc("local");mf(this,function(){return ur().then(function(){return e.c&&"local"!=e.c.F?e.b.get(a,e.a):null}).then(function(m){if(m)return Nh(e,"local").then(function(){e.c=a})})})};var Ph={name:"persistence",F:"session"};function Fc(e){return{name:"authUser",F:e}}function Ap(e,a){return mf(e,function(){return e.b.set(e.c,a.w(),e.a)})}function Ku(e){return mf(e,function(){return Of(e.b,e.c,e.a)})}function zd(e,a,m){return mf(e,function(){return e.b.get(e.c,e.a).then(function(C){return C&&a&&(C.authDomain=a),C&&m&&(C.emulatorConfig=m),Tp(C||{})})})}function mf(e,a){return e.f=e.f.then(a,a),e.f}function Xu(e){if(this.l=!1,Dr(this,"settings",new gu),Dr(this,"app",e),!Ko(this).options||!Ko(this).options.apiKey)throw new ae("invalid-api-key");e=f.default.SDK_VERSION?Gs(f.default.SDK_VERSION):null,this.a=new aa(Ko(this).options&&Ko(this).options.apiKey,gn(Tt),e),this.P=[],this.s=[],this.N=[],this.Pa=f.default.INTERNAL.createSubscribe(Nt(this.zc,this)),this.W=void 0,this.ib=f.default.INTERNAL.createSubscribe(Nt(this.Ac,this)),Bf(this,null),this.i=new kh(Ko(this).options.apiKey+":"+Ko(this).name),this.D=new Eg(Ko(this).options.apiKey+":"+Ko(this).name),this.$=Os(this,function Qm(e){var a=Ko(e).options.authDomain,m=function Sg(e){var a=function Sp(e,a){return e.b.get(qd,e.a).then(function(m){return m&&a&&(m.authDomain=a),Tp(m||{})})}(e.D,Ko(e).options.authDomain).then(function(m){return(e.m=m)&&(m.ha=e.D),gf(e.D)});return Os(e,a)}(e).then(function(){return zd(e.i,a,e.R)}).then(function(C){return C?(C.ha=e.D,e.m&&(e.m.ga||null)==(C.ga||null)?C:C.reload().then(function(){return Ap(e.i,C).then(function(){return C})}).o(function(L){return"auth/network-request-failed"==L.code?C:Ku(e.i)})):null}).then(function(C){Bf(e,C||null)});return Os(e,m)}(this)),this.h=Os(this,function Jm(e){return e.$.then(function(){return Tg(e)}).o(function(){}).then(function(){if(!e.l)return e.ja()}).o(function(){}).then(function(){if(!e.l){e.ba=!0;var a=e.i;a.b.addListener(Fc("local"),a.a,e.ja)}})}(this)),this.ba=!1,this.ja=Nt(this.Zc,this),this.Ba=Nt(this.da,this),this.qa=Nt(this.mc,this),this.za=Nt(this.wc,this),this.Aa=Nt(this.xc,this),this.b=null,function Rp(e){var a=Ko(e).options.authDomain,m=Ko(e).options.apiKey;a&&Ts()&&(e.Oa=e.$.then(function(){if(!e.l){if(e.b=Od(a,m,Ko(e).name,e.R),ul(e.b,e),Yi(e)&&$d(Yi(e)),e.m){$d(e.m);var C=e.m;C.xa(e.la()),Eh(C,e),Fl(C=e.m,e.J),md(C,e),gd(C=e.m,e.R),Ch(C,e),e.m=null}return e.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=Nt(this.delete,this),this.INTERNAL.logFramework=Nt(this.Gc,this),this.u=0,vn.call(this),function Dg(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var a=ko(this.R.url);a=na({protocol:a.c,host:a.a,port:a.g,options:na({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}(this),this.J=[],this.R=null}function Fh(e){to.call(this,"languageCodeChanged"),this.h=e}function Lh(e){to.call(this,"emulatorConfigChanged"),this.c=e}function Mp(e){to.call(this,"frameworkChanged"),this.f=e}function Bh(e){return e.Oa||li(new ae("auth-domain-config-required"))}function Tg(e){if(!Ts())return li(new ae("operation-not-supported-in-this-environment"));var a=Bh(e).then(function(){return e.b.ra()}).then(function(m){return m?na(m):null});return Os(e,a)}function Bf(e,a){Yi(e)&&(function wg(e,a){Lr(e.W,function(m){return m==a})}(Yi(e),e.Ba),zi(Yi(e),"tokenChanged",e.qa),zi(Yi(e),"userDeleted",e.za),zi(Yi(e),"userInvalidated",e.Aa),Vd(Yi(e))),a&&(a.W.push(e.Ba),Ti(a,"tokenChanged",e.qa),Ti(a,"userDeleted",e.za),Ti(a,"userInvalidated",e.Aa),0<e.u&&Bd(a)),Dr(e,"currentUser",a),a&&(a.xa(e.la()),Eh(a,e),Fl(a,e.J),md(a,e),gd(a,e.R),Ch(a,e))}function ll(e,a){var m=null,C=null;return Os(e,a.then(function(L){return m=yc(L),C=Zu(L),function xp(e,a){var m={};return m.apiKey=Ko(e).options.apiKey,m.authDomain=Ko(e).options.authDomain,m.appName=Ko(e).name,e.R&&(m.emulatorConfig=e.R),e.$.then(function(){return function Oh(e,a,m,C){var L=new xu(e,a);return m&&(L.ha=m),C&&Fl(L,C),L.reload().then(function(){return L})}(m,a,e.D,e.Ga())}).then(function(C){return Yi(e)&&C.uid==Yi(e).uid?(hf(Yi(e),C),e.da(C)):(Bf(e,C),$d(C),e.da(C))}).then(function(){Wd(e)})}(e,L)},function(L){var ie=null;throw L&&"auth/multi-factor-auth-required"===L.code&&(ie=kd(L.w(),e,Nt(e.kc,e))),ie||L}).then(function(){return na({user:Yi(e),credential:m,additionalUserInfo:C,operationType:"signIn"})}))}function Ko(e){return e.app}function Yi(e){return e.currentUser}function yd(e){return Yi(e)&&Yi(e)._lat||null}function Wd(e){if(e.ba){for(var a=0;a<e.s.length;a++)e.s[a]&&e.s[a](yd(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),a=0;a<e.N.length;a++)e.N[a]&&e.N[a](yd(e))}}function Os(e,a){return e.P.push(a),a.oa(function(){Fr(e.P,a)}),a}function Yd(){}function vf(){this.a={},this.b=1e12}kh.prototype.yb=function(e){var a=null,m=this;return function Td(e){var a=new ae("invalid-persistence-type"),m=new ae("unsupported-persistence-type");e:{for(C in nd)if(nd[C]==e){var C=!0;break e}C=!1}if(!C||"string"!=typeof e)throw a;switch(Gi()){case"ReactNative":if("session"===e)throw m;break;case"Node":if("none"!==e)throw m;break;case"Worker":if("session"===e||!Q()&&"none"!==e)throw m;break;default:if(!Qa()&&"none"!==e)throw m}}(e),mf(this,function(){return e!=m.c.F?m.b.get(m.c,m.a).then(function(C){return a=C,Nh(m,e)}).then(function(){if(m.c=Fc(e),a)return m.b.set(m.c,a,m.a)}):ur()})},Ye(Xu,vn),Ye(Fh,to),Ye(Lh,to),Ye(Mp,to),(j=Xu.prototype).yb=function(e){return Os(this,e=this.i.yb(e))},j.xa=function(e){this.aa===e||this.l||(this.aa=e,nl(this.a,this.aa),this.dispatchEvent(new Fh(this.la())))},j.la=function(){return this.aa},j.fd=function(){var e=x.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},j.gd=function(e,a){if(!this.R){if(!/^https?:\/\//.test(e))throw new ae("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function Ig(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),x.document&&!e&&ft().then(function(){var a=x.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),x.document.body.appendChild(a)})})(a=!!a&&!!a.disableWarnings),this.R={url:e,ec:a},this.settings.jb=!0,Xs(this.a,this.R),this.dispatchEvent(new Lh(this.R))}},j.Gc=function(e){this.J.push(e),Wa(this.a,f.default.SDK_VERSION?Gs(f.default.SDK_VERSION,this.J):null),this.dispatchEvent(new Mp(this.J))},j.Ga=function(){return rr(this.J)},j.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},j.T=function(){return this.S},j.toJSON=function(){return{apiKey:Ko(this).options.apiKey,authDomain:Ko(this).options.authDomain,appName:Ko(this).name,currentUser:Yi(this)&&Yi(this).w()}},j.Gb=function(e,a){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},j.na=function(e,a,m,C){"signInViaPopup"==e&&this.g==C&&(m&&this.C?this.C(m):a&&!m&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},j.Fa=function(e,a){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==a&&this.f?Nt(this.ic,this):null},j.ic=function(e,a,m,C){var L=this,ie={requestUri:e,postBody:C,sessionId:a,tenantId:m};return this.c&&(this.c.cancel(),this.c=null),L.$.then(function(){return ll(L,Sl(L.a,ie))})},j.Xc=function(e){if(!Ts())return li(new ae("operation-not-supported-in-this-environment"));var a=this,m=Ha(e.providerId),C=_s(),L=null;(!Wo()||Ri())&&Ko(this).options.authDomain&&e.isOAuthProvider&&(L=qn(Ko(this).options.authDomain,Ko(this).options.apiKey,Ko(this).name,"signInViaPopup",e,null,C,f.default.SDK_VERSION||null,null,null,this.T(),this.R));var ie=y(L,m&&m.va,m&&m.ua);return Os(this,m=Bh(this).then(function(ye){return lf(ye,ie,"signInViaPopup",e,C,!!L,a.T())}).then(function(){return new gr(function(ye,ot){a.na("signInViaPopup",null,new ae("cancelled-popup-request"),a.g),a.f=ye,a.C=ot,a.g=C,a.c=dh(a.b,a,"signInViaPopup",ie,C)})}).then(function(ye){return ie&&ea(ie),ye?na(ye):null}).o(function(ye){throw ie&&ea(ie),ye}))},j.Yc=function(e){if(!Ts())return li(new ae("operation-not-supported-in-this-environment"));var a=this,m=Bh(this).then(function(){return function Cg(e){return mf(e,function(){return e.b.set(Ph,e.c.F,e.a)})}(a.i)}).then(function(){return fh(a.b,"signInViaRedirect",e,void 0,a.T())});return Os(this,m)},j.ra=function(){var e=this;return Tg(this).then(function(a){return e.b&&hd(e.b.b),a}).o(function(a){throw e.b&&hd(e.b.b),a})},j.dd=function(e){if(!e)return li(new ae("null-user"));if(this.S!=e.tenantId)return li(new ae("tenant-id-mismatch"));var a=this,m={};m.apiKey=Ko(this).options.apiKey,m.authDomain=Ko(this).options.authDomain,m.appName=Ko(this).name;var C=function bg(e,a,m,C){var L=e.h,ie={};return ie[ho]=L.b&&L.b.toString(),ie.refreshToken=L.a,a=new xu(a||{apiKey:e.l,authDomain:e.s,appName:e.m},ie),m&&(a.ha=m),C&&Fl(a,C),hf(a,e),a}(e,m,a.D,a.Ga());return Os(this,this.h.then(function(){if(Ko(a).options.apiKey!=e.l)return C.reload()}).then(function(){return Yi(a)&&e.uid==Yi(a).uid?(hf(Yi(a),e),a.da(e)):(Bf(a,C),$d(C),a.da(C))}).then(function(){Wd(a)}))},j.Bb=function(){var e=this;return Os(this,this.h.then(function(){return e.b&&hd(e.b.b),Yi(e)?(Bf(e,null),Ku(e.i).then(function(){Wd(e)})):ur()}))},j.Zc=function(){var e=this;return zd(this.i,Ko(this).options.authDomain).then(function(a){if(!e.l){var m;if(m=Yi(e)&&a){m=Yi(e).uid;var C=a.uid;m=null!=m&&""!==m&&null!=C&&""!==C&&m==C}if(m)return hf(Yi(e),a),Yi(e).I();(Yi(e)||a)&&(Bf(e,a),a&&($d(a),a.ha=e.D),e.b&&ul(e.b,e),Wd(e))}})},j.da=function(e){return Ap(this.i,e)},j.mc=function(){Wd(this),this.da(Yi(this))},j.wc=function(){this.Bb()},j.xc=function(){this.Bb()},j.kc=function(e){var a=this;return this.h.then(function(){return ll(a,ur(e))})},j.zc=function(e){var a=this;this.addAuthTokenListener(function(){e.next(Yi(a))})},j.Ac=function(e){var a=this;!function fc(e,a){e.N.push(a),Os(e,e.h.then(function(){!e.l&&cr(e.N,a)&&e.W!==e.getUid()&&(e.W=e.getUid(),a(yd(e)))}))}(this,function(){e.next(Yi(a))})},j.Ic=function(e,a,m){var C=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof e?e(Yi(C)):"function"==typeof e.next&&e.next(Yi(C))}),this.Pa(e,a,m)},j.Hc=function(e,a,m){var C=this;return this.ba&&Promise.resolve().then(function(){C.W=C.getUid(),"function"==typeof e?e(Yi(C)):"function"==typeof e.next&&e.next(Yi(C))}),this.ib(e,a,m)},j.nc=function(e){var a=this;return Os(this,this.h.then(function(){return Yi(a)?Yi(a).I(e).then(function(C){return{accessToken:C}}):null}))},j.Tc=function(e){var a=this;return this.h.then(function(){return ll(a,Ji(a.a,Zf,{token:e}))}).then(function(m){var C=m.user;return Fa(C,"isAnonymous",!1),a.da(C),m})},j.Uc=function(e,a){var m=this;return this.h.then(function(){return ll(m,Ji(m.a,sf,{email:e,password:a}))})},j.dc=function(e,a){var m=this;return this.h.then(function(){return ll(m,Ji(m.a,ef,{email:e,password:a}))})},j.ab=function(e){var a=this;return this.h.then(function(){return ll(a,e.ka(a.a))})},j.Sc=function(e){return _u("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},j.Ab=function(){var e=this;return this.h.then(function(){var a=Yi(e);if(a&&a.isAnonymous){var m=na({providerId:null,isNewUser:!1});return na({user:a,credential:null,additionalUserInfo:m,operationType:"signIn"})}return ll(e,e.a.Ab()).then(function(C){var L=C.user;return Fa(L,"isAnonymous",!0),e.da(L),C})})},j.getUid=function(){return Yi(this)&&Yi(this).uid||null},j.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Yi(this)&&Bd(Yi(this))},j.Pc=function(e){var a=this;Mn(this.s,function(m){m==e&&a.u--}),0>this.u&&(this.u=0),0==this.u&&Yi(this)&&Vd(Yi(this)),this.removeAuthTokenListener(e)},j.addAuthTokenListener=function(e){var a=this;this.s.push(e),Os(this,this.h.then(function(){a.l||cr(a.s,e)&&e(yd(a))}))},j.removeAuthTokenListener=function(e){Lr(this.s,function(a){return a==e})},j.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(Fc("local"),e.a,this.ja),this.b&&(ld(this.b,this),hd(this.b.b)),Promise.resolve()},j.hc=function(e){return Os(this,function Yf(e,a){return Ji(e,tf,{identifier:a,continueUri:Va()?Bi():"http://localhost"}).then(function(m){return m.signinMethods||[]})}(this.a,e))},j.Bc=function(e){return!!ml(e)},j.xb=function(e,a){var m=this;return Os(this,ur().then(function(){var C=new Mo(a);if(!C.c)throw new ae("argument-error",Sa+" must be true when sending sign in link to email");return iu(C)}).then(function(C){return m.a.xb(e,C)}).then(function(){}))},j.jd=function(e){return this.Sa(e).then(function(a){return a.data.email})},j.ob=function(e,a){return Os(this,this.a.ob(e,a).then(function(){}))},j.Sa=function(e){return Os(this,this.a.Sa(e).then(function(a){return new Ao(a)}))},j.kb=function(e){return Os(this,this.a.kb(e).then(function(){}))},j.wb=function(e,a){var m=this;return Os(this,ur().then(function(){return void 0===a||it(a)?{}:iu(new Mo(a))}).then(function(C){return m.a.wb(e,C)}).then(function(){}))},j.Wc=function(e,a){return Os(this,gh(this,e,a,Nt(this.ab,this)))},j.Vc=function(e,a){var m=this;return Os(this,ur().then(function(){var C=a||Bi(),L=Gl(e,C);if(!(C=ml(C)))throw new ae("argument-error","Invalid email link!");if(C.tenantId!==m.T())throw new ae("tenant-id-mismatch");return m.ab(L)}))},Yd.prototype.render=function(){},Yd.prototype.reset=function(){},Yd.prototype.getResponse=function(){},Yd.prototype.execute=function(){};var Kd=null;function Xd(e,a){return(a=Op(a))&&e.a[a]||null}function Op(e){return(e=void 0===e?1e12:e)?e.toString():null}function Vh(e,a){this.g=!1,this.c=a,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=It(e);var m=this;this.i=function(){m.execute()},this.h?this.execute():Ti(this.f,"click",this.i)}function Qd(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function _d(){}function $h(){}vf.prototype.render=function(e,a){return this.a[this.b.toString()]=new Vh(e,a),this.b++},vf.prototype.reset=function(e){var a=Xd(this,e);e=Op(e),a&&e&&(a.delete(),delete this.a[e])},vf.prototype.getResponse=function(e){return(e=Xd(this,e))?e.getResponse():null},vf.prototype.execute=function(e){(e=Xd(this,e))&&e.execute()},Vh.prototype.getResponse=function(){return Qd(this),this.b},Vh.prototype.execute=function(){Qd(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function yo(){for(var e=50,a=[];0<e;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return a.join("")}();var a=e.c.callback,m=e.c["expired-callback"];if(a)try{a(e.b)}catch(C){}e.a=setTimeout(function(){if(e.a=null,e.b=null,m)try{m()}catch(C){}e.h&&e.execute()},6e4)},500))},Vh.prototype.delete=function(){Qd(this),this.g=!0,clearTimeout(this.a),this.a=null,zi(this.f,"click",this.i)},Dr(_d,"FACTOR_ID","phone"),$h.prototype.g=function(){return Kd||(Kd=new vf),ur(Kd)},$h.prototype.c=function(){};var wd=null;function Uh(){this.b=x.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ag=new st(Jt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Mg=new ts(3e4,6e4);Uh.prototype.g=function(e){var a=this;return new gr(function(m,C){var L=setTimeout(function(){C(new ae("network-request-failed"))},Mg.get());!x.grecaptcha||e!==a.f&&!a.b?(x[a.a]=function(){if(x.grecaptcha){a.f=e;var ye=x.grecaptcha.render;x.grecaptcha.render=function(ot,pn){return ot=ye(ot,pn),a.b++,ot},clearTimeout(L),m(x.grecaptcha)}else clearTimeout(L),C(new ae("internal-error"));delete x[a.a]},ur(Il(ni(Ag,{onload:a.a,hl:e||""}))).o(function(){clearTimeout(L),C(new ae("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(L),m(x.grecaptcha))})},Uh.prototype.c=function(){this.b--};var jh=null;function Hh(e,a,m,C,L,ie,ye){if(Dr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,ye?(wd||(wd=new $h),ye=wd):(jh||(jh=new Uh),ye=jh),this.m=ye,this.a=m||{theme:"light",type:"image"},this.h=[],this.a[yf])throw new ae("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Rg],!x.document)throw new ae("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!It(a)||!this.i&&It(a).hasChildNodes())throw new ae("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new aa(e,ie||null,L||null),this.u=C||function(){return null};var ot=this;this.l=[];var pn=this.a[kp];this.a[kp]=function(Ni){if(Vf(ot,Ni),"function"==typeof pn)pn(Ni);else if("string"==typeof pn){var Fo=ao(pn,x);"function"==typeof Fo&&Fo(Ni)}};var Pn=this.a[bd];this.a[bd]=function(){if(Vf(ot,null),"function"==typeof Pn)Pn();else if("string"==typeof Pn){var Ni=ao(Pn,x);"function"==typeof Ni&&Ni()}}}var kp="callback",bd="expired-callback",yf="sitekey",Rg="size";function Vf(e,a){for(var m=0;m<e.l.length;m++)try{e.l[m](a)}catch(C){}}function Gh(e,a){return e.h.push(a),a.oa(function(){Fr(e.h,a)}),a}function $f(e){if(e.J)throw new ae("internal-error","RecaptchaVerifier instance has been destroyed.")}function Qu(e,a,m){var C=!1;try{this.b=m||f.default.app()}catch(ye){throw new ae("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new ae("invalid-api-key");m=this.b.options.apiKey;var L=this,ie=null;try{ie=this.b.auth().Ga()}catch(ye){}try{C=this.b.auth().settings.appVerificationDisabledForTesting}catch(ye){}ie=f.default.SDK_VERSION?Gs(f.default.SDK_VERSION,ie):null,Hh.call(this,m,e,a,function(){try{var ye=L.b.auth().la()}catch(ot){ye=null}return ye},ie,gn(Tt),C)}function Uf(e,a,m,C){e:{m=Array.prototype.slice.call(m);for(var L=0,ie=!1,ye=0;ye<a.length;ye++)if(a[ye].optional)ie=!0;else{if(ie)throw new ae("internal-error","Argument validator encountered a required argument after an optional argument.");L++}if(ie=a.length,m.length<L||ie<m.length)C="Expected "+(L==ie?1==L?"1 argument":L+" arguments":L+"-"+ie+" arguments")+" but got "+m.length+".";else{for(L=0;L<m.length;L++)if(ie=a[L].optional&&void 0===m[L],!a[L].M(m[L])&&!ie){if(a=a[L],0>L||L>=Ea.length)throw new ae("internal-error","Argument validator received an unsupported number of arguments.");m=Ea[L],C=(C?"":m+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}C=null}}if(C)throw new ae("argument-error",e+" failed: "+C)}(j=Hh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Gh(this,ur().then(function(){if(Va()&&!ai())return ft();throw new ae("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.u())}).then(function(a){return e.g=a,Ji(e.s,Jf,{})}).then(function(a){e.a[yf]=a.recaptchaSiteKey}).o(function(a){throw e.f=null,a}))},j.render=function(){$f(this);var e=this;return Gh(this,this.Ia().then(function(){if(null===e.c){var a=e.v;if(!e.i){var m=It(a);a=function Bt(e,a,m){var C=arguments,L=document,ie=String(C[0]),ye=C[1];if(!lt&&ye&&(ye.name||ye.type)){if(ie=["<",ie],ye.name&&ie.push(' name="',Zn(ye.name),'"'),ye.type){ie.push(' type="',Zn(ye.type),'"');var ot={};Ce(ot,ye),delete ot.type,ye=ot}ie.push(">"),ie=ie.join("")}return ie=tr(L,ie),ye&&("string"==typeof ye?ie.className=ye:Array.isArray(ye)?ie.className=ye.join(" "):en(ie,ye)),2<C.length&&On(L,ie,C),ie}("DIV"),m.appendChild(a)}e.c=e.g.render(a,e.a)}return e.c}))},j.verify=function(){$f(this);var e=this;return Gh(this,this.render().then(function(a){return new gr(function(m){var C=e.g.getResponse(a);if(C)m(C);else{var L=function(ie){ie&&(function xg(e,a){Lr(e.l,function(m){return m==a})}(e,L),m(ie))};e.l.push(L),e.i&&e.g.execute(e.c)}})}))},j.reset=function(){$f(this),null!==this.c&&this.g.reset(this.c)},j.clear=function(){$f(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=It(this.v);for(var a;a=e.firstChild;)e.removeChild(a)}},Ye(Qu,Hh);var Ea="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Tr(e,a){return{name:e||"",K:"a valid string",optional:!!a,M:function(m){return"string"==typeof m}}}function jf(e,a){return{name:e||"",K:"a boolean",optional:!!a,M:function(m){return"boolean"==typeof m}}}function No(e,a){return{name:e||"",K:"a valid object",optional:!!a,M:Qe}}function Ll(e,a){return{name:e||"",K:"a function",optional:!!a,M:function(m){return"function"==typeof m}}}function Xa(e,a){return{name:e||"",K:"null",optional:!!a,M:function(m){return null===m}}}function Ou(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(a){return!!a&&!(!a.ka||e&&a.providerId!==e)}}}function Bl(e,a){return Qe(e)&&"string"==typeof e.type&&e.type===a&&"function"==typeof e.Ha}function wf(e){return Qe(e)&&"string"==typeof e.uid}function Es(e,a,m,C){return{name:m||"",K:e.K+" or "+a.K,optional:!!C,M:function(L){return e.M(L)||a.M(L)}}}function ds(e,a){for(var m in a){var C=a[m].name;e[C]=zh(C,e[m],a[m].j)}}function qh(e,a){for(var m in a){var C=a[m].name;C!==m&&Object.defineProperty(e,C,{get:Et(function(L){return this[L]},m),set:Et(function(L,ie,ye,ot){Uf(L,[ye],[ot],!0),this[ie]=ot},C,m,a[m].lb),enumerable:!0})}}function Cs(e,a,m,C){e[a]=zh(a,m,C)}function zh(e,a,m){function C(){var ye=Array.prototype.slice.call(arguments);return Uf(L,m,ye),a.apply(this,ye)}if(!m)return a;var ie,L=function Np(e){return(e=e.split("."))[e.length-1]}(e);for(ie in a)C[ie]=a[ie];for(ie in a.prototype)C.prototype[ie]=a.prototype[ie];return C}ds(Xu.prototype,{kb:{name:"applyActionCode",j:[Tr("code")]},Sa:{name:"checkActionCode",j:[Tr("code")]},ob:{name:"confirmPasswordReset",j:[Tr("code"),Tr("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Tr("email"),Tr("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Tr("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Tr("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Es(No(),Ll(),"nextOrObserver"),Ll("opt_error",!0),Ll("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Es(No(),Ll(),"nextOrObserver"),Ll("opt_error",!0),Ll("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Tr("email"),Es(No("opt_actionCodeSettings",!0),Xa(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Tr("email"),No("actionCodeSettings")]},yb:{name:"setPersistence",j:[Tr("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ou()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ou()]},Tc:{name:"signInWithCustomToken",j:[Tr("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Tr("email"),Tr("password")]},Vc:{name:"signInWithEmailLink",j:[Tr("email"),Tr("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Tr("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Es({name:"user",K:"an instance of Firebase User",optional:!1,M:function(a){return!!(a&&a instanceof xu)}},Xa(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Tr(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Tr("url"),No("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Tr("code")]}}),qh(Xu.prototype,{lc:{name:"languageCode",lb:Es(Tr(),Xa(),"languageCode")},ti:{name:"tenantId",lb:Es(Tr(),Xa(),"tenantId")}}),(Xu.Persistence=nd).LOCAL="local",Xu.Persistence.SESSION="session",Xu.Persistence.NONE="none",ds(xu.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[jf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[jf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ou()]},rb:{name:"linkWithCredential",j:[Ou()]},Dc:{name:"linkWithPhoneNumber",j:[Tr("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ou()]},ub:{name:"reauthenticateWithCredential",j:[Ou()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Tr("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Es(No("opt_actionCodeSettings",!0),Xa(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Tr(null,!0)]},cd:{name:"unlink",j:[Tr("provider")]},Cb:{name:"updateEmail",j:[Tr("email")]},Db:{name:"updatePassword",j:[Tr("password")]},ed:{name:"updatePhoneNumber",j:[Ou("phone")]},Eb:{name:"updateProfile",j:[No("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Tr("email"),Es(No("opt_actionCodeSettings",!0),Xa(null,!0),"opt_actionCodeSettings",!0)]}}),ds(vf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ds(Yd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ds(gr.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),qh(gu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:jf("appVerificationDisabledForTesting")}}),ds(ph.prototype,{confirm:{name:"confirm",j:[Tr("verificationCode")]}}),Cs(me,"fromJSON",function(e){e="string"==typeof e?JSON.parse(e):e;for(var a,m=[ti,Vu,vl,sn],C=0;C<m.length;C++)if(a=m[C](e))return a;return null},[Es(Tr(),No(),"json")]),Cs(_a,"credential",function(e,a){return new ls(e,a)},[Tr("email"),Tr("password")]),ds(ls.prototype,{w:{name:"toJSON",j:[Tr(null,!0)]}}),ds(Ro.prototype,{Ca:{name:"addScope",j:[Tr("scope")]},Ka:{name:"setCustomParameters",j:[No("customOAuthParameters")]}}),Cs(Ro,"credential",Fs,[Es(Tr(),No(),"token")]),Cs(_a,"credentialWithLink",Gl,[Tr("email"),Tr("emailLink")]),ds(cs.prototype,{Ca:{name:"addScope",j:[Tr("scope")]},Ka:{name:"setCustomParameters",j:[No("customOAuthParameters")]}}),Cs(cs,"credential",Ls,[Es(Tr(),No(),"token")]),ds(Bs.prototype,{Ca:{name:"addScope",j:[Tr("scope")]},Ka:{name:"setCustomParameters",j:[No("customOAuthParameters")]}}),Cs(Bs,"credential",ec,[Es(Tr(),Es(No(),Xa()),"idToken"),Es(Tr(),Xa(),"accessToken",!0)]),ds(Yo.prototype,{Ka:{name:"setCustomParameters",j:[No("customOAuthParameters")]}}),Cs(Yo,"credential",ya,[Es(Tr(),No(),"token"),Tr("secret",!0)]),ds(ki.prototype,{Ca:{name:"addScope",j:[Tr("scope")]},credential:{name:"credential",j:[Es(Tr(),Es(No(),Xa()),"optionsOrIdToken"),Es(Tr(),Xa(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[No("customOAuthParameters")]}}),ds(mn.prototype,{w:{name:"toJSON",j:[Tr(null,!0)]}}),ds(_t.prototype,{w:{name:"toJSON",j:[Tr(null,!0)]}}),Cs(as,"credential",yl,[Tr("verificationId"),Tr("verificationCode")]),ds(as.prototype,{gb:{name:"verifyPhoneNumber",j:[Es(Tr(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(m){return!!m&&(m.session&&m.phoneNumber?Bl(m.session,W)&&"string"==typeof m.phoneNumber:m.session&&m.multiFactorHint?Bl(m.session,se)&&wf(m.multiFactorHint):m.session&&m.multiFactorUid?Bl(m.session,se)&&"string"==typeof m.multiFactorUid:!!m.phoneNumber&&"string"==typeof m.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),ds(oa.prototype,{w:{name:"toJSON",j:[Tr(null,!0)]}}),ds(ae.prototype,{toJSON:{name:"toJSON",j:[Tr(null,!0)]}}),ds($u.prototype,{toJSON:{name:"toJSON",j:[Tr(null,!0)]}}),ds(tc.prototype,{toJSON:{name:"toJSON",j:[Tr(null,!0)]}}),ds(vh.prototype,{toJSON:{name:"toJSON",j:[Tr(null,!0)]}}),ds(wp.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),ds(Nd.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Tr("displayName",!0)]},bd:{name:"unenroll",j:[Es({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:wf},Tr(),"multiFactorInfoIdentifier")]}}),ds(Qu.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Cs(Nr,"parseLink",Fu,[Tr("link")]),Cs(_d,"assertion",function(e){return new wh(e)},[Ou("phone")]),function(){if(void 0===f.default||!f.default.INTERNAL||!f.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ho,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ga,VERIFY_AND_CHANGE_EMAIL:N,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Xu,AuthCredential:me,Error:ae};Cs(e,"EmailAuthProvider",_a,[]),Cs(e,"FacebookAuthProvider",Ro,[]),Cs(e,"GithubAuthProvider",cs,[]),Cs(e,"GoogleAuthProvider",Bs,[]),Cs(e,"TwitterAuthProvider",Yo,[]),Cs(e,"OAuthProvider",ki,[Tr("providerId")]),Cs(e,"SAMLAuthProvider",oo,[Tr("providerId")]),Cs(e,"PhoneAuthProvider",as,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Xu)}}]),Cs(e,"RecaptchaVerifier",Qu,[Es(Tr(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),No("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof f.default.app.App)}}]),Cs(e,"ActionCodeURL",Nr,[]),Cs(e,"PhoneMultiFactorGenerator",_d,[]),f.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return new Xu(a=a.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),f.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return{getUid:Nt((a=a.getProvider("auth").getImmediate()).getUid,a),getToken:Nt(a.nc,a),addAuthTokenListener:Nt(a.cc,a),removeAuthTokenListener:Nt(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),f.default.registerVersion("@firebase/auth","0.16.8"),f.default.INTERNAL.extendNamespace({User:xu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},2461:(wr,an,fe)=>{"use strict";fe.r(an),fe.d(an,{Component:()=>H,ComponentContainer:()=>Dt,Provider:()=>Le});var f=fe(655),j=fe(492),H=function(){function qe(x,Se,xe){this.name=x,this.instanceFactory=Se,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return qe.prototype.setInstantiationMode=function(x){return this.instantiationMode=x,this},qe.prototype.setMultipleInstances=function(x){return this.multipleInstances=x,this},qe.prototype.setServiceProps=function(x){return this.serviceProps=x,this},qe.prototype.setInstanceCreatedCallback=function(x){return this.onInstanceCreated=x,this},qe}(),tt="[DEFAULT]",Le=function(){function qe(x,Se){this.name=x,this.container=Se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return qe.prototype.get=function(x){var Se=this.normalizeInstanceIdentifier(x);if(!this.instancesDeferred.has(Se)){var xe=new j.Deferred;if(this.instancesDeferred.set(Se,xe),this.isInitialized(Se)||this.shouldAutoInitialize())try{var ce=this.getOrInitializeService({instanceIdentifier:Se});ce&&xe.resolve(ce)}catch(ve){}}return this.instancesDeferred.get(Se).promise},qe.prototype.getImmediate=function(x){var Se,xe=this.normalizeInstanceIdentifier(null==x?void 0:x.identifier),ce=null!==(Se=null==x?void 0:x.optional)&&void 0!==Se&&Se;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(ce)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(ve){if(ce)return null;throw ve}},qe.prototype.getComponent=function(){return this.component},qe.prototype.setComponent=function(x){var Se,xe;if(x.name!==this.name)throw Error("Mismatching Component "+x.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=x,this.shouldAutoInitialize()){if(function _e(qe){return"EAGER"===qe.instantiationMode}(x))try{this.getOrInitializeService({instanceIdentifier:tt})}catch(wt){}try{for(var ce=(0,f.__values)(this.instancesDeferred.entries()),ve=ce.next();!ve.done;ve=ce.next()){var Pe=(0,f.__read)(ve.value,2),Ge=Pe[1],Qe=this.normalizeInstanceIdentifier(Pe[0]);try{var ct=this.getOrInitializeService({instanceIdentifier:Qe});Ge.resolve(ct)}catch(wt){}}}catch(wt){Se={error:wt}}finally{try{ve&&!ve.done&&(xe=ce.return)&&xe.call(ce)}finally{if(Se)throw Se.error}}}},qe.prototype.clearInstance=function(x){void 0===x&&(x=tt),this.instancesDeferred.delete(x),this.instancesOptions.delete(x),this.instances.delete(x)},qe.prototype.delete=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){var x;return(0,f.__generator)(this,function(Se){switch(Se.label){case 0:return x=Array.from(this.instances.values()),[4,Promise.all((0,f.__spreadArray)((0,f.__spreadArray)([],(0,f.__read)(x.filter(function(xe){return"INTERNAL"in xe}).map(function(xe){return xe.INTERNAL.delete()}))),(0,f.__read)(x.filter(function(xe){return"_delete"in xe}).map(function(xe){return xe._delete()}))))];case 1:return Se.sent(),[2]}})})},qe.prototype.isComponentSet=function(){return null!=this.component},qe.prototype.isInitialized=function(x){return void 0===x&&(x=tt),this.instances.has(x)},qe.prototype.getOptions=function(x){return void 0===x&&(x=tt),this.instancesOptions.get(x)||{}},qe.prototype.initialize=function(x){var Se,xe;void 0===x&&(x={});var ce=x.options,ve=void 0===ce?{}:ce,Pe=this.normalizeInstanceIdentifier(x.instanceIdentifier);if(this.isInitialized(Pe))throw Error(this.name+"("+Pe+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ue=this.getOrInitializeService({instanceIdentifier:Pe,options:ve});try{for(var Ge=(0,f.__values)(this.instancesDeferred.entries()),Qe=Ge.next();!Qe.done;Qe=Ge.next()){var ct=(0,f.__read)(Qe.value,2),Ut=ct[1];Pe===this.normalizeInstanceIdentifier(ct[0])&&Ut.resolve(ue)}}catch(rt){Se={error:rt}}finally{try{Qe&&!Qe.done&&(xe=Ge.return)&&xe.call(Ge)}finally{if(Se)throw Se.error}}return ue},qe.prototype.onInit=function(x,Se){var xe,ce=this.normalizeInstanceIdentifier(Se),ve=null!==(xe=this.onInitCallbacks.get(ce))&&void 0!==xe?xe:new Set;ve.add(x),this.onInitCallbacks.set(ce,ve);var Pe=this.instances.get(ce);return Pe&&x(Pe,ce),function(){ve.delete(x)}},qe.prototype.invokeOnInitCallbacks=function(x,Se){var xe,ce,ve=this.onInitCallbacks.get(Se);if(ve)try{for(var Pe=(0,f.__values)(ve),ue=Pe.next();!ue.done;ue=Pe.next()){var Ge=ue.value;try{Ge(x,Se)}catch(Qe){}}}catch(Qe){xe={error:Qe}}finally{try{ue&&!ue.done&&(ce=Pe.return)&&ce.call(Pe)}finally{if(xe)throw xe.error}}},qe.prototype.getOrInitializeService=function(x){var Se=x.instanceIdentifier,xe=x.options,ce=void 0===xe?{}:xe,ve=this.instances.get(Se);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:we(Se),options:ce}),this.instances.set(Se,ve),this.instancesOptions.set(Se,ce),this.invokeOnInitCallbacks(ve,Se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Se,ve)}catch(Pe){}return ve||null},qe.prototype.normalizeInstanceIdentifier=function(x){return void 0===x&&(x=tt),this.component?this.component.multipleInstances?x:tt:x},qe.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},qe}();function we(qe){return qe===tt?void 0:qe}var Dt=function(){function qe(x){this.name=x,this.providers=new Map}return qe.prototype.addComponent=function(x){var Se=this.getProvider(x.name);if(Se.isComponentSet())throw new Error("Component "+x.name+" has already been registered with "+this.name);Se.setComponent(x)},qe.prototype.addOrOverwriteComponent=function(x){this.getProvider(x.name).isComponentSet()&&this.providers.delete(x.name),this.addComponent(x)},qe.prototype.getProvider=function(x){if(this.providers.has(x))return this.providers.get(x);var Se=new Le(x,this);return this.providers.set(x,Se),Se},qe.prototype.getProviders=function(){return Array.from(this.providers.values())},qe}()},6089:(wr,an,fe)=>{"use strict";var f=fe(8367),j=fe(2461),H=fe(492),tt=fe(655),Le=fe(4003);wr=fe.hmd(wr);var Dt="";function qe(l){Dt=l}var l,x=function(){function l(c){this.domStorage_=c,this.prefix_="firebase:"}return l.prototype.set=function(c,h){null==h?this.domStorage_.removeItem(this.prefixedName_(c)):this.domStorage_.setItem(this.prefixedName_(c),(0,H.stringify)(h))},l.prototype.get=function(c){var h=this.domStorage_.getItem(this.prefixedName_(c));return null==h?null:(0,H.jsonEval)(h)},l.prototype.remove=function(c){this.domStorage_.removeItem(this.prefixedName_(c))},l.prototype.prefixedName_=function(c){return this.prefix_+c},l.prototype.toString=function(){return this.domStorage_.toString()},l}(),Se=function(){function l(){this.cache_={},this.isInMemoryStorage=!0}return l.prototype.set=function(c,h){null==h?delete this.cache_[c]:this.cache_[c]=h},l.prototype.get=function(c){return(0,H.contains)(this.cache_,c)?this.cache_[c]:null},l.prototype.remove=function(c){delete this.cache_[c]},l}(),xe=function(l){try{if("undefined"!=typeof window&&void 0!==window[l]){var c=window[l];return c.setItem("firebase:sentinel","cache"),c.removeItem("firebase:sentinel"),new x(c)}}catch(h){}return new Se},ce=xe("localStorage"),ve=xe("sessionStorage"),Pe=new Le.Logger("@firebase/database"),ue=(l=1,function(){return l++}),Ge=function(l){var c=(0,H.stringToByteArray)(l),h=new H.Sha1;h.update(c);var v=h.digest();return H.base64.encodeByteArray(v)},Qe=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];for(var h="",v=0;v<l.length;v++){var I=l[v];Array.isArray(I)||I&&"object"==typeof I&&"number"==typeof I.length?h+=Qe.apply(null,I):h+="object"==typeof I?(0,H.stringify)(I):I,h+=" "}return h},ct=null,wt=!0,Ut=function(l,c){(0,H.assert)(!c||!0===l||!1===l,"Can't turn on custom loggers persistently."),!0===l?(Pe.logLevel=Le.LogLevel.VERBOSE,ct=Pe.log.bind(Pe),c&&ve.set("logging_enabled",!0)):"function"==typeof l?ct=l:(ct=null,ve.remove("logging_enabled"))},nt=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];if(!0===wt&&(wt=!1,null===ct&&!0===ve.get("logging_enabled")&&Ut(!0)),ct){var h=Qe.apply(null,l);ct(h)}},rt=function(l){return function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];nt.apply(void 0,(0,tt.__spreadArray)([l],(0,tt.__read)(c)))}},Nt=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var h="FIREBASE INTERNAL ERROR: "+Qe.apply(void 0,(0,tt.__spreadArray)([],(0,tt.__read)(l)));Pe.error(h)},Et=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var h="FIREBASE FATAL ERROR: "+Qe.apply(void 0,(0,tt.__spreadArray)([],(0,tt.__read)(l)));throw Pe.error(h),new Error(h)},rn=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var h="FIREBASE WARNING: "+Qe.apply(void 0,(0,tt.__spreadArray)([],(0,tt.__read)(l)));Pe.warn(h)},ze=function(l){return"number"==typeof l&&(l!=l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},Be="[MIN_NAME]",Ke="[MAX_NAME]",at=function(l,c){if(l===c)return 0;if(l===Be||c===Ke)return-1;if(c===Be||l===Ke)return 1;var h=yn(l),v=yn(c);return null!==h?null!==v?h-v==0?l.length-c.length:h-v:-1:null!==v?1:l<c?-1:1},Tn=function(l,c){return l===c?0:l<c?-1:1},gn=function(l,c){if(c&&l in c)return c[l];throw new Error("Missing required key ("+l+") in object: "+(0,H.stringify)(c))},Tt=function(l){if("object"!=typeof l||null===l)return(0,H.stringify)(l);var c=[];for(var h in l)c.push(h);c.sort();for(var v="{",I=0;I<c.length;I++)0!==I&&(v+=","),v+=(0,H.stringify)(c[I]),v+=":",v+=Tt(l[c[I]]);return v+"}"},At=function(l,c){var h=l.length;if(h<=c)return[l];for(var v=[],I=0;I<h;I+=c)v.push(l.substring(I,I+c>h?h:I+c));return v};function Rt(l,c){for(var h in l)l.hasOwnProperty(h)&&c(h,l[h])}var St=function(l){(0,H.assert)(!ze(l),"Invalid JSON number");var I,F,J,De,Re,v=1023;0===l?(F=0,J=0,I=1/l==-1/0?1:0):(I=l<0,(l=Math.abs(l))>=Math.pow(2,1-v)?(F=(De=Math.min(Math.floor(Math.log(l)/Math.LN2),v))+v,J=Math.round(l*Math.pow(2,52-De)-Math.pow(2,52))):(F=0,J=Math.round(l/Math.pow(2,-1074))));var je=[];for(Re=52;Re;Re-=1)je.push(J%2?1:0),J=Math.floor(J/2);for(Re=11;Re;Re-=1)je.push(F%2?1:0),F=Math.floor(F/2);je.push(I?1:0),je.reverse();var Ze=je.join(""),Xt="";for(Re=0;Re<64;Re+=8){var hn=parseInt(Ze.substr(Re,8),2).toString(16);1===hn.length&&(hn="0"+hn),Xt+=hn}return Xt.toLowerCase()},on=new RegExp("^-?(0*)\\d{1,10}$"),We=-2147483648,Bn=2147483647,yn=function(l){if(on.test(l)){var c=Number(l);if(c>=We&&c<=Bn)return c}return null},ar=function(l){try{l()}catch(c){setTimeout(function(){throw rn("Exception was thrown by user callback.",c.stack||""),c},Math.floor(0))}},er=function(l,c){var h=setTimeout(l,c);return"object"==typeof h&&h.unref&&h.unref(),h},Pr=function(){function l(c,h){var v=this;this.appName_=c,this.appCheckProvider=h,this.appCheck=null==h?void 0:h.getImmediate({optional:!0}),this.appCheck||null==h||h.get().then(function(I){return v.appCheck=I})}return l.prototype.getToken=function(c){var h=this;return this.appCheck?this.appCheck.getToken(c):new Promise(function(v,I){setTimeout(function(){h.appCheck?h.getToken(c).then(v,I):v(null)},0)})},l.prototype.addTokenChangeListener=function(c){var h;null===(h=this.appCheckProvider)||void 0===h||h.get().then(function(v){return v.addTokenListener(c)})},l.prototype.notifyForInvalidToken=function(){rn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},l}(),or=function(){function l(c,h,v){var I=this;this.appName_=c,this.firebaseOptions_=h,this.authProvider_=v,this.auth_=null,this.auth_=v.getImmediate({optional:!0}),this.auth_||v.onInit(function(F){return I.auth_=F})}return l.prototype.getToken=function(c){var h=this;return this.auth_?this.auth_.getToken(c).catch(function(v){return v&&"auth/token-not-initialized"===v.code?(nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(v)}):new Promise(function(v,I){setTimeout(function(){h.auth_?h.getToken(c).then(v,I):v(null)},0)})},l.prototype.addTokenChangeListener=function(c){this.auth_?this.auth_.addAuthTokenListener(c):this.authProvider_.get().then(function(h){return h.addAuthTokenListener(c)})},l.prototype.removeTokenChangeListener=function(c){this.authProvider_.get().then(function(h){return h.removeAuthTokenListener(c)})},l.prototype.notifyForInvalidToken=function(){var c='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';rn(c+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},l}(),Kn=function(){function l(c){this.accessToken=c}return l.prototype.getToken=function(c){return Promise.resolve({accessToken:this.accessToken})},l.prototype.addTokenChangeListener=function(c){c(this.accessToken)},l.prototype.removeTokenChangeListener=function(c){},l.prototype.notifyForInvalidToken=function(){},l.OWNER="owner",l}(),rr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Gn="websocket",nr="long_polling",br=function(){function l(c,h,v,I,F,J,De){void 0===F&&(F=!1),void 0===J&&(J=""),void 0===De&&(De=!1),this.secure=h,this.namespace=v,this.webSocketOnly=I,this.nodeAdmin=F,this.persistenceKey=J,this.includeNamespaceInQueryParams=De,this._host=c.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ce.get("host:"+c)||this._host}return l.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},l.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(l.prototype,"host",{get:function(){return this._host},set:function(c){c!==this.internalHost&&(this.internalHost=c,this.isCacheableHost()&&ce.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),l.prototype.toString=function(){var c=this.toURLString();return this.persistenceKey&&(c+="<"+this.persistenceKey+">"),c},l.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},l}();function Qn(l,c,h){var v;if((0,H.assert)("string"==typeof c,"typeof type must == string"),(0,H.assert)("object"==typeof h,"typeof params must == object"),c===Gn)v=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else{if(c!==nr)throw new Error("Unknown connection type: "+c);v=(l.secure?"https://":"http://")+l.internalHost+"/.lp?"}(function $t(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams})(l)&&(h.ns=l.namespace);var I=[];return Rt(h,function(F,J){I.push(F+"="+J)}),v+I.join("&")}var vr=function(){function l(){this.counters_={}}return l.prototype.incrementCounter=function(c,h){void 0===h&&(h=1),(0,H.contains)(this.counters_,c)||(this.counters_[c]=0),this.counters_[c]+=h},l.prototype.get=function(){return(0,H.deepCopy)(this.counters_)},l}(),Ei={},xr={};function Si(l){var c=l.toString();return Ei[c]||(Ei[c]=new vr),Ei[c]}var kr=function(){function l(c){this.onMessage_=c,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return l.prototype.closeAfter=function(c,h){this.closeAfterResponse=c,this.onClose=h,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},l.prototype.handleResponse=function(c,h){var v=this;this.pendingResponses[c]=h;for(var I=function(){var De=F.pendingResponses[F.currentResponseNum];delete F.pendingResponses[F.currentResponseNum];for(var Re=function(Ze){De[Ze]&&ar(function(){v.onMessage_(De[Ze])})},je=0;je<De.length;++je)Re(je);if(F.currentResponseNum===F.closeAfterResponse)return F.onClose&&(F.onClose(),F.onClose=null),"break";F.currentResponseNum++},F=this;this.pendingResponses[this.currentResponseNum]&&"break"!==I(););},l}(),ke=function(){function l(c,h,v,I,F,J,De){var Re=this;this.connId=c,this.repoInfo=h,this.applicationId=v,this.appCheckToken=I,this.authToken=F,this.transportSessionId=J,this.lastSessionId=De,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rt(c),this.stats_=Si(h),this.urlFn=function(je){return Re.appCheckToken&&(je.ac=Re.appCheckToken),Qn(h,nr,je)}}return l.prototype.open=function(c,h){var v=this;this.curSegmentNum=0,this.onDisconnect_=h,this.myPacketOrderer=new kr(c),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){v.log_("Timed out trying to connect."),v.onClosed_(),v.connectTimeoutTimer_=null},Math.floor(3e4)),function(l){if((0,H.isNodeSdk)()||"complete"===document.readyState)l();else{var c=!1,h=function(){document.body?c||(c=!0,l()):setTimeout(h,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",h,!1),window.addEventListener("load",h,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&h()}),window.attachEvent("onload",h))}}(function(){if(!v.isClosed_){v.scriptTagHolder=new mt(function(){for(var J=[],De=0;De<arguments.length;De++)J[De]=arguments[De];var Re=(0,tt.__read)(J,5),je=Re[0],Ze=Re[1],Xt=Re[2];if(v.incrementIncomingBytes_(J),v.scriptTagHolder)if(v.connectTimeoutTimer_&&(clearTimeout(v.connectTimeoutTimer_),v.connectTimeoutTimer_=null),v.everConnected_=!0,"start"===je)v.id=Ze,v.password=Xt;else{if("close"!==je)throw new Error("Unrecognized command received: "+je);Ze?(v.scriptTagHolder.sendNewPolls=!1,v.myPacketOrderer.closeAfter(Ze,function(){v.onClosed_()})):v.onClosed_()}},function(){for(var J=[],De=0;De<arguments.length;De++)J[De]=arguments[De];var Re=(0,tt.__read)(J,2),je=Re[0],Ze=Re[1];v.incrementIncomingBytes_(J),v.myPacketOrderer.handleResponse(je,Ze)},function(){v.onClosed_()},v.urlFn);var I={start:"t"};I.ser=Math.floor(1e8*Math.random()),v.scriptTagHolder.uniqueCallbackIdentifier&&(I.cb=v.scriptTagHolder.uniqueCallbackIdentifier),I.v="5",v.transportSessionId&&(I.s=v.transportSessionId),v.lastSessionId&&(I.ls=v.lastSessionId),v.applicationId&&(I.p=v.applicationId),v.appCheckToken&&(I.ac=v.appCheckToken),"undefined"!=typeof location&&location.hostname&&rr.test(location.hostname)&&(I.r="f");var F=v.urlFn(I);v.log_("Connecting via long-poll to "+F),v.scriptTagHolder.addTag(F,function(){})}})},l.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},l.forceAllow=function(){l.forceAllow_=!0},l.forceDisallow=function(){l.forceDisallow_=!0},l.isAvailable=function(){return!((0,H.isNodeSdk)()||!l.forceAllow_&&(l.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},l.prototype.markConnectionHealthy=function(){},l.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},l.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},l.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},l.prototype.send=function(c){var h=(0,H.stringify)(c);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);for(var v=(0,H.base64Encode)(h),I=At(v,1840),F=0;F<I.length;F++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,I.length,I[F]),this.curSegmentNum++},l.prototype.addDisconnectPingFrame=function(c,h){if(!(0,H.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var v={dframe:"t"};v.id=c,v.pw=h,this.myDisconnFrame.src=this.urlFn(v),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},l.prototype.incrementIncomingBytes_=function(c){var h=(0,H.stringify)(c).length;this.bytesReceived+=h,this.stats_.incrementCounter("bytes_received",h)},l}(),mt=function(){function l(c,h,v,I){if(this.onDisconnect=v,this.urlFn=I,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.isNodeSdk)())this.commandCB=c,this.onMessageCB=h;else{this.uniqueCallbackIdentifier=ue(),window["pLPCommand"+this.uniqueCallbackIdentifier]=c,window["pRTLPCB"+this.uniqueCallbackIdentifier]=h,this.myIFrame=l.createIFrame_();var F="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(F='<script>document.domain="'+document.domain+'";<\/script>');var De="<html><body>"+F+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(De),this.myIFrame.doc.close()}catch(Re){nt("frame writing exception"),Re.stack&&nt(Re.stack),nt(Re)}}}return l.createIFrame_=function(){var c=document.createElement("iframe");if(c.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(c);try{c.contentWindow.document||nt("No IE domain setting required")}catch(I){var v=document.domain;c.src="javascript:void((function(){document.open();document.domain='"+v+"';document.close();})())"}return c.contentDocument?c.doc=c.contentDocument:c.contentWindow?c.doc=c.contentWindow.document:c.document&&(c.doc=c.document),c},l.prototype.close=function(){var c=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==c.myIFrame&&(document.body.removeChild(c.myIFrame),c.myIFrame=null)},Math.floor(0)));var h=this.onDisconnect;h&&(this.onDisconnect=null,h())},l.prototype.startLongPoll=function(c,h){for(this.myID=c,this.myPW=h,this.alive=!0;this.newRequest_(););},l.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var c={};c.id=this.myID,c.pw=this.myPW,c.ser=this.currentSerial;for(var h=this.urlFn(c),v="",I=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+v.length<=1870;){var J=this.pendingSegs.shift();v=v+"&seg"+I+"="+J.seg+"&ts"+I+"="+J.ts+"&d"+I+"="+J.d,I++}return this.addLongPollTag_(h+=v,this.currentSerial),!0}return!1},l.prototype.enqueueSegment=function(c,h,v){this.pendingSegs.push({seg:c,ts:h,d:v}),this.alive&&this.newRequest_()},l.prototype.addLongPollTag_=function(c,h){var v=this;this.outstandingRequests.add(h);var I=function(){v.outstandingRequests.delete(h),v.newRequest_()},F=setTimeout(I,Math.floor(25e3));this.addTag(c,function(){clearTimeout(F),I()})},l.prototype.addTag=function(c,h){var v=this;(0,H.isNodeSdk)()?this.doNodeLongPoll(c,h):setTimeout(function(){try{if(!v.sendNewPolls)return;var I=v.myIFrame.doc.createElement("script");I.type="text/javascript",I.async=!0,I.src=c,I.onload=I.onreadystatechange=function(){var F=I.readyState;(!F||"loaded"===F||"complete"===F)&&(I.onload=I.onreadystatechange=null,I.parentNode&&I.parentNode.removeChild(I),h())},I.onerror=function(){nt("Long-poll script failed to load: "+c),v.sendNewPolls=!1,v.close()},v.myIFrame.doc.body.appendChild(I)}catch(F){}},Math.floor(1))},l}(),Er=null;"undefined"!=typeof MozWebSocket?Er=MozWebSocket:"undefined"!=typeof WebSocket&&(Er=WebSocket);var Ve=function(){function l(c,h,v,I,F,J,De){this.connId=c,this.applicationId=v,this.appCheckToken=I,this.authToken=F,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rt(this.connId),this.stats_=Si(h),this.connURL=l.connectionURL_(h,J,De,I),this.nodeAdmin=h.nodeAdmin}return l.connectionURL_=function(c,h,v,I){var F={v:"5"};return!(0,H.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&rr.test(location.hostname)&&(F.r="f"),h&&(F.s=h),v&&(F.ls=v),I&&(F.ac=I),Qn(c,Gn,F)},l.prototype.open=function(c,h){var v=this;this.onDisconnect=h,this.onMessage=c,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ce.set("previous_websocket_failure",!0);try{if((0,H.isNodeSdk)()){var F={headers:{"User-Agent":"Firebase/5/"+Dt+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(F.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(F.headers["X-Firebase-AppCheck"]=this.appCheckToken);var J=process.env,De=0===this.connURL.indexOf("wss://")?J.HTTPS_PROXY||J.https_proxy:J.HTTP_PROXY||J.http_proxy;De&&(F.proxy={origin:De}),this.mySock=new Er(this.connURL,[],F)}else this.mySock=new Er(this.connURL,[],F={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(je){this.log_("Error instantiating WebSocket.");var Re=je.message||je.data;return Re&&this.log_(Re),void this.onClosed_()}this.mySock.onopen=function(){v.log_("Websocket connected."),v.everConnected_=!0},this.mySock.onclose=function(){v.log_("Websocket connection was disconnected."),v.mySock=null,v.onClosed_()},this.mySock.onmessage=function(je){v.handleIncomingFrame(je)},this.mySock.onerror=function(je){v.log_("WebSocket error.  Closing connection.");var Ze=je.message||je.data;Ze&&v.log_(Ze),v.onClosed_()}},l.prototype.start=function(){},l.forceDisallow=function(){l.forceDisallow_=!0},l.isAvailable=function(){var c=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var v=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);v&&v.length>1&&parseFloat(v[1])<4.4&&(c=!0)}return!c&&null!==Er&&!l.forceDisallow_},l.previouslyFailed=function(){return ce.isInMemoryStorage||!0===ce.get("previous_websocket_failure")},l.prototype.markConnectionHealthy=function(){ce.remove("previous_websocket_failure")},l.prototype.appendFrame_=function(c){if(this.frames.push(c),this.frames.length===this.totalFrames){var h=this.frames.join("");this.frames=null;var v=(0,H.jsonEval)(h);this.onMessage(v)}},l.prototype.handleNewFrameCount_=function(c){this.totalFrames=c,this.frames=[]},l.prototype.extractFrameCount_=function(c){if((0,H.assert)(null===this.frames,"We already have a frame buffer"),c.length<=6){var h=Number(c);if(!isNaN(h))return this.handleNewFrameCount_(h),null}return this.handleNewFrameCount_(1),c},l.prototype.handleIncomingFrame=function(c){if(null!==this.mySock){var h=c.data;if(this.bytesReceived+=h.length,this.stats_.incrementCounter("bytes_received",h.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(h);else{var v=this.extractFrameCount_(h);null!==v&&this.appendFrame_(v)}}},l.prototype.send=function(c){this.resetKeepAlive();var h=(0,H.stringify)(c);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);var v=At(h,16384);v.length>1&&this.sendString_(String(v.length));for(var I=0;I<v.length;I++)this.sendString_(v[I])},l.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},l.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},l.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},l.prototype.resetKeepAlive=function(){var c=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){c.mySock&&c.sendString_("0"),c.resetKeepAlive()},Math.floor(45e3))},l.prototype.sendString_=function(c){try{this.mySock.send(c)}catch(h){this.log_("Exception thrown from WebSocket.send():",h.message||h.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},l.responsesRequiredToBeHealthy=2,l.healthyTimeout=3e4,l}(),He=function(){function l(c){this.initTransports_(c)}return Object.defineProperty(l,"ALL_TRANSPORTS",{get:function(){return[ke,Ve]},enumerable:!1,configurable:!0}),l.prototype.initTransports_=function(c){var h,v,I=Ve&&Ve.isAvailable(),F=I&&!Ve.previouslyFailed();if(c.webSocketOnly&&(I||rn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),F=!0),F)this.transports_=[Ve];else{var J=this.transports_=[];try{for(var De=(0,tt.__values)(l.ALL_TRANSPORTS),Re=De.next();!Re.done;Re=De.next()){var je=Re.value;je&&je.isAvailable()&&J.push(je)}}catch(Ze){h={error:Ze}}finally{try{Re&&!Re.done&&(v=De.return)&&v.call(De)}finally{if(h)throw h.error}}}},l.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},l.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},l}(),bn=function(){function l(c,h,v,I,F,J,De,Re,je,Ze){this.id=c,this.repoInfo_=h,this.applicationId_=v,this.appCheckToken_=I,this.authToken_=F,this.onMessage_=J,this.onReady_=De,this.onDisconnect_=Re,this.onKill_=je,this.lastSessionId=Ze,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rt("c:"+this.id+":"),this.transportManager_=new He(h),this.log_("Connection created"),this.start_()}return l.prototype.start_=function(){var c=this,h=this.transportManager_.initialTransport();this.conn_=new h(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=h.responsesRequiredToBeHealthy||0;var v=this.connReceiver_(this.conn_),I=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){c.conn_&&c.conn_.open(v,I)},Math.floor(0));var F=h.healthyTimeout||0;F>0&&(this.healthyTimeout_=er(function(){c.healthyTimeout_=null,c.isHealthy_||(c.conn_&&c.conn_.bytesReceived>102400?(c.log_("Connection exceeded healthy timeout but has received "+c.conn_.bytesReceived+" bytes.  Marking connection healthy."),c.isHealthy_=!0,c.conn_.markConnectionHealthy()):c.conn_&&c.conn_.bytesSent>10240?c.log_("Connection exceeded healthy timeout but has sent "+c.conn_.bytesSent+" bytes.  Leaving connection alive."):(c.log_("Closing unhealthy connection after timeout."),c.close()))},Math.floor(F)))},l.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},l.prototype.disconnReceiver_=function(c){var h=this;return function(v){c===h.conn_?h.onConnectionLost_(v):c===h.secondaryConn_?(h.log_("Secondary connection lost."),h.onSecondaryConnectionLost_()):h.log_("closing an old connection")}},l.prototype.connReceiver_=function(c){var h=this;return function(v){2!==h.state_&&(c===h.rx_?h.onPrimaryMessageReceived_(v):c===h.secondaryConn_?h.onSecondaryMessageReceived_(v):h.log_("message on old connection"))}},l.prototype.sendRequest=function(c){this.sendData_({t:"d",d:c})},l.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},l.prototype.onSecondaryControl_=function(c){if("t"in c){var h=c.t;"a"===h?this.upgradeIfSecondaryHealthy_():"r"===h?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===h&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},l.prototype.onSecondaryMessageReceived_=function(c){var h=gn("t",c),v=gn("d",c);if("c"===h)this.onSecondaryControl_(v);else{if("d"!==h)throw new Error("Unknown protocol layer: "+h);this.pendingDataMessages.push(v)}},l.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},l.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},l.prototype.onPrimaryMessageReceived_=function(c){var h=gn("t",c),v=gn("d",c);"c"===h?this.onControl_(v):"d"===h&&this.onDataMessage_(v)},l.prototype.onDataMessage_=function(c){this.onPrimaryResponse_(),this.onMessage_(c)},l.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},l.prototype.onControl_=function(c){var h=gn("t",c);if("d"in c){var v=c.d;if("h"===h)this.onHandshake_(v);else if("n"===h){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var I=0;I<this.pendingDataMessages.length;++I)this.onDataMessage_(this.pendingDataMessages[I]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===h?this.onConnectionShutdown_(v):"r"===h?this.onReset_(v):"e"===h?Nt("Server Error: "+v):"o"===h?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nt("Unknown control packet command: "+h)}},l.prototype.onHandshake_=function(c){var h=c.ts,v=c.v,I=c.h;this.sessionId=c.s,this.repoInfo_.host=I,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,h),"5"!==v&&rn("Protocol version mismatch detected"),this.tryStartUpgrade_())},l.prototype.tryStartUpgrade_=function(){var c=this.transportManager_.upgradeTransport();c&&this.startUpgrade_(c)},l.prototype.startUpgrade_=function(c){var h=this;this.secondaryConn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;var v=this.connReceiver_(this.secondaryConn_),I=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(v,I),er(function(){h.secondaryConn_&&(h.log_("Timed out trying to upgrade."),h.secondaryConn_.close())},Math.floor(6e4))},l.prototype.onReset_=function(c){this.log_("Reset packet received.  New host: "+c),this.repoInfo_.host=c,1===this.state_?this.close():(this.closeConnections_(),this.start_())},l.prototype.onConnectionEstablished_=function(c,h){var v=this;this.log_("Realtime connection established."),this.conn_=c,this.state_=1,this.onReady_&&(this.onReady_(h,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):er(function(){v.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},l.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},l.prototype.onSecondaryConnectionLost_=function(){var c=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===c||this.rx_===c)&&this.close()},l.prototype.onConnectionLost_=function(c){this.conn_=null,c||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ce.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},l.prototype.onConnectionShutdown_=function(c){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(c),this.onKill_=null),this.onDisconnect_=null,this.close()},l.prototype.sendData_=function(c){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(c)},l.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},l.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},l}(),_r=function(){function l(){}return l.prototype.put=function(c,h,v,I){},l.prototype.merge=function(c,h,v,I){},l.prototype.refreshAuthToken=function(c){},l.prototype.refreshAppCheckToken=function(c){},l.prototype.onDisconnectPut=function(c,h,v){},l.prototype.onDisconnectMerge=function(c,h,v){},l.prototype.onDisconnectCancel=function(c,h){},l.prototype.reportStats=function(c){},l}(),Qr=function(){function l(c){this.allowedEvents_=c,this.listeners_={},(0,H.assert)(Array.isArray(c)&&c.length>0,"Requires a non-empty array")}return l.prototype.trigger=function(c){for(var h=[],v=1;v<arguments.length;v++)h[v-1]=arguments[v];if(Array.isArray(this.listeners_[c]))for(var I=(0,tt.__spreadArray)([],(0,tt.__read)(this.listeners_[c])),F=0;F<I.length;F++)I[F].callback.apply(I[F].context,h)},l.prototype.on=function(c,h,v){this.validateEventType_(c),this.listeners_[c]=this.listeners_[c]||[],this.listeners_[c].push({callback:h,context:v});var I=this.getInitialEvent(c);I&&h.apply(v,I)},l.prototype.off=function(c,h,v){this.validateEventType_(c);for(var I=this.listeners_[c]||[],F=0;F<I.length;F++)if(I[F].callback===h&&(!v||v===I[F].context))return void I.splice(F,1)},l.prototype.validateEventType_=function(c){(0,H.assert)(this.allowedEvents_.find(function(h){return h===c}),"Unknown event: "+c)},l}(),Ai=function(l){function c(){var h=l.call(this,["online"])||this;return h.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,H.isMobileCordova)()&&(window.addEventListener("online",function(){h.online_||(h.online_=!0,h.trigger("online",!0))},!1),window.addEventListener("offline",function(){h.online_&&(h.online_=!1,h.trigger("online",!1))},!1)),h}return(0,tt.__extends)(c,l),c.getInstance=function(){return new c},c.prototype.getInitialEvent=function(h){return(0,H.assert)("online"===h,"Unknown event type: "+h),[this.online_]},c.prototype.currentlyOnline=function(){return this.online_},c}(Qr),zn=function(){function l(c,h){if(void 0===h){this.pieces_=c.split("/");for(var v=0,I=0;I<this.pieces_.length;I++)this.pieces_[I].length>0&&(this.pieces_[v]=this.pieces_[I],v++);this.pieces_.length=v,this.pieceNum_=0}else this.pieces_=c,this.pieceNum_=h}return l.prototype.toString=function(){for(var c="",h=this.pieceNum_;h<this.pieces_.length;h++)""!==this.pieces_[h]&&(c+="/"+this.pieces_[h]);return c||"/"},l}();function Dn(){return new zn("")}function fr(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function gi(l){return l.pieces_.length-l.pieceNum_}function ne(l){var c=l.pieceNum_;return c<l.pieces_.length&&c++,new zn(l.pieces_,c)}function Oe(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function Fe(l,c){return void 0===c&&(c=0),l.pieces_.slice(l.pieceNum_+c)}function ut(l){if(l.pieceNum_>=l.pieces_.length)return null;for(var c=[],h=l.pieceNum_;h<l.pieces_.length-1;h++)c.push(l.pieces_[h]);return new zn(c,0)}function lt(l,c){for(var h=[],v=l.pieceNum_;v<l.pieces_.length;v++)h.push(l.pieces_[v]);if(c instanceof zn)for(v=c.pieceNum_;v<c.pieces_.length;v++)h.push(c.pieces_[v]);else{var I=c.split("/");for(v=0;v<I.length;v++)I[v].length>0&&h.push(I[v])}return new zn(h,0)}function It(l){return l.pieceNum_>=l.pieces_.length}function en(l,c){var h=fr(l),v=fr(c);if(null===h)return c;if(h===v)return en(ne(l),ne(c));throw new Error("INTERNAL ERROR: innerPath ("+c+") is not within outerPath ("+l+")")}function Wt(l,c){for(var h=Fe(l,0),v=Fe(c,0),I=0;I<h.length&&I<v.length;I++){var F=at(h[I],v[I]);if(0!==F)return F}return h.length===v.length?0:h.length<v.length?-1:1}function Bt(l,c){if(gi(l)!==gi(c))return!1;for(var h=l.pieceNum_,v=c.pieceNum_;h<=l.pieces_.length;h++,v++)if(l.pieces_[h]!==c.pieces_[v])return!1;return!0}function On(l,c){var h=l.pieceNum_,v=c.pieceNum_;if(gi(l)>gi(c))return!1;for(;h<l.pieces_.length;){if(l.pieces_[h]!==c.pieces_[v])return!1;++h,++v}return!0}var tr=function l(c,h){this.errorPrefix_=h,this.parts_=Fe(c,0),this.byteLength_=Math.max(1,this.parts_.length);for(var v=0;v<this.parts_.length;v++)this.byteLength_+=(0,H.stringLength)(this.parts_[v]);lo(this)};function lo(l){if(l.byteLength_>768)throw new Error(l.errorPrefix_+"has a key path longer than 768 bytes ("+l.byteLength_+").");if(l.parts_.length>32)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Wr(l))}function Wr(l){return 0===l.parts_.length?"":"in property '"+l.parts_.join(".")+"'"}var ur,En,Zi=function(l){function c(){var v,I,h=l.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(I="visibilitychange",v="hidden"):void 0!==document.mozHidden?(I="mozvisibilitychange",v="mozHidden"):void 0!==document.msHidden?(I="msvisibilitychange",v="msHidden"):void 0!==document.webkitHidden&&(I="webkitvisibilitychange",v="webkitHidden")),h.visible_=!0,I&&document.addEventListener(I,function(){var F=!document[v];F!==h.visible_&&(h.visible_=F,h.trigger("visible",F))},!1),h}return(0,tt.__extends)(c,l),c.getInstance=function(){return new c},c.prototype.getInitialEvent=function(h){return(0,H.assert)("visible"===h,"Unknown event type: "+h),[this.visible_]},c}(Qr),di=1e3,Lo=function(l){function c(h,v,I,F,J,De,Re,je){var Ze=l.call(this)||this;if(Ze.repoInfo_=h,Ze.applicationId_=v,Ze.onDataUpdate_=I,Ze.onConnectStatus_=F,Ze.onServerInfoUpdate_=J,Ze.authTokenProvider_=De,Ze.appCheckTokenProvider_=Re,Ze.authOverride_=je,Ze.id=c.nextPersistentConnectionId_++,Ze.log_=rt("p:"+Ze.id+":"),Ze.interruptReasons_={},Ze.listens=new Map,Ze.outstandingPuts_=[],Ze.outstandingGets_=[],Ze.outstandingPutCount_=0,Ze.outstandingGetCount_=0,Ze.onDisconnectRequestQueue_=[],Ze.connected_=!1,Ze.reconnectDelay_=di,Ze.maxReconnectDelay_=3e5,Ze.securityDebugCallback_=null,Ze.lastSessionId=null,Ze.establishConnectionTimer_=null,Ze.visible_=!1,Ze.requestCBHash_={},Ze.requestNumber_=0,Ze.realtime_=null,Ze.authToken_=null,Ze.appCheckToken_=null,Ze.forceTokenRefresh_=!1,Ze.invalidAuthTokenCount_=0,Ze.invalidAppCheckTokenCount_=0,Ze.firstConnection_=!0,Ze.lastConnectionAttemptTime_=null,Ze.lastConnectionEstablishedTime_=null,je&&!(0,H.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Zi.getInstance().on("visible",Ze.onVisible_,Ze),-1===h.host.indexOf("fblocal")&&Ai.getInstance().on("online",Ze.onOnline_,Ze),Ze}return(0,tt.__extends)(c,l),c.prototype.sendRequest=function(h,v,I){var F=++this.requestNumber_,J={r:F,a:h,b:v};this.log_((0,H.stringify)(J)),(0,H.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(J),I&&(this.requestCBHash_[F]=I)},c.prototype.get=function(h){var v=this;this.initConnection_();var I=new H.Deferred,F={p:h._path.toString(),q:h._queryObject},J={action:"g",request:F,onComplete:function(Re){var je=Re.d;"ok"===Re.s?(v.onDataUpdate_(F.p,je,!1,null),I.resolve(je)):I.reject(je)}};this.outstandingGets_.push(J),this.outstandingGetCount_++;var De=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var Re=v.outstandingGets_[De];void 0===Re||J!==Re||(delete v.outstandingGets_[De],v.outstandingGetCount_--,0===v.outstandingGetCount_&&(v.outstandingGets_=[]),v.log_("get "+De+" timed out on connection"),I.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(De),I.promise},c.prototype.listen=function(h,v,I,F){this.initConnection_();var J=h._queryIdentifier,De=h._path.toString();this.log_("Listen called for "+De+" "+J),this.listens.has(De)||this.listens.set(De,new Map),(0,H.assert)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.assert)(!this.listens.get(De).has(J),"listen() called twice for same path/queryId.");var Re={onComplete:F,hashFn:v,query:h,tag:I};this.listens.get(De).set(J,Re),this.connected_&&this.sendListen_(Re)},c.prototype.sendGet_=function(h){var v=this,I=this.outstandingGets_[h];this.sendRequest("g",I.request,function(F){delete v.outstandingGets_[h],v.outstandingGetCount_--,0===v.outstandingGetCount_&&(v.outstandingGets_=[]),I.onComplete&&I.onComplete(F)})},c.prototype.sendListen_=function(h){var v=this,I=h.query,F=I._path.toString(),J=I._queryIdentifier;this.log_("Listen on "+F+" for "+J);var De={p:F};h.tag&&(De.q=I._queryObject,De.t=h.tag),De.h=h.hashFn(),this.sendRequest("q",De,function(je){var Ze=je.d,Xt=je.s;c.warnOnListenWarnings_(Ze,I),(v.listens.get(F)&&v.listens.get(F).get(J))===h&&(v.log_("listen response",je),"ok"!==Xt&&v.removeListen_(F,J),h.onComplete&&h.onComplete(Xt,Ze))})},c.warnOnListenWarnings_=function(h,v){if(h&&"object"==typeof h&&(0,H.contains)(h,"w")){var I=(0,H.safeGet)(h,"w");if(Array.isArray(I)&&~I.indexOf("no_index")){var F='".indexOn": "'+v._queryParams.getIndex().toString()+'"',J=v._path.toString();rn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+F+" at "+J+" to your security rules for better performance.")}}},c.prototype.refreshAuthToken=function(h){this.authToken_=h,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(h)},c.prototype.reduceReconnectDelayIfAdminCredential_=function(h){(h&&40===h.length||(0,H.isAdmin)(h))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},c.prototype.refreshAppCheckToken=function(h){this.appCheckToken_=h,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},c.prototype.tryAuth=function(){var h=this;if(this.connected_&&this.authToken_){var v=this.authToken_,I=(0,H.isValidFormat)(v)?"auth":"gauth",F={cred:v};null===this.authOverride_?F.noauth=!0:"object"==typeof this.authOverride_&&(F.authvar=this.authOverride_),this.sendRequest(I,F,function(J){var De=J.s,Re=J.d||"error";h.authToken_===v&&("ok"===De?h.invalidAuthTokenCount_=0:h.onAuthRevoked_(De,Re))})}},c.prototype.tryAppCheck=function(){var h=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(v){var I=v.s,F=v.d||"error";"ok"===I?h.invalidAppCheckTokenCount_=0:h.onAppCheckRevoked_(I,F)})},c.prototype.unlisten=function(h,v){var I=h._path.toString(),F=h._queryIdentifier;this.log_("Unlisten called for "+I+" "+F),(0,H.assert)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(I,F)&&this.connected_&&this.sendUnlisten_(I,F,h._queryObject,v)},c.prototype.sendUnlisten_=function(h,v,I,F){this.log_("Unlisten on "+h+" for "+v);var J={p:h};F&&(J.q=I,J.t=F),this.sendRequest("n",J)},c.prototype.onDisconnectPut=function(h,v,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",h,v,I):this.onDisconnectRequestQueue_.push({pathString:h,action:"o",data:v,onComplete:I})},c.prototype.onDisconnectMerge=function(h,v,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",h,v,I):this.onDisconnectRequestQueue_.push({pathString:h,action:"om",data:v,onComplete:I})},c.prototype.onDisconnectCancel=function(h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",h,null,v):this.onDisconnectRequestQueue_.push({pathString:h,action:"oc",data:null,onComplete:v})},c.prototype.sendOnDisconnect_=function(h,v,I,F){var J={p:v,d:I};this.log_("onDisconnect "+h,J),this.sendRequest(h,J,function(De){F&&setTimeout(function(){F(De.s,De.d)},Math.floor(0))})},c.prototype.put=function(h,v,I,F){this.putInternal("p",h,v,I,F)},c.prototype.merge=function(h,v,I,F){this.putInternal("m",h,v,I,F)},c.prototype.putInternal=function(h,v,I,F,J){this.initConnection_();var De={p:v,d:I};void 0!==J&&(De.h=J),this.outstandingPuts_.push({action:h,request:De,onComplete:F}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+v)},c.prototype.sendPut_=function(h){var v=this,I=this.outstandingPuts_[h].action,F=this.outstandingPuts_[h].request,J=this.outstandingPuts_[h].onComplete;this.outstandingPuts_[h].queued=this.connected_,this.sendRequest(I,F,function(De){v.log_(I+" response",De),delete v.outstandingPuts_[h],v.outstandingPutCount_--,0===v.outstandingPutCount_&&(v.outstandingPuts_=[]),J&&J(De.s,De.d)})},c.prototype.reportStats=function(h){var v=this;if(this.connected_){var I={c:h};this.log_("reportStats",I),this.sendRequest("s",I,function(F){"ok"!==F.s&&v.log_("reportStats","Error sending stats: "+F.d)})}},c.prototype.onDataMessage_=function(h){if("r"in h){this.log_("from server: "+(0,H.stringify)(h));var v=h.r,I=this.requestCBHash_[v];I&&(delete this.requestCBHash_[v],I(h.b))}else{if("error"in h)throw"A server-side error has occurred: "+h.error;"a"in h&&this.onDataPush_(h.a,h.b)}},c.prototype.onDataPush_=function(h,v){this.log_("handleServerMessage",h,v),"d"===h?this.onDataUpdate_(v.p,v.d,!1,v.t):"m"===h?this.onDataUpdate_(v.p,v.d,!0,v.t):"c"===h?this.onListenRevoked_(v.p,v.q):"ac"===h?this.onAuthRevoked_(v.s,v.d):"apc"===h?this.onAppCheckRevoked_(v.s,v.d):"sd"===h?this.onSecurityDebugPacket_(v):Nt("Unrecognized action received from server: "+(0,H.stringify)(h)+"\nAre you using the latest client?")},c.prototype.onReady_=function(h,v){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(h),this.lastSessionId=v,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},c.prototype.scheduleConnect_=function(h){var v=this;(0,H.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){v.establishConnectionTimer_=null,v.establishConnection_()},Math.floor(h))},c.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},c.prototype.onVisible_=function(h){h&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=di,this.realtime_||this.scheduleConnect_(0)),this.visible_=h},c.prototype.onOnline_=function(h){h?(this.log_("Browser went online."),this.reconnectDelay_=di,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},c.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=di),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var v=(new Date).getTime()-this.lastConnectionAttemptTime_,I=Math.max(0,this.reconnectDelay_-v);I=Math.random()*I,this.log_("Trying to reconnect in "+I+"ms"),this.scheduleConnect_(I),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},c.prototype.establishConnection_=function(){return(0,tt.__awaiter)(this,void 0,void 0,function(){var h,v,I,F,J,De,Re,je,Xt,hn,kn,qn,Xr,Jr=this;return(0,tt.__generator)(this,function(bi){switch(bi.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,h=this.onDataMessage_.bind(this),v=this.onReady_.bind(this),I=this.onRealtimeDisconnect_.bind(this),F=this.id+":"+c.nextConnectionId_++,J=this.lastSessionId,De=!1,Re=null,this.realtime_={close:je=function(){Re?Re.close():(De=!0,I())},sendRequest:function(es){(0,H.assert)(Re,"sendRequest call when we're not connected not allowed."),Re.sendRequest(es)}},Xt=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,bi.label=1;case 1:return bi.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(Xt),this.appCheckTokenProvider_.getToken(Xt)])];case 2:return hn=tt.__read.apply(void 0,[bi.sent(),2]),kn=hn[0],qn=hn[1],De?nt("getToken() completed but was canceled"):(nt("getToken() completed. Creating connection."),this.authToken_=kn&&kn.accessToken,this.appCheckToken_=qn&&qn.token,Re=new bn(F,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,h,v,I,function(es){rn(es+" ("+Jr.repoInfo_.toString()+")"),Jr.interrupt("server_kill")},J)),[3,4];case 3:return Xr=bi.sent(),this.log_("Failed to get token: "+Xr),De||(this.repoInfo_.nodeAdmin&&rn(Xr),je()),[3,4];case 4:return[2]}})})},c.prototype.interrupt=function(h){nt("Interrupting connection for reason: "+h),this.interruptReasons_[h]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},c.prototype.resume=function(h){nt("Resuming connection for reason: "+h),delete this.interruptReasons_[h],(0,H.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=di,this.realtime_||this.scheduleConnect_(0))},c.prototype.handleTimestamp_=function(h){var v=h-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:v})},c.prototype.cancelSentTransactions_=function(){for(var h=0;h<this.outstandingPuts_.length;h++){var v=this.outstandingPuts_[h];v&&"h"in v.request&&v.queued&&(v.onComplete&&v.onComplete("disconnect"),delete this.outstandingPuts_[h],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},c.prototype.onListenRevoked_=function(h,v){var I;I=v?v.map(function(J){return Tt(J)}).join("$"):"default";var F=this.removeListen_(h,I);F&&F.onComplete&&F.onComplete("permission_denied")},c.prototype.removeListen_=function(h,v){var F,I=new zn(h).toString();if(this.listens.has(I)){var J=this.listens.get(I);F=J.get(v),J.delete(v),0===J.size&&this.listens.delete(I)}else F=void 0;return F},c.prototype.onAuthRevoked_=function(h,v){nt("Auth token revoked: "+h+"/"+v),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===h||"permission_denied"===h)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},c.prototype.onAppCheckRevoked_=function(h,v){nt("App check token revoked: "+h+"/"+v),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===h||"permission_denied"===h)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},c.prototype.onSecurityDebugPacket_=function(h){this.securityDebugCallback_?this.securityDebugCallback_(h):"msg"in h&&console.log("FIREBASE: "+h.msg.replace("\n","\nFIREBASE: "))},c.prototype.restoreState_=function(){var h,v,I,F;this.tryAuth(),this.tryAppCheck();try{for(var J=(0,tt.__values)(this.listens.values()),De=J.next();!De.done;De=J.next()){var Re=De.value;try{for(var je=(I=void 0,(0,tt.__values)(Re.values())),Ze=je.next();!Ze.done;Ze=je.next())this.sendListen_(Ze.value)}catch(qn){I={error:qn}}finally{try{Ze&&!Ze.done&&(F=je.return)&&F.call(je)}finally{if(I)throw I.error}}}}catch(qn){h={error:qn}}finally{try{De&&!De.done&&(v=J.return)&&v.call(J)}finally{if(h)throw h.error}}for(var hn=0;hn<this.outstandingPuts_.length;hn++)this.outstandingPuts_[hn]&&this.sendPut_(hn);for(;this.onDisconnectRequestQueue_.length;){var kn=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(kn.action,kn.pathString,kn.data,kn.onComplete)}for(hn=0;hn<this.outstandingGets_.length;hn++)this.outstandingGets_[hn]&&this.sendGet_(hn)},c.prototype.sendConnectStats_=function(){var h={},v="js";(0,H.isNodeSdk)()&&(v=this.repoInfo_.nodeAdmin?"admin_node":"node"),h["sdk."+v+"."+Dt.replace(/\./g,"-")]=1,(0,H.isMobileCordova)()?h["framework.cordova"]=1:(0,H.isReactNative)()&&(h["framework.reactnative"]=1),this.reportStats(h)},c.prototype.shouldReconnect_=function(){var h=Ai.getInstance().currentlyOnline();return(0,H.isEmpty)(this.interruptReasons_)&&h},c.nextPersistentConnectionId_=0,c.nextConnectionId_=0,c}(_r),Ar=function(){function l(c,h){this.name=c,this.node=h}return l.Wrap=function(c,h){return new l(c,h)},l}(),Yr=function(){function l(){}return l.prototype.getCompare=function(){return this.compare.bind(this)},l.prototype.indexedValueChanged=function(c,h){var v=new Ar(Be,c),I=new Ar(Be,h);return 0!==this.compare(v,I)},l.prototype.minPost=function(){return Ar.MIN},l}(),li=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}return(0,tt.__extends)(c,l),Object.defineProperty(c,"__EMPTY_NODE",{get:function(){return ur},set:function(h){ur=h},enumerable:!1,configurable:!0}),c.prototype.compare=function(h,v){return at(h.name,v.name)},c.prototype.isDefinedOn=function(h){throw(0,H.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},c.prototype.indexedValueChanged=function(h,v){return!1},c.prototype.minPost=function(){return Ar.MIN},c.prototype.maxPost=function(){return new Ar(Ke,ur)},c.prototype.makePost=function(h,v){return(0,H.assert)("string"==typeof h,"KeyIndex indexValue must always be a string."),new Ar(h,ur)},c.prototype.toString=function(){return".key"},c}(Yr),bo=new li,Z=function(){function l(c,h,v,I,F){void 0===F&&(F=null),this.isReverse_=I,this.resultGenerator_=F,this.nodeStack_=[];for(var J=1;!c.isEmpty();)if(c=c,J=h?v(c.key,h):1,I&&(J*=-1),J<0)c=this.isReverse_?c.left:c.right;else{if(0===J){this.nodeStack_.push(c);break}this.nodeStack_.push(c),c=this.isReverse_?c.right:c.left}}return l.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var h,c=this.nodeStack_.pop();if(h=this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value},this.isReverse_)for(c=c.left;!c.isEmpty();)this.nodeStack_.push(c),c=c.right;else for(c=c.right;!c.isEmpty();)this.nodeStack_.push(c),c=c.left;return h},l.prototype.hasNext=function(){return this.nodeStack_.length>0},l.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var c=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value}},l}(),q=function(){function l(c,h,v,I,F){this.key=c,this.value=h,this.color=null!=v?v:l.RED,this.left=null!=I?I:Je.EMPTY_NODE,this.right=null!=F?F:Je.EMPTY_NODE}return l.prototype.copy=function(c,h,v,I,F){return new l(null!=c?c:this.key,null!=h?h:this.value,null!=v?v:this.color,null!=I?I:this.left,null!=F?F:this.right)},l.prototype.count=function(){return this.left.count()+1+this.right.count()},l.prototype.isEmpty=function(){return!1},l.prototype.inorderTraversal=function(c){return this.left.inorderTraversal(c)||!!c(this.key,this.value)||this.right.inorderTraversal(c)},l.prototype.reverseTraversal=function(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)},l.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},l.prototype.minKey=function(){return this.min_().key},l.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},l.prototype.insert=function(c,h,v){var I=this,F=v(c,I.key);return(I=F<0?I.copy(null,null,null,I.left.insert(c,h,v),null):0===F?I.copy(null,h,null,null,null):I.copy(null,null,null,null,I.right.insert(c,h,v))).fixUp_()},l.prototype.removeMin_=function(){if(this.left.isEmpty())return Je.EMPTY_NODE;var c=this;return!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),(c=c.copy(null,null,null,c.left.removeMin_(),null)).fixUp_()},l.prototype.remove=function(c,h){var v,I;if(h(c,(v=this).key)<0)!v.left.isEmpty()&&!v.left.isRed_()&&!v.left.left.isRed_()&&(v=v.moveRedLeft_()),v=v.copy(null,null,null,v.left.remove(c,h),null);else{if(v.left.isRed_()&&(v=v.rotateRight_()),!v.right.isEmpty()&&!v.right.isRed_()&&!v.right.left.isRed_()&&(v=v.moveRedRight_()),0===h(c,v.key)){if(v.right.isEmpty())return Je.EMPTY_NODE;I=v.right.min_(),v=v.copy(I.key,I.value,null,null,v.right.removeMin_())}v=v.copy(null,null,null,null,v.right.remove(c,h))}return v.fixUp_()},l.prototype.isRed_=function(){return this.color},l.prototype.fixUp_=function(){var c=this;return c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_()),c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_()),c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_()),c},l.prototype.moveRedLeft_=function(){var c=this.colorFlip_();return c.right.left.isRed_()&&(c=(c=(c=c.copy(null,null,null,null,c.right.rotateRight_())).rotateLeft_()).colorFlip_()),c},l.prototype.moveRedRight_=function(){var c=this.colorFlip_();return c.left.left.isRed_()&&(c=(c=c.rotateRight_()).colorFlip_()),c},l.prototype.rotateLeft_=function(){var c=this.copy(null,null,l.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)},l.prototype.rotateRight_=function(){var c=this.copy(null,null,l.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)},l.prototype.colorFlip_=function(){var c=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,h)},l.prototype.checkMaxDepth_=function(){var c=this.check_();return Math.pow(2,c)<=this.count()+1},l.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var c=this.left.check_();if(c!==this.right.check_())throw new Error("Black depths differ");return c+(this.isRed_()?0:1)},l.RED=!0,l.BLACK=!1,l}(),Me=function(){function l(){}return l.prototype.copy=function(c,h,v,I,F){return this},l.prototype.insert=function(c,h,v){return new q(c,h,null)},l.prototype.remove=function(c,h){return this},l.prototype.count=function(){return 0},l.prototype.isEmpty=function(){return!0},l.prototype.inorderTraversal=function(c){return!1},l.prototype.reverseTraversal=function(c){return!1},l.prototype.minKey=function(){return null},l.prototype.maxKey=function(){return null},l.prototype.check_=function(){return 0},l.prototype.isRed_=function(){return!1},l}(),Je=function(){function l(c,h){void 0===h&&(h=l.EMPTY_NODE),this.comparator_=c,this.root_=h}return l.prototype.insert=function(c,h){return new l(this.comparator_,this.root_.insert(c,h,this.comparator_).copy(null,null,q.BLACK,null,null))},l.prototype.remove=function(c){return new l(this.comparator_,this.root_.remove(c,this.comparator_).copy(null,null,q.BLACK,null,null))},l.prototype.get=function(c){for(var h,v=this.root_;!v.isEmpty();){if(0===(h=this.comparator_(c,v.key)))return v.value;h<0?v=v.left:h>0&&(v=v.right)}return null},l.prototype.getPredecessorKey=function(c){for(var h,v=this.root_,I=null;!v.isEmpty();){if(0===(h=this.comparator_(c,v.key))){if(v.left.isEmpty())return I?I.key:null;for(v=v.left;!v.right.isEmpty();)v=v.right;return v.key}h<0?v=v.left:h>0&&(I=v,v=v.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},l.prototype.isEmpty=function(){return this.root_.isEmpty()},l.prototype.count=function(){return this.root_.count()},l.prototype.minKey=function(){return this.root_.minKey()},l.prototype.maxKey=function(){return this.root_.maxKey()},l.prototype.inorderTraversal=function(c){return this.root_.inorderTraversal(c)},l.prototype.reverseTraversal=function(c){return this.root_.reverseTraversal(c)},l.prototype.getIterator=function(c){return new Z(this.root_,null,this.comparator_,!1,c)},l.prototype.getIteratorFrom=function(c,h){return new Z(this.root_,c,this.comparator_,!1,h)},l.prototype.getReverseIteratorFrom=function(c,h){return new Z(this.root_,c,this.comparator_,!0,h)},l.prototype.getReverseIterator=function(c){return new Z(this.root_,null,this.comparator_,!0,c)},l.EMPTY_NODE=new Me,l}();function Ct(l,c){return at(l.name,c.name)}function jt(l,c){return at(l,c)}var dr,mi,po,Fi,z,Un=function(l){return"number"==typeof l?"number:"+St(l):"string:"+l},mr=function(l){if(l.isLeafNode()){var c=l.val();(0,H.assert)("string"==typeof c||"number"==typeof c||"object"==typeof c&&(0,H.contains)(c,".sv"),"Priority must be a string or number.")}else(0,H.assert)(l===En||l.isEmpty(),"priority of unexpected type.");(0,H.assert)(l===En||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},oi=function(){function l(c,h){void 0===h&&(h=l.__childrenNodeConstructor.EMPTY_NODE),this.value_=c,this.priorityNode_=h,this.lazyHash_=null,(0,H.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),mr(this.priorityNode_)}return Object.defineProperty(l,"__childrenNodeConstructor",{get:function(){return dr},set:function(c){dr=c},enumerable:!1,configurable:!0}),l.prototype.isLeafNode=function(){return!0},l.prototype.getPriority=function(){return this.priorityNode_},l.prototype.updatePriority=function(c){return new l(this.value_,c)},l.prototype.getImmediateChild=function(c){return".priority"===c?this.priorityNode_:l.__childrenNodeConstructor.EMPTY_NODE},l.prototype.getChild=function(c){return It(c)?this:".priority"===fr(c)?this.priorityNode_:l.__childrenNodeConstructor.EMPTY_NODE},l.prototype.hasChild=function(){return!1},l.prototype.getPredecessorChildName=function(c,h){return null},l.prototype.updateImmediateChild=function(c,h){return".priority"===c?this.updatePriority(h):h.isEmpty()&&".priority"!==c?this:l.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,h).updatePriority(this.priorityNode_)},l.prototype.updateChild=function(c,h){var v=fr(c);return null===v?h:h.isEmpty()&&".priority"!==v?this:((0,H.assert)(".priority"!==v||1===gi(c),".priority must be the last token in a path"),this.updateImmediateChild(v,l.__childrenNodeConstructor.EMPTY_NODE.updateChild(ne(c),h)))},l.prototype.isEmpty=function(){return!1},l.prototype.numChildren=function(){return 0},l.prototype.forEachChild=function(c,h){return!1},l.prototype.val=function(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},l.prototype.hash=function(){if(null===this.lazyHash_){var c="";this.priorityNode_.isEmpty()||(c+="priority:"+Un(this.priorityNode_.val())+":");var h=typeof this.value_;c+=h+":",c+="number"===h?St(this.value_):this.value_,this.lazyHash_=Ge(c)}return this.lazyHash_},l.prototype.getValue=function(){return this.value_},l.prototype.compareTo=function(c){return c===l.__childrenNodeConstructor.EMPTY_NODE?1:c instanceof l.__childrenNodeConstructor?-1:((0,H.assert)(c.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(c))},l.prototype.compareToLeafNode_=function(c){var h=typeof c.value_,v=typeof this.value_,I=l.VALUE_TYPE_ORDER.indexOf(h),F=l.VALUE_TYPE_ORDER.indexOf(v);return(0,H.assert)(I>=0,"Unknown leaf type: "+h),(0,H.assert)(F>=0,"Unknown leaf type: "+v),I===F?"object"===v?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:F-I},l.prototype.withIndex=function(){return this},l.prototype.isIndexed=function(){return!0},l.prototype.equals=function(c){return c===this||!!c.isLeafNode()&&(this.value_===c.value_&&this.priorityNode_.equals(c.priorityNode_))},l.VALUE_TYPE_ORDER=["object","boolean","number","string"],l}(),Qi=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}return(0,tt.__extends)(c,l),c.prototype.compare=function(h,v){var I=h.node.getPriority(),F=v.node.getPriority(),J=I.compareTo(F);return 0===J?at(h.name,v.name):J},c.prototype.isDefinedOn=function(h){return!h.getPriority().isEmpty()},c.prototype.indexedValueChanged=function(h,v){return!h.getPriority().equals(v.getPriority())},c.prototype.minPost=function(){return Ar.MIN},c.prototype.maxPost=function(){return new Ar(Ke,new oi("[PRIORITY-POST]",po))},c.prototype.makePost=function(h,v){var I=mi(h);return new Ar(v,new oi("[PRIORITY-POST]",I))},c.prototype.toString=function(){return".priority"},c}(Yr),Ur=new Qi,Ui=Math.log(2),eo=function(){function l(c){this.count=parseInt(Math.log(c+1)/Ui,10),this.current_=this.count-1;var I=parseInt(Array(this.count+1).join("1"),2);this.bits_=c+1&I}return l.prototype.nextBitIsOne=function(){var c=!(this.bits_&1<<this.current_);return this.current_--,c},l}(),Mi=function(l,c,h,v){l.sort(c);var I=function(Re,je){var Xt,hn,Ze=je-Re;if(0===Ze)return null;if(1===Ze)return Xt=l[Re],hn=h?h(Xt):Xt,new q(hn,Xt.node,q.BLACK,null,null);var kn=parseInt(Ze/2,10)+Re,qn=I(Re,kn),Xr=I(kn+1,je);return Xt=l[kn],hn=h?h(Xt):Xt,new q(hn,Xt.node,q.BLACK,qn,Xr)},De=function(Re){for(var je=null,Ze=null,Xt=l.length,hn=function(bi,es){var xs=Xt-bi,ol=Xt;Xt-=bi;var Nc=I(xs+1,ol),sl=l[xs],ed=h?h(sl):sl;kn(new q(ed,sl.node,es,null,Nc))},kn=function(bi){je?(je.left=bi,je=bi):(Ze=bi,je=bi)},qn=0;qn<Re.count;++qn){var Xr=Re.nextBitIsOne(),Jr=Math.pow(2,Re.count-(qn+1));Xr?hn(Jr,q.BLACK):(hn(Jr,q.BLACK),hn(Jr,q.RED))}return Ze}(new eo(l.length));return new Je(v||c,De)},To={},to=function(){function l(c,h){this.indexes_=c,this.indexSet_=h}return Object.defineProperty(l,"Default",{get:function(){return(0,H.assert)(To&&Ur,"ChildrenNode.ts has not been loaded"),Fi=Fi||new l({".priority":To},{".priority":Ur})},enumerable:!1,configurable:!0}),l.prototype.get=function(c){var h=(0,H.safeGet)(this.indexes_,c);if(!h)throw new Error("No index defined for "+c);return h instanceof Je?h:null},l.prototype.hasIndex=function(c){return(0,H.contains)(this.indexSet_,c.toString())},l.prototype.addIndex=function(c,h){(0,H.assert)(c!==bo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var v=[],I=!1,F=h.getIterator(Ar.Wrap),J=F.getNext();J;)I=I||c.isDefinedOn(J.node),v.push(J),J=F.getNext();var De;De=I?Mi(v,c.getCompare()):To;var Re=c.toString(),je=(0,tt.__assign)({},this.indexSet_);je[Re]=c;var Ze=(0,tt.__assign)({},this.indexes_);return Ze[Re]=De,new l(Ze,je)},l.prototype.addToIndexes=function(c,h){var v=this;return new l((0,H.map)(this.indexes_,function(F,J){var De=(0,H.safeGet)(v.indexSet_,J);if((0,H.assert)(De,"Missing index implementation for "+J),F===To){if(De.isDefinedOn(c.node)){for(var Re=[],je=h.getIterator(Ar.Wrap),Ze=je.getNext();Ze;)Ze.name!==c.name&&Re.push(Ze),Ze=je.getNext();return Re.push(c),Mi(Re,De.getCompare())}return To}var Xt=h.get(c.name),hn=F;return Xt&&(hn=hn.remove(new Ar(c.name,Xt))),hn.insert(c,c.node)}),this.indexSet_)},l.prototype.removeFromIndexes=function(c,h){return new l((0,H.map)(this.indexes_,function(I){if(I===To)return I;var F=h.get(c.name);return F?I.remove(new Ar(c.name,F)):I}),this.indexSet_)},l}(),oe=function(){function l(c,h,v){this.children_=c,this.priorityNode_=h,this.indexMap_=v,this.lazyHash_=null,this.priorityNode_&&mr(this.priorityNode_),this.children_.isEmpty()&&(0,H.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(l,"EMPTY_NODE",{get:function(){return z||(z=new l(new Je(jt),null,to.Default))},enumerable:!1,configurable:!0}),l.prototype.isLeafNode=function(){return!1},l.prototype.getPriority=function(){return this.priorityNode_||z},l.prototype.updatePriority=function(c){return this.children_.isEmpty()?this:new l(this.children_,c,this.indexMap_)},l.prototype.getImmediateChild=function(c){if(".priority"===c)return this.getPriority();var h=this.children_.get(c);return null===h?z:h},l.prototype.getChild=function(c){var h=fr(c);return null===h?this:this.getImmediateChild(h).getChild(ne(c))},l.prototype.hasChild=function(c){return null!==this.children_.get(c)},l.prototype.updateImmediateChild=function(c,h){if((0,H.assert)(h,"We should always be passing snapshot nodes"),".priority"===c)return this.updatePriority(h);var v=new Ar(c,h),I=void 0,F=void 0;h.isEmpty()?(I=this.children_.remove(c),F=this.indexMap_.removeFromIndexes(v,this.children_)):(I=this.children_.insert(c,h),F=this.indexMap_.addToIndexes(v,this.children_));var J=I.isEmpty()?z:this.priorityNode_;return new l(I,J,F)},l.prototype.updateChild=function(c,h){var v=fr(c);if(null===v)return h;(0,H.assert)(".priority"!==fr(c)||1===gi(c),".priority must be the last token in a path");var I=this.getImmediateChild(v).updateChild(ne(c),h);return this.updateImmediateChild(v,I)},l.prototype.isEmpty=function(){return this.children_.isEmpty()},l.prototype.numChildren=function(){return this.children_.count()},l.prototype.val=function(c){if(this.isEmpty())return null;var h={},v=0,I=0,F=!0;if(this.forEachChild(Ur,function(Re,je){h[Re]=je.val(c),v++,F&&l.INTEGER_REGEXP_.test(Re)?I=Math.max(I,Number(Re)):F=!1}),!c&&F&&I<2*v){var J=[];for(var De in h)J[De]=h[De];return J}return c&&!this.getPriority().isEmpty()&&(h[".priority"]=this.getPriority().val()),h},l.prototype.hash=function(){if(null===this.lazyHash_){var c="";this.getPriority().isEmpty()||(c+="priority:"+Un(this.getPriority().val())+":"),this.forEachChild(Ur,function(h,v){var I=v.hash();""!==I&&(c+=":"+h+":"+I)}),this.lazyHash_=""===c?"":Ge(c)}return this.lazyHash_},l.prototype.getPredecessorChildName=function(c,h,v){var I=this.resolveIndex_(v);if(I){var F=I.getPredecessorKey(new Ar(c,h));return F?F.name:null}return this.children_.getPredecessorKey(c)},l.prototype.getFirstChildName=function(c){var h=this.resolveIndex_(c);if(h){var v=h.minKey();return v&&v.name}return this.children_.minKey()},l.prototype.getFirstChild=function(c){var h=this.getFirstChildName(c);return h?new Ar(h,this.children_.get(h)):null},l.prototype.getLastChildName=function(c){var h=this.resolveIndex_(c);if(h){var v=h.maxKey();return v&&v.name}return this.children_.maxKey()},l.prototype.getLastChild=function(c){var h=this.getLastChildName(c);return h?new Ar(h,this.children_.get(h)):null},l.prototype.forEachChild=function(c,h){var v=this.resolveIndex_(c);return v?v.inorderTraversal(function(I){return h(I.name,I.node)}):this.children_.inorderTraversal(h)},l.prototype.getIterator=function(c){return this.getIteratorFrom(c.minPost(),c)},l.prototype.getIteratorFrom=function(c,h){var v=this.resolveIndex_(h);if(v)return v.getIteratorFrom(c,function(J){return J});for(var I=this.children_.getIteratorFrom(c.name,Ar.Wrap),F=I.peek();null!=F&&h.compare(F,c)<0;)I.getNext(),F=I.peek();return I},l.prototype.getReverseIterator=function(c){return this.getReverseIteratorFrom(c.maxPost(),c)},l.prototype.getReverseIteratorFrom=function(c,h){var v=this.resolveIndex_(h);if(v)return v.getReverseIteratorFrom(c,function(J){return J});for(var I=this.children_.getReverseIteratorFrom(c.name,Ar.Wrap),F=I.peek();null!=F&&h.compare(F,c)>0;)I.getNext(),F=I.peek();return I},l.prototype.compareTo=function(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===Ee?-1:0},l.prototype.withIndex=function(c){if(c===bo||this.indexMap_.hasIndex(c))return this;var h=this.indexMap_.addIndex(c,this.children_);return new l(this.children_,this.priorityNode_,h)},l.prototype.isIndexed=function(c){return c===bo||this.indexMap_.hasIndex(c)},l.prototype.equals=function(c){if(c===this)return!0;if(c.isLeafNode())return!1;var h=c;if(this.getPriority().equals(h.getPriority())){if(this.children_.count()===h.children_.count()){for(var v=this.getIterator(Ur),I=h.getIterator(Ur),F=v.getNext(),J=I.getNext();F&&J;){if(F.name!==J.name||!F.node.equals(J.node))return!1;F=v.getNext(),J=I.getNext()}return null===F&&null===J}return!1}return!1},l.prototype.resolveIndex_=function(c){return c===bo?null:this.indexMap_.get(c.toString())},l.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,l}(),K=function(l){function c(){return l.call(this,new Je(jt),oe.EMPTY_NODE,to.Default)||this}return(0,tt.__extends)(c,l),c.prototype.compareTo=function(h){return h===this?0:1},c.prototype.equals=function(h){return h===this},c.prototype.getPriority=function(){return this},c.prototype.getImmediateChild=function(h){return oe.EMPTY_NODE},c.prototype.isEmpty=function(){return!1},c}(oe),Ee=new K;function Ht(l,c){if(void 0===c&&(c=null),null===l)return oe.EMPTY_NODE;if("object"==typeof l&&".priority"in l&&(c=l[".priority"]),(0,H.assert)(null===c||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c,"Invalid priority type found: "+typeof c),"object"==typeof l&&".value"in l&&null!==l[".value"]&&(l=l[".value"]),"object"!=typeof l||".sv"in l)return new oi(l,Ht(c));if(l instanceof Array){var Re=oe.EMPTY_NODE;return Rt(l,function(je,Ze){if((0,H.contains)(l,je)&&"."!==je.substring(0,1)){var Xt=Ht(Ze);(Xt.isLeafNode()||!Xt.isEmpty())&&(Re=Re.updateImmediateChild(je,Xt))}}),Re.updatePriority(Ht(c))}var v=[],I=!1;if(Rt(l,function(je,Ze){if("."!==je.substring(0,1)){var Xt=Ht(Ze);Xt.isEmpty()||(I=I||!Xt.getPriority().isEmpty(),v.push(new Ar(je,Xt)))}}),0===v.length)return oe.EMPTY_NODE;var J=Mi(v,Ct,function(je){return je.name},jt);if(I){var De=Mi(v,Ur.getCompare());return new oe(J,Ht(c),new to({".priority":De},{".priority":Ur}))}return new oe(J,Ht(c),to.Default)}Object.defineProperties(Ar,{MIN:{value:new Ar(Be,oe.EMPTY_NODE)},MAX:{value:new Ar(Ke,Ee)}}),li.__EMPTY_NODE=oe.EMPTY_NODE,oi.__childrenNodeConstructor=oe,function xn(l){En=l}(Ee),function vi(l){po=l}(Ee),function Mr(l){mi=l}(Ht);var Cn=function(l){function c(h){var v=l.call(this)||this;return v.indexPath_=h,(0,H.assert)(!It(h)&&".priority"!==fr(h),"Can't create PathIndex with empty path or .priority key"),v}return(0,tt.__extends)(c,l),c.prototype.extractChild=function(h){return h.getChild(this.indexPath_)},c.prototype.isDefinedOn=function(h){return!h.getChild(this.indexPath_).isEmpty()},c.prototype.compare=function(h,v){var I=this.extractChild(h.node),F=this.extractChild(v.node),J=I.compareTo(F);return 0===J?at(h.name,v.name):J},c.prototype.makePost=function(h,v){var I=Ht(h),F=oe.EMPTY_NODE.updateChild(this.indexPath_,I);return new Ar(v,F)},c.prototype.maxPost=function(){var h=oe.EMPTY_NODE.updateChild(this.indexPath_,Ee);return new Ar(Ke,h)},c.prototype.toString=function(){return Fe(this.indexPath_,0).join("/")},c}(Yr),$n=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}return(0,tt.__extends)(c,l),c.prototype.compare=function(h,v){var I=h.node.compareTo(v.node);return 0===I?at(h.name,v.name):I},c.prototype.isDefinedOn=function(h){return!0},c.prototype.indexedValueChanged=function(h,v){return!h.equals(v)},c.prototype.minPost=function(){return Ar.MIN},c.prototype.maxPost=function(){return Ar.MAX},c.prototype.makePost=function(h,v){var I=Ht(h);return new Ar(v,I)},c.prototype.toString=function(){return".value"},c}(Yr),yi=new $n,si="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_i=function(){var l=0,c=[];return function(h){var v=h===l;l=h;var I,F=new Array(8);for(I=7;I>=0;I--)F[I]=si.charAt(h%64),h=Math.floor(h/64);(0,H.assert)(0===h,"Cannot push at time == 0");var J=F.join("");if(v){for(I=11;I>=0&&63===c[I];I--)c[I]=0;c[I]++}else for(I=0;I<12;I++)c[I]=Math.floor(64*Math.random());for(I=0;I<12;I++)J+=si.charAt(c[I]);return(0,H.assert)(20===J.length,"nextPushId: Length should be 20."),J}}(),ji=function(l){if(l===""+Bn)return"-";var c=yn(l);if(null!=c)return""+(c+1);for(var h=new Array(l.length),v=0;v<h.length;v++)h[v]=l.charAt(v);if(h.length<786)return h.push("-"),h.join("");for(var I=h.length-1;I>=0&&"z"===h[I];)I--;if(-1===I)return Ke;var J=si.charAt(si.indexOf(h[I])+1);return h[I]=J,h.slice(0,I+1).join("")},Hi=function(l){if(l===""+We)return Be;var c=yn(l);if(null!=c)return""+(c-1);for(var h=new Array(l.length),v=0;v<h.length;v++)h[v]=l.charAt(v);return"-"===h[h.length-1]?1===h.length?""+Bn:(delete h[h.length-1],h.join("")):(h[h.length-1]=si.charAt(si.indexOf(h[h.length-1])-1),h.join("")+"z".repeat(786-h.length))};function zi(l){return{type:"value",snapshotNode:l}}function ei(l,c){return{type:"child_added",snapshotNode:c,childName:l}}function hi(l,c){return{type:"child_removed",snapshotNode:c,childName:l}}function Y(l,c,h){return{type:"child_changed",snapshotNode:c,childName:l,oldSnap:h}}var B=function(){function l(c){this.index_=c}return l.prototype.updateChild=function(c,h,v,I,F,J){(0,H.assert)(c.isIndexed(this.index_),"A node must be indexed if only a child is updated");var De=c.getImmediateChild(h);return De.getChild(I).equals(v.getChild(I))&&De.isEmpty()===v.isEmpty()||(null!=J&&(v.isEmpty()?c.hasChild(h)?J.trackChildChange(hi(h,De)):(0,H.assert)(c.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):De.isEmpty()?J.trackChildChange(ei(h,v)):J.trackChildChange(Y(h,v,De))),c.isLeafNode()&&v.isEmpty())?c:c.updateImmediateChild(h,v).withIndex(this.index_)},l.prototype.updateFullNode=function(c,h,v){return null!=v&&(c.isLeafNode()||c.forEachChild(Ur,function(I,F){h.hasChild(I)||v.trackChildChange(hi(I,F))}),h.isLeafNode()||h.forEachChild(Ur,function(I,F){if(c.hasChild(I)){var J=c.getImmediateChild(I);J.equals(F)||v.trackChildChange(Y(I,F,J))}else v.trackChildChange(ei(I,F))})),h.withIndex(this.index_)},l.prototype.updatePriority=function(c,h){return c.isEmpty()?oe.EMPTY_NODE:c.updatePriority(h)},l.prototype.filtersNodes=function(){return!1},l.prototype.getIndexedFilter=function(){return this},l.prototype.getIndex=function(){return this.index_},l}(),ge=function(){function l(c){this.indexedFilter_=new B(c.getIndex()),this.index_=c.getIndex(),this.startPost_=l.getStartPost_(c),this.endPost_=l.getEndPost_(c)}return l.prototype.getStartPost=function(){return this.startPost_},l.prototype.getEndPost=function(){return this.endPost_},l.prototype.matches=function(c){return this.index_.compare(this.getStartPost(),c)<=0&&this.index_.compare(c,this.getEndPost())<=0},l.prototype.updateChild=function(c,h,v,I,F,J){return this.matches(new Ar(h,v))||(v=oe.EMPTY_NODE),this.indexedFilter_.updateChild(c,h,v,I,F,J)},l.prototype.updateFullNode=function(c,h,v){h.isLeafNode()&&(h=oe.EMPTY_NODE);var I=h.withIndex(this.index_);I=I.updatePriority(oe.EMPTY_NODE);var F=this;return h.forEachChild(Ur,function(J,De){F.matches(new Ar(J,De))||(I=I.updateImmediateChild(J,oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(c,I,v)},l.prototype.updatePriority=function(c,h){return c},l.prototype.filtersNodes=function(){return!0},l.prototype.getIndexedFilter=function(){return this.indexedFilter_},l.prototype.getIndex=function(){return this.index_},l.getStartPost_=function(c){if(c.hasStart()){var h=c.getIndexStartName();return c.getIndex().makePost(c.getIndexStartValue(),h)}return c.getIndex().minPost()},l.getEndPost_=function(c){if(c.hasEnd()){var h=c.getIndexEndName();return c.getIndex().makePost(c.getIndexEndValue(),h)}return c.getIndex().maxPost()},l}(),Yt=function(){function l(c){this.rangedFilter_=new ge(c),this.index_=c.getIndex(),this.limit_=c.getLimit(),this.reverse_=!c.isViewFromLeft()}return l.prototype.updateChild=function(c,h,v,I,F,J){return this.rangedFilter_.matches(new Ar(h,v))||(v=oe.EMPTY_NODE),c.getImmediateChild(h).equals(v)?c:c.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(c,h,v,I,F,J):this.fullLimitUpdateChild_(c,h,v,F,J)},l.prototype.updateFullNode=function(c,h,v){var I;if(h.isLeafNode()||h.isEmpty())I=oe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<h.numChildren()&&h.isIndexed(this.index_)){I=oe.EMPTY_NODE.withIndex(this.index_);var F=void 0;F=this.reverse_?h.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var J=0;F.hasNext()&&J<this.limit_;){var De=F.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),De)<=0:this.index_.compare(De,this.rangedFilter_.getEndPost())<=0))break;I=I.updateImmediateChild(De.name,De.node),J++}}else{I=(I=h.withIndex(this.index_)).updatePriority(oe.EMPTY_NODE);var je=void 0,Ze=void 0,Xt=void 0;if(F=void 0,this.reverse_){F=I.getReverseIterator(this.index_),je=this.rangedFilter_.getEndPost(),Ze=this.rangedFilter_.getStartPost();var hn=this.index_.getCompare();Xt=function(Jr,bi){return hn(bi,Jr)}}else F=I.getIterator(this.index_),je=this.rangedFilter_.getStartPost(),Ze=this.rangedFilter_.getEndPost(),Xt=this.index_.getCompare();J=0;for(var kn=!1;F.hasNext();)De=F.getNext(),!kn&&Xt(je,De)<=0&&(kn=!0),kn&&J<this.limit_&&Xt(De,Ze)<=0?J++:I=I.updateImmediateChild(De.name,oe.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(c,I,v)},l.prototype.updatePriority=function(c,h){return c},l.prototype.filtersNodes=function(){return!0},l.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},l.prototype.getIndex=function(){return this.index_},l.prototype.fullLimitUpdateChild_=function(c,h,v,I,F){var J;if(this.reverse_){var De=this.index_.getCompare();J=function(es,xs){return De(xs,es)}}else J=this.index_.getCompare();var Re=c;(0,H.assert)(Re.numChildren()===this.limit_,"");var je=new Ar(h,v),Ze=this.reverse_?Re.getFirstChild(this.index_):Re.getLastChild(this.index_),Xt=this.rangedFilter_.matches(je);if(Re.hasChild(h)){for(var hn=Re.getImmediateChild(h),kn=I.getChildAfterChild(this.index_,Ze,this.reverse_);null!=kn&&(kn.name===h||Re.hasChild(kn.name));)kn=I.getChildAfterChild(this.index_,kn,this.reverse_);var qn=null==kn?1:J(kn,je);if(Xt&&!v.isEmpty()&&qn>=0)return null!=F&&F.trackChildChange(Y(h,v,hn)),Re.updateImmediateChild(h,v);null!=F&&F.trackChildChange(hi(h,hn));var Jr=Re.updateImmediateChild(h,oe.EMPTY_NODE);return null!=kn&&this.rangedFilter_.matches(kn)?(null!=F&&F.trackChildChange(ei(kn.name,kn.node)),Jr.updateImmediateChild(kn.name,kn.node)):Jr}return v.isEmpty()?c:Xt&&J(Ze,je)>=0?(null!=F&&(F.trackChildChange(hi(Ze.name,Ze.node)),F.trackChildChange(ei(h,v))),Re.updateImmediateChild(h,v).updateImmediateChild(Ze.name,oe.EMPTY_NODE)):c},l}(),Ln=function(){function l(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ur}return l.prototype.hasStart=function(){return this.startSet_},l.prototype.hasStartAfter=function(){return this.startAfterSet_},l.prototype.hasEndBefore=function(){return this.endBeforeSet_},l.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},l.prototype.getIndexStartValue=function(){return(0,H.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},l.prototype.getIndexStartName=function(){return(0,H.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Be},l.prototype.hasEnd=function(){return this.endSet_},l.prototype.getIndexEndValue=function(){return(0,H.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},l.prototype.getIndexEndName=function(){return(0,H.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ke},l.prototype.hasLimit=function(){return this.limitSet_},l.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},l.prototype.getLimit=function(){return(0,H.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},l.prototype.getIndex=function(){return this.index_},l.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},l.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ur},l.prototype.copy=function(){var c=new l;return c.limitSet_=this.limitSet_,c.limit_=this.limit_,c.startSet_=this.startSet_,c.indexStartValue_=this.indexStartValue_,c.startNameSet_=this.startNameSet_,c.indexStartName_=this.indexStartName_,c.endSet_=this.endSet_,c.indexEndValue_=this.indexEndValue_,c.endNameSet_=this.endNameSet_,c.indexEndName_=this.indexEndName_,c.index_=this.index_,c.viewFrom_=this.viewFrom_,c},l}();function b(l,c,h){var v=l.copy();return v.startSet_=!0,void 0===c&&(c=null),v.indexStartValue_=c,null!=h?(v.startNameSet_=!0,v.indexStartName_=h):(v.startNameSet_=!1,v.indexStartName_=""),v}function de(l,c,h){var v=l.copy();return v.endSet_=!0,void 0===c&&(c=null),v.indexEndValue_=c,void 0!==h?(v.endNameSet_=!0,v.indexEndName_=h):(v.endNameSet_=!1,v.indexEndName_=""),v}function Sn(l,c){var h=l.copy();return h.index_=c,h}function Vt(l){var h,c={};return l.isDefault()||(l.index_===Ur?h="$priority":l.index_===yi?h="$value":l.index_===bo?h="$key":((0,H.assert)(l.index_ instanceof Cn,"Unrecognized index type!"),h=l.index_.toString()),c.orderBy=(0,H.stringify)(h),l.startSet_&&(c.startAt=(0,H.stringify)(l.indexStartValue_),l.startNameSet_&&(c.startAt+=","+(0,H.stringify)(l.indexStartName_))),l.endSet_&&(c.endAt=(0,H.stringify)(l.indexEndValue_),l.endNameSet_&&(c.endAt+=","+(0,H.stringify)(l.indexEndName_))),l.limitSet_&&(l.isViewFromLeft()?c.limitToFirst=l.limit_:c.limitToLast=l.limit_)),c}function Vn(l){var c={};if(l.startSet_&&(c.sp=l.indexStartValue_,l.startNameSet_&&(c.sn=l.indexStartName_)),l.endSet_&&(c.ep=l.indexEndValue_,l.endNameSet_&&(c.en=l.indexEndName_)),l.limitSet_){c.l=l.limit_;var h=l.viewFrom_;""===h&&(h=l.isViewFromLeft()?"l":"r"),c.vf=h}return l.index_!==Ur&&(c.i=l.index_.toString()),c}var wi=function(l){function c(h,v,I,F){var J=l.call(this)||this;return J.repoInfo_=h,J.onDataUpdate_=v,J.authTokenProvider_=I,J.appCheckTokenProvider_=F,J.log_=rt("p:rest:"),J.listens_={},J}return(0,tt.__extends)(c,l),c.prototype.reportStats=function(h){throw new Error("Method not implemented.")},c.getListenId_=function(h,v){return void 0!==v?"tag$"+v:((0,H.assert)(h._queryParams.isDefault(),"should have a tag if it's not a default query."),h._path.toString())},c.prototype.listen=function(h,v,I,F){var J=this,De=h._path.toString();this.log_("Listen called for "+De+" "+h._queryIdentifier);var Re=c.getListenId_(h,I),je={};this.listens_[Re]=je;var Ze=Vt(h._queryParams);this.restRequest_(De+".json",Ze,function(Xt,hn){var kn=hn;404===Xt&&(kn=null,Xt=null),null===Xt&&J.onDataUpdate_(De,kn,!1,I),(0,H.safeGet)(J.listens_,Re)===je&&F(Xt?401===Xt?"permission_denied":"rest_error:"+Xt:"ok",null)})},c.prototype.unlisten=function(h,v){var I=c.getListenId_(h,v);delete this.listens_[I]},c.prototype.get=function(h){var v=this,I=Vt(h._queryParams),F=h._path.toString(),J=new H.Deferred;return this.restRequest_(F+".json",I,function(De,Re){var je=Re;404===De&&(je=null,De=null),null===De?(v.onDataUpdate_(F,je,!1,null),J.resolve(je)):J.reject(new Error(je))}),J.promise},c.prototype.refreshAuthToken=function(h){},c.prototype.restRequest_=function(h,v,I){var F=this;return void 0===v&&(v={}),v.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(J){var De=(0,tt.__read)(J,2),Re=De[0],je=De[1];Re&&Re.accessToken&&(v.auth=Re.accessToken),je&&je.token&&(v.ac=je.token);var Ze=(F.repoInfo_.secure?"https://":"http://")+F.repoInfo_.host+h+"?ns="+F.repoInfo_.namespace+(0,H.querystring)(v);F.log_("Sending REST request for "+Ze);var Xt=new XMLHttpRequest;Xt.onreadystatechange=function(){if(I&&4===Xt.readyState){F.log_("REST Response for "+Ze+" received. status:",Xt.status,"response:",Xt.responseText);var hn=null;if(Xt.status>=200&&Xt.status<300){try{hn=(0,H.jsonEval)(Xt.responseText)}catch(kn){rn("Failed to parse JSON response for "+Ze+": "+Xt.responseText)}I(null,hn)}else 401!==Xt.status&&404!==Xt.status&&rn("Got unsuccessful REST response for "+Ze+" Status: "+Xt.status),I(Xt.status);I=null}},Xt.open("GET",Ze,!0),Xt.send()})},c}(_r),zr=function(){function l(){this.rootNode_=oe.EMPTY_NODE}return l.prototype.getNode=function(c){return this.rootNode_.getChild(c)},l.prototype.updateSnapshot=function(c,h){this.rootNode_=this.rootNode_.updateChild(c,h)},l}();function so(){return{value:null,children:new Map}}function no(l,c,h){if(It(c))l.value=h,l.children.clear();else if(null!==l.value)l.value=l.value.updateChild(c,h);else{var v=fr(c);l.children.has(v)||l.children.set(v,so()),no(l.children.get(v),c=ne(c),h)}}function Wi(l,c){if(It(c))return l.value=null,l.children.clear(),!0;if(null!==l.value){if(l.value.isLeafNode())return!1;var h=l.value;return l.value=null,h.forEachChild(Ur,function(F,J){no(l,new zn(F),J)}),Wi(l,c)}if(l.children.size>0){var v=fr(c);return c=ne(c),l.children.has(v)&&Wi(l.children.get(v),c)&&l.children.delete(v),0===l.children.size}return!0}function Li(l,c,h){null!==l.value?h(c,l.value):function _n(l,c){l.children.forEach(function(h,v){c(v,h)})}(l,function(v,I){Li(I,new zn(c.toString()+"/"+v),h)})}var Qs=function(){function l(c){this.collection_=c,this.last_=null}return l.prototype.get=function(){var c=this.collection_.get(),h=(0,tt.__assign)({},c);return this.last_&&Rt(this.last_,function(v,I){h[v]=h[v]-I}),this.last_=c,h},l}(),mo=function(){function l(c,h){this.server_=h,this.statsToReport_={},this.statsListener_=new Qs(c);var v=1e4+2e4*Math.random();er(this.reportStats_.bind(this),Math.floor(v))}return l.prototype.reportStats_=function(){var c=this,h=this.statsListener_.get(),v={},I=!1;Rt(h,function(F,J){J>0&&(0,H.contains)(c.statsToReport_,F)&&(v[F]=J,I=!0)}),I&&this.server_.reportStats(v),er(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},l}(),vo=(()=>(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(vo||(vo={})),vo))();function Js(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}var $o=function(){function l(c,h,v){this.path=c,this.affectedTree=h,this.revert=v,this.type=vo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return l.prototype.operationForChild=function(c){if(It(this.path)){if(null!=this.affectedTree.value)return(0,H.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var h=this.affectedTree.subtree(new zn(c));return new l(Dn(),h,this.revert)}return(0,H.assert)(fr(this.path)===c,"operationForChild called for unrelated child."),new l(ne(this.path),this.affectedTree,this.revert)},l}(),Is=function(){function l(c,h){this.source=c,this.path=h,this.type=vo.LISTEN_COMPLETE}return l.prototype.operationForChild=function(c){return It(this.path)?new l(this.source,Dn()):new l(this.source,ne(this.path))},l}(),La=function(){function l(c,h,v){this.source=c,this.path=h,this.snap=v,this.type=vo.OVERWRITE}return l.prototype.operationForChild=function(c){return It(this.path)?new l(this.source,Dn(),this.snap.getImmediateChild(c)):new l(this.source,ne(this.path),this.snap)},l}(),is=function(){function l(c,h,v){this.source=c,this.path=h,this.children=v,this.type=vo.MERGE}return l.prototype.operationForChild=function(c){if(It(this.path)){var h=this.children.subtree(new zn(c));return h.isEmpty()?null:h.value?new La(this.source,Dn(),h.value):new l(this.source,Dn(),h)}return(0,H.assert)(fr(this.path)===c,"Can't get a merge for a child not on the path of the operation"),new l(this.source,ne(this.path),this.children)},l.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},l}(),fo=function(){function l(c,h,v){this.node_=c,this.fullyInitialized_=h,this.filtered_=v}return l.prototype.isFullyInitialized=function(){return this.fullyInitialized_},l.prototype.isFiltered=function(){return this.filtered_},l.prototype.isCompleteForPath=function(c){if(It(c))return this.isFullyInitialized()&&!this.filtered_;var h=fr(c);return this.isCompleteForChild(h)},l.prototype.isCompleteForChild=function(c){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(c)},l.prototype.getNode=function(){return this.node_},l}(),ca=function l(c){this.query_=c,this.index_=this.query_._queryParams.getIndex()};function Ns(l,c,h,v,I,F){var J=v.filter(function(De){return De.type===h});J.sort(function(De,Re){return function Jo(l,c,h){if(null==c.childName||null==h.childName)throw(0,H.assertionError)("Should only compare child_ events.");var v=new Ar(c.childName,c.snapshotNode),I=new Ar(h.childName,h.snapshotNode);return l.index_.compare(v,I)}(l,De,Re)}),J.forEach(function(De){var Re=function Ia(l,c,h){return"value"===c.type||"child_removed"===c.type||(c.prevName=h.getPredecessorChildName(c.childName,c.snapshotNode,l.index_)),c}(l,De,F);I.forEach(function(je){je.respondsTo(De.type)&&c.push(je.createEvent(Re,l.query_))})})}function ro(l,c){return{eventCache:l,serverCache:c}}function Uo(l,c,h,v){return ro(new fo(c,h,v),l.serverCache)}function Ps(l,c,h,v){return ro(l.eventCache,new fo(c,h,v))}function Ds(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function qo(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}var Ba,io=function(){function l(c,h){void 0===h&&(Ba||(Ba=new Je(Tn)),h=Ba),this.value=c,this.children=h}return l.fromObject=function(c){var h=new l(null);return Rt(c,function(v,I){h=h.set(new zn(v),I)}),h},l.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},l.prototype.findRootMostMatchingPathAndValue=function(c,h){if(null!=this.value&&h(this.value))return{path:Dn(),value:this.value};if(It(c))return null;var v=fr(c),I=this.children.get(v);if(null!==I){var F=I.findRootMostMatchingPathAndValue(ne(c),h);return null!=F?{path:lt(new zn(v),F.path),value:F.value}:null}return null},l.prototype.findRootMostValueAndPath=function(c){return this.findRootMostMatchingPathAndValue(c,function(){return!0})},l.prototype.subtree=function(c){if(It(c))return this;var h=fr(c),v=this.children.get(h);return null!==v?v.subtree(ne(c)):new l(null)},l.prototype.set=function(c,h){if(It(c))return new l(h,this.children);var v=fr(c),F=(this.children.get(v)||new l(null)).set(ne(c),h),J=this.children.insert(v,F);return new l(this.value,J)},l.prototype.remove=function(c){if(It(c))return this.children.isEmpty()?new l(null):new l(null,this.children);var h=fr(c),v=this.children.get(h);if(v){var I=v.remove(ne(c)),F=void 0;return F=I.isEmpty()?this.children.remove(h):this.children.insert(h,I),null===this.value&&F.isEmpty()?new l(null):new l(this.value,F)}return this},l.prototype.get=function(c){if(It(c))return this.value;var h=fr(c),v=this.children.get(h);return v?v.get(ne(c)):null},l.prototype.setTree=function(c,h){if(It(c))return h;var J,v=fr(c),F=(this.children.get(v)||new l(null)).setTree(ne(c),h);return J=F.isEmpty()?this.children.remove(v):this.children.insert(v,F),new l(this.value,J)},l.prototype.fold=function(c){return this.fold_(Dn(),c)},l.prototype.fold_=function(c,h){var v={};return this.children.inorderTraversal(function(I,F){v[I]=F.fold_(lt(c,I),h)}),h(c,this.value,v)},l.prototype.findOnPath=function(c,h){return this.findOnPath_(c,Dn(),h)},l.prototype.findOnPath_=function(c,h,v){var I=!!this.value&&v(h,this.value);if(I)return I;if(It(c))return null;var F=fr(c),J=this.children.get(F);return J?J.findOnPath_(ne(c),lt(h,F),v):null},l.prototype.foreachOnPath=function(c,h){return this.foreachOnPath_(c,Dn(),h)},l.prototype.foreachOnPath_=function(c,h,v){if(It(c))return this;this.value&&v(h,this.value);var I=fr(c),F=this.children.get(I);return F?F.foreachOnPath_(ne(c),lt(h,I),v):new l(null)},l.prototype.foreach=function(c){this.foreach_(Dn(),c)},l.prototype.foreach_=function(c,h){this.children.inorderTraversal(function(v,I){I.foreach_(lt(c,v),h)}),this.value&&h(c,this.value)},l.prototype.foreachChild=function(c){this.children.inorderTraversal(function(h,v){v.value&&c(h,v.value)})},l}(),jo=function(){function l(c){this.writeTree_=c}return l.empty=function(){return new l(new io(null))},l}();function Bi(l,c,h){if(It(c))return new jo(new io(h));var v=l.writeTree_.findRootMostValueAndPath(c);if(null!=v){var I=v.path,F=v.value,J=en(I,c);return F=F.updateChild(J,h),new jo(l.writeTree_.set(I,F))}var De=new io(h),Re=l.writeTree_.setTree(c,De);return new jo(Re)}function la(l,c,h){var v=l;return Rt(h,function(I,F){v=Bi(v,lt(c,I),F)}),v}function Da(l,c){if(It(c))return jo.empty();var h=l.writeTree_.setTree(c,new io(null));return new jo(h)}function Zs(l,c){return null!=zo(l,c)}function zo(l,c){var h=l.writeTree_.findRootMostValueAndPath(c);return null!=h?l.writeTree_.get(h.path).getChild(en(h.path,c)):null}function ea(l){var c=[],h=l.writeTree_.value;return null!=h?h.isLeafNode()||h.forEachChild(Ur,function(v,I){c.push(new Ar(v,I))}):l.writeTree_.children.inorderTraversal(function(v,I){null!=I.value&&c.push(new Ar(v,I.value))}),c}function y(l,c){if(It(c))return l;var h=zo(l,c);return new jo(null!=h?new io(h):l.writeTree_.subtree(c))}function P(l){return l.writeTree_.isEmpty()}function te(l,c){return Ie(Dn(),l.writeTree_,c)}function Ie(l,c,h){if(null!=c.value)return h.updateChild(l,c.value);var v=null;return c.children.inorderTraversal(function(I,F){".priority"===I?((0,H.assert)(null!==F.value,"Priority writes must always be leaf nodes"),v=F.value):h=Ie(lt(l,I),F,h)}),!h.getChild(l).isEmpty()&&null!==v&&(h=h.updateChild(lt(l,".priority"),v)),h}function ft(l,c){return _s(c,l)}function Gi(l,c){if(l.snap)return On(l.path,c);for(var h in l.children)if(l.children.hasOwnProperty(h)&&On(lt(l.path,h),c))return!0;return!1}function yo(l){return l.visible}function hs(l,c,h){for(var v=jo.empty(),I=0;I<l.length;++I){var F=l[I];if(c(F)){var J=F.path,De=void 0;if(F.snap)On(h,J)?v=Bi(v,De=en(h,J),F.snap):On(J,h)&&(De=en(J,h),v=Bi(v,Dn(),F.snap.getChild(De)));else{if(!F.children)throw(0,H.assertionError)("WriteRecord should have .snap or .children");if(On(h,J))v=la(v,De=en(h,J),F.children);else if(On(J,h))if(It(De=en(J,h)))v=la(v,Dn(),F.children);else{var Re=(0,H.safeGet)(F.children,fr(De));if(Re){var je=Re.getChild(ne(De));v=Bi(v,Dn(),je)}}}}}return v}function fa(l,c,h,v,I){if(v||I){var Re=y(l.visibleWrites,c);return!I&&P(Re)?h:I||null!=h||Zs(Re,Dn())?te(hs(l.allWrites,function(hn){return(hn.visible||I)&&(!v||!~v.indexOf(hn.writeId))&&(On(hn.path,c)||On(c,hn.path))},c),h||oe.EMPTY_NODE):null}var F=zo(l.visibleWrites,c);if(null!=F)return F;var J=y(l.visibleWrites,c);return P(J)?h:null!=h||Zs(J,Dn())?te(J,h||oe.EMPTY_NODE):null}function Ts(l,c,h,v){return fa(l.writeTree,l.treePath,c,h,v)}function Va(l,c){return function Hs(l,c,h){var v=oe.EMPTY_NODE,I=zo(l.visibleWrites,c);if(I)return I.isLeafNode()||I.forEachChild(Ur,function(De,Re){v=v.updateImmediateChild(De,Re)}),v;if(h){var F=y(l.visibleWrites,c);return h.forEachChild(Ur,function(De,Re){var je=te(y(F,new zn(De)),Re);v=v.updateImmediateChild(De,je)}),ea(F).forEach(function(De){v=v.updateImmediateChild(De.name,De.node)}),v}return ea(y(l.visibleWrites,c)).forEach(function(De){v=v.updateImmediateChild(De.name,De.node)}),v}(l.writeTree,l.treePath,c)}function ta(l,c,h,v){return function Nu(l,c,h,v,I){(0,H.assert)(v||I,"Either existingEventSnap or existingServerSnap must exist");var F=lt(c,h);if(Zs(l.visibleWrites,F))return null;var J=y(l.visibleWrites,F);return P(J)?I.getChild(h):te(J,I.getChild(h))}(l.writeTree,l.treePath,c,h,v)}function Wo(l,c){return function So(l,c){return zo(l.visibleWrites,c)}(l.writeTree,lt(l.treePath,c))}function xi(l,c,h){return function Gs(l,c,h,v){var I=lt(c,h),F=zo(l.visibleWrites,I);return null!=F?F:v.isCompleteForChild(h)?te(y(l.visibleWrites,I),v.getNode().getImmediateChild(h)):null}(l.writeTree,l.treePath,c,h)}function Ss(l,c){return _s(lt(l.treePath,c),l.writeTree)}function _s(l,c){return{treePath:l,writeTree:c}}var Pu=function(){function l(){this.changeMap=new Map}return l.prototype.trackChildChange=function(c){var h=c.type,v=c.childName;(0,H.assert)("child_added"===h||"child_changed"===h||"child_removed"===h,"Only child changes supported for tracking"),(0,H.assert)(".priority"!==v,"Only non-priority child changes can be tracked.");var I=this.changeMap.get(v);if(I){var F=I.type;if("child_added"===h&&"child_removed"===F)this.changeMap.set(v,Y(v,c.snapshotNode,I.snapshotNode));else if("child_removed"===h&&"child_added"===F)this.changeMap.delete(v);else if("child_removed"===h&&"child_changed"===F)this.changeMap.set(v,hi(v,I.oldSnap));else if("child_changed"===h&&"child_added"===F)this.changeMap.set(v,ei(v,c.snapshotNode));else{if("child_changed"!==h||"child_changed"!==F)throw(0,H.assertionError)("Illegal combination of changes: "+c+" occurred after "+I);this.changeMap.set(v,Y(v,c.snapshotNode,I.oldSnap))}}else this.changeMap.set(v,c)},l.prototype.getChanges=function(){return Array.from(this.changeMap.values())},l}(),ha=function(){function l(){}return l.prototype.getCompleteChild=function(c){return null},l.prototype.getChildAfterChild=function(c,h,v){return null},l}(),ts=new ha,$a=function(){function l(c,h,v){void 0===v&&(v=null),this.writes_=c,this.viewCache_=h,this.optCompleteServerCache_=v}return l.prototype.getCompleteChild=function(c){var h=this.viewCache_.eventCache;if(h.isCompleteForChild(c))return h.getNode().getImmediateChild(c);var v=null!=this.optCompleteServerCache_?new fo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xi(this.writes_,c,v)},l.prototype.getChildAfterChild=function(c,h,v){var I=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:qo(this.viewCache_),F=function da(l,c,h,v,I,F){return function ao(l,c,h,v,I,F,J){var De,Re=y(l.visibleWrites,c),je=zo(Re,Dn());if(null!=je)De=je;else{if(null==h)return[];De=te(Re,h)}if((De=De.withIndex(J)).isEmpty()||De.isLeafNode())return[];for(var Ze=[],Xt=J.getCompare(),hn=F?De.getReverseIteratorFrom(v,J):De.getIteratorFrom(v,J),kn=hn.getNext();kn&&Ze.length<I;)0!==Xt(kn,v)&&Ze.push(kn),kn=hn.getNext();return Ze}(l.writeTree,l.treePath,c,h,v,I,F)}(this.writes_,I,h,1,v,c);return 0===F.length?null:F[0]},l}();function Ja(l,c,h,v,I,F){var J=c.eventCache;if(null!=Wo(v,h))return c;var De=void 0,Re=void 0;if(It(h))if((0,H.assert)(c.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),c.serverCache.isFiltered()){var je=qo(c),Xt=Va(v,je instanceof oe?je:oe.EMPTY_NODE);De=l.filter.updateFullNode(c.eventCache.getNode(),Xt,F)}else{var hn=Ts(v,qo(c));De=l.filter.updateFullNode(c.eventCache.getNode(),hn,F)}else{var kn=fr(h);if(".priority"===kn){(0,H.assert)(1===gi(h),"Can't have a priority with additional path components");var qn=J.getNode(),Xr=ta(v,h,qn,Re=c.serverCache.getNode());De=null!=Xr?l.filter.updatePriority(qn,Xr):J.getNode()}else{var Jr=ne(h),bi=void 0;if(J.isCompleteForChild(kn)){Re=c.serverCache.getNode();var es=ta(v,h,J.getNode(),Re);bi=null!=es?J.getNode().getImmediateChild(kn).updateChild(Jr,es):J.getNode().getImmediateChild(kn)}else bi=xi(v,kn,c.serverCache);De=null!=bi?l.filter.updateChild(J.getNode(),kn,bi,Jr,I,F):J.getNode()}}return Uo(c,De,J.isFullyInitialized()||It(h),l.filter.filtersNodes())}function zs(l,c,h,v,I,F,J,De){var je,Re=c.serverCache,Ze=J?l.filter:l.filter.getIndexedFilter();if(It(h))je=Ze.updateFullNode(Re.getNode(),v,null);else if(Ze.filtersNodes()&&!Re.isFiltered()){var Xt=Re.getNode().updateChild(h,v);je=Ze.updateFullNode(Re.getNode(),Xt,null)}else{var hn=fr(h);if(!Re.isCompleteForPath(h)&&gi(h)>1)return c;var kn=ne(h),Xr=Re.getNode().getImmediateChild(hn).updateChild(kn,v);je=".priority"===hn?Ze.updatePriority(Re.getNode(),Xr):Ze.updateChild(Re.getNode(),hn,Xr,kn,ts,null)}var Jr=Ps(c,je,Re.isFullyInitialized()||It(h),Ze.filtersNodes());return Ja(l,Jr,h,I,new $a(I,Jr,F),De)}function _u(l,c,h,v,I,F,J){var Re,je,De=c.eventCache,Ze=new $a(I,c,F);if(It(h))je=l.filter.updateFullNode(c.eventCache.getNode(),v,J),Re=Uo(c,je,!0,l.filter.filtersNodes());else{var Xt=fr(h);if(".priority"===Xt)je=l.filter.updatePriority(c.eventCache.getNode(),v),Re=Uo(c,je,De.isFullyInitialized(),De.isFiltered());else{var hn=ne(h),kn=De.getNode().getImmediateChild(Xt),qn=void 0;if(It(hn))qn=v;else{var Xr=Ze.getCompleteChild(Xt);qn=null!=Xr?".priority"===Oe(hn)&&Xr.getChild(ut(hn)).isEmpty()?Xr:Xr.updateChild(hn,v):oe.EMPTY_NODE}Re=kn.equals(qn)?c:Uo(c,l.filter.updateChild(De.getNode(),Xt,qn,hn,Ze,J),De.isFullyInitialized(),l.filter.filtersNodes())}}return Re}function Ws(l,c){return l.eventCache.isCompleteForChild(c)}function Dr(l,c,h){return h.foreach(function(v,I){c=c.updateChild(v,I)}),c}function uo(l,c,h,v,I,F,J,De){if(c.serverCache.getNode().isEmpty()&&!c.serverCache.isFullyInitialized())return c;var je,Re=c;je=It(h)?v:new io(null).setTree(h,v);var Ze=c.serverCache.getNode();return je.children.inorderTraversal(function(Xt,hn){if(Ze.hasChild(Xt)){var qn=Dr(0,c.serverCache.getNode().getImmediateChild(Xt),hn);Re=zs(l,Re,new zn(Xt),qn,I,F,J,De)}}),je.children.inorderTraversal(function(Xt,hn){var kn=!c.serverCache.isCompleteForChild(Xt)&&void 0===hn.value;if(!Ze.hasChild(Xt)&&!kn){var Xr=Dr(0,c.serverCache.getNode().getImmediateChild(Xt),hn);Re=zs(l,Re,new zn(Xt),Xr,I,F,J,De)}}),Re}var Ys=function(){function l(c,h){this.query_=c,this.eventRegistrations_=[];var v=this.query_._queryParams,I=new B(v.getIndex()),F=function vn(l){return l.loadsAllData()?new B(l.getIndex()):l.hasLimit()?new Yt(l):new ge(l)}(v);this.processor_=function os(l){return{filter:l}}(F);var J=h.serverCache,De=h.eventCache,Re=I.updateFullNode(oe.EMPTY_NODE,J.getNode(),null),je=F.updateFullNode(oe.EMPTY_NODE,De.getNode(),null),Ze=new fo(Re,J.isFullyInitialized(),I.filtersNodes()),Xt=new fo(je,De.isFullyInitialized(),F.filtersNodes());this.viewCache_=ro(Xt,Ze),this.eventGenerator_=new ca(this.query_)}return Object.defineProperty(l.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),l}();function Ju(l,c){var h=qo(l.viewCache_);return h&&(l.query._queryParams.loadsAllData()||!It(c)&&!h.getImmediateChild(fr(c)).isEmpty())?h.getChild(c):null}function ra(l){return 0===l.eventRegistrations_.length}function tu(l,c,h){var v=[];if(h){(0,H.assert)(null==c,"A cancel should cancel all event registrations.");var I=l.query._path;l.eventRegistrations_.forEach(function(Re){var je=Re.createCancelEvent(h,I);je&&v.push(je)})}if(c){for(var F=[],J=0;J<l.eventRegistrations_.length;++J){var De=l.eventRegistrations_[J];if(De.matches(c)){if(c.hasAnyCallback()){F=F.concat(l.eventRegistrations_.slice(J+1));break}}else F.push(De)}l.eventRegistrations_=F}else l.eventRegistrations_=[];return v}function ia(l,c,h,v){c.type===vo.MERGE&&null!==c.source.queryId&&((0,H.assert)(qo(l.viewCache_),"We should always have a full cache before handling merges"),(0,H.assert)(Ds(l.viewCache_),"Missing event cache, even though we have a server cache"));var I=l.viewCache_,F=function vu(l,c,h,v,I){var J,De,F=new Pu;if(h.type===vo.OVERWRITE){var Re=h;Re.source.fromUser?J=_u(l,c,Re.path,Re.snap,v,I,F):((0,H.assert)(Re.source.fromServer,"Unknown source."),De=Re.source.tagged||c.serverCache.isFiltered()&&!It(Re.path),J=zs(l,c,Re.path,Re.snap,v,I,De,F))}else if(h.type===vo.MERGE){var je=h;je.source.fromUser?J=function us(l,c,h,v,I,F,J){var De=c;return v.foreach(function(Re,je){var Ze=lt(h,Re);Ws(c,fr(Ze))&&(De=_u(l,De,Ze,je,I,F,J))}),v.foreach(function(Re,je){var Ze=lt(h,Re);Ws(c,fr(Ze))||(De=_u(l,De,Ze,je,I,F,J))}),De}(l,c,je.path,je.children,v,I,F):((0,H.assert)(je.source.fromServer,"Unknown source."),De=je.source.tagged||c.serverCache.isFiltered(),J=uo(l,c,je.path,je.children,v,I,De,F))}else if(h.type===vo.ACK_USER_WRITE){var Ze=h;J=Ze.revert?function pa(l,c,h,v,I,F){var J;if(null!=Wo(v,h))return c;var De=new $a(v,c,I),Re=c.eventCache.getNode(),je=void 0;if(It(h)||".priority"===fr(h)){var Ze=void 0;if(c.serverCache.isFullyInitialized())Ze=Ts(v,qo(c));else{var Xt=c.serverCache.getNode();(0,H.assert)(Xt instanceof oe,"serverChildren would be complete if leaf node"),Ze=Va(v,Xt)}je=l.filter.updateFullNode(Re,Ze=Ze,F)}else{var hn=fr(h),kn=xi(v,hn,c.serverCache);null==kn&&c.serverCache.isCompleteForChild(hn)&&(kn=Re.getImmediateChild(hn)),(je=null!=kn?l.filter.updateChild(Re,hn,kn,ne(h),De,F):c.eventCache.getNode().hasChild(hn)?l.filter.updateChild(Re,hn,oe.EMPTY_NODE,ne(h),De,F):Re).isEmpty()&&c.serverCache.isFullyInitialized()&&(J=Ts(v,qo(c))).isLeafNode()&&(je=l.filter.updateFullNode(je,J,F))}return J=c.serverCache.isFullyInitialized()||null!=Wo(v,Dn()),Uo(c,je,J,l.filter.filtersNodes())}(l,c,Ze.path,v,I,F):function na(l,c,h,v,I,F,J){if(null!=Wo(I,h))return c;var De=c.serverCache.isFiltered(),Re=c.serverCache;if(null!=v.value){if(It(h)&&Re.isFullyInitialized()||Re.isCompleteForPath(h))return zs(l,c,h,Re.getNode().getChild(h),I,F,De,J);if(It(h)){var je=new io(null);return Re.getNode().forEachChild(bo,function(Xt,hn){je=je.set(new zn(Xt),hn)}),uo(l,c,h,je,I,F,De,J)}return c}var Ze=new io(null);return v.foreach(function(Xt,hn){var kn=lt(h,Xt);Re.isCompleteForPath(kn)&&(Ze=Ze.set(Xt,Re.getNode().getChild(kn)))}),uo(l,c,h,Ze,I,F,De,J)}(l,c,Ze.path,Ze.affectedTree,v,I,F)}else{if(h.type!==vo.LISTEN_COMPLETE)throw(0,H.assertionError)("Unknown operation type: "+h.type);J=function Za(l,c,h,v,I){var F=c.serverCache;return Ja(l,Ps(c,F.getNode(),F.isFullyInitialized()||It(h),F.isFiltered()),h,v,ts,I)}(l,c,h.path,v,F)}var Xt=F.getChanges();return function yu(l,c,h){var v=c.eventCache;if(v.isFullyInitialized()){var I=v.getNode().isLeafNode()||v.getNode().isEmpty(),F=Ds(l);(h.length>0||!l.eventCache.isFullyInitialized()||I&&!v.getNode().equals(F)||!v.getNode().getPriority().equals(F.getPriority()))&&h.push(zi(Ds(c)))}}(c,J,Xt),{viewCache:J,changes:Xt}}(l.processor_,I,c,h,v);return function qs(l,c){(0,H.assert)(c.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),(0,H.assert)(c.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}(l.processor_,F.viewCache),(0,H.assert)(F.viewCache.serverCache.isFullyInitialized()||!I.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=F.viewCache,ga(l,F.changes,F.viewCache.eventCache.getNode(),null)}function ga(l,c,h,v){return function Po(l,c,h,v){var I=[],F=[];return c.forEach(function(J){"child_changed"===J.type&&l.index_.indexedValueChanged(J.oldSnap,J.snapshotNode)&&F.push(function $(l,c){return{type:"child_moved",snapshotNode:c,childName:l}}(J.childName,J.snapshotNode))}),Ns(l,I,"child_removed",c,v,h),Ns(l,I,"child_added",c,v,h),Ns(l,I,"child_moved",F,v,h),Ns(l,I,"child_changed",c,v,h),Ns(l,I,"value",c,v,h),I}(l.eventGenerator_,c,h,v?[v]:l.eventRegistrations_)}var Ho,ps,N=function l(){this.views=new Map};function ee(l,c,h,v){var I,F,J=c.source.queryId;if(null!==J){var De=l.views.get(J);return(0,H.assert)(null!=De,"SyncTree gave us an op for an invalid query."),ia(De,c,h,v)}var Re=[];try{for(var je=(0,tt.__values)(l.views.values()),Ze=je.next();!Ze.done;Ze=je.next())Re=Re.concat(ia(De=Ze.value,c,h,v))}catch(Xt){I={error:Xt}}finally{try{Ze&&!Ze.done&&(F=je.return)&&F.call(je)}finally{if(I)throw I.error}}return Re}function le(l,c,h,v,I){var J=l.views.get(c._queryIdentifier);if(!J){var De=Ts(h,I?v:null),Re=!1;De?Re=!0:v instanceof oe?(De=Va(h,v),Re=!1):(De=oe.EMPTY_NODE,Re=!1);var je=ro(new fo(De,Re,!1),new fo(v,I,!1));return new Ys(c,je)}return J}function un(l){var c,h,v=[];try{for(var I=(0,tt.__values)(l.views.values()),F=I.next();!F.done;F=I.next()){var J=F.value;J.query._queryParams.loadsAllData()||v.push(J)}}catch(De){c={error:De}}finally{try{F&&!F.done&&(h=I.return)&&h.call(I)}finally{if(c)throw c.error}}return v}function ir(l,c){var h,v,I=null;try{for(var F=(0,tt.__values)(l.views.values()),J=F.next();!J.done;J=F.next())I=I||Ju(J.value,c)}catch(Re){h={error:Re}}finally{try{J&&!J.done&&(v=F.return)&&v.call(F)}finally{if(h)throw h.error}}return I}function Oi(l,c){return c._queryParams.loadsAllData()?Ci(l):l.views.get(c._queryIdentifier)}function Nr(l,c){return null!=Oi(l,c)}function Vi(l){return null!=Ci(l)}function Ci(l){var c,h;try{for(var v=(0,tt.__values)(l.views.values()),I=v.next();!I.done;I=v.next()){var F=I.value;if(F.query._queryParams.loadsAllData())return F}}catch(J){c={error:J}}finally{try{I&&!I.done&&(h=v.return)&&h.call(v)}finally{if(c)throw c.error}}return null}var Ua=1,Zo=function l(c){this.listenProvider_=c,this.syncPointTree_=new io(null),this.pendingWriteTree_=function Qa(){return{visibleWrites:jo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Fu(l,c,h,v,I){return function Gt(l,c,h,v,I){(0,H.assert)(v>l.lastWriteId,"Stacking an older write on top of newer ones"),void 0===I&&(I=!0),l.allWrites.push({path:c,snap:h,writeId:v,visible:I}),I&&(l.visibleWrites=Bi(l.visibleWrites,c,h)),l.lastWriteId=v}(l.pendingWriteTree_,c,h,v,I),I?ms(l,new La({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,h)):[]}function ss(l,c,h){void 0===h&&(h=!1);var v=function Ri(l,c){for(var h=0;h<l.allWrites.length;h++){var v=l.allWrites[h];if(v.writeId===c)return v}return null}(l.pendingWriteTree_,c);if(function ai(l,c){var h=l.allWrites.findIndex(function(je){return je.writeId===c});(0,H.assert)(h>=0,"removeWrite called with nonexistent writeId.");var v=l.allWrites[h];l.allWrites.splice(h,1);for(var I=v.visible,F=!1,J=l.allWrites.length-1;I&&J>=0;){var De=l.allWrites[J];De.visible&&(J>=h&&Gi(De,v.path)?I=!1:On(v.path,De.path)&&(F=!0)),J--}return!!I&&(F?(function Eo(l){l.visibleWrites=hs(l.allWrites,yo,Dn()),l.lastWriteId=l.allWrites.length>0?l.allWrites[l.allWrites.length-1].writeId:-1}(l),!0):(v.snap?l.visibleWrites=Da(l.visibleWrites,v.path):Rt(v.children,function(je){l.visibleWrites=Da(l.visibleWrites,lt(v.path,je))}),!0))}(l.pendingWriteTree_,c)){var F=new io(null);return null!=v.snap?F=F.set(Dn(),!0):Rt(v.children,function(J){F=F.set(new zn(J),!0)}),ms(l,new $o(v.path,F,h))}return[]}function Ta(l,c,h){return ms(l,new La({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,h))}function pc(l,c,h,v){var I=c._path,F=l.syncPointTree_.get(I),J=[];if(F&&("default"===c._queryIdentifier||Nr(F,c))){var De=function gt(l,c,h,v){var I,F,J=c._queryIdentifier,De=[],Re=[],je=Vi(l);if("default"===J)try{for(var Ze=(0,tt.__values)(l.views.entries()),Xt=Ze.next();!Xt.done;Xt=Ze.next()){var qn,hn=(0,tt.__read)(Xt.value,2),kn=hn[0];Re=Re.concat(tu(qn=hn[1],h,v)),ra(qn)&&(l.views.delete(kn),qn.query._queryParams.loadsAllData()||De.push(qn.query))}}catch(Xr){I={error:Xr}}finally{try{Xt&&!Xt.done&&(F=Ze.return)&&F.call(Ze)}finally{if(I)throw I.error}}else(qn=l.views.get(J))&&(Re=Re.concat(tu(qn,h,v)),ra(qn)&&(l.views.delete(J),qn.query._queryParams.loadsAllData()||De.push(qn.query)));return je&&!Vi(l)&&De.push(new(function D(){return(0,H.assert)(Ho,"Reference.ts has not been loaded"),Ho}())(c._repo,c._path)),{removed:De,events:Re}}(F,c,h,v);(function U(l){return 0===l.views.size})(F)&&(l.syncPointTree_=l.syncPointTree_.remove(I));var Re=De.removed;J=De.events;var je=-1!==Re.findIndex(function(es){return es._queryParams.loadsAllData()}),Ze=l.syncPointTree_.findOnPath(I,function(es,xs){return Vi(xs)});if(je&&!Ze){var Xt=l.syncPointTree_.subtree(I);if(!Xt.isEmpty())for(var hn=function mc(l){return l.fold(function(c,h,v){if(h&&Vi(h))return[Ci(h)];var F=[];return h&&(F=un(h)),Rt(v,function(J,De){F=F.concat(De)}),F})}(Xt),kn=0;kn<hn.length;++kn){var qn=hn[kn],Xr=qn.query,Jr=ma(l,qn);l.listenProvider_.startListening(Ha(Xr),su(l,Xr),Jr.hashFn,Jr.onComplete)}}!Ze&&Re.length>0&&!v&&(je?l.listenProvider_.stopListening(Ha(c),null):Re.forEach(function(es){var xs=l.queryToTagMap.get(ja(es));l.listenProvider_.stopListening(Ha(es),xs)})),function Zu(l,c){for(var h=0;h<c.length;++h){var v=c[h];if(!v._queryParams.loadsAllData()){var I=ja(v),F=l.queryToTagMap.get(I);l.queryToTagMap.delete(I),l.tagToQueryMap.delete(F)}}}(l,Re)}return J}function gc(l,c,h){var v=c._path,I=null,F=!1;l.syncPointTree_.foreachOnPath(v,function(Xr,Jr){var bi=en(Xr,v);I=I||ir(Jr,bi),F=F||Vi(Jr)});var De,J=l.syncPointTree_.get(v);J?(F=F||Vi(J),I=I||ir(J,Dn())):(J=new N,l.syncPointTree_=l.syncPointTree_.set(v,J)),null!=I?De=!0:(De=!1,I=oe.EMPTY_NODE,l.syncPointTree_.subtree(v).foreachChild(function(Xr,Jr){var bi=ir(Jr,Dn());bi&&(I=I.updateImmediateChild(Xr,bi))}));var je=Nr(J,c);if(!je&&!c._queryParams.loadsAllData()){var Ze=ja(c);(0,H.assert)(!l.queryToTagMap.has(Ze),"View does not exist, but we have a tag");var Xt=function Bu(){return Ua++}();l.queryToTagMap.set(Ze,Xt),l.tagToQueryMap.set(Xt,Ze)}var kn=function Xe(l,c,h,v,I,F){var J=le(l,c,v,I,F);return l.views.has(c._queryIdentifier)||l.views.set(c._queryIdentifier,J),function eu(l,c){l.eventRegistrations_.push(c)}(J,h),function Ao(l,c){var h=l.viewCache_.eventCache,v=[];return h.getNode().isLeafNode()||h.getNode().forEachChild(Ur,function(F,J){v.push(ei(F,J))}),h.isFullyInitialized()&&v.push(zi(h.getNode())),ga(l,v,h.getNode(),c)}(J,h)}(J,c,h,ft(l.pendingWriteTree_,v),I,De);if(!je&&!F){var qn=Oi(J,c);kn=kn.concat(function Cu(l,c,h){var v=c._path,I=su(l,c),F=ma(l,h),J=l.listenProvider_.startListening(Ha(c),I,F.hashFn,F.onComplete),De=l.syncPointTree_.subtree(v);if(I)(0,H.assert)(!Vi(De.value),"If we're adding a query, it shouldn't be shadowed");else for(var Re=De.fold(function(Xt,hn,kn){if(!It(Xt)&&hn&&Vi(hn))return[Ci(hn).query];var qn=[];return hn&&(qn=qn.concat(un(hn).map(function(Xr){return Xr.query}))),Rt(kn,function(Xr,Jr){qn=qn.concat(Jr)}),qn}),je=0;je<Re.length;++je){var Ze=Re[je];l.listenProvider_.stopListening(Ha(Ze),su(l,Ze))}return J}(l,c,qn))}return kn}function iu(l,c,h){var I=l.pendingWriteTree_,F=l.syncPointTree_.findOnPath(c,function(J,De){var je=ir(De,en(J,c));if(je)return je});return fa(I,c,F,h,!0)}function ms(l,c){return Aa(c,l.syncPointTree_,null,ft(l.pendingWriteTree_,Dn()))}function Aa(l,c,h,v){if(It(l.path))return ou(l,c,h,v);var I=c.get(Dn());null==h&&null!=I&&(h=ir(I,Dn()));var F=[],J=fr(l.path),De=l.operationForChild(J),Re=c.children.get(J);if(Re&&De){var je=h?h.getImmediateChild(J):null,Ze=Ss(v,J);F=F.concat(Aa(De,Re,je,Ze))}return I&&(F=F.concat(ee(I,l,v,h))),F}function ou(l,c,h,v){var I=c.get(Dn());null==h&&null!=I&&(h=ir(I,Dn()));var F=[];return c.children.inorderTraversal(function(J,De){var Re=h?h.getImmediateChild(J):null,je=Ss(v,J),Ze=l.operationForChild(J);Ze&&(F=F.concat(ou(Ze,De,Re,je)))}),I&&(F=F.concat(ee(I,l,v,h))),F}function ma(l,c){var h=c.query,v=su(l,h);return{hashFn:function(){var I=function wu(l){return l.viewCache_.serverCache.getNode()}(c)||oe.EMPTY_NODE;return I.hash()},onComplete:function(I){if("ok"===I)return v?function Lc(l,c,h){var v=Lu(l,h);if(v){var I=va(v),F=I.path,J=I.queryId,De=en(F,c);return Eu(l,F,new Is(Js(J),De))}return[]}(l,h._path,v):function ru(l,c){return ms(l,new Is({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c))}(l,h._path);var F=function Ft(l,c){var h="Unknown Error";"too_big"===l?h="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===l?h="Client doesn't have permission to access the desired data.":"unavailable"===l&&(h="The service is unavailable");var v=new Error(l+" at "+c._path.toString()+": "+h);return v.code=l.toUpperCase(),v}(I,h);return pc(l,h,null,F)}}}function su(l,c){var h=ja(c);return l.queryToTagMap.get(h)}function ja(l){return l._path.toString()+"$"+l._queryIdentifier}function Lu(l,c){return l.tagToQueryMap.get(c)}function va(l){var c=l.indexOf("$");return(0,H.assert)(-1!==c&&c<l.length-1,"Bad queryKey."),{queryId:l.substr(c+1),path:new zn(l.substr(0,c))}}function Eu(l,c,h){var v=l.syncPointTree_.get(c);return(0,H.assert)(v,"Missing sync point for query tag that we're tracking"),ee(v,h,ft(l.pendingWriteTree_,c),null)}function Ha(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(function nu(){return(0,H.assert)(ps,"Reference.ts has not been loaded"),ps}())(l._repo,l._path):l}var Ma=function(){function l(c){this.node_=c}return l.prototype.getImmediateChild=function(c){return new l(this.node_.getImmediateChild(c))},l.prototype.node=function(){return this.node_},l}(),Ks=function(){function l(c,h){this.syncTree_=c,this.path_=h}return l.prototype.getImmediateChild=function(c){var h=lt(this.path_,c);return new l(this.syncTree_,h)},l.prototype.node=function(){return iu(this.syncTree_,this.path_)},l}(),vc=function(l,c,h){return l&&"object"==typeof l?((0,H.assert)(".sv"in l,"Unexpected leaf node or priority contents"),"string"==typeof l[".sv"]?gl(l[".sv"],c,h):"object"==typeof l[".sv"]?$c(l[".sv"],c):void(0,H.assert)(!1,"Unexpected server value: "+JSON.stringify(l,null,2))):l},gl=function(l,c,h){if("timestamp"===l)return h.timestamp;(0,H.assert)(!1,"Unexpected server value: "+l)},$c=function(l,c,h){l.hasOwnProperty("increment")||(0,H.assert)(!1,"Unexpected server value: "+JSON.stringify(l,null,2));var v=l.increment;"number"!=typeof v&&(0,H.assert)(!1,"Unexpected increment value: "+v);var I=c.node();if((0,H.assert)(null!=I,"Expected ChildrenNode.EMPTY_NODE for nulls"),!I.isLeafNode())return v;var J=I.getValue();return"number"!=typeof J?v:J+v},R=function(l,c,h,v){return W(c,new Ks(h,l),v)},M=function(l,c,h){return W(l,new Ma(c),h)};function W(l,c,h){var F,v=l.getPriority().val(),I=vc(v,c.getImmediateChild(".priority"),h);if(l.isLeafNode()){var J=l,De=vc(J.getValue(),c,h);return De!==J.getValue()||I!==J.getPriority().val()?new oi(De,Ht(I)):l}var Re=l;return F=Re,I!==Re.getPriority().val()&&(F=F.updatePriority(new oi(I))),Re.forEachChild(Ur,function(je,Ze){var Xt=W(Ze,c.getImmediateChild(je),h);Xt!==Ze&&(F=F.updateImmediateChild(je,Xt))}),F}var se=function l(c,h,v){void 0===c&&(c=""),void 0===h&&(h=null),void 0===v&&(v={children:{},childCount:0}),this.name=c,this.parent=h,this.node=v};function me(l,c){for(var h=c instanceof zn?c:new zn(c),v=l,I=fr(h);null!==I;){var F=(0,H.safeGet)(v.node.children,I)||{children:{},childCount:0};v=new se(I,v,F),I=fr(h=ne(h))}return v}function Ne(l){return l.node.value}function _t(l,c){l.node.value=c,oo(l)}function xt(l){return l.node.childCount>0}function mn(l,c){Rt(l.node.children,function(h,v){c(new se(h,l,v))})}function jn(l,c,h,v){h&&!v&&c(l),mn(l,function(I){jn(I,c,!0,v)}),h&&v&&c(l)}function Br(l){return new zn(null===l.parent?l.name:Br(l.parent)+"/"+l.name)}function oo(l){null!==l.parent&&function ki(l,c,h){var v=function sn(l){return void 0===Ne(l)&&!xt(l)}(h),I=(0,H.contains)(l.node.children,c);v&&I?(delete l.node.children[c],l.node.childCount--,oo(l)):!v&&!I&&(l.node.children[c]=h.node,l.node.childCount++,oo(l))}(l.parent,l.name,l)}var Ro=/[\[\].#$\/\u0000-\u001F\u007F]/,Fs=/[\[\].#$\u0000-\u001F\u007F]/,cs=10485760,Ls=function(l){return"string"==typeof l&&0!==l.length&&!Ro.test(l)},Bs=function(l){return"string"==typeof l&&0!==l.length&&!Fs.test(l)},Yo=function(l){return null===l||"string"==typeof l||"number"==typeof l&&!ze(l)||l&&"object"==typeof l&&(0,H.contains)(l,".sv")},ya=function(l,c,h,v){v&&void 0===c||ls((0,H.errorPrefix)(l,"value"),c,h)},ls=function(l,c,h){var v=h instanceof zn?new tr(h,l):h;if(void 0===c)throw new Error(l+"contains undefined "+Wr(v));if("function"==typeof c)throw new Error(l+"contains a function "+Wr(v)+" with contents = "+c.toString());if(ze(c))throw new Error(l+"contains "+c.toString()+" "+Wr(v));if("string"==typeof c&&c.length>cs/3&&(0,H.stringLength)(c)>cs)throw new Error(l+"contains a string greater than "+cs+" utf8 bytes "+Wr(v)+" ('"+c.substring(0,50)+"...')");if(c&&"object"==typeof c){var I=!1,F=!1;if(Rt(c,function(J,De){if(".value"===J)I=!0;else if(".priority"!==J&&".sv"!==J&&(F=!0,!Ls(J)))throw new Error(l+" contains an invalid key ("+J+") "+Wr(v)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function pr(l,c){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(c),l.byteLength_+=(0,H.stringLength)(c),lo(l)})(v,J),ls(l,De,v),function Ir(l){var c=l.parts_.pop();l.byteLength_-=(0,H.stringLength)(c),l.parts_.length>0&&(l.byteLength_-=1)}(v)}),I&&F)throw new Error(l+' contains ".value" child '+Wr(v)+" in addition to actual children.")}},_a=function(l,c,h,v){if(!v||void 0!==c){var I=(0,H.errorPrefix)(l,"values");if(!c||"object"!=typeof c||Array.isArray(c))throw new Error(I+" must be an object containing the children to replace.");var F=[];Rt(c,function(J,De){var Re=new zn(J);if(ls(I,De,lt(h,Re)),".priority"===Oe(Re)&&!Yo(De))throw new Error(I+"contains an invalid value for '"+Re.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");F.push(Re)}),function(l,c){var h,v;for(h=0;h<c.length;h++)for(var I=Fe(v=c[h]),F=0;F<I.length;F++)if((".priority"!==I[F]||F!==I.length-1)&&!Ls(I[F]))throw new Error(l+"contains an invalid key ("+I[F]+") in path "+v.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.sort(Wt);var J=null;for(h=0;h<c.length;h++){if(v=c[h],null!==J&&On(J,v))throw new Error(l+"contains a path "+J.toString()+" that is ancestor of another path "+v.toString());J=v}}(I,F)}},Gl=function(l,c,h){if(!h||void 0!==c){if(ze(c))throw new Error((0,H.errorPrefix)(l,"priority")+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Yo(c))throw new Error((0,H.errorPrefix)(l,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ml=function(l,c,h){if(!h||void 0!==c)switch(c){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,H.errorPrefix)(l,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},oa=function(l,c,h,v){if(!(v&&void 0===h||Ls(h)))throw new Error((0,H.errorPrefix)(l,c)+'was an invalid key = "'+h+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},vl=function(l,c,h,v){if(!(v&&void 0===h||Bs(h)))throw new Error((0,H.errorPrefix)(l,c)+'was an invalid path = "'+h+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},as=function(l,c){if(".info"===fr(c))throw new Error(l+" failed = Can't modify data under /.info/")},yl=function(l,c){var h=c.path.toString();if("string"!=typeof c.repoInfo.host||0===c.repoInfo.host.length||!Ls(c.repoInfo.namespace)&&"localhost"!==c.repoInfo.host.split(":")[0]||0!==h.length&&!function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Bs(l)}(h))throw new Error((0,H.errorPrefix)(l,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},yc=function(l,c,h,v){if((!v||void 0!==h)&&"boolean"!=typeof h)throw new Error((0,H.errorPrefix)(l,c)+"must be a boolean.")},jc=function l(){this.eventLists_=[],this.recursionDepth_=0};function vs(l,c){for(var h=null,v=0;v<c.length;v++){var I=c[v],F=I.getPath();null!==h&&!Bt(F,h.path)&&(l.eventLists_.push(h),h=null),null===h&&(h={events:[],path:F}),h.events.push(I)}h&&l.eventLists_.push(h)}function _l(l,c,h){vs(l,h),Hc(l,function(v){return Bt(v,c)})}function sa(l,c,h){vs(l,h),Hc(l,function(v){return On(v,c)||On(c,v)})}function Hc(l,c){l.recursionDepth_++;for(var h=!0,v=0;v<l.eventLists_.length;v++){var I=l.eventLists_[v];I&&(c(I.path)?(Iu(l.eventLists_[v]),l.eventLists_[v]=null):h=!1)}h&&(l.eventLists_=[]),l.recursionDepth_--}function Iu(l){for(var c=0;c<l.events.length;c++){var h=l.events[c];if(null!==h){l.events[c]=null;var v=h.getEventRunner();ct&&nt("event: "+h.toString()),ar(v)}}}var tc="repo_interrupt",Gc=function(){function l(c,h,v,I){this.repoInfo_=c,this.forceRestClient_=h,this.authTokenProvider_=v,this.appCheckProvider_=I,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=so(),this.transactionQueueTree_=new se,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return l.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},l}();function As(l){var h=l.infoData_.getNode(new zn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+h}function nc(l){return function(l){return(l=l||{}).timestamp=l.timestamp||(new Date).getTime(),l}({timestamp:As(l)})}function qc(l,c,h,v,I){l.dataUpdateCount++;var F=new zn(c);h=l.interceptServerDataCallback_?l.interceptServerDataCallback_(c,h):h;var J=[];if(I)if(v){var De=(0,H.map)(h,function(hn){return Ht(hn)});J=function Hl(l,c,h,v){var I=Lu(l,v);if(I){var F=va(I),J=F.path,De=F.queryId,Re=en(J,c),je=io.fromObject(h);return Eu(l,J,new is(Js(De),Re,je))}return[]}(l.serverSyncTree_,F,De,I)}else{var Re=Ht(h);J=function Bc(l,c,h,v){var I=Lu(l,v);if(null!=I){var F=va(I),J=F.path,De=F.queryId,Re=en(J,c);return Eu(l,J,new La(Js(De),Re,h))}return[]}(l.serverSyncTree_,F,Re,I)}else if(v){var je=(0,H.map)(h,function(hn){return Ht(hn)});J=function Sa(l,c,h){var v=io.fromObject(h);return ms(l,new is({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,v))}(l.serverSyncTree_,F,je)}else{var Ze=Ht(h);J=Ta(l.serverSyncTree_,F,Ze)}var Xt=F;J.length>0&&(Xt=Hu(l,F)),sa(l.eventQueue_,Xt,J)}function zc(l,c){wa(l,"connected",c),!1===c&&function Cf(l){Du(l,"onDisconnectEvents");var c=nc(l),h=so();Li(l.onDisconnect_,Dn(),function(I,F){var J=R(I,F,l.serverSyncTree_,c);no(h,I,J)});var v=[];Li(h,Dn(),function(I,F){v=v.concat(Ta(l.serverSyncTree_,I,F));var J=El(l,I);Hu(l,J)}),l.onDisconnect_=so(),sa(l.eventQueue_,Dn(),v)}(l)}function wa(l,c,h){var v=new zn("/.info/"+c),I=Ht(h);l.infoData_.updateSnapshot(v,I);var F=Ta(l.infoSyncTree_,v,I);sa(l.eventQueue_,v,F)}function Ra(l){return l.nextWriteId_++}function Wc(l,c,h,v,I){Du(l,"set",{path:c.toString(),value:h,priority:v});var F=nc(l),J=Ht(h,v),De=iu(l.serverSyncTree_,c),Re=M(J,De,F),je=Ra(l),Ze=Fu(l.serverSyncTree_,c,Re,je,!0);vs(l.eventQueue_,Ze),l.server_.put(c.toString(),J.val(!0),function(hn,kn){var qn="ok"===hn;qn||rn("set at "+c+" failed: "+hn);var Xr=ss(l.serverSyncTree_,je,!qn);sa(l.eventQueue_,c,Xr),ws(0,I,hn,kn)});var Xt=El(l,c);Hu(l,Xt),sa(l.eventQueue_,Xt,[])}function Kc(l,c,h){l.server_.onDisconnectCancel(c.toString(),function(v,I){"ok"===v&&Wi(l.onDisconnect_,c),ws(0,h,v,I)})}function wl(l,c,h,v){var I=Ht(h);l.server_.onDisconnectPut(c.toString(),I.val(!0),function(F,J){"ok"===F&&no(l.onDisconnect_,c,I),ws(0,v,F,J)})}function _c(l,c,h){var v;v=".info"===fr(c._path)?pc(l.infoSyncTree_,c,h):pc(l.serverSyncTree_,c,h),_l(l.eventQueue_,c._path,v)}function wc(l){l.persistentConnection_&&l.persistentConnection_.interrupt(tc)}function Du(l){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];var v="";l.persistentConnection_&&(v=l.persistentConnection_.id+":"),nt.apply(void 0,(0,tt.__spreadArray)([v],(0,tt.__read)(c)))}function ws(l,c,h,v){c&&ar(function(){if("ok"===h)c(null);else{var I=(h||"error").toUpperCase(),F=I;v&&(F+=": "+v);var J=new Error(F);J.code=I,c(J)}})}function Su(l,c,h){return iu(l.serverSyncTree_,c,h)||oe.EMPTY_NODE}function au(l,c){if(void 0===c&&(c=l.transactionQueueTree_),c||Oa(l,c),Ne(c)){var h=Qc(l,c);(0,H.assert)(h.length>0,"Sending zero length transaction queue"),h.every(function(I){return 0===I.status})&&function Xc(l,c,h){for(var v=h.map(function(hn){return hn.currentWriteId}),I=Su(l,c,v),F=I,J=I.hash(),De=0;De<h.length;De++){var Re=h[De];(0,H.assert)(0===Re.status,"tryToSendTransactionQueue_: items in queue should all be run."),Re.status=1,Re.retryCount++;var je=en(c,Re.path);F=F.updateChild(je,Re.currentOutputSnapshotRaw)}var Ze=F.val(!0),Xt=c;l.server_.put(Xt.toString(),Ze,function(hn){Du(l,"transaction put response",{path:Xt.toString(),status:hn});var kn=[];if("ok"===hn){for(var qn=[],Xr=function(bi){h[bi].status=2,kn=kn.concat(ss(l.serverSyncTree_,h[bi].currentWriteId)),h[bi].onComplete&&qn.push(function(){return h[bi].onComplete(null,!0,h[bi].currentOutputSnapshotResolved)}),h[bi].unwatcher()},Jr=0;Jr<h.length;Jr++)Xr(Jr);for(Oa(l,me(l.transactionQueueTree_,c)),au(l,l.transactionQueueTree_),sa(l.eventQueue_,c,kn),Jr=0;Jr<qn.length;Jr++)ar(qn[Jr])}else{if("datastale"===hn)for(Jr=0;Jr<h.length;Jr++)h[Jr].status=3===h[Jr].status?4:0;else for(rn("transaction at "+Xt.toString()+" failed: "+hn),Jr=0;Jr<h.length;Jr++)h[Jr].status=4,h[Jr].abortReason=hn;Hu(l,c)}},J)}(l,Br(c),h)}else xt(c)&&mn(c,function(I){au(l,I)})}function Hu(l,c){var h=Wl(l,c),v=Br(h);return function zf(l,c,h){if(0!==c.length){for(var v=[],I=[],J=c.filter(function(je){return 0===je.status}).map(function(je){return je.currentWriteId}),De=function(je){var kn,Ze=c[je],Xt=en(h,Ze.path),hn=!1;if((0,H.assert)(null!==Xt,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Ze.status)hn=!0,kn=Ze.abortReason,I=I.concat(ss(l.serverSyncTree_,Ze.currentWriteId,!0));else if(0===Ze.status)if(Ze.retryCount>=25)hn=!0,kn="maxretry",I=I.concat(ss(l.serverSyncTree_,Ze.currentWriteId,!0));else{var qn=Su(l,Ze.path,J);Ze.currentInputSnapshot=qn;var Xr=c[je].update(qn.val());if(void 0!==Xr){ls("transaction failed: Data returned ",Xr,Ze.path);var Jr=Ht(Xr);"object"==typeof Xr&&null!=Xr&&(0,H.contains)(Xr,".priority")||(Jr=Jr.updatePriority(qn.getPriority()));var es=Ze.currentWriteId,xs=nc(l),ol=M(Jr,qn,xs);Ze.currentOutputSnapshotRaw=Jr,Ze.currentOutputSnapshotResolved=ol,Ze.currentWriteId=Ra(l),J.splice(J.indexOf(es),1),I=(I=I.concat(Fu(l.serverSyncTree_,Ze.path,ol,Ze.currentWriteId,Ze.applyLocally))).concat(ss(l.serverSyncTree_,es,!0))}else hn=!0,kn="nodata",I=I.concat(ss(l.serverSyncTree_,Ze.currentWriteId,!0))}sa(l.eventQueue_,h,I),I=[],hn&&(c[je].status=2,setTimeout(c[je].unwatcher,Math.floor(0)),c[je].onComplete&&v.push("nodata"===kn?function(){return c[je].onComplete(null,!1,c[je].currentInputSnapshot)}:function(){return c[je].onComplete(new Error(kn),!1,null)}))},Re=0;Re<c.length;Re++)De(Re);for(Oa(l,l.transactionQueueTree_),Re=0;Re<v.length;Re++)ar(v[Re]);au(l,l.transactionQueueTree_)}}(l,Qc(l,h),v),v}function Wl(l,c){var h,v=l.transactionQueueTree_;for(h=fr(c);null!==h&&void 0===Ne(v);)v=me(v,h),h=fr(c=ne(c));return v}function Qc(l,c){var h=[];return bc(l,c,h),h.sort(function(v,I){return v.order-I.order}),h}function bc(l,c,h){var v=Ne(c);if(v)for(var I=0;I<v.length;I++)h.push(v[I]);mn(c,function(F){bc(l,F,h)})}function Oa(l,c){var h=Ne(c);if(h){for(var v=0,I=0;I<h.length;I++)2!==h[I].status&&(h[v]=h[I],v++);h.length=v,_t(c,h.length>0?h:void 0)}mn(c,function(F){Oa(l,F)})}function El(l,c){var h=Br(Wl(l,c)),v=me(l.transactionQueueTree_,c);return function ti(l,c,h){for(var v=h?l:l.parent;null!==v;){if(c(v))return!0;v=v.parent}}(v,function(I){Cl(l,I)}),Cl(l,v),jn(v,function(I){Cl(l,I)}),h}function Cl(l,c){var h=Ne(c);if(h){for(var v=[],I=[],F=-1,J=0;J<h.length;J++)3===h[J].status||(1===h[J].status?((0,H.assert)(F===J-1,"All SENT items should be at beginning of queue."),F=J,h[J].status=3,h[J].abortReason="set"):((0,H.assert)(0===h[J].status,"Unexpected transaction status in abort"),h[J].unwatcher(),I=I.concat(ss(l.serverSyncTree_,h[J].currentWriteId,!0)),h[J].onComplete&&v.push(h[J].onComplete.bind(null,new Error("set"),!1,null))));for(-1===F?_t(c,void 0):h.length=F+1,sa(l.eventQueue_,Br(c),I),J=0;J<v.length;J++)ar(v[J])}}var Gu=function(l,c){var h=el(l),v=h.namespace;return"firebase.com"===h.domain&&Et(h.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!v||"undefined"===v)&&"localhost"!==h.domain&&Et("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),h.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new br(h.host,h.secure,v,c,"ws"===h.scheme||"wss"===h.scheme,"",v!==h.subdomain),path:new zn(h.pathString)}},el=function(l){var c="",h="",v="",I="",F="",J=!0,De="https",Re=443;if("string"==typeof l){var je=l.indexOf("//");je>=0&&(De=l.substring(0,je-1),l=l.substring(je+2));var Ze=l.indexOf("/");-1===Ze&&(Ze=l.length);var Xt=l.indexOf("?");-1===Xt&&(Xt=l.length),c=l.substring(0,Math.min(Ze,Xt)),Ze<Xt&&(I=function Jc(l){for(var c="",h=l.split("/"),v=0;v<h.length;v++)if(h[v].length>0){var I=h[v];try{I=decodeURIComponent(I.replace(/\+/g," "))}catch(F){}c+="/"+I}return c}(l.substring(Ze,Xt)));var hn=function Zc(l){var c,h,v={};"?"===l.charAt(0)&&(l=l.substring(1));try{for(var I=(0,tt.__values)(l.split("&")),F=I.next();!F.done;F=I.next()){var J=F.value;if(0!==J.length){var De=J.split("=");2===De.length?v[decodeURIComponent(De[0])]=decodeURIComponent(De[1]):rn("Invalid query segment '"+J+"' in query '"+l+"'")}}}catch(Re){c={error:Re}}finally{try{F&&!F.done&&(h=I.return)&&h.call(I)}finally{if(c)throw c.error}}return v}(l.substring(Math.min(l.length,Xt)));(je=c.indexOf(":"))>=0?(J="https"===De||"wss"===De,Re=parseInt(c.substring(je+1),10)):je=c.length;var kn=c.slice(0,je);if("localhost"===kn.toLowerCase())h="localhost";else if(kn.split(".").length<=2)h=kn;else{var qn=c.indexOf(".");v=c.substring(0,qn).toLowerCase(),h=c.substring(qn+1),F=v}"ns"in hn&&(F=hn.ns)}return{host:c,port:Re,domain:h,subdomain:v,secure:J,scheme:De,pathString:I,namespace:F}},Yl=function(){function l(c,h,v,I){this.eventType=c,this.eventRegistration=h,this.snapshot=v,this.prevName=I}return l.prototype.getPath=function(){var c=this.snapshot.ref;return"value"===this.eventType?c._path:c.parent._path},l.prototype.getEventType=function(){return this.eventType},l.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},l.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.stringify)(this.snapshot.exportVal())},l}(),Ga=function(){function l(c,h,v){this.eventRegistration=c,this.error=h,this.path=v}return l.prototype.getPath=function(){return this.path},l.prototype.getEventType=function(){return"cancel"},l.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},l.prototype.toString=function(){return this.path.toString()+":cancel"},l}(),qa=function(){function l(c,h){this.snapshotCallback=c,this.cancelCallback=h}return l.prototype.onValue=function(c,h){this.snapshotCallback.call(null,c,h)},l.prototype.onCancel=function(c){return(0,H.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,c)},Object.defineProperty(l.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),l.prototype.matches=function(c){return this.snapshotCallback===c.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===c.snapshotCallback.userCallback&&this.snapshotCallback.context===c.snapshotCallback.context},l}(),Ec=function(){function l(c,h){this._repo=c,this._path=h}return l.prototype.cancel=function(){var c=new H.Deferred;return Kc(this._repo,this._path,c.wrapCallback(function(){})),c.promise},l.prototype.remove=function(){as("OnDisconnect.remove",this._path);var c=new H.Deferred;return wl(this._repo,this._path,null,c.wrapCallback(function(){})),c.promise},l.prototype.set=function(c){as("OnDisconnect.set",this._path),ya("OnDisconnect.set",c,this._path,!1);var h=new H.Deferred;return wl(this._repo,this._path,c,h.wrapCallback(function(){})),h.promise},l.prototype.setWithPriority=function(c,h){as("OnDisconnect.setWithPriority",this._path),ya("OnDisconnect.setWithPriority",c,this._path,!1),Gl("OnDisconnect.setWithPriority",h,!1);var v=new H.Deferred;return function If(l,c,h,v,I){var F=Ht(h,v);l.server_.onDisconnectPut(c.toString(),F.val(!0),function(J,De){"ok"===J&&no(l.onDisconnect_,c,F),ws(0,I,J,De)})}(this._repo,this._path,c,h,v.wrapCallback(function(){})),v.promise},l.prototype.update=function(c){as("OnDisconnect.update",this._path),_a("OnDisconnect.update",c,this._path,!1);var h=new H.Deferred;return function zl(l,c,h,v){if((0,H.isEmpty)(h))return nt("onDisconnect().update() called with empty data.  Don't do anything."),void ws(0,v,"ok",void 0);l.server_.onDisconnectMerge(c.toString(),h,function(I,F){"ok"===I&&Rt(h,function(J,De){var Re=Ht(De);no(l.onDisconnect_,lt(c,J),Re)}),ws(0,v,I,F)})}(this._repo,this._path,c,h.wrapCallback(function(){})),h.promise},l}(),Ms=function(){function l(c,h,v,I){this._repo=c,this._path=h,this._queryParams=v,this._orderByCalled=I}return Object.defineProperty(l.prototype,"key",{get:function(){return It(this._path)?null:Oe(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"ref",{get:function(){return new ka(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"_queryIdentifier",{get:function(){var c=Vn(this._queryParams),h=Tt(c);return"{}"===h?"default":h},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"_queryObject",{get:function(){return Vn(this._queryParams)},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(c){if(!((c=(0,H.getModularInstance)(c))instanceof l))return!1;var h=this._repo===c._repo,v=Bt(this._path,c._path);return h&&v&&this._queryIdentifier===c._queryIdentifier},l.prototype.toJSON=function(){return this.toString()},l.prototype.toString=function(){return this._repo.toString()+function be(l){for(var c="",h=l.pieceNum_;h<l.pieces_.length;h++)""!==l.pieces_[h]&&(c+="/"+encodeURIComponent(String(l.pieces_[h])));return c||"/"}(this._path)},l}();function Cc(l,c){if(!0===l._orderByCalled)throw new Error(c+": You can't combine multiple orderBy calls.")}function go(l){var c=null,h=null;if(l.hasStart()&&(c=l.getIndexStartValue()),l.hasEnd()&&(h=l.getIndexEndValue()),l.getIndex()===bo){var v="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",I="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(l.hasStart()){if(l.getIndexStartName()!==Be)throw new Error(v);if("string"!=typeof c)throw new Error(I)}if(l.hasEnd()){if(l.getIndexEndName()!==Ke)throw new Error(v);if("string"!=typeof h)throw new Error(I)}}else if(l.getIndex()===Ur){if(null!=c&&!Yo(c)||null!=h&&!Yo(h))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,H.assert)(l.getIndex()instanceof Cn||l.getIndex()===yi,"unknown index type."),null!=c&&"object"==typeof c||null!=h&&"object"==typeof h)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ic(l){if(l.hasStart()&&l.hasEnd()&&l.hasLimit()&&!l.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ka=function(l){function c(h,v){return l.call(this,h,v,new Ln,!1)||this}return(0,tt.__extends)(c,l),Object.defineProperty(c.prototype,"parent",{get:function(){var h=ut(this._path);return null===h?null:new c(this._repo,h)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"root",{get:function(){for(var h=this;null!==h.parent;)h=h.parent;return h},enumerable:!1,configurable:!0}),c}(Ms),uu=function(){function l(c,h,v){this._node=c,this.ref=h,this._index=v}return Object.defineProperty(l.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),l.prototype.child=function(c){var h=new zn(c),v=za(this.ref,c);return new l(this._node.getChild(h),v,Ur)},l.prototype.exists=function(){return!this._node.isEmpty()},l.prototype.exportVal=function(){return this._node.val(!0)},l.prototype.forEach=function(c){var h=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(I,F){return c(new l(F,za(h.ref,I),Ur))})},l.prototype.hasChild=function(c){var h=new zn(c);return!this._node.getChild(h).isEmpty()},l.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},l.prototype.toJSON=function(){return this.exportVal()},l.prototype.val=function(){return this._node.val()},l}();function cu(l,c){return(l=(0,H.getModularInstance)(l))._checkNotDeleted("ref"),void 0!==c?za(l._root,c):l._root}function co(l,c){(l=(0,H.getModularInstance)(l))._checkNotDeleted("refFromURL");var h=Gu(c,l._repo.repoInfo_.nodeAdmin);yl("refFromURL",h);var v=h.repoInfo;return!l._repo.repoInfo_.isCustomHost()&&v.host!==l._repo.repoInfo_.host&&Et("refFromURL: Host name does not match the current database: (found "+v.host+" but expected "+l._repo.repoInfo_.host+")"),cu(l,h.path.toString())}function za(l,c){return null===fr((l=(0,H.getModularInstance)(l))._path)?(h=c,h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),vl("child","path",h,!1)):vl("child","path",c,!1),new ka(l._repo,lt(l._path,c));var h}function Il(l,c){l=(0,H.getModularInstance)(l),as("push",l._path),ya("push",c,l._path,!0);var J,h=As(l._repo),v=_i(h),I=za(l,v),F=za(l,v);return J=null!=c?Go(F,c).then(function(){return F}):Promise.resolve(F),I.then=J.then.bind(J),I.catch=J.then.bind(J,void 0),I}function tl(l){return as("remove",l._path),Go(l,null)}function Go(l,c){l=(0,H.getModularInstance)(l),as("set",l._path),ya("set",c,l._path,!1);var h=new H.Deferred;return Wc(l._repo,l._path,c,null,h.wrapCallback(function(){})),h.promise}function Vs(l,c){l=(0,H.getModularInstance)(l),as("setPriority",l._path),Gl("setPriority",c,!1);var h=new H.Deferred;return Wc(l._repo,lt(l._path,".priority"),c,null,h.wrapCallback(function(){})),h.promise}function ic(l,c,h){if(as("setWithPriority",l._path),ya("setWithPriority",c,l._path,!1),Gl("setWithPriority",h,!1),".length"===l.key||".keys"===l.key)throw"setWithPriority failed: "+l.key+" is a read-only object.";var v=new H.Deferred;return Wc(l._repo,l._path,c,h,v.wrapCallback(function(){})),v.promise}function Dc(l,c){_a("update",c,l._path,!1);var h=new H.Deferred;return function Yc(l,c,h,v){Du(l,"update",{path:c.toString(),value:h});var I=!0,F=nc(l),J={};if(Rt(h,function(je,Ze){I=!1,J[je]=R(lt(c,je),Ht(Ze),l.serverSyncTree_,F)}),I)nt("update() called with empty data.  Don't do anything."),ws(0,v,"ok",void 0);else{var De=Ra(l),Re=function Mo(l,c,h,v){!function Hn(l,c,h,v){(0,H.assert)(v>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:c,children:h,writeId:v,visible:!0}),l.visibleWrites=la(l.visibleWrites,c,h),l.lastWriteId=v}(l.pendingWriteTree_,c,h,v);var I=io.fromObject(h);return ms(l,new is({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,I))}(l.serverSyncTree_,c,J,De);vs(l.eventQueue_,Re),l.server_.merge(c.toString(),h,function(je,Ze){var Xt="ok"===je;Xt||rn("update at "+c+" failed: "+je);var hn=ss(l.serverSyncTree_,De,!Xt),kn=hn.length>0?Hu(l,c):c;sa(l.eventQueue_,kn,hn),ws(0,v,je,Ze)}),Rt(h,function(je){var Ze=El(l,lt(c,je));Hu(l,Ze)}),sa(l.eventQueue_,c,[])}}(l._repo,l._path,c,h.wrapCallback(function(){})),h.promise}function fs(l){return function ql(l,c){var h=function gs(l,c){var h=c._path,v=null;l.syncPointTree_.foreachOnPath(h,function(je,Ze){var Xt=en(je,h);v=v||ir(Ze,Xt)});var I=l.syncPointTree_.get(h);I?v=v||ir(I,Dn()):(I=new N,l.syncPointTree_=l.syncPointTree_.set(h,I));var F=null!=v,J=F?new fo(v,!0,!1):null;return function bu(l){return Ds(l.viewCache_)}(le(I,c,ft(l.pendingWriteTree_,c._path),F?J.getNode():oe.EMPTY_NODE,F))}(l.serverSyncTree_,c);return null!=h?Promise.resolve(h):l.server_.get(c).then(function(v){var I=Ht(v).withIndex(c._queryParams.getIndex()),F=Ta(l.serverSyncTree_,c._path,I);return _l(l.eventQueue_,c._path,F),Promise.resolve(I)},function(v){return Du(l,"get for query "+(0,H.stringify)(c)+" failed: "+v),Promise.reject(new Error(v))})}((l=(0,H.getModularInstance)(l))._repo,l).then(function(c){return new uu(c,new ka(l._repo,l._path),l._queryParams.getIndex())})}var qu=function(){function l(c){this.callbackContext=c}return l.prototype.respondsTo=function(c){return"value"===c},l.prototype.createEvent=function(c,h){var v=h._queryParams.getIndex();return new Yl("value",this,new uu(c.snapshotNode,new ka(h._repo,h._path),v))},l.prototype.getEventRunner=function(c){var h=this;return"cancel"===c.getEventType()?function(){return h.callbackContext.onCancel(c.error)}:function(){return h.callbackContext.onValue(c.snapshot,null)}},l.prototype.createCancelEvent=function(c,h){return this.callbackContext.hasCancelCallback?new Ga(this,c,h):null},l.prototype.matches=function(c){return c instanceof l&&(!c.callbackContext||!this.callbackContext||c.callbackContext.matches(this.callbackContext))},l.prototype.hasAnyCallback=function(){return null!==this.callbackContext},l}(),aa=function(){function l(c,h){this.eventType=c,this.callbackContext=h}return l.prototype.respondsTo=function(c){var h="children_added"===c?"child_added":c;return this.eventType===("children_removed"===h?"child_removed":h)},l.prototype.createCancelEvent=function(c,h){return this.callbackContext.hasCancelCallback?new Ga(this,c,h):null},l.prototype.createEvent=function(c,h){(0,H.assert)(null!=c.childName,"Child events should have a childName.");var v=za(new ka(h._repo,h._path),c.childName),I=h._queryParams.getIndex();return new Yl(c.type,this,new uu(c.snapshotNode,v,I),c.prevName)},l.prototype.getEventRunner=function(c){var h=this;return"cancel"===c.getEventType()?function(){return h.callbackContext.onCancel(c.error)}:function(){return h.callbackContext.onValue(c.snapshot,c.prevName)}},l.prototype.matches=function(c){return c instanceof l&&this.eventType===c.eventType&&(!this.callbackContext||!c.callbackContext||this.callbackContext.matches(c.callbackContext))},l.prototype.hasAnyCallback=function(){return!!this.callbackContext},l}();function zu(l,c,h,v,I){var F;if("object"==typeof v&&(F=void 0,I=v),"function"==typeof v&&(F=v),I&&I.onlyOnce){var J=h,De=function(Ze,Xt){_c(l._repo,l,je),J(Ze,Xt)};De.userCallback=h.userCallback,De.context=h.context,h=De}var Re=new qa(h,F||void 0),je="value"===c?new qu(Re):new aa(c,Re);return function bl(l,c,h){var v;v=".info"===fr(c._path)?gc(l.infoSyncTree_,c,h):gc(l.serverSyncTree_,c,h),_l(l.eventQueue_,c._path,v)}(l._repo,l,je),function(){return _c(l._repo,l,je)}}function ho(l,c,h,v){return zu(l,"value",c,h,v)}function Tc(l,c,h,v){return zu(l,"child_added",c,h,v)}function Dl(l,c,h,v){return zu(l,"child_changed",c,h,v)}function ns(l,c,h,v){return zu(l,"child_moved",c,h,v)}function ys(l,c,h,v){return zu(l,"child_removed",c,h,v)}function nl(l,c,h){var v=null,I=h?new qa(h):null;"value"===c?v=new qu(I):c&&(v=new aa(c,I)),_c(l._repo,l,v)}var Xs=function l(){},Sc=function(l){function c(h,v){var I=l.call(this)||this;return I._value=h,I._key=v,I}return(0,tt.__extends)(c,l),c.prototype._apply=function(h){ya("endAt",this._value,h._path,!0);var v=de(h._queryParams,this._value,this._key);if(Ic(v),go(v),h._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ms(h._repo,h._path,v,h._orderByCalled)},c}(Xs);function Wa(l,c){return oa("endAt","key",c,!0),new Sc(l,c)}var Au=function(l){function c(h,v){var I=l.call(this)||this;return I._value=h,I._key=v,I}return(0,tt.__extends)(c,l),c.prototype._apply=function(h){ya("endBefore",this._value,h._path,!1);var v=function Kt(l,c,h){var I;return l.index_===bo?("string"==typeof c&&(c=Hi(c)),I=de(l,c,h)):I=de(l,c,null==h?Be:Hi(h)),I.endBeforeSet_=!0,I}(h._queryParams,this._value,this._key);if(Ic(v),go(v),h._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ms(h._repo,h._path,v,h._orderByCalled)},c}(Xs);function oc(l,c){return oa("endBefore","key",c,!0),new Au(l,c)}var Ac=function(l){function c(h,v){var I=l.call(this)||this;return I._value=h,I._key=v,I}return(0,tt.__extends)(c,l),c.prototype._apply=function(h){ya("startAt",this._value,h._path,!0);var v=b(h._queryParams,this._value,this._key);if(Ic(v),go(v),h._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ms(h._repo,h._path,v,h._orderByCalled)},c}(Xs);function Kl(l,c){return void 0===l&&(l=null),oa("startAt","key",c,!0),new Ac(l,c)}var Wf=function(l){function c(h,v){var I=l.call(this)||this;return I._value=h,I._key=v,I}return(0,tt.__extends)(c,l),c.prototype._apply=function(h){ya("startAfter",this._value,h._path,!1);var v=function G(l,c,h){var v;return l.index_===bo?("string"==typeof c&&(c=ji(c)),v=b(l,c,h)):v=b(l,c,null==h?Ke:ji(h)),v.startAfterSet_=!0,v}(h._queryParams,this._value,this._key);if(Ic(v),go(v),h._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ms(h._repo,h._path,v,h._orderByCalled)},c}(Xs);function Xl(l,c){return oa("startAfter","key",c,!0),new Wf(l,c)}var lu=function(l){function c(h){var v=l.call(this)||this;return v._limit=h,v}return(0,tt.__extends)(c,l),c.prototype._apply=function(h){if(h._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ms(h._repo,h._path,function E(l,c){var h=l.copy();return h.limitSet_=!0,h.limit_=c,h.viewFrom_="l",h}(h._queryParams,this._limit),h._orderByCalled)},c}(Xs);function Ql(l){if("number"!=typeof l||Math.floor(l)!==l||l<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new lu(l)}var Yf=function(l){function c(h){var v=l.call(this)||this;return v._limit=h,v}return(0,tt.__extends)(c,l),c.prototype._apply=function(h){if(h._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ms(h._repo,h._path,function X(l,c){var h=l.copy();return h.limitSet_=!0,h.limit_=c,h.viewFrom_="r",h}(h._queryParams,this._limit),h._orderByCalled)},c}(Xs);function fu(l){if("number"!=typeof l||Math.floor(l)!==l||l<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Yf(l)}var Rs=function(l){function c(h){var v=l.call(this)||this;return v._path=h,v}return(0,tt.__extends)(c,l),c.prototype._apply=function(h){Cc(h,"orderByChild");var v=new zn(this._path);if(It(v))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var I=new Cn(v),F=Sn(h._queryParams,I);return go(F),new Ms(h._repo,h._path,F,!0)},c}(Xs);function rl(l){if("$key"===l)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===l)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===l)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return vl("orderByChild","path",l,!1),new Rs(l)}var Df=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}return(0,tt.__extends)(c,l),c.prototype._apply=function(h){Cc(h,"orderByKey");var v=Sn(h._queryParams,bo);return go(v),new Ms(h._repo,h._path,v,!0)},c}(Xs);function Kf(){return new Df}var Xf=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}return(0,tt.__extends)(c,l),c.prototype._apply=function(h){Cc(h,"orderByPriority");var v=Sn(h._queryParams,Ur);return go(v),new Ms(h._repo,h._path,v,!0)},c}(Xs);function Jl(){return new Xf}var Qf=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}return(0,tt.__extends)(c,l),c.prototype._apply=function(h){Cc(h,"orderByValue");var v=Sn(h._queryParams,yi);return go(v),new Ms(h._repo,h._path,v,!0)},c}(Xs);function Zl(){return new Qf}var il=function(l){function c(h,v){var I=l.call(this)||this;return I._value=h,I._key=v,I}return(0,tt.__extends)(c,l),c.prototype._apply=function(h){if(ya("equalTo",this._value,h._path,!1),h._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(h._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Sc(this._value,this._key)._apply(new Ac(this._value,this._key)._apply(h))},c}(Xs);function Tl(l,c){return oa("equalTo","key",c,!0),new il(l,c)}function bs(l){for(var c,h,v=[],I=1;I<arguments.length;I++)v[I-1]=arguments[I];var F=(0,H.getModularInstance)(l);try{for(var J=(0,tt.__values)(v),De=J.next();!De.done;De=J.next()){var Re=De.value;F=Re._apply(F)}}catch(je){c={error:je}}finally{try{De&&!De.done&&(h=J.return)&&h.call(J)}finally{if(c)throw c.error}}return F}(function A(l){(0,H.assert)(!Ho,"__referenceConstructor has already been defined"),Ho=l})(ka),function Co(l){(0,H.assert)(!ps,"__referenceConstructor has already been defined"),ps=l}(ka);var Mc={},Rc=!1;function Ya(l,c,h,v,I){var F=v||l.options.databaseURL;void 0===F&&(l.options.projectId||Et("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nt("Using default host for project ",l.options.projectId),F=l.options.projectId+"-default-rtdb.firebaseio.com");var Re,J=Gu(F,I),De=J.repoInfo,je=void 0;"undefined"!=typeof process&&(je=process.env.FIREBASE_DATABASE_EMULATOR_HOST),je?(Re=!0,De=(J=Gu(F="http://"+je+"?ns="+De.namespace,I)).repoInfo):Re=!J.repoInfo.secure;var Ze=I&&Re?new Kn(Kn.OWNER):new or(l.name,l.options,c);yl("Invalid Firebase Database URL",J),It(J.path)||Et("Database URL must point to the root of a Firebase Database (not including a child path).");var Xt=function ef(l,c,h,v){var I=Mc[c.name];I||(Mc[c.name]=I={});var F=I[l.toURLString()];return F&&Et("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),F=new Gc(l,Rc,h,v),I[l.toURLString()]=F,F}(De,l,Ze,new Pr(l.name,h));return new Al(Xt,l)}var Al=function(){function l(c,h){this._repoInternal=c,this.app=h,this.type="database",this._instanceStarted=!1}return Object.defineProperty(l.prototype,"_repo",{get:function(){return this._instanceStarted||(function Uu(l,c,h){if(l.stats_=Si(l.repoInfo_),l.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)l.server_=new wi(l.repoInfo_,function(v,I,F,J){qc(l,v,I,F,J)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(function(){return zc(l,!0)},0);else{if(null!=h){if("object"!=typeof h)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.stringify)(h)}catch(v){throw new Error("Invalid authOverride provided: "+v)}}l.persistentConnection_=new Lo(l.repoInfo_,c,function(v,I,F,J){qc(l,v,I,F,J)},function(v){zc(l,v)},function(v){!function Ef(l,c){Rt(c,function(h,v){wa(l,h,v)})}(l,v)},l.authTokenProvider_,l.appCheckProvider_,h),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(function(v){l.server_.refreshAuthToken(v)}),l.appCheckProvider_.addTokenChangeListener(function(v){l.server_.refreshAppCheckToken(v.token)}),l.statsReporter_=function Or(l,c){var h=l.toString();return xr[h]||(xr[h]=c()),xr[h]}(l.repoInfo_,function(){return new mo(l.stats_,l.server_)}),l.infoData_=new zr,l.infoSyncTree_=new Zo({startListening:function(v,I,F,J){var De=[],Re=l.infoData_.getNode(v._path);return Re.isEmpty()||(De=Ta(l.infoSyncTree_,v._path,Re),setTimeout(function(){J("ok")},0)),De},stopListening:function(){}}),wa(l,"connected",!1),l.serverSyncTree_=new Zo({startListening:function(v,I,F,J){return l.server_.listen(v,F,I,function(De,Re){var je=J(De,Re);sa(l.eventQueue_,v._path,je)}),[]},stopListening:function(v,I){l.server_.unlisten(v,I)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new ka(this._repo,Dn())),this._rootInternal},enumerable:!1,configurable:!0}),l.prototype._delete=function(){return null!==this._rootInternal&&(function Tf(l,c){var h=Mc[c];(!h||h[l.key]!==l)&&Et("Database "+c+"("+l.repoInfo_+") has already been deleted."),wc(l),delete h[l.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},l.prototype._checkNotDeleted=function(c){null===this._rootInternal&&Et("Cannot call "+c+" on a deleted database.")},l}();function xc(l){(l=(0,H.getModularInstance)(l))._checkNotDeleted("goOffline"),wc(l._repo)}function Mu(l){(l=(0,H.getModularInstance)(l))._checkNotDeleted("goOnline"),function xa(l){l.persistentConnection_&&l.persistentConnection_.resume(tc)}(l._repo)}var Ru={".sv":"timestamp"},Sf=function(){function l(c,h){this.committed=c,this.snapshot=h}return l.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},l}();function nf(l,c,h){var v;if(l=(0,H.getModularInstance)(l),as("Reference.transaction",l._path),".length"===l.key||".keys"===l.key)throw"Reference.transaction failed: "+l.key+" is a read-only object.";var I=null===(v=null==h?void 0:h.applyLocally)||void 0===v||v,F=new H.Deferred,De=ho(l,function(){});return function Tu(l,c,h,v,I,F){Du(l,"transaction on "+c);var J={path:c,update:h,onComplete:v,status:null,order:ue(),applyLocally:F,retryCount:0,unwatcher:I,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},De=Su(l,c,void 0);J.currentInputSnapshot=De;var Re=J.update(De.val());if(void 0===Re)J.unwatcher(),J.currentOutputSnapshotRaw=null,J.currentOutputSnapshotResolved=null,J.onComplete&&J.onComplete(null,!1,J.currentInputSnapshot);else{ls("transaction failed: Data returned ",Re,J.path),J.status=0;var je=me(l.transactionQueueTree_,c),Ze=Ne(je)||[];Ze.push(J),_t(je,Ze);var Xt=void 0;"object"==typeof Re&&null!==Re&&(0,H.contains)(Re,".priority")?(Xt=(0,H.safeGet)(Re,".priority"),(0,H.assert)(Yo(Xt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Xt=(iu(l.serverSyncTree_,c)||oe.EMPTY_NODE).getPriority().val();var kn=nc(l),qn=Ht(Re,Xt),Xr=M(qn,De,kn);J.currentOutputSnapshotRaw=qn,J.currentOutputSnapshotResolved=Xr,J.currentWriteId=Ra(l);var Jr=Fu(l.serverSyncTree_,c,Xr,J.currentWriteId,J.applyLocally);sa(l.eventQueue_,c,Jr),au(l,l.transactionQueueTree_)}}(l._repo,l._path,c,function(Re,je,Ze){var Xt=null;Re?F.reject(Re):(Xt=new uu(Ze,new ka(l._repo,l._path),Ur),F.resolve(new Sf(je,Xt)))},De,I),F.promise}var Ml=function(){function l(c){this._delegate=c}return l.prototype.cancel=function(c){(0,H.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,H.validateCallback)("OnDisconnect.cancel","onComplete",c,!0);var h=this._delegate.cancel();return c&&h.then(function(){return c(null)},function(v){return c(v)}),h},l.prototype.remove=function(c){(0,H.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,H.validateCallback)("OnDisconnect.remove","onComplete",c,!0);var h=this._delegate.remove();return c&&h.then(function(){return c(null)},function(v){return c(v)}),h},l.prototype.set=function(c,h){(0,H.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,H.validateCallback)("OnDisconnect.set","onComplete",h,!0);var v=this._delegate.set(c);return h&&v.then(function(){return h(null)},function(I){return h(I)}),v},l.prototype.setWithPriority=function(c,h,v){(0,H.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,H.validateCallback)("OnDisconnect.setWithPriority","onComplete",v,!0);var I=this._delegate.setWithPriority(c,h);return v&&I.then(function(){return v(null)},function(F){return v(F)}),I},l.prototype.update=function(c,h){if((0,H.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(c)){for(var v={},I=0;I<c.length;++I)v[""+I]=c[I];c=v,rn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,H.validateCallback)("OnDisconnect.update","onComplete",h,!0);var F=this._delegate.update(c);return h&&F.then(function(){return h(null)},function(J){return h(J)}),F},l}(),sc=function(){function l(c,h){this.committed=c,this.snapshot=h}return l.prototype.toJSON=function(){return(0,H.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},l}(),ba=function(){function l(c,h){this._database=c,this._delegate=h}return l.prototype.val=function(){return(0,H.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},l.prototype.exportVal=function(){return(0,H.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},l.prototype.toJSON=function(){return(0,H.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},l.prototype.exists=function(){return(0,H.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},l.prototype.child=function(c){return(0,H.validateArgCount)("DataSnapshot.child",0,1,arguments.length),c=String(c),vl("DataSnapshot.child","path",c,!1),new l(this._database,this._delegate.child(c))},l.prototype.hasChild=function(c){return(0,H.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),vl("DataSnapshot.hasChild","path",c,!1),this._delegate.hasChild(c)},l.prototype.getPriority=function(){return(0,H.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},l.prototype.forEach=function(c){var h=this;return(0,H.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,H.validateCallback)("DataSnapshot.forEach","action",c,!1),this._delegate.forEach(function(v){return c(new l(h._database,v))})},l.prototype.hasChildren=function(){return(0,H.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(l.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),l.prototype.numChildren=function(){return(0,H.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},l.prototype.getRef=function(){return(0,H.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Pa(this._database,this._delegate.ref)},Object.defineProperty(l.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),l}(),Jf=function(){function l(c,h){this.database=c,this._delegate=h}return l.prototype.on=function(c,h,v,I){var J,F=this;(0,H.validateArgCount)("Query.on",2,4,arguments.length),(0,H.validateCallback)("Query.on","callback",h,!1);var De=l.getCancelAndContextArgs_("Query.on",v,I),Re=function(Ze,Xt){h.call(De.context,new ba(F.database,Ze),Xt)};Re.userCallback=h,Re.context=De.context;var je=null===(J=De.cancel)||void 0===J?void 0:J.bind(De.context);switch(c){case"value":return ho(this._delegate,Re,je),h;case"child_added":return Tc(this._delegate,Re,je),h;case"child_removed":return ys(this._delegate,Re,je),h;case"child_changed":return Dl(this._delegate,Re,je),h;case"child_moved":return ns(this._delegate,Re,je),h;default:throw new Error((0,H.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},l.prototype.off=function(c,h,v){if((0,H.validateArgCount)("Query.off",0,3,arguments.length),ml("Query.off",c,!0),(0,H.validateCallback)("Query.off","callback",h,!0),(0,H.validateContextObject)("Query.off","context",v,!0),h){var I=function(){};I.userCallback=h,I.context=v,nl(this._delegate,c,I)}else nl(this._delegate,c)},l.prototype.get=function(){var c=this;return fs(this._delegate).then(function(h){return new ba(c.database,h)})},l.prototype.once=function(c,h,v,I){var F=this;(0,H.validateArgCount)("Query.once",1,4,arguments.length),(0,H.validateCallback)("Query.once","callback",h,!0);var J=l.getCancelAndContextArgs_("Query.once",v,I),De=new H.Deferred,Re=function(Ze,Xt){var hn=new ba(F.database,Ze);h&&h.call(J.context,hn,Xt),De.resolve(hn)};Re.userCallback=h,Re.context=J.context;var je=function(Ze){J.cancel&&J.cancel.call(J.context,Ze),De.reject(Ze)};switch(c){case"value":ho(this._delegate,Re,je,{onlyOnce:!0});break;case"child_added":Tc(this._delegate,Re,je,{onlyOnce:!0});break;case"child_removed":ys(this._delegate,Re,je,{onlyOnce:!0});break;case"child_changed":Dl(this._delegate,Re,je,{onlyOnce:!0});break;case"child_moved":ns(this._delegate,Re,je,{onlyOnce:!0});break;default:throw new Error((0,H.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return De.promise},l.prototype.limitToFirst=function(c){return(0,H.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new l(this.database,bs(this._delegate,Ql(c)))},l.prototype.limitToLast=function(c){return(0,H.validateArgCount)("Query.limitToLast",1,1,arguments.length),new l(this.database,bs(this._delegate,fu(c)))},l.prototype.orderByChild=function(c){return(0,H.validateArgCount)("Query.orderByChild",1,1,arguments.length),new l(this.database,bs(this._delegate,rl(c)))},l.prototype.orderByKey=function(){return(0,H.validateArgCount)("Query.orderByKey",0,0,arguments.length),new l(this.database,bs(this._delegate,Kf()))},l.prototype.orderByPriority=function(){return(0,H.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new l(this.database,bs(this._delegate,Jl()))},l.prototype.orderByValue=function(){return(0,H.validateArgCount)("Query.orderByValue",0,0,arguments.length),new l(this.database,bs(this._delegate,Zl()))},l.prototype.startAt=function(c,h){return void 0===c&&(c=null),(0,H.validateArgCount)("Query.startAt",0,2,arguments.length),new l(this.database,bs(this._delegate,Kl(c,h)))},l.prototype.startAfter=function(c,h){return void 0===c&&(c=null),(0,H.validateArgCount)("Query.startAfter",0,2,arguments.length),new l(this.database,bs(this._delegate,Xl(c,h)))},l.prototype.endAt=function(c,h){return void 0===c&&(c=null),(0,H.validateArgCount)("Query.endAt",0,2,arguments.length),new l(this.database,bs(this._delegate,Wa(c,h)))},l.prototype.endBefore=function(c,h){return void 0===c&&(c=null),(0,H.validateArgCount)("Query.endBefore",0,2,arguments.length),new l(this.database,bs(this._delegate,oc(c,h)))},l.prototype.equalTo=function(c,h){return(0,H.validateArgCount)("Query.equalTo",1,2,arguments.length),new l(this.database,bs(this._delegate,Tl(c,h)))},l.prototype.toString=function(){return(0,H.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},l.prototype.toJSON=function(){return(0,H.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},l.prototype.isEqual=function(c){if((0,H.validateArgCount)("Query.isEqual",1,1,arguments.length),!(c instanceof l)){var h="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(h)}return this._delegate.isEqual(c._delegate)},l.getCancelAndContextArgs_=function(c,h,v){var I={cancel:void 0,context:void 0};if(h&&v)I.cancel=h,(0,H.validateCallback)(c,"cancel",I.cancel,!0),I.context=v,(0,H.validateContextObject)(c,"context",I.context,!0);else if(h)if("object"==typeof h&&null!==h)I.context=h;else{if("function"!=typeof h)throw new Error((0,H.errorPrefix)(c,"cancelOrContext")+" must either be a cancel callback or a context object.");I.cancel=h}return I},Object.defineProperty(l.prototype,"ref",{get:function(){return new Pa(this.database,new ka(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),l}(),Pa=function(l){function c(h,v){var I=l.call(this,h,new Ms(v._repo,v._path,new Ln,!1))||this;return I.database=h,I._delegate=v,I}return(0,tt.__extends)(c,l),c.prototype.getKey=function(){return(0,H.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},c.prototype.child=function(h){return(0,H.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof h&&(h=String(h)),new c(this.database,za(this._delegate,h))},c.prototype.getParent=function(){(0,H.validateArgCount)("Reference.parent",0,0,arguments.length);var h=this._delegate.parent;return h?new c(this.database,h):null},c.prototype.getRoot=function(){return(0,H.validateArgCount)("Reference.root",0,0,arguments.length),new c(this.database,this._delegate.root)},c.prototype.set=function(h,v){(0,H.validateArgCount)("Reference.set",1,2,arguments.length),(0,H.validateCallback)("Reference.set","onComplete",v,!0);var I=Go(this._delegate,h);return v&&I.then(function(){return v(null)},function(F){return v(F)}),I},c.prototype.update=function(h,v){if((0,H.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(h)){for(var I={},F=0;F<h.length;++F)I[""+F]=h[F];h=I,rn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}as("Reference.update",this._delegate._path),(0,H.validateCallback)("Reference.update","onComplete",v,!0);var J=Dc(this._delegate,h);return v&&J.then(function(){return v(null)},function(De){return v(De)}),J},c.prototype.setWithPriority=function(h,v,I){(0,H.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,H.validateCallback)("Reference.setWithPriority","onComplete",I,!0);var F=ic(this._delegate,h,v);return I&&F.then(function(){return I(null)},function(J){return I(J)}),F},c.prototype.remove=function(h){(0,H.validateArgCount)("Reference.remove",0,1,arguments.length),(0,H.validateCallback)("Reference.remove","onComplete",h,!0);var v=tl(this._delegate);return h&&v.then(function(){return h(null)},function(I){return h(I)}),v},c.prototype.transaction=function(h,v,I){var F=this;(0,H.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,H.validateCallback)("Reference.transaction","transactionUpdate",h,!1),(0,H.validateCallback)("Reference.transaction","onComplete",v,!0),yc("Reference.transaction","applyLocally",I,!0);var J=nf(this._delegate,h,{applyLocally:I}).then(function(De){return new sc(De.committed,new ba(F.database,De.snapshot))});return v&&J.then(function(De){return v(null,De.committed,De.snapshot)},function(De){return v(De,!1,null)}),J},c.prototype.setPriority=function(h,v){(0,H.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,H.validateCallback)("Reference.setPriority","onComplete",v,!0);var I=Vs(this._delegate,h);return v&&I.then(function(){return v(null)},function(F){return v(F)}),I},c.prototype.push=function(h,v){var I=this;(0,H.validateArgCount)("Reference.push",0,2,arguments.length),(0,H.validateCallback)("Reference.push","onComplete",v,!0);var F=Il(this._delegate,h),J=F.then(function(Re){return new c(I.database,Re)});v&&J.then(function(){return v(null)},function(Re){return v(Re)});var De=new c(this.database,F);return De.then=J.then.bind(J),De.catch=J.catch.bind(J,void 0),De},c.prototype.onDisconnect=function(){return as("Reference.onDisconnect",this._delegate._path),new Ml(new Ec(this._delegate._repo,this._delegate._path))},Object.defineProperty(c.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),c}(Jf),ac=function(){function l(c,h){var v=this;this._delegate=c,this.app=h,this.INTERNAL={delete:function(){return v._delegate._delete()}}}return l.prototype.useEmulator=function(c,h,v){void 0===v&&(v={}),function hu(l,c,h,v){void 0===v&&(v={}),(l=(0,H.getModularInstance)(l))._checkNotDeleted("useEmulator"),l._instanceStarted&&Et("Cannot call useEmulator() after instance has already been initialized.");var I=l._repoInternal,F=void 0;if(I.repoInfo_.nodeAdmin)v.mockUserToken&&Et('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),F=new Kn(Kn.OWNER);else if(v.mockUserToken){var J="string"==typeof v.mockUserToken?v.mockUserToken:(0,H.createMockUserToken)(v.mockUserToken,l.app.options.projectId);F=new Kn(J)}!function du(l,c,h,v){l.repoInfo_=new br(c+":"+h,!1,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams),v&&(l.authTokenProvider_=v)}(I,c,h,F)}(this._delegate,c,h,v)},l.prototype.ref=function(c){if((0,H.validateArgCount)("database.ref",0,1,arguments.length),c instanceof Pa){var h=co(this._delegate,c.toString());return new Pa(this,h)}return h=cu(this._delegate,c),new Pa(this,h)},l.prototype.refFromURL=function(c){var h="database.refFromURL";(0,H.validateArgCount)(h,1,1,arguments.length);var v=co(this._delegate,c);return new Pa(this,v)},l.prototype.goOffline=function(){return(0,H.validateArgCount)("database.goOffline",0,0,arguments.length),xc(this._delegate)},l.prototype.goOnline=function(){return(0,H.validateArgCount)("database.goOnline",0,0,arguments.length),Mu(this._delegate)},l.ServerValue={TIMESTAMP:Ru,increment:function(c){return function Na(l){return{".sv":{increment:l}}}(c)}},l}(),sf=Object.freeze({__proto__:null,forceLongPolling:function(){Ve.forceDisallow(),ke.forceAllow()},forceWebSockets:function(){ke.forceDisallow()},isWebSocketsAvailable:function(){return Ve.isAvailable()},setSecurityDebugCallback:function(l,c){l._delegate._repo.persistentConnection_.securityDebugCallback_=c},stats:function(l,c){!function rc(l,c){if(void 0===c&&(c=!1),"undefined"!=typeof console){var h;c?(l.statsListener_||(l.statsListener_=new Qs(l.stats_)),h=l.statsListener_.get()):h=l.stats_.get();var v=Object.keys(h).reduce(function(I,F){return Math.max(F.length,I)},0);Rt(h,function(I,F){for(var J=I,De=I.length;De<v+2;De++)J+=" ";console.log(J+F)})}}(l._delegate._repo,c)},statsIncrementCounter:function(l,c){!function ju(l,c){l.stats_.incrementCounter(c),function Qo(l,c){l.statsToReport_[c]=!0}(l.statsReporter_,c)}(l._delegate._repo,c)},dataUpdateCount:function(l){return l._delegate._repo.dataUpdateCount},interceptServerData:function(l,c){return function bf(l,c){l.interceptServerDataCallback_=c}(l._delegate._repo,c)},initStandalone:function Zf(l){var c=l.app,h=l.url,I=l.customAuthImpl,F=l.namespace,J=l.nodeAdmin,De=void 0!==J&&J;qe(l.version);var Re=new j.Provider("auth-internal",new j.ComponentContainer("database-standalone"));return Re.setComponent(new j.Component("auth-internal",function(){return I},"PRIVATE")),{instance:new ac(Ya(c,Re,void 0,h,De),c),namespace:F}}}),pu=Lo;Lo.prototype.simpleListen=function(l,c){this.sendRequest("q",{p:l},c)},Lo.prototype.echo=function(l,c){this.sendRequest("echo",{d:l},c)};var kc=Object.freeze({__proto__:null,DataConnection:pu,RealTimeConnection:bn,hijackHash:function(l){var c=Lo.prototype.put;return Lo.prototype.put=function(h,v,I,F){void 0!==F&&(F=l()),c.call(this,h,v,I,F)},function(){Lo.prototype.put=c}},ConnectionTarget:br,queryIdentifier:function(l){return l._delegate._queryIdentifier},forceRestClient:function(l){!function tf(l){Rc=l}(l)}}),cc=ac.ServerValue;!function af(l){qe(l.SDK_VERSION);var c=l.INTERNAL.registerComponent(new j.Component("database",function(h,v){var I=v.instanceIdentifier,F=h.getProvider("app").getImmediate(),J=h.getProvider("auth-internal"),De=h.getProvider("app-check-internal");return new ac(Ya(F,J,De,I),F)},"PUBLIC").setServiceProps({Reference:Pa,Query:Jf,Database:ac,DataSnapshot:ba,enableLogging:Ut,INTERNAL:sf,ServerValue:cc,TEST_ACCESS:kc}).setMultipleInstances(!0));l.registerVersion("@firebase/database","0.11.0"),(0,H.isNodeSdk)()&&(wr.exports=c)}(f.default)},9719:(wr,an,fe)=>{"use strict";var f=fe(8367),j=fe(3289),H=fe(2461),_e=(fe(492),fe(4003),fe(670),{Firestore:j.K,GeoPoint:j.C,Timestamp:j.M,Blob:j.L,Transaction:j.W,WriteBatch:j.G,DocumentReference:j.H,DocumentSnapshot:j.Z,Query:j.e,QueryDocumentSnapshot:j.t,QuerySnapshot:j.s,CollectionReference:j.i,FieldPath:j.o,FieldValue:j.c,setLogLevel:j.j,CACHE_SIZE_UNLIMITED:j.E});!function Dt(qe){qe.INTERNAL.registerComponent(new H.Component("firestore",function(xe){return x=xe.getProvider("app").getImmediate(),Se=xe.getProvider("auth-internal"),new j.K(x,new j.T(x,Se),new j.U);var x,Se},"PUBLIC").setServiceProps(Object.assign({},_e))),qe.registerVersion("@firebase/firestore","2.4.1")}(f.default)},3289:(wr,an,fe)=>{"use strict";fe.d(an,{C:()=>Ac,E:()=>Dl,G:()=>De,H:()=>je,K:()=>v,L:()=>c,M:()=>nt,T:()=>ns,U:()=>h,W:()=>J,Z:()=>kn,a:()=>ed,c:()=>Nc,e:()=>Xr,i:()=>es,j:()=>F,o:()=>ol,s:()=>bi,t:()=>qn,u:()=>sl});var f=fe(655),j=fe(492),H=fe(4003),tt=fe(670),Le=function(){function o(t,i){var u=this;this.previousValue=t,i&&(i.sequenceNumberHandler=function(p){return u.t(p)},this.i=function(p){return i.writeSequenceNumber(p)})}return o.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},o.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},o}();Le.o=-1;var we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_e=function(o){function t(i,u){var p=this;return(p=o.call(this,u)||this).code=i,p.message=u,p.name="FirebaseError",p.toString=function(){return p.name+": [code="+p.code+"]: "+p.message},p}return(0,f.__extends)(t,o),t}(Error),Dt=new H.Logger("@firebase/firestore");function qe(){return Dt.logLevel}function x(o){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(Dt.logLevel<=H.LogLevel.DEBUG){var u=t.map(ce);Dt.debug.apply(Dt,(0,f.__spreadArray)(["Firestore (8.10.1): "+o],u))}}function Se(o){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(Dt.logLevel<=H.LogLevel.ERROR){var u=t.map(ce);Dt.error.apply(Dt,(0,f.__spreadArray)(["Firestore (8.10.1): "+o],u))}}function xe(o){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(Dt.logLevel<=H.LogLevel.WARN){var u=t.map(ce);Dt.warn.apply(Dt,(0,f.__spreadArray)(["Firestore (8.10.1): "+o],u))}}function ce(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch(i){return o}}function ve(o){void 0===o&&(o="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+o;throw Se(t),new Error(t)}function Pe(o,t){o||ve()}function ue(o,t){return o}function Ge(o){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(o);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(var u=0;u<o;u++)i[u]=Math.floor(256*Math.random());return i}var Qe=function(){function o(){}return o.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length,u="";u.length<20;)for(var p=Ge(40),w=0;w<p.length;++w)u.length<20&&p[w]<i&&(u+=t.charAt(p[w]%t.length));return u},o}();function ct(o,t){return o<t?-1:o>t?1:0}function wt(o,t,i){return o.length===t.length&&o.every(function(u,p){return i(u,t[p])})}function Ut(o){return o+"\0"}var nt=function(){function o(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new _e(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new _e(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new _e(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _e(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return o.now=function(){return o.fromMillis(Date.now())},o.fromDate=function(t){return o.fromMillis(t.getTime())},o.fromMillis=function(t){var i=Math.floor(t/1e3);return new o(i,Math.floor(1e6*(t-1e3*i)))},o.prototype.toDate=function(){return new Date(this.toMillis())},o.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},o.prototype._compareTo=function(t){return this.seconds===t.seconds?ct(this.nanoseconds,t.nanoseconds):ct(this.seconds,t.seconds)},o.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},o.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},o.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},o.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},o}(),rt=function(){function o(t){this.timestamp=t}return o.fromTimestamp=function(t){return new o(t)},o.min=function(){return new o(new nt(0,0))},o.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},o.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},o.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},o.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},o.prototype.toTimestamp=function(){return this.timestamp},o}();function Nt(o){var t=0;for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&t++;return t}function Et(o,t){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&t(i,o[i])}function rn(o){for(var t in o)if(Object.prototype.hasOwnProperty.call(o,t))return!1;return!0}var Ye=function(){function o(t,i,u){void 0===i?i=0:i>t.length&&ve(),void 0===u?u=t.length-i:u>t.length-i&&ve(),this.segments=t,this.offset=i,this.len=u}return Object.defineProperty(o.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(t){return 0===o.comparator(this,t)},o.prototype.child=function(t){var i=this.segments.slice(this.offset,this.limit());return t instanceof o?t.forEach(function(u){i.push(u)}):i.push(t),this.construct(i)},o.prototype.limit=function(){return this.offset+this.length},o.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},o.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},o.prototype.firstSegment=function(){return this.segments[this.offset]},o.prototype.lastSegment=function(){return this.get(this.length-1)},o.prototype.get=function(t){return this.segments[this.offset+t]},o.prototype.isEmpty=function(){return 0===this.length},o.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0},o.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0},o.prototype.forEach=function(t){for(var i=this.offset,u=this.limit();i<u;i++)t(this.segments[i])},o.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},o.comparator=function(t,i){for(var u=Math.min(t.length,i.length),p=0;p<u;p++){var w=t.get(p),S=i.get(p);if(w<S)return-1;if(w>S)return 1}return t.length<i.length?-1:t.length>i.length?1:0},o}(),ze=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return(0,f.__extends)(t,o),t.prototype.construct=function(i,u,p){return new t(i,u,p)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];for(var p=[],w=0,S=i;w<S.length;w++){var O=S[w];if(O.indexOf("//")>=0)throw new _e(we.INVALID_ARGUMENT,"Invalid segment ("+O+"). Paths must not contain // in them.");p.push.apply(p,O.split("/").filter(function(Q){return Q.length>0}))}return new t(p)},t.emptyPath=function(){return new t([])},t}(Ye),ae=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Be=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return(0,f.__extends)(t,o),t.prototype.construct=function(i,u,p){return new t(i,u,p)},t.isValidIdentifier=function(i){return ae.test(i)},t.prototype.canonicalString=function(){return this.toArray().map(function(i){return i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(i)||(i="`"+i+"`"),i}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(i){for(var u=[],p="",w=0,S=function(){if(0===p.length)throw new _e(we.INVALID_ARGUMENT,"Invalid field path ("+i+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");u.push(p),p=""},O=!1;w<i.length;){var Q=i[w];if("\\"===Q){if(w+1===i.length)throw new _e(we.INVALID_ARGUMENT,"Path has trailing escape character: "+i);var he=i[w+1];if("\\"!==he&&"."!==he&&"`"!==he)throw new _e(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);p+=he,w+=2}else"`"===Q?(O=!O,w++):"."!==Q||O?(p+=Q,w++):(S(),w++)}if(S(),O)throw new _e(we.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new t(u)},t.emptyPath=function(){return new t([])},t}(Ye),Ke=function(){function o(t){this.fields=t,t.sort(Be.comparator)}return o.prototype.covers=function(t){for(var i=0,u=this.fields;i<u.length;i++)if(u[i].isPrefixOf(t))return!0;return!1},o.prototype.isEqual=function(t){return wt(this.fields,t.fields,function(i,u){return i.isEqual(u)})},o}(),at=function(){function o(t){this.binaryString=t}return o.fromBase64String=function(t){return new o(atob(t))},o.fromUint8Array=function(t){return new o(function(i){for(var u="",p=0;p<i.length;++p)u+=String.fromCharCode(i[p]);return u}(t))},o.prototype.toBase64=function(){return btoa(this.binaryString)},o.prototype.toUint8Array=function(){return function(t){for(var i=new Uint8Array(t.length),u=0;u<t.length;u++)i[u]=t.charCodeAt(u);return i}(this.binaryString)},o.prototype.approximateByteSize=function(){return 2*this.binaryString.length},o.prototype.compareTo=function(t){return ct(this.binaryString,t.binaryString)},o.prototype.isEqual=function(t){return this.binaryString===t.binaryString},o}();at.EMPTY_BYTE_STRING=new at("");var Tn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gn(o){if(Pe(!!o),"string"==typeof o){var t=0,i=Tn.exec(o);if(Pe(!!i),i[1]){var u=i[1];u=(u+"000000000").substr(0,9),t=Number(u)}var p=new Date(o);return{seconds:Math.floor(p.getTime()/1e3),nanos:t}}return{seconds:Tt(o.seconds),nanos:Tt(o.nanos)}}function Tt(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function At(o){return"string"==typeof o?at.fromBase64String(o):at.fromUint8Array(o)}function Rt(o){var t,i;return"server_timestamp"===(null===(i=((null===(t=null==o?void 0:o.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function St(o){var t=o.mapValue.fields.__previous_value__;return Rt(t)?St(t):t}function yt(o){var t=gn(o.mapValue.fields.__local_write_time__.timestampValue);return new nt(t.seconds,t.nanos)}function Mt(o){return null==o}function Ft(o){return 0===o&&1/o==-1/0}function on(o){return"number"==typeof o&&Number.isInteger(o)&&!Ft(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}var We=function(){function o(t){this.path=t}return o.fromPath=function(t){return new o(ze.fromString(t))},o.fromName=function(t){return new o(ze.fromString(t).popFirst(5))},o.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},o.prototype.isEqual=function(t){return null!==t&&0===ze.comparator(this.path,t.path)},o.prototype.toString=function(){return this.path.toString()},o.comparator=function(t,i){return ze.comparator(t.path,i.path)},o.isDocumentKey=function(t){return t.length%2==0},o.fromSegments=function(t){return new o(new ze(t.slice()))},o}();function Bn(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?Rt(o)?4:10:ve()}function yn(o,t){var p,i=Bn(o);if(i!==Bn(t))return!1;switch(i){case 0:return!0;case 1:return o.booleanValue===t.booleanValue;case 4:return yt(o).isEqual(yt(t));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;var w=gn(u.timestampValue),S=gn(p.timestampValue);return w.seconds===S.seconds&&w.nanos===S.nanos}(o,t);case 5:return o.stringValue===t.stringValue;case 6:return p=t,At(o.bytesValue).isEqual(At(p.bytesValue));case 7:return o.referenceValue===t.referenceValue;case 8:return function(u,p){return Tt(u.geoPointValue.latitude)===Tt(p.geoPointValue.latitude)&&Tt(u.geoPointValue.longitude)===Tt(p.geoPointValue.longitude)}(o,t);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return Tt(u.integerValue)===Tt(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){var w=Tt(u.doubleValue),S=Tt(p.doubleValue);return w===S?Ft(w)===Ft(S):isNaN(w)&&isNaN(S)}return!1}(o,t);case 9:return wt(o.arrayValue.values||[],t.arrayValue.values||[],yn);case 10:return function(u,p){var w=u.mapValue.fields||{},S=p.mapValue.fields||{};if(Nt(w)!==Nt(S))return!1;for(var O in w)if(w.hasOwnProperty(O)&&(void 0===S[O]||!yn(w[O],S[O])))return!1;return!0}(o,t);default:return ve()}}function ar(o,t){return void 0!==(o.values||[]).find(function(i){return yn(i,t)})}function Mn(o,t){var p,w,S,O,i=Bn(o),u=Bn(t);if(i!==u)return ct(i,u);switch(i){case 0:return 0;case 1:return ct(o.booleanValue,t.booleanValue);case 2:return w=t,(S=Tt((p=o).integerValue||p.doubleValue))<(O=Tt(w.integerValue||w.doubleValue))?-1:S>O?1:S===O?0:isNaN(S)?isNaN(O)?0:-1:1;case 3:return er(o.timestampValue,t.timestampValue);case 4:return er(yt(o),yt(t));case 5:return ct(o.stringValue,t.stringValue);case 6:return function(p,w){var S=At(p),O=At(w);return S.compareTo(O)}(o.bytesValue,t.bytesValue);case 7:return function(p,w){for(var S=p.split("/"),O=w.split("/"),Q=0;Q<S.length&&Q<O.length;Q++){var he=ct(S[Q],O[Q]);if(0!==he)return he}return ct(S.length,O.length)}(o.referenceValue,t.referenceValue);case 8:return function(p,w){var S=ct(Tt(p.latitude),Tt(w.latitude));return 0!==S?S:ct(Tt(p.longitude),Tt(w.longitude))}(o.geoPointValue,t.geoPointValue);case 9:return function(p,w){for(var S=p.values||[],O=w.values||[],Q=0;Q<S.length&&Q<O.length;++Q){var he=Mn(S[Q],O[Q]);if(he)return he}return ct(S.length,O.length)}(o.arrayValue,t.arrayValue);case 10:return function(p,w){var S=p.fields||{},O=Object.keys(S),Q=w.fields||{},he=Object.keys(Q);O.sort(),he.sort();for(var Te=0;Te<O.length&&Te<he.length;++Te){var et=ct(O[Te],he[Te]);if(0!==et)return et;var pt=Mn(S[O[Te]],Q[he[Te]]);if(0!==pt)return pt}return ct(O.length,he.length)}(o.mapValue,t.mapValue);default:throw ve()}}function er(o,t){if("string"==typeof o&&"string"==typeof t&&o.length===t.length)return ct(o,t);var i=gn(o),u=gn(t),p=ct(i.seconds,u.seconds);return 0!==p?p:ct(i.nanos,u.nanos)}function Pr(o){return or(o)}function or(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?"time("+(p=gn(o.timestampValue)).seconds+","+p.nanos+")":"stringValue"in o?o.stringValue:"bytesValue"in o?At(o.bytesValue).toBase64():"referenceValue"in o?We.fromName(o.referenceValue).toString():"geoPointValue"in o?"geo("+(t=o.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in o?function(u){for(var p="[",w=!0,S=0,O=u.values||[];S<O.length;S++)w?w=!1:p+=",",p+=or(O[S]);return p+"]"}(o.arrayValue):"mapValue"in o?function(u){for(var p="{",w=!0,S=0,O=Object.keys(u.fields||{}).sort();S<O.length;S++){var Q=O[S];w?w=!1:p+=",",p+=Q+":"+or(u.fields[Q])}return p+"}"}(o.mapValue):ve();var p,t}function Kn(o,t){return{referenceValue:"projects/"+o.projectId+"/databases/"+o.database+"/documents/"+t.path.canonicalString()}}function Vr(o){return!!o&&"integerValue"in o}function cr(o){return!!o&&"arrayValue"in o}function Fr(o){return!!o&&"nullValue"in o}function Lr(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function Sr(o){return!!o&&"mapValue"in o}function rr(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){var t={mapValue:{fields:{}}};return Et(o.mapValue.fields,function(p,w){return t.mapValue.fields[p]=rr(w)}),t}if(o.arrayValue){for(var i={arrayValue:{values:[]}},u=0;u<(o.arrayValue.values||[]).length;++u)i.arrayValue.values[u]=rr(o.arrayValue.values[u]);return i}return Object.assign({},o)}var Rr=function(){function o(t){this.value=t}return o.empty=function(){return new o({mapValue:{}})},o.prototype.field=function(t){if(t.isEmpty())return this.value;for(var i=this.value,u=0;u<t.length-1;++u)if(!Sr(i=(i.mapValue.fields||{})[t.get(u)]))return null;return(i=(i.mapValue.fields||{})[t.lastSegment()])||null},o.prototype.set=function(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=rr(i)},o.prototype.setAll=function(t){var i=this,u=Be.emptyPath(),p={},w=[];t.forEach(function(O,Q){if(!u.isImmediateParentOf(Q)){var he=i.getFieldsMap(u);i.applyChanges(he,p,w),p={},w=[],u=Q.popLast()}O?p[Q.lastSegment()]=rr(O):w.push(Q.lastSegment())});var S=this.getFieldsMap(u);this.applyChanges(S,p,w)},o.prototype.delete=function(t){var i=this.field(t.popLast());Sr(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]},o.prototype.isEqual=function(t){return yn(this.value,t.value)},o.prototype.getFieldsMap=function(t){var i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(var u=0;u<t.length;++u){var p=i.mapValue.fields[t.get(u)];Sr(p)&&p.mapValue.fields||(p={mapValue:{fields:{}}},i.mapValue.fields[t.get(u)]=p),i=p}return i.mapValue.fields},o.prototype.applyChanges=function(t,i,u){Et(i,function(O,Q){return t[O]=Q});for(var p=0,w=u;p<w.length;p++)delete t[w[p]]},o.prototype.clone=function(){return new o(rr(this.value))},o}();function fi(o){var t=[];return Et(o.fields,function(i,u){var p=new Be([i]);if(Sr(u)){var w=fi(u.mapValue).fields;if(0===w.length)t.push(p);else for(var S=0,O=w;S<O.length;S++)t.push(p.child(O[S]))}else t.push(p)}),new Ke(t)}var Hr=function(){function o(t,i,u,p,w){this.key=t,this.documentType=i,this.version=u,this.data=p,this.documentState=w}return o.newInvalidDocument=function(t){return new o(t,0,rt.min(),Rr.empty(),0)},o.newFoundDocument=function(t,i,u){return new o(t,1,i,u,0)},o.newNoDocument=function(t,i){return new o(t,2,i,Rr.empty(),0)},o.newUnknownDocument=function(t,i){return new o(t,3,i,Rr.empty(),2)},o.prototype.convertToFoundDocument=function(t,i){return this.version=t,this.documentType=1,this.data=i,this.documentState=0,this},o.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this},o.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this},o.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},o.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(o.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),o.prototype.isValidDocument=function(){return 0!==this.documentType},o.prototype.isFoundDocument=function(){return 1===this.documentType},o.prototype.isNoDocument=function(){return 2===this.documentType},o.prototype.isUnknownDocument=function(){return 3===this.documentType},o.prototype.isEqual=function(t){return t instanceof o&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},o.prototype.clone=function(){return new o(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},o.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},o}(),Gn=function(o,t,i,u,p,w,S){void 0===t&&(t=null),void 0===i&&(i=[]),void 0===u&&(u=[]),void 0===p&&(p=null),void 0===w&&(w=null),void 0===S&&(S=null),this.path=o,this.collectionGroup=t,this.orderBy=i,this.filters=u,this.limit=p,this.startAt=w,this.endAt=S,this.h=null};function nr(o,t,i,u,p,w,S){return void 0===t&&(t=null),void 0===i&&(i=[]),void 0===u&&(u=[]),void 0===p&&(p=null),void 0===w&&(w=null),void 0===S&&(S=null),new Gn(o,t,i,u,p,w,S)}function br(o){var t=ue(o);if(null===t.h){var i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(function(u){return(p=u).field.canonicalString()+p.op.toString()+Pr(p.value);var p}).join(","),i+="|ob:",i+=t.orderBy.map(function(u){return(p=u).field.canonicalString()+p.dir;var p}).join(","),Mt(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=Ce(t.startAt)),t.endAt&&(i+="|ub:",i+=Ce(t.endAt)),t.h=i}return t.h}function $t(o,t){if(o.limit!==t.limit||o.orderBy.length!==t.orderBy.length)return!1;for(var i=0;i<o.orderBy.length;i++)if(!st(o.orderBy[i],t.orderBy[i]))return!1;if(o.filters.length!==t.filters.length)return!1;for(var u=0;u<o.filters.length;u++)if((p=o.filters[u]).op!==(w=t.filters[u]).op||!p.field.isEqual(w.field)||!yn(p.value,w.value))return!1;var p,w;return o.collectionGroup===t.collectionGroup&&!!o.path.isEqual(t.path)&&!!Pt(o.startAt,t.startAt)&&Pt(o.endAt,t.endAt)}function Qn(o){return We.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}var vr=function(o){function t(i,u,p){var w=this;return(w=o.call(this)||this).field=i,w.op=u,w.value=p,w}return(0,f.__extends)(t,o),t.create=function(i,u,p){return i.isKeyField()?"in"===u||"not-in"===u?this.l(i,u,p):new Ei(i,u,p):"array-contains"===u?new kr(i,p):"in"===u?new Zr(i,p):"not-in"===u?new it(i,p):"array-contains-any"===u?new Ue(i,p):new t(i,u,p)},t.l=function(i,u,p){return"in"===u?new xr(i,p):new Si(i,p)},t.prototype.matches=function(i){var u=i.data.field(this.field);return"!="===this.op?null!==u&&this.m(Mn(u,this.value)):null!==u&&Bn(this.value)===Bn(u)&&this.m(Mn(u,this.value))},t.prototype.m=function(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return ve()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Ei=function(o){function t(i,u,p){var w=this;return(w=o.call(this,i,u,p)||this).key=We.fromName(p.referenceValue),w}return(0,f.__extends)(t,o),t.prototype.matches=function(i){var u=We.comparator(i.key,this.key);return this.m(u)},t}(vr),xr=function(o){function t(i,u){var p=this;return(p=o.call(this,i,"in",u)||this).keys=Or(0,u),p}return(0,f.__extends)(t,o),t.prototype.matches=function(i){return this.keys.some(function(u){return u.isEqual(i.key)})},t}(vr),Si=function(o){function t(i,u){var p=this;return(p=o.call(this,i,"not-in",u)||this).keys=Or(0,u),p}return(0,f.__extends)(t,o),t.prototype.matches=function(i){return!this.keys.some(function(u){return u.isEqual(i.key)})},t}(vr);function Or(o,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(function(u){return We.fromName(u.referenceValue)})}var kr=function(o){function t(i,u){return o.call(this,i,"array-contains",u)||this}return(0,f.__extends)(t,o),t.prototype.matches=function(i){var u=i.data.field(this.field);return cr(u)&&ar(u.arrayValue,this.value)},t}(vr),Zr=function(o){function t(i,u){return o.call(this,i,"in",u)||this}return(0,f.__extends)(t,o),t.prototype.matches=function(i){var u=i.data.field(this.field);return null!==u&&ar(this.value.arrayValue,u)},t}(vr),it=function(o){function t(i,u){return o.call(this,i,"not-in",u)||this}return(0,f.__extends)(t,o),t.prototype.matches=function(i){if(ar(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var u=i.data.field(this.field);return null!==u&&!ar(this.value.arrayValue,u)},t}(vr),Ue=function(o){function t(i,u){return o.call(this,i,"array-contains-any",u)||this}return(0,f.__extends)(t,o),t.prototype.matches=function(i){var u=this,p=i.data.field(this.field);return!(!cr(p)||!p.arrayValue.values)&&p.arrayValue.values.some(function(w){return ar(u.value.arrayValue,w)})},t}(vr),bt=function(o,t){this.position=o,this.before=t};function Ce(o){return(o.before?"b":"a")+":"+o.position.map(function(t){return Pr(t)}).join(",")}var Ae=function(o,t){void 0===t&&(t="asc"),this.field=o,this.dir=t};function st(o,t){return o.dir===t.dir&&o.field.isEqual(t.field)}function Ot(o,t,i){for(var u=0,p=0;p<o.position.length;p++){var w=t[p],S=o.position[p];if(u=w.field.isKeyField()?We.comparator(We.fromName(S.referenceValue),i.key):Mn(S,i.data.field(w.field)),"desc"===w.dir&&(u*=-1),0!==u)break}return o.before?u<=0:u<0}function Pt(o,t){if(null===o)return null===t;if(null===t||o.before!==t.before||o.position.length!==t.position.length)return!1;for(var i=0;i<o.position.length;i++)if(!yn(o.position[i],t.position[i]))return!1;return!0}var Jt=function(o,t,i,u,p,w,S,O){void 0===t&&(t=null),void 0===i&&(i=[]),void 0===u&&(u=[]),void 0===p&&(p=null),void 0===w&&(w="F"),void 0===S&&(S=null),void 0===O&&(O=null),this.path=o,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=u,this.limit=p,this.limitType=w,this.startAt=S,this.endAt=O,this.p=null,this.T=null};function Fn(o,t,i,u,p,w,S,O){return new Jt(o,t,i,u,p,w,S,O)}function Jn(o){return new Jt(o)}function Cr(o){return!Mt(o.limit)&&"F"===o.limitType}function sr(o){return!Mt(o.limit)&&"L"===o.limitType}function ni(o){return o.explicitOrderBy.length>0?o.explicitOrderBy[0].field:null}function kt(o){for(var t=0,i=o.filters;t<i.length;t++){var u=i[t];if(u.g())return u.field}return null}function dt(o){return null!==o.collectionGroup}function ke(o){var t=ue(o);if(null===t.p){t.p=[];var i=kt(t),u=ni(t);if(null!==i&&null===u)i.isKeyField()||t.p.push(new Ae(i)),t.p.push(new Ae(Be.keyField(),"asc"));else{for(var p=!1,w=0,S=t.explicitOrderBy;w<S.length;w++){var O=S[w];t.p.push(O),O.field.isKeyField()&&(p=!0)}if(!p){var Q=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ae(Be.keyField(),Q))}}}return t.p}function mt(o){var t=ue(o);if(!t.T)if("F"===t.limitType)t.T=nr(t.path,t.collectionGroup,ke(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var i=[],u=0,p=ke(t);u<p.length;u++){var w=p[u];i.push(new Ae(w.field,"desc"===w.dir?"asc":"desc"))}var O=t.endAt?new bt(t.endAt.position,!t.endAt.before):null,Q=t.startAt?new bt(t.startAt.position,!t.startAt.before):null;t.T=nr(t.path,t.collectionGroup,i,t.filters,t.limit,O,Q)}return t.T}function Lt(o,t,i){return new Jt(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),t,i,o.startAt,o.endAt)}function Xn(o,t){return $t(mt(o),mt(t))&&o.limitType===t.limitType}function Er(o){return br(mt(o))+"|lt:"+o.limitType}function Ve(o){return"Query(target="+(i=(t=mt(o)).path.canonicalString(),null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=", filters: ["+t.filters.map(function(u){return(p=u).field.canonicalString()+" "+p.op+" "+Pr(p.value);var p}).join(", ")+"]"),Mt(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=", orderBy: ["+t.orderBy.map(function(u){return(p=u).field.canonicalString()+" ("+p.dir+")";var p}).join(", ")+"]"),t.startAt&&(i+=", startAt: "+Ce(t.startAt)),t.endAt&&(i+=", endAt: "+Ce(t.endAt)),"Target("+i+"); limitType=")+o.limitType+")";var t,i}function He(o,t){return t.isFoundDocument()&&(p=(u=t).key.path,null!==(i=o).collectionGroup?u.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(p):We.isDocumentKey(i.path)?i.path.isEqual(p):i.path.isImmediateParentOf(p))&&function(i,u){for(var p=0,w=i.explicitOrderBy;p<w.length;p++){var S=w[p];if(!S.field.isKeyField()&&null===u.data.field(S.field))return!1}return!0}(o,t)&&function(i,u){for(var p=0,w=i.filters;p<w.length;p++)if(!w[p].matches(u))return!1;return!0}(o,t)&&function(i,u){return!(i.startAt&&!Ot(i.startAt,ke(i),u)||i.endAt&&Ot(i.endAt,ke(i),u))}(o,t);var i,u,p}function nn(o){return function(t,i){for(var u=!1,p=0,w=ke(o);p<w.length;p++){var S=w[p],O=zt(S,t,i);if(0!==O)return O;u=u||S.field.isKeyField()}return 0}}function zt(o,t,i){var p,S,O,Q,u=o.field.isKeyField()?We.comparator(t.key,i.key):(S=i,O=t.data.field(p=o.field),Q=S.data.field(p),null!==O&&null!==Q?Mn(O,Q):ve());switch(o.dir){case"asc":return u;case"desc":return-1*u;default:return ve()}}function tn(o,t){if(o.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ft(t)?"-0":t}}function dn(o){return{integerValue:""+o}}function cn(o,t){return on(t)?dn(t):tn(o,t)}var An=function(){this._=void 0};function In(o,t,i){return o instanceof lr?(w={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(u=i).seconds,nanos:u.nanoseconds}}}},(p=t)&&(w.fields.__previous_value__=p),{mapValue:w}):o instanceof Zn?ii(o,t):o instanceof Di?ci(o,t):function(u,p){var w=Nn(u,p),S=_r(w)+_r(u.A);return Vr(w)&&Vr(u.A)?dn(S):tn(u.R,S)}(o,t);var u,p,w}function yr(o,t,i){return o instanceof Zn?ii(o,t):o instanceof Di?ci(o,t):i}function Nn(o,t){return o instanceof bn?Vr(i=t)||(u=i)&&"doubleValue"in u?t:{integerValue:0}:null;var u,i}var lr=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return(0,f.__extends)(t,o),t}(An),Zn=function(o){function t(i){var u=this;return(u=o.call(this)||this).elements=i,u}return(0,f.__extends)(t,o),t}(An);function ii(o,t){for(var i=Qr(t),u=function(S){i.some(function(O){return yn(O,S)})||i.push(S)},p=0,w=o.elements;p<w.length;p++)u(w[p]);return{arrayValue:{values:i}}}var Di=function(o){function t(i){var u=this;return(u=o.call(this)||this).elements=i,u}return(0,f.__extends)(t,o),t}(An);function ci(o,t){for(var i=Qr(t),u=function(S){i=i.filter(function(O){return!yn(O,S)})},p=0,w=o.elements;p<w.length;p++)u(w[p]);return{arrayValue:{values:i}}}var bn=function(o){function t(i,u){var p=this;return(p=o.call(this)||this).R=i,p.A=u,p}return(0,f.__extends)(t,o),t}(An);function _r(o){return Tt(o.integerValue||o.doubleValue)}function Qr(o){return cr(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}var Ai=function(o,t){this.field=o,this.transform=t},Ki=function(o,t){this.version=o,this.transformResults=t},$r=function(){function o(t,i){this.updateTime=t,this.exists=i}return o.none=function(){return new o},o.exists=function(t){return new o(void 0,t)},o.updateTime=function(t){return new o(t)},Object.defineProperty(o.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},o}();function zn(o,t){return void 0!==o.updateTime?t.isFoundDocument()&&t.version.isEqual(o.updateTime):void 0===o.exists||o.exists===t.isFoundDocument()}var Dn=function(){};function fr(o,t,i){var u,p,w,S,O;o instanceof Fe?(p=t,w=i,S=(u=o).value.clone(),O=It(u.fieldTransforms,p,w.transformResults),S.setAll(O),p.convertToFoundDocument(w.version,S).setHasCommittedMutations()):o instanceof ut?function(u,p,w){if(zn(u.precondition,p)){var S=It(u.fieldTransforms,p,w.transformResults),O=p.data;O.setAll(lt(u)),O.setAll(S),p.convertToFoundDocument(w.version,O).setHasCommittedMutations()}else p.convertToUnknownDocument(w.version)}(o,t,i):function(u,p,w){p.convertToNoDocument(w.version).setHasCommittedMutations()}(0,t,i)}function gi(o,t,i){var p;o instanceof Fe?function(u,p,w){if(zn(u.precondition,p)){var S=u.value.clone(),O=en(u.fieldTransforms,w,p);S.setAll(O),p.convertToFoundDocument(be(p),S).setHasLocalMutations()}}(o,t,i):o instanceof ut?function(u,p,w){if(zn(u.precondition,p)){var S=en(u.fieldTransforms,w,p),O=p.data;O.setAll(lt(u)),O.setAll(S),p.convertToFoundDocument(be(p),O).setHasLocalMutations()}}(o,t,i):zn(o.precondition,p=t)&&p.convertToNoDocument(rt.min())}function ne(o,t){for(var i=null,u=0,p=o.fieldTransforms;u<p.length;u++){var w=p[u],S=t.data.field(w.field),O=Nn(w.transform,S||null);null!=O&&(null==i&&(i=Rr.empty()),i.set(w.field,O))}return i||null}function Oe(o,t){return o.type===t.type&&!!o.key.isEqual(t.key)&&!!o.precondition.isEqual(t.precondition)&&(u=t.fieldTransforms,!!(void 0===(i=o.fieldTransforms)&&void 0===u||i&&u&&wt(i,u,function(p,w){return(S=p).field.isEqual((O=w).field)&&(he=O.transform,(Q=S.transform)instanceof Zn&&he instanceof Zn||Q instanceof Di&&he instanceof Di?wt(Q.elements,he.elements,yn):Q instanceof bn&&he instanceof bn?yn(Q.A,he.A):Q instanceof lr&&he instanceof lr);var S,O,Q,he})))&&(0===o.type?o.value.isEqual(t.value):1!==o.type||o.data.isEqual(t.data)&&o.fieldMask.isEqual(t.fieldMask));var i,u}function be(o){return o.isFoundDocument()?o.version:rt.min()}var Fe=function(o){function t(i,u,p,w){void 0===w&&(w=[]);var S=this;return(S=o.call(this)||this).key=i,S.value=u,S.precondition=p,S.fieldTransforms=w,S.type=0,S}return(0,f.__extends)(t,o),t}(Dn),ut=function(o){function t(i,u,p,w,S){void 0===S&&(S=[]);var O=this;return(O=o.call(this)||this).key=i,O.data=u,O.fieldMask=p,O.precondition=w,O.fieldTransforms=S,O.type=1,O}return(0,f.__extends)(t,o),t}(Dn);function lt(o){var t=new Map;return o.fieldMask.fields.forEach(function(i){if(!i.isEmpty()){var u=o.data.field(i);t.set(i,u)}}),t}function It(o,t,i){var u=new Map;Pe(o.length===i.length);for(var p=0;p<i.length;p++){var w=o[p],S=w.transform,O=t.data.field(w.field);u.set(w.field,yr(S,O,i[p]))}return u}function en(o,t,i){for(var u=new Map,p=0,w=o;p<w.length;p++){var S=w[p],O=S.transform,Q=i.data.field(S.field);u.set(S.field,In(O,Q,t))}return u}var Wt,Bt,On=function(o){function t(i,u){var p=this;return(p=o.call(this)||this).key=i,p.precondition=u,p.type=2,p.fieldTransforms=[],p}return(0,f.__extends)(t,o),t}(Dn),tr=function(o){function t(i,u){var p=this;return(p=o.call(this)||this).key=i,p.precondition=u,p.type=3,p.fieldTransforms=[],p}return(0,f.__extends)(t,o),t}(Dn),pr=function(o){this.count=o};function Ir(o){switch(o){case we.OK:return ve();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return ve()}}function lo(o){if(void 0===o)return Se("GRPC error has no .code"),we.UNKNOWN;switch(o){case Wt.OK:return we.OK;case Wt.CANCELLED:return we.CANCELLED;case Wt.UNKNOWN:return we.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return we.INTERNAL;case Wt.UNAVAILABLE:return we.UNAVAILABLE;case Wt.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Wt.NOT_FOUND:return we.NOT_FOUND;case Wt.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Wt.ABORTED:return we.ABORTED;case Wt.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Wt.DATA_LOSS:return we.DATA_LOSS;default:return ve()}}(Bt=Wt||(Wt={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";var Wr=function(){function o(t,i){this.comparator=t,this.root=i||di.EMPTY}return o.prototype.insert=function(t,i){return new o(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,di.BLACK,null,null))},o.prototype.remove=function(t){return new o(this.comparator,this.root.remove(t,this.comparator).copy(null,null,di.BLACK,null,null))},o.prototype.get=function(t){for(var i=this.root;!i.isEmpty();){var u=this.comparator(t,i.key);if(0===u)return i.value;u<0?i=i.left:u>0&&(i=i.right)}return null},o.prototype.indexOf=function(t){for(var i=0,u=this.root;!u.isEmpty();){var p=this.comparator(t,u.key);if(0===p)return i+u.left.size;p<0?u=u.left:(i+=u.left.size+1,u=u.right)}return-1},o.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(o.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),o.prototype.minKey=function(){return this.root.minKey()},o.prototype.maxKey=function(){return this.root.maxKey()},o.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},o.prototype.forEach=function(t){this.inorderTraversal(function(i,u){return t(i,u),!1})},o.prototype.toString=function(){var t=[];return this.inorderTraversal(function(i,u){return t.push(i+":"+u),!1}),"{"+t.join(", ")+"}"},o.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},o.prototype.getIterator=function(){return new Zi(this.root,null,this.comparator,!1)},o.prototype.getIteratorFrom=function(t){return new Zi(this.root,t,this.comparator,!1)},o.prototype.getReverseIterator=function(){return new Zi(this.root,null,this.comparator,!0)},o.prototype.getReverseIteratorFrom=function(t){return new Zi(this.root,t,this.comparator,!0)},o}(),Zi=function(){function o(t,i,u,p){this.isReverse=p,this.nodeStack=[];for(var w=1;!t.isEmpty();)if(w=i?u(t.key,i):1,p&&(w*=-1),w<0)t=this.isReverse?t.left:t.right;else{if(0===w){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return o.prototype.getNext=function(){var t=this.nodeStack.pop(),i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i},o.prototype.hasNext=function(){return this.nodeStack.length>0},o.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},o}(),di=function(){function o(t,i,u,p,w){this.key=t,this.value=i,this.color=null!=u?u:o.RED,this.left=null!=p?p:o.EMPTY,this.right=null!=w?w:o.EMPTY,this.size=this.left.size+1+this.right.size}return o.prototype.copy=function(t,i,u,p,w){return new o(null!=t?t:this.key,null!=i?i:this.value,null!=u?u:this.color,null!=p?p:this.left,null!=w?w:this.right)},o.prototype.isEmpty=function(){return!1},o.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},o.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},o.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},o.prototype.minKey=function(){return this.min().key},o.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},o.prototype.insert=function(t,i,u){var p=this,w=u(t,p.key);return(p=w<0?p.copy(null,null,null,p.left.insert(t,i,u),null):0===w?p.copy(null,i,null,null,null):p.copy(null,null,null,null,p.right.insert(t,i,u))).fixUp()},o.prototype.removeMin=function(){if(this.left.isEmpty())return o.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},o.prototype.remove=function(t,i){var u,p=this;if(i(t,p.key)<0)p.left.isEmpty()||p.left.isRed()||p.left.left.isRed()||(p=p.moveRedLeft()),p=p.copy(null,null,null,p.left.remove(t,i),null);else{if(p.left.isRed()&&(p=p.rotateRight()),p.right.isEmpty()||p.right.isRed()||p.right.left.isRed()||(p=p.moveRedRight()),0===i(t,p.key)){if(p.right.isEmpty())return o.EMPTY;u=p.right.min(),p=p.copy(u.key,u.value,null,null,p.right.removeMin())}p=p.copy(null,null,null,null,p.right.remove(t,i))}return p.fixUp()},o.prototype.isRed=function(){return this.color},o.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},o.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},o.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},o.prototype.rotateLeft=function(){var t=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},o.prototype.rotateRight=function(){var t=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},o.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)},o.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},o.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();var t=this.left.check();if(t!==this.right.check())throw ve();return t+(this.isRed()?0:1)},o}();di.EMPTY=null,di.RED=!0,di.BLACK=!1,di.EMPTY=new(function(){function o(){this.size=0}return Object.defineProperty(o.prototype,"key",{get:function(){throw ve()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"value",{get:function(){throw ve()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"color",{get:function(){throw ve()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"left",{get:function(){throw ve()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"right",{get:function(){throw ve()},enumerable:!1,configurable:!0}),o.prototype.copy=function(t,i,u,p,w){return this},o.prototype.insert=function(t,i,u){return new di(t,i)},o.prototype.remove=function(t,i){return this},o.prototype.isEmpty=function(){return!0},o.prototype.inorderTraversal=function(t){return!1},o.prototype.reverseTraversal=function(t){return!1},o.prototype.minKey=function(){return null},o.prototype.maxKey=function(){return null},o.prototype.isRed=function(){return!1},o.prototype.checkMaxDepth=function(){return!0},o.prototype.check=function(){return 0},o}());var $i=function(){function o(t){this.comparator=t,this.data=new Wr(this.comparator)}return o.prototype.has=function(t){return null!==this.data.get(t)},o.prototype.first=function(){return this.data.minKey()},o.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(o.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),o.prototype.indexOf=function(t){return this.data.indexOf(t)},o.prototype.forEach=function(t){this.data.inorderTraversal(function(i,u){return t(i),!1})},o.prototype.forEachInRange=function(t,i){for(var u=this.data.getIteratorFrom(t[0]);u.hasNext();){var p=u.getNext();if(this.comparator(p.key,t[1])>=0)return;i(p.key)}},o.prototype.forEachWhile=function(t,i){var u;for(u=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();u.hasNext();)if(!t(u.getNext().key))return},o.prototype.firstAfterOrEqual=function(t){var i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null},o.prototype.getIterator=function(){return new Do(this.data.getIterator())},o.prototype.getIteratorFrom=function(t){return new Do(this.data.getIteratorFrom(t))},o.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},o.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},o.prototype.isEmpty=function(){return this.data.isEmpty()},o.prototype.unionWith=function(t){var i=this;return i.size<t.size&&(i=t,t=this),t.forEach(function(u){i=i.add(u)}),i},o.prototype.isEqual=function(t){if(!(t instanceof o)||this.size!==t.size)return!1;for(var i=this.data.getIterator(),u=t.data.getIterator();i.hasNext();){var p=i.getNext().key,w=u.getNext().key;if(0!==this.comparator(p,w))return!1}return!0},o.prototype.toArray=function(){var t=[];return this.forEach(function(i){t.push(i)}),t},o.prototype.toString=function(){var t=[];return this.forEach(function(i){return t.push(i)}),"SortedSet("+t.toString()+")"},o.prototype.copy=function(t){var i=new o(this.comparator);return i.data=t,i},o}(),Do=function(){function o(t){this.iter=t}return o.prototype.getNext=function(){return this.iter.getNext().key},o.prototype.hasNext=function(){return this.iter.hasNext()},o}(),rs=new Wr(We.comparator);function gr(){return rs}var Oo=new Wr(We.comparator);function wo(){return Oo}var Xi=new Wr(We.comparator);function Lo(){return Xi}var Ar=new $i(We.comparator);function Yr(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];for(var i=Ar,u=0,p=o;u<p.length;u++){var w=p[u];i=i.add(w)}return i}var ur=new $i(ct);function li(){return ur}var bo=function(){function o(t,i,u,p,w){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=u,this.documentUpdates=p,this.resolvedLimboDocuments=w}return o.createSynthesizedRemoteEventForCurrentChange=function(t,i){var u=new Map;return u.set(t,Z.createSynthesizedTargetChangeForCurrentChange(t,i)),new o(rt.min(),u,li(),gr(),Yr())},o}(),Z=function(){function o(t,i,u,p,w){this.resumeToken=t,this.current=i,this.addedDocuments=u,this.modifiedDocuments=p,this.removedDocuments=w}return o.createSynthesizedTargetChangeForCurrentChange=function(t,i){return new o(at.EMPTY_BYTE_STRING,i,Yr(),Yr(),Yr())},o}(),q=function(o,t,i,u){this.v=o,this.removedTargetIds=t,this.key=i,this.P=u},Me=function(o,t){this.targetId=o,this.V=t},Je=function(o,t,i,u){void 0===i&&(i=at.EMPTY_BYTE_STRING),void 0===u&&(u=null),this.state=o,this.targetIds=t,this.resumeToken=i,this.cause=u},Ct=function(){function o(){this.S=0,this.D=xn(),this.C=at.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(o.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),o.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},o.prototype.M=function(){var t=Yr(),i=Yr(),u=Yr();return this.D.forEach(function(p,w){switch(w){case 0:t=t.add(p);break;case 2:i=i.add(p);break;case 1:u=u.add(p);break;default:ve()}}),new Z(this.C,this.N,t,i,u)},o.prototype.L=function(){this.k=!1,this.D=xn()},o.prototype.B=function(t,i){this.k=!0,this.D=this.D.insert(t,i)},o.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},o.prototype.U=function(){this.S+=1},o.prototype.K=function(){this.S-=1},o.prototype.j=function(){this.k=!0,this.N=!0},o}(),jt=function(){function o(t){this.W=t,this.G=new Map,this.H=gr(),this.J=En(),this.Y=new $i(ct)}return o.prototype.X=function(t){for(var i=0,u=t.v;i<u.length;i++){var p=u[i];t.P&&t.P.isFoundDocument()?this.Z(p,t.P):this.tt(p,t.key,t.P)}for(var w=0,S=t.removedTargetIds;w<S.length;w++)this.tt(p=S[w],t.key,t.P)},o.prototype.et=function(t){var i=this;this.forEachTarget(t,function(u){var p=i.nt(u);switch(t.state){case 0:i.st(u)&&p.O(t.resumeToken);break;case 1:p.K(),p.F||p.L(),p.O(t.resumeToken);break;case 2:p.K(),p.F||i.removeTarget(u);break;case 3:i.st(u)&&(p.j(),p.O(t.resumeToken));break;case 4:i.st(u)&&(i.it(u),p.O(t.resumeToken));break;default:ve()}})},o.prototype.forEachTarget=function(t,i){var u=this;t.targetIds.length>0?t.targetIds.forEach(i):this.G.forEach(function(p,w){u.st(w)&&i(w)})},o.prototype.rt=function(t){var i=t.targetId,u=t.V.count,p=this.ot(i);if(p){var w=p.target;if(Qn(w))if(0===u){var S=new We(w.path);this.tt(i,S,Hr.newNoDocument(S,rt.min()))}else Pe(1===u);else this.ct(i)!==u&&(this.it(i),this.Y=this.Y.add(i))}},o.prototype.ut=function(t){var i=this,u=new Map;this.G.forEach(function(S,O){var Q=i.ot(O);if(Q){if(S.current&&Qn(Q.target)){var he=new We(Q.target.path);null!==i.H.get(he)||i.at(O,he)||i.tt(O,he,Hr.newNoDocument(he,t))}S.$&&(u.set(O,S.M()),S.L())}});var p=Yr();this.J.forEach(function(S,O){var Q=!0;O.forEachWhile(function(he){var Te=i.ot(he);return!Te||2===Te.purpose||(Q=!1,!1)}),Q&&(p=p.add(S))});var w=new bo(t,u,this.Y,this.H,p);return this.H=gr(),this.J=En(),this.Y=new $i(ct),w},o.prototype.Z=function(t,i){if(this.st(t)){var u=this.at(t,i.key)?2:0;this.nt(t).B(i.key,u),this.H=this.H.insert(i.key,i),this.J=this.J.insert(i.key,this.ht(i.key).add(t))}},o.prototype.tt=function(t,i,u){if(this.st(t)){var p=this.nt(t);this.at(t,i)?p.B(i,1):p.q(i),this.J=this.J.insert(i,this.ht(i).delete(t)),u&&(this.H=this.H.insert(i,u))}},o.prototype.removeTarget=function(t){this.G.delete(t)},o.prototype.ct=function(t){var i=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size},o.prototype.U=function(t){this.nt(t).U()},o.prototype.nt=function(t){var i=this.G.get(t);return i||(i=new Ct,this.G.set(t,i)),i},o.prototype.ht=function(t){var i=this.J.get(t);return i||(i=new $i(ct),this.J=this.J.insert(t,i)),i},o.prototype.st=function(t){var i=null!==this.ot(t);return i||x("WatchChangeAggregator","Detected inactive target",t),i},o.prototype.ot=function(t){var i=this.G.get(t);return i&&i.F?null:this.W.lt(t)},o.prototype.it=function(t){var i=this;this.G.set(t,new Ct),this.W.getRemoteKeysForTarget(t).forEach(function(u){i.tt(t,u,null)})},o.prototype.at=function(t,i){return this.W.getRemoteKeysForTarget(t).has(i)},o}();function En(){return new Wr(We.comparator)}function xn(){return new Wr(We.comparator)}var Un={asc:"ASCENDING",desc:"DESCENDING"},mr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dr=function(o,t){this.databaseId=o,this.I=t};function oi(o,t){return o.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function mi(o,t){return o.I?t.toBase64():t.toUint8Array()}function po(o,t){return oi(o,t.toTimestamp())}function Mr(o){return Pe(!!o),rt.fromTimestamp((i=gn(o),new nt(i.seconds,i.nanos)));var i}function vi(o,t){return(i=o,new ze(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function Qi(o){var t=ze.fromString(o);return Pe(zi(t)),t}function Ur(o,t){return vi(o.databaseId,t.path)}function Ui(o,t){var i=Qi(t);if(i.get(1)!==o.databaseId.projectId)throw new _e(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+o.databaseId.projectId);if(i.get(3)!==o.databaseId.database)throw new _e(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+o.databaseId.database);return new We(To(i))}function eo(o,t){return vi(o.databaseId,t)}function Mi(o){var t=Qi(o);return 4===t.length?ze.emptyPath():To(t)}function Fi(o){return new ze(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function To(o){return Pe(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function to(o,t,i){return{name:Ur(o,t),fields:i.value.mapValue.fields}}function z(o,t,i){var u=Ui(o,t.name),p=Mr(t.updateTime),w=new Rr({mapValue:{fields:t.fields}}),S=Hr.newFoundDocument(u,p,w);return i&&S.setHasCommittedMutations(),i?S.setHasCommittedMutations():S}function oe(o,t){var i,p;if(t instanceof Fe)i={update:to(o,t.key,t.value)};else if(t instanceof On)i={delete:Ur(o,t.key)};else if(t instanceof ut)i={update:to(o,t.key,t.data),updateMask:Hi(t.fieldMask)};else{if(!(t instanceof tr))return ve();i={verify:Ur(o,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(function(u){return function(p,w){var S=w.transform;if(S instanceof lr)return{fieldPath:w.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof Zn)return{fieldPath:w.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof Di)return{fieldPath:w.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof bn)return{fieldPath:w.field.canonicalString(),increment:S.A};throw ve()}(0,u)})),t.precondition.isNone||(i.currentDocument=void 0!==(p=t.precondition).updateTime?{updateTime:po(o,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:ve()),i}function K(o,t){var he,i=t.currentDocument?void 0!==(he=t.currentDocument).updateTime?$r.updateTime(Mr(he.updateTime)):void 0!==he.exists?$r.exists(he.exists):$r.none():$r.none(),u=t.updateTransforms?t.updateTransforms.map(function(he){return function(Te,et){var pt=null;"setToServerValue"in et?(Pe("REQUEST_TIME"===et.setToServerValue),pt=new lr):"appendMissingElements"in et?pt=new Zn(et.appendMissingElements.values||[]):"removeAllFromArray"in et?pt=new Di(et.removeAllFromArray.values||[]):"increment"in et?pt=new bn(Te,et.increment):ve();var ln=Be.fromServerFormat(et.fieldPath);return new Ai(ln,pt)}(o,he)}):[];if(t.update){var p=Ui(o,t.update.name),w=new Rr({mapValue:{fields:t.update.fields}});if(t.updateMask){var S=function(he){return new Ke((he.fieldPaths||[]).map(function(et){return Be.fromServerFormat(et)}))}(t.updateMask);return new ut(p,w,S,i,u)}return new Fe(p,w,i,u)}if(t.delete){var O=Ui(o,t.delete);return new On(O,i)}if(t.verify){var Q=Ui(o,t.verify);return new tr(Q,i)}return ve()}function Ee(o,t){return{documents:[eo(o,t.path)]}}function ht(o,t){var i={structuredQuery:{}},u=t.path;null!==t.collectionGroup?(i.parent=eo(o,u),i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i.parent=eo(o,u.popLast()),i.structuredQuery.from=[{collectionId:u.lastSegment()}]);var p=function(O){if(0!==O.length){var Q=O.map(function(he){return function(Te){if("=="===Te.op){if(Lr(Te.value))return{unaryFilter:{field:Gr(Te.field),op:"IS_NAN"}};if(Fr(Te.value))return{unaryFilter:{field:Gr(Te.field),op:"IS_NULL"}}}else if("!="===Te.op){if(Lr(Te.value))return{unaryFilter:{field:Gr(Te.field),op:"IS_NOT_NAN"}};if(Fr(Te.value))return{unaryFilter:{field:Gr(Te.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gr(Te.field),op:jr(Te.op),value:Te.value}}}(he)});return 1===Q.length?Q[0]:{compositeFilter:{op:"AND",filters:Q}}}}(t.filters);p&&(i.structuredQuery.where=p);var w=function(O){if(0!==O.length)return O.map(function(Q){return{field:Gr((he=Q).field),direction:si(he.dir)};var he})}(t.orderBy);w&&(i.structuredQuery.orderBy=w);var Q,S=(Q=t.limit,o.I||Mt(Q)?Q:{value:Q});return null!==S&&(i.structuredQuery.limit=S),t.startAt&&(i.structuredQuery.startAt=$n(t.startAt)),t.endAt&&(i.structuredQuery.endAt=$n(t.endAt)),i}function Ht(o){var t=Mi(o.parent),i=o.structuredQuery,u=i.from?i.from.length:0,p=null;if(u>0){Pe(1===u);var w=i.from[0];w.allDescendants?p=w.collectionId:t=t.child(w.collectionId)}var S=[];i.where&&(S=Cn(i.where));var O=[];i.orderBy&&(O=i.orderBy.map(function(et){return new Ae(Ti((pt=et).field),function(Zt){switch(Zt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pt.direction));var pt}));var et,pt,Q=null;i.limit&&(Q=Mt(pt="object"==typeof(et=i.limit)?et.value:et)?null:pt);var he=null;i.startAt&&(he=yi(i.startAt));var Te=null;return i.endAt&&(Te=yi(i.endAt)),Fn(t,p,O,S,Q,"F",he,Te)}function Cn(o){return o?void 0!==o.unaryFilter?[ji(o)]:void 0!==o.fieldFilter?[_i(o)]:void 0!==o.compositeFilter?o.compositeFilter.filters.map(function(t){return Cn(t)}).reduce(function(t,i){return t.concat(i)}):ve():[]}function $n(o){return{before:o.before,values:o.position}}function yi(o){return new bt(o.values||[],!!o.before)}function si(o){return Un[o]}function jr(o){return mr[o]}function Gr(o){return{fieldPath:o.canonicalString()}}function Ti(o){return Be.fromServerFormat(o.fieldPath)}function _i(o){return vr.create(Ti(o.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(o.fieldFilter.op),o.fieldFilter.value)}function ji(o){switch(o.unaryFilter.op){case"IS_NAN":var t=Ti(o.unaryFilter.field);return vr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var i=Ti(o.unaryFilter.field);return vr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var u=Ti(o.unaryFilter.field);return vr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var p=Ti(o.unaryFilter.field);return vr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}function Hi(o){var t=[];return o.fields.forEach(function(i){return t.push(i.canonicalString())}),{fieldPaths:t}}function zi(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}function ei(o){for(var t="",i=0;i<o.length;i++)t.length>0&&(t=Y(t)),t=hi(o.get(i),t);return Y(t)}function hi(o,t){for(var i=t,u=o.length,p=0;p<u;p++){var w=o.charAt(p);switch(w){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=w}}return i}function Y(o){return o+"\x01\x01"}function $(o){var t=o.length;if(Pe(t>=2),2===t)return Pe("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),ze.emptyPath();for(var i=t-2,u=[],p="",w=0;w<t;){var S=o.indexOf("\x01",w);switch((S<0||S>i)&&ve(),o.charAt(S+1)){case"\x01":var O=o.substring(w,S),Q=void 0;0===p.length?Q=O:(Q=p+=O,p=""),u.push(Q);break;case"\x10":p+=o.substring(w,S),p+="\0";break;case"\x11":p+=o.substring(w,S+1);break;default:ve()}w=S+2}return new ze(u)}var B=function(o,t){this.seconds=o,this.nanoseconds=t},ge=function(o,t,i){this.ownerId=o,this.allowTabSynchronization=t,this.leaseTimestampMs=i};ge.store="owner",ge.key="owner";var Yt=function(o,t,i){this.userId=o,this.lastAcknowledgedBatchId=t,this.lastStreamToken=i};Yt.store="mutationQueues",Yt.keyPath="userId";var Ln=function(o,t,i,u,p){this.userId=o,this.batchId=t,this.localWriteTimeMs=i,this.baseMutations=u,this.mutations=p};Ln.store="mutations",Ln.keyPath="batchId",Ln.userMutationsIndex="userMutationsIndex",Ln.userMutationsKeyPath=["userId","batchId"];var vn=function(){function o(){}return o.prefixForUser=function(t){return[t]},o.prefixForPath=function(t,i){return[t,ei(i)]},o.key=function(t,i,u){return[t,ei(i),u]},o}();vn.store="documentMutations",vn.PLACEHOLDER=new vn;var E=function(o,t){this.path=o,this.readTime=t},X=function(o,t){this.path=o,this.version=t},b=function(o,t,i,u,p,w){this.unknownDocument=o,this.noDocument=t,this.document=i,this.hasCommittedMutations=u,this.readTime=p,this.parentPath=w};b.store="remoteDocuments",b.readTimeIndex="readTimeIndex",b.readTimeIndexPath="readTime",b.collectionReadTimeIndex="collectionReadTimeIndex",b.collectionReadTimeIndexPath=["parentPath","readTime"];var G=function(o){this.byteSize=o};G.store="remoteDocumentGlobal",G.key="remoteDocumentGlobalKey";var de=function(o,t,i,u,p,w,S){this.targetId=o,this.canonicalId=t,this.readTime=i,this.resumeToken=u,this.lastListenSequenceNumber=p,this.lastLimboFreeSnapshotVersion=w,this.query=S};de.store="targets",de.keyPath="targetId",de.queryTargetsIndexName="queryTargetsIndex",de.queryTargetsKeyPath=["canonicalId","targetId"];var Kt=function(o,t,i){this.targetId=o,this.path=t,this.sequenceNumber=i};Kt.store="targetDocuments",Kt.keyPath=["targetId","path"],Kt.documentTargetsIndex="documentTargetsIndex",Kt.documentTargetsKeyPath=["path","targetId"];var Sn=function(o,t,i,u){this.highestTargetId=o,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=i,this.targetCount=u};Sn.key="targetGlobalKey",Sn.store="targetGlobal";var Vt=function(o,t){this.collectionId=o,this.parent=t};Vt.store="collectionParents",Vt.keyPath=["collectionId","parent"];var Vn=function(o,t,i,u){this.clientId=o,this.updateTimeMs=t,this.networkEnabled=i,this.inForeground=u};Vn.store="clientMetadata",Vn.keyPath="clientId";var wi=function(o,t,i){this.bundleId=o,this.createTime=t,this.version=i};wi.store="bundles",wi.keyPath="bundleId";var zr=function(o,t,i){this.name=o,this.readTime=t,this.bundledQuery=i};zr.store="namedQueries",zr.keyPath="name";var so=(0,f.__spreadArray)((0,f.__spreadArray)([],(0,f.__spreadArray)((0,f.__spreadArray)([],(0,f.__spreadArray)((0,f.__spreadArray)([],(0,f.__spreadArray)((0,f.__spreadArray)([],[Yt.store,Ln.store,vn.store,b.store,de.store,ge.store,Sn.store,Kt.store]),[Vn.store])),[G.store])),[Vt.store])),[wi.store,zr.store]),no="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wi=function(){function o(){this.onCommittedListeners=[]}return o.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},o.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},o}(),Li=function(){var o=this;this.promise=new Promise(function(t,i){o.resolve=t,o.reject=i})},_n=function(){function o(t){var i=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(u){i.isDone=!0,i.result=u,i.nextCallback&&i.nextCallback(u)},function(u){i.isDone=!0,i.error=u,i.catchCallback&&i.catchCallback(u)})}return o.prototype.catch=function(t){return this.next(void 0,t)},o.prototype.next=function(t,i){var u=this;return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new o(function(p,w){u.nextCallback=function(S){u.wrapSuccess(t,S).next(p,w)},u.catchCallback=function(S){u.wrapFailure(i,S).next(p,w)}})},o.prototype.toPromise=function(){var t=this;return new Promise(function(i,u){t.next(i,u)})},o.prototype.wrapUserFunction=function(t){try{var i=t();return i instanceof o?i:o.resolve(i)}catch(u){return o.reject(u)}},o.prototype.wrapSuccess=function(t,i){return t?this.wrapUserFunction(function(){return t(i)}):o.resolve(i)},o.prototype.wrapFailure=function(t,i){return t?this.wrapUserFunction(function(){return t(i)}):o.reject(i)},o.resolve=function(t){return new o(function(i,u){i(t)})},o.reject=function(t){return new o(function(i,u){u(t)})},o.waitFor=function(t){return new o(function(i,u){var p=0,w=0,S=!1;t.forEach(function(O){++p,O.next(function(){++w,S&&w===p&&i()},function(Q){return u(Q)})}),S=!0,w===p&&i()})},o.or=function(t){for(var i=o.resolve(!1),u=function(S){i=i.next(function(O){return O?o.resolve(O):S()})},p=0,w=t;p<w.length;p++)u(w[p]);return i},o.forEach=function(t,i){var u=this,p=[];return t.forEach(function(w,S){p.push(i.call(u,w,S))}),this.waitFor(p)},o}(),Qs=function(){function o(t,i){var u=this;this.action=t,this.transaction=i,this.aborted=!1,this.ft=new Li,this.transaction.oncomplete=function(){u.ft.resolve()},this.transaction.onabort=function(){i.error?u.ft.reject(new ko(t,i.error)):u.ft.resolve()},this.transaction.onerror=function(p){var w=Vo(p.target.error);u.ft.reject(new ko(t,w))}}return o.open=function(t,i,u,p){try{return new o(i,t.transaction(p,u))}catch(w){throw new ko(i,w)}},Object.defineProperty(o.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),o.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(x("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},o.prototype.store=function(t){var i=this.transaction.objectStore(t);return new Qo(i)},o}(),Pi=function(){function o(t,i,u){this.name=t,this.version=i,this.wt=u,12.2===o._t((0,j.getUA)())&&Se("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return o.delete=function(t){return x("SimpleDb","Removing database:",t),vo(window.indexedDB.deleteDatabase(t)).toPromise()},o.yt=function(){if("undefined"==typeof indexedDB)return!1;if(o.gt())return!0;var t=(0,j.getUA)(),i=o._t(t),u=0<i&&i<10,p=o.Et(t),w=0<p&&p<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||u||w)},o.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},o.It=function(t,i){return t.store(i)},o._t=function(t){var i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),u=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(u)},o.Et=function(t){var i=t.match(/Android ([\d.]+)/i),u=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(u)},o.prototype.At=function(t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,u=this;return(0,f.__generator)(this,function(p){switch(p.label){case 0:return this.db?[3,2]:(x("SimpleDb","Opening database:",this.name),i=this,[4,new Promise(function(w,S){var O=indexedDB.open(u.name,u.version);O.onsuccess=function(Q){w(Q.target.result)},O.onblocked=function(){S(new ko(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},O.onerror=function(Q){var he=Q.target.error;S("VersionError"===he.name?new _e(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ko(t,he))},O.onupgradeneeded=function(Q){x("SimpleDb",'Database "'+u.name+'" requires upgrade from version:',Q.oldVersion),u.wt.Rt(Q.target.result,O.transaction,Q.oldVersion,u.version).next(function(){x("SimpleDb","Database upgrade to version "+u.version+" complete")})}})]);case 1:i.db=p.sent(),p.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(w){return u.bt(w)}),this.db)]}})})},o.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(i){return t(i)})},o.prototype.runTransaction=function(t,i,u,p){return(0,f.__awaiter)(this,void 0,void 0,function(){var w,S,O,Q,he;return(0,f.__generator)(this,function(Te){switch(Te.label){case 0:w="readonly"===i,S=0,O=function(){var et,pt,Zt,Qt,ln;return(0,f.__generator)(this,function(fn){switch(fn.label){case 0:++S,fn.label=1;case 1:return fn.trys.push([1,4,,5]),[4,Q.At(t)];case 2:return Q.db=fn.sent(),et=Qs.open(Q.db,t,w?"readonly":"readwrite",u),pt=p(et).catch(function(Wn){return et.abort(Wn),_n.reject(Wn)}).toPromise(),Zt={},pt.catch(function(){}),[4,et.dt];case 3:return[2,(Zt.value=(fn.sent(),pt),Zt)];case 4:return x("SimpleDb","Transaction failed with error:",(Qt=fn.sent()).message,"Retrying:",ln="FirebaseError"!==Qt.name&&S<3),Q.close(),ln?[3,5]:[2,{value:Promise.reject(Qt)}];case 5:return[2]}})},Q=this,Te.label=1;case 1:return[5,O()];case 2:if("object"==typeof(he=Te.sent()))return[2,he.value];Te.label=3;case 3:return[3,1];case 4:return[2]}})})},o.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},o}(),Bo=function(){function o(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(o.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),o.prototype.done=function(){this.Vt=!0},o.prototype.Ct=function(t){this.St=t},o.prototype.delete=function(){return vo(this.Pt.delete())},o}(),ko=function(o){function t(i,u){var p=this;return(p=o.call(this,we.UNAVAILABLE,"IndexedDB transaction '"+i+"' failed: "+u)||this).name="IndexedDbTransactionError",p}return(0,f.__extends)(t,o),t}(_e);function mo(o){return"IndexedDbTransactionError"===o.name}var Qo=function(){function o(t){this.store=t}return o.prototype.put=function(t,i){var u;return void 0!==i?(x("SimpleDb","PUT",this.store.name,t,i),u=this.store.put(i,t)):(x("SimpleDb","PUT",this.store.name,"<auto-key>",t),u=this.store.put(t)),vo(u)},o.prototype.add=function(t){return x("SimpleDb","ADD",this.store.name,t,t),vo(this.store.add(t))},o.prototype.get=function(t){var i=this;return vo(this.store.get(t)).next(function(u){return void 0===u&&(u=null),x("SimpleDb","GET",i.store.name,t,u),u})},o.prototype.delete=function(t){return x("SimpleDb","DELETE",this.store.name,t),vo(this.store.delete(t))},o.prototype.count=function(){return x("SimpleDb","COUNT",this.store.name),vo(this.store.count())},o.prototype.Nt=function(t,i){var u=this.cursor(this.options(t,i)),p=[];return this.xt(u,function(w,S){p.push(S)}).next(function(){return p})},o.prototype.kt=function(t,i){x("SimpleDb","DELETE ALL",this.store.name);var u=this.options(t,i);u.Ft=!1;var p=this.cursor(u);return this.xt(p,function(w,S,O){return O.delete()})},o.prototype.$t=function(t,i){var u;i?u=t:(u={},i=t);var p=this.cursor(u);return this.xt(p,i)},o.prototype.Ot=function(t){var i=this.cursor({});return new _n(function(u,p){i.onerror=function(w){var S=Vo(w.target.error);p(S)},i.onsuccess=function(w){var S=w.target.result;S?t(S.primaryKey,S.value).next(function(O){O?S.continue():u()}):u()}})},o.prototype.xt=function(t,i){var u=[];return new _n(function(p,w){t.onerror=function(S){w(S.target.error)},t.onsuccess=function(S){var O=S.target.result;if(O){var Q=new Bo(O),he=i(O.primaryKey,O.value,Q);if(he instanceof _n){var Te=he.catch(function(et){return Q.done(),_n.reject(et)});u.push(Te)}Q.isDone?p():null===Q.Dt?O.continue():O.continue(Q.Dt)}else p()}}).next(function(){return _n.waitFor(u)})},o.prototype.options=function(t,i){var u;return void 0!==t&&("string"==typeof t?u=t:i=t),{index:u,range:i}},o.prototype.cursor=function(t){var i="next";if(t.reverse&&(i="prev"),t.index){var u=this.store.index(t.index);return t.Ft?u.openKeyCursor(t.range,i):u.openCursor(t.range,i)}return this.store.openCursor(t.range,i)},o}();function vo(o){return new _n(function(t,i){o.onsuccess=function(u){t(u.target.result)},o.onerror=function(u){var p=Vo(u.target.error);i(p)}})}var ks=!1;function Vo(o){var t=Pi._t((0,j.getUA)());if(t>=12.2&&t<13){var i="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(i)>=0){var u=new _e("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+i+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ks||(ks=!0,setTimeout(function(){throw u},0)),u}}return o}var Js=function(o){function t(i,u){var p=this;return(p=o.call(this)||this).Mt=i,p.currentSequenceNumber=u,p}return(0,f.__extends)(t,o),t}(Wi);function $o(o,t){var i=ue(o);return Pi.It(i.Mt,t)}var Is=function(){function o(t,i,u,p){this.batchId=t,this.localWriteTime=i,this.baseMutations=u,this.mutations=p}return o.prototype.applyToRemoteDocument=function(t,i){for(var u=i.mutationResults,p=0;p<this.mutations.length;p++){var w=this.mutations[p];w.key.isEqual(t.key)&&fr(w,t,u[p])}},o.prototype.applyToLocalView=function(t){for(var i=0,u=this.baseMutations;i<u.length;i++)(S=u[i]).key.isEqual(t.key)&&gi(S,t,this.localWriteTime);for(var p=0,w=this.mutations;p<w.length;p++){var S;(S=w[p]).key.isEqual(t.key)&&gi(S,t,this.localWriteTime)}},o.prototype.applyToLocalDocumentSet=function(t){var i=this;this.mutations.forEach(function(u){var p=t.get(u.key),w=p;i.applyToLocalView(w),p.isValidDocument()||w.convertToNoDocument(rt.min())})},o.prototype.keys=function(){return this.mutations.reduce(function(t,i){return t.add(i.key)},Yr())},o.prototype.isEqual=function(t){return this.batchId===t.batchId&&wt(this.mutations,t.mutations,function(i,u){return Oe(i,u)})&&wt(this.baseMutations,t.baseMutations,function(i,u){return Oe(i,u)})},o}(),La=function(){function o(t,i,u,p){this.batch=t,this.commitVersion=i,this.mutationResults=u,this.docVersions=p}return o.from=function(t,i,u){Pe(t.mutations.length===u.length);for(var p=Lo(),w=t.mutations,S=0;S<w.length;S++)p=p.insert(w[S].key,u[S].version);return new o(t,i,u,p)},o}(),is=function(){function o(t,i,u,p,w,S,O){void 0===w&&(w=rt.min()),void 0===S&&(S=rt.min()),void 0===O&&(O=at.EMPTY_BYTE_STRING),this.target=t,this.targetId=i,this.purpose=u,this.sequenceNumber=p,this.snapshotVersion=w,this.lastLimboFreeSnapshotVersion=S,this.resumeToken=O}return o.prototype.withSequenceNumber=function(t){return new o(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},o.prototype.withResumeToken=function(t,i){return new o(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t)},o.prototype.withLastLimboFreeSnapshotVersion=function(t){return new o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},o}(),fo=function(o){this.Lt=o};function ca(o,t){if(t.document)return z(o.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var i=We.fromSegments(t.noDocument.path),u=ro(t.noDocument.readTime),p=Hr.newNoDocument(i,u);return t.hasCommittedMutations?p.setHasCommittedMutations():p}if(t.unknownDocument){var w=We.fromSegments(t.unknownDocument.path);return u=ro(t.unknownDocument.version),Hr.newUnknownDocument(w,u)}return ve()}function Po(o,t,i){var et,pt,u=Ns(i),p=t.key.path.popLast().toArray();if(t.isFoundDocument()){var w={name:Ur(et=o.Lt,(pt=t).key),fields:pt.data.value.mapValue.fields,updateTime:oi(et,pt.version.toTimestamp())},S=t.hasCommittedMutations;return new b(null,null,w,S,u,p)}if(t.isNoDocument()){var O=t.key.path.toArray(),Q=Jo(t.version);return S=t.hasCommittedMutations,new b(null,new E(O,Q),null,S,u,p)}if(t.isUnknownDocument()){var he=t.key.path.toArray(),Te=Jo(t.version);return new b(new X(he,Te),null,null,!0,u,p)}return ve()}function Ns(o){var t=o.toTimestamp();return[t.seconds,t.nanoseconds]}function Ia(o){var t=new nt(o[0],o[1]);return rt.fromTimestamp(t)}function Jo(o){var t=o.toTimestamp();return new B(t.seconds,t.nanoseconds)}function ro(o){var t=new nt(o.seconds,o.nanoseconds);return rt.fromTimestamp(t)}function Uo(o,t){for(var i=(t.baseMutations||[]).map(function(Q){return K(o.Lt,Q)}),u=0;u<t.mutations.length-1;++u)u+1<t.mutations.length&&void 0!==t.mutations[u+1].transform&&(t.mutations[u].updateTransforms=t.mutations[u+1].transform.fieldTransforms,t.mutations.splice(u+1,1),++u);var S=t.mutations.map(function(Q){return K(o.Lt,Q)}),O=nt.fromMillis(t.localWriteTimeMs);return new Is(t.batchId,O,i,S)}function Ps(o){var t,i,u=ro(o.readTime),p=void 0!==o.lastLimboFreeSnapshotVersion?ro(o.lastLimboFreeSnapshotVersion):rt.min();return void 0!==o.query.documents?(Pe(1===(i=o.query).documents.length),t=mt(Jn(Mi(i.documents[0])))):t=mt(Ht(o.query)),new is(t,o.targetId,0,o.lastListenSequenceNumber,u,p,at.fromBase64String(o.resumeToken))}function Ds(o,t){var i,u=Jo(t.snapshotVersion),p=Jo(t.lastLimboFreeSnapshotVersion);i=Qn(t.target)?Ee(o.Lt,t.target):ht(o.Lt,t.target);var w=t.resumeToken.toBase64();return new de(t.targetId,br(t.target),u,w,t.sequenceNumber,p,i)}function qo(o){var t=Ht({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?Lt(t,t.limit,"L"):t}var Ba=function(){function o(){}return o.prototype.getBundleMetadata=function(t,i){return mu(t).get(i).next(function(u){if(u)return{id:(p=u).bundleId,createTime:ro(p.createTime),version:p.version};var p})},o.prototype.saveBundleMetadata=function(t,i){return mu(t).put({bundleId:(u=i).id,createTime:Jo(Mr(u.createTime)),version:u.version});var u},o.prototype.getNamedQuery=function(t,i){return io(t).get(i).next(function(u){if(u)return{name:(p=u).name,query:qo(p.bundledQuery),readTime:ro(p.readTime)};var p})},o.prototype.saveNamedQuery=function(t,i){return io(t).put({name:(u=i).name,readTime:Jo(Mr(u.readTime)),bundledQuery:u.bundledQuery});var u},o}();function mu(o){return $o(o,wi.store)}function io(o){return $o(o,zr.store)}var jo=function(){function o(){this.Bt=new Bi}return o.prototype.addToCollectionParentIndex=function(t,i){return this.Bt.add(i),_n.resolve()},o.prototype.getCollectionParents=function(t,i){return _n.resolve(this.Bt.getEntries(i))},o}(),Bi=function(){function o(){this.index={}}return o.prototype.add=function(t){var i=t.lastSegment(),u=t.popLast(),p=this.index[i]||new $i(ze.comparator),w=!p.has(u);return this.index[i]=p.add(u),w},o.prototype.has=function(t){var i=t.lastSegment(),u=t.popLast(),p=this.index[i];return p&&p.has(u)},o.prototype.getEntries=function(t){return(this.index[t]||new $i(ze.comparator)).toArray()},o}(),la=function(){function o(){this.qt=new Bi}return o.prototype.addToCollectionParentIndex=function(t,i){var u=this;if(!this.qt.has(i)){var p=i.lastSegment(),w=i.popLast();t.addOnCommittedListener(function(){u.qt.add(i)});var S={collectionId:p,parent:ei(w)};return Da(t).put(S)}return _n.resolve()},o.prototype.getCollectionParents=function(t,i){var u=[],p=IDBKeyRange.bound([i,""],[Ut(i),""],!1,!0);return Da(t).Nt(p).next(function(w){for(var S=0,O=w;S<O.length;S++){var Q=O[S];if(Q.collectionId!==i)break;u.push($(Q.parent))}return u})},o}();function Da(o){return $o(o,Vt.store)}var Zs={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zo=function(){function o(t,i,u){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=u}return o.withCacheSize=function(t){return new o(t,o.DEFAULT_COLLECTION_PERCENTILE,o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},o}();function ea(o,t,i){var u=o.store(Ln.store),p=o.store(vn.store),w=[],S=IDBKeyRange.only(i.batchId),O=0,Q=u.$t({range:S},function(Qt,ln,fn){return O++,fn.delete()});w.push(Q.next(function(){Pe(1===O)}));for(var he=[],Te=0,et=i.mutations;Te<et.length;Te++){var pt=et[Te],Zt=vn.key(t,pt.key.path,i.batchId);w.push(p.delete(Zt)),he.push(pt.key)}return _n.waitFor(w).next(function(){return he})}function y(o){if(!o)return 0;var t;if(o.document)t=o.document;else if(o.unknownDocument)t=o.unknownDocument;else{if(!o.noDocument)throw ve();t=o.noDocument}return JSON.stringify(t).length}zo.DEFAULT_COLLECTION_PERCENTILE=10,zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zo.DEFAULT=new zo(41943040,zo.DEFAULT_COLLECTION_PERCENTILE,zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zo.DISABLED=new zo(-1,0,0);var P=function(){function o(t,i,u,p){this.userId=t,this.R=i,this.Ut=u,this.referenceDelegate=p,this.Kt={}}return o.Qt=function(t,i,u,p){return Pe(""!==t.uid),new o(t.isAuthenticated()?t.uid:"",i,u,p)},o.prototype.checkEmpty=function(t){var i=!0,u=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ie(t).$t({index:Ln.userMutationsIndex,range:u},function(p,w,S){i=!1,S.done()}).next(function(){return i})},o.prototype.addMutationBatch=function(t,i,u,p){var w=this,S=ft(t),O=Ie(t);return O.add({}).next(function(Q){Pe("number"==typeof Q);for(var he=new Is(Q,i,u,p),Te=function(Wn,Kr,ri){var qi=ri.baseMutations.map(function(Io){return oe(Wn.Lt,Io)}),Ii=ri.mutations.map(function(Io){return oe(Wn.Lt,Io)});return new Ln(Kr,ri.batchId,ri.localWriteTime.toMillis(),qi,Ii)}(w.R,w.userId,he),et=[],pt=new $i(function(Wn,Kr){return ct(Wn.canonicalString(),Kr.canonicalString())}),Zt=0,Qt=p;Zt<Qt.length;Zt++){var ln=Qt[Zt],fn=vn.key(w.userId,ln.key.path,Q);pt=pt.add(ln.key.path.popLast()),et.push(O.put(Te)),et.push(S.put(fn,vn.PLACEHOLDER))}return pt.forEach(function(Wn){et.push(w.Ut.addToCollectionParentIndex(t,Wn))}),t.addOnCommittedListener(function(){w.Kt[Q]=he.keys()}),_n.waitFor(et).next(function(){return he})})},o.prototype.lookupMutationBatch=function(t,i){var u=this;return Ie(t).get(i).next(function(p){return p?(Pe(p.userId===u.userId),Uo(u.R,p)):null})},o.prototype.jt=function(t,i){var u=this;return this.Kt[i]?_n.resolve(this.Kt[i]):this.lookupMutationBatch(t,i).next(function(p){if(p){var w=p.keys();return u.Kt[i]=w,w}return null})},o.prototype.getNextMutationBatchAfterBatchId=function(t,i){var u=this,p=i+1,w=IDBKeyRange.lowerBound([this.userId,p]),S=null;return Ie(t).$t({index:Ln.userMutationsIndex,range:w},function(O,Q,he){Q.userId===u.userId&&(Pe(Q.batchId>=p),S=Uo(u.R,Q)),he.done()}).next(function(){return S})},o.prototype.getHighestUnacknowledgedBatchId=function(t){var i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),u=-1;return Ie(t).$t({index:Ln.userMutationsIndex,range:i,reverse:!0},function(p,w,S){u=w.batchId,S.done()}).next(function(){return u})},o.prototype.getAllMutationBatches=function(t){var i=this,u=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ie(t).Nt(Ln.userMutationsIndex,u).next(function(p){return p.map(function(w){return Uo(i.R,w)})})},o.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,i){var u=this,p=vn.prefixForPath(this.userId,i.path),w=IDBKeyRange.lowerBound(p),S=[];return ft(t).$t({range:w},function(O,Q,he){var Te=O[0],pt=O[2],Zt=$(O[1]);if(Te===u.userId&&i.path.isEqual(Zt))return Ie(t).get(pt).next(function(Qt){if(!Qt)throw ve();Pe(Qt.userId===u.userId),S.push(Uo(u.R,Qt))});he.done()}).next(function(){return S})},o.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,i){var u=this,p=new $i(ct),w=[];return i.forEach(function(S){var O=vn.prefixForPath(u.userId,S.path),Q=IDBKeyRange.lowerBound(O),he=ft(t).$t({range:Q},function(Te,et,pt){var Zt=Te[0],ln=Te[2],fn=$(Te[1]);Zt===u.userId&&S.path.isEqual(fn)?p=p.add(ln):pt.done()});w.push(he)}),_n.waitFor(w).next(function(){return u.Wt(t,p)})},o.prototype.getAllMutationBatchesAffectingQuery=function(t,i){var u=this,p=i.path,w=p.length+1,S=vn.prefixForPath(this.userId,p),O=IDBKeyRange.lowerBound(S),Q=new $i(ct);return ft(t).$t({range:O},function(he,Te,et){var pt=he[0],Qt=he[2],ln=$(he[1]);pt===u.userId&&p.isPrefixOf(ln)?ln.length===w&&(Q=Q.add(Qt)):et.done()}).next(function(){return u.Wt(t,Q)})},o.prototype.Wt=function(t,i){var u=this,p=[],w=[];return i.forEach(function(S){w.push(Ie(t).get(S).next(function(O){if(null===O)throw ve();Pe(O.userId===u.userId),p.push(Uo(u.R,O))}))}),_n.waitFor(w).next(function(){return p})},o.prototype.removeMutationBatch=function(t,i){var u=this;return ea(t.Mt,this.userId,i).next(function(p){return t.addOnCommittedListener(function(){u.Gt(i.batchId)}),_n.forEach(p,function(w){return u.referenceDelegate.markPotentiallyOrphaned(t,w)})})},o.prototype.Gt=function(t){delete this.Kt[t]},o.prototype.performConsistencyCheck=function(t){var i=this;return this.checkEmpty(t).next(function(u){if(!u)return _n.resolve();var p=IDBKeyRange.lowerBound(vn.prefixForUser(i.userId)),w=[];return ft(t).$t({range:p},function(S,O,Q){if(S[0]===i.userId){var he=$(S[1]);w.push(he)}else Q.done()}).next(function(){Pe(0===w.length)})})},o.prototype.containsKey=function(t,i){return te(t,this.userId,i)},o.prototype.zt=function(t){var i=this;return Gt(t).get(this.userId).next(function(u){return u||new Yt(i.userId,-1,"")})},o}();function te(o,t,i){var u=vn.prefixForPath(t,i.path),p=u[1],w=IDBKeyRange.lowerBound(u),S=!1;return ft(o).$t({range:w,Ft:!0},function(O,Q,he){O[0]===t&&O[1]===p&&(S=!0),he.done()}).next(function(){return S})}function Ie(o){return $o(o,Ln.store)}function ft(o){return $o(o,vn.store)}function Gt(o){return $o(o,Yt.store)}var Hn=function(){function o(t){this.Ht=t}return o.prototype.next=function(){return this.Ht+=2,this.Ht},o.Jt=function(){return new o(0)},o.Yt=function(){return new o(-1)},o}(),Ri=function(){function o(t,i){this.referenceDelegate=t,this.R=i}return o.prototype.allocateTargetId=function(t){var i=this;return this.Xt(t).next(function(u){var p=new Hn(u.highestTargetId);return u.highestTargetId=p.next(),i.Zt(t,u).next(function(){return u.highestTargetId})})},o.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(i){return rt.fromTimestamp(new nt(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds))})},o.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(i){return i.highestListenSequenceNumber})},o.prototype.setTargetsMetadata=function(t,i,u){var p=this;return this.Xt(t).next(function(w){return w.highestListenSequenceNumber=i,u&&(w.lastRemoteSnapshotVersion=u.toTimestamp()),i>w.highestListenSequenceNumber&&(w.highestListenSequenceNumber=i),p.Zt(t,w)})},o.prototype.addTargetData=function(t,i){var u=this;return this.te(t,i).next(function(){return u.Xt(t).next(function(p){return p.targetCount+=1,u.ee(i,p),u.Zt(t,p)})})},o.prototype.updateTargetData=function(t,i){return this.te(t,i)},o.prototype.removeTargetData=function(t,i){var u=this;return this.removeMatchingKeysForTargetId(t,i.targetId).next(function(){return ai(t).delete(i.targetId)}).next(function(){return u.Xt(t)}).next(function(p){return Pe(p.targetCount>0),p.targetCount-=1,u.Zt(t,p)})},o.prototype.removeTargets=function(t,i,u){var p=this,w=0,S=[];return ai(t).$t(function(O,Q){var he=Ps(Q);he.sequenceNumber<=i&&null===u.get(he.targetId)&&(w++,S.push(p.removeTargetData(t,he)))}).next(function(){return _n.waitFor(S)}).next(function(){return w})},o.prototype.forEachTarget=function(t,i){return ai(t).$t(function(u,p){var w=Ps(p);i(w)})},o.prototype.Xt=function(t){return Gi(t).get(Sn.key).next(function(i){return Pe(null!==i),i})},o.prototype.Zt=function(t,i){return Gi(t).put(Sn.key,i)},o.prototype.te=function(t,i){return ai(t).put(Ds(this.R,i))},o.prototype.ee=function(t,i){var u=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,u=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,u=!0),u},o.prototype.getTargetCount=function(t){return this.Xt(t).next(function(i){return i.targetCount})},o.prototype.getTargetData=function(t,i){var u=br(i),p=IDBKeyRange.bound([u,Number.NEGATIVE_INFINITY],[u,Number.POSITIVE_INFINITY]),w=null;return ai(t).$t({range:p,index:de.queryTargetsIndexName},function(S,O,Q){var he=Ps(O);$t(i,he.target)&&(w=he,Q.done())}).next(function(){return w})},o.prototype.addMatchingKeys=function(t,i,u){var p=this,w=[],S=Eo(t);return i.forEach(function(O){var Q=ei(O.path);w.push(S.put(new Kt(u,Q))),w.push(p.referenceDelegate.addReference(t,u,O))}),_n.waitFor(w)},o.prototype.removeMatchingKeys=function(t,i,u){var p=this,w=Eo(t);return _n.forEach(i,function(S){var O=ei(S.path);return _n.waitFor([w.delete([u,O]),p.referenceDelegate.removeReference(t,u,S)])})},o.prototype.removeMatchingKeysForTargetId=function(t,i){var u=Eo(t),p=IDBKeyRange.bound([i],[i+1],!1,!0);return u.delete(p)},o.prototype.getMatchingKeysForTargetId=function(t,i){var u=IDBKeyRange.bound([i],[i+1],!1,!0),p=Eo(t),w=Yr();return p.$t({range:u,Ft:!0},function(S,O,Q){var he=$(S[1]),Te=new We(he);w=w.add(Te)}).next(function(){return w})},o.prototype.containsKey=function(t,i){var u=ei(i.path),p=IDBKeyRange.bound([u],[Ut(u)],!1,!0),w=0;return Eo(t).$t({index:Kt.documentTargetsIndex,Ft:!0,range:p},function(S,O,Q){0!==S[0]&&(w++,Q.done())}).next(function(){return w>0})},o.prototype.lt=function(t,i){return ai(t).get(i).next(function(u){return u?Ps(u):null})},o}();function ai(o){return $o(o,de.store)}function Gi(o){return $o(o,Sn.store)}function Eo(o){return $o(o,Kt.store)}function yo(o){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(t){if(o.code!==we.FAILED_PRECONDITION||o.message!==no)throw o;return x("LocalStore","Unexpectedly lost primary lease"),[2]})})}function hs(o,t){var u=o[1],w=t[1],S=ct(o[0],t[0]);return 0===S?ct(u,w):S}var fa=function(){function o(t){this.ne=t,this.buffer=new $i(hs),this.se=0}return o.prototype.ie=function(){return++this.se},o.prototype.re=function(t){var i=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(i);else{var u=this.buffer.last();hs(i,u)<0&&(this.buffer=this.buffer.delete(u).add(i))}},Object.defineProperty(o.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),o}(),Hs=function(){function o(t,i){this.garbageCollector=t,this.asyncQueue=i,this.oe=!1,this.ce=null}return o.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},o.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(o.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),o.prototype.ue=function(t){var i=this,u=this.oe?3e5:6e4;x("LruGarbageCollector","Garbage collection scheduled in "+u+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",u,function(){return(0,f.__awaiter)(i,void 0,void 0,function(){var p;return(0,f.__generator)(this,function(w){switch(w.label){case 0:this.ce=null,this.oe=!0,w.label=1;case 1:return w.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return w.sent(),[3,7];case 3:return mo(p=w.sent())?(x("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",p),[3,6]):[3,4];case 4:return[4,yo(p)];case 5:w.sent(),w.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return w.sent(),[2]}})})})},o}(),Nu=function(){function o(t,i){this.ae=t,this.params=i}return o.prototype.calculateTargetCount=function(t,i){return this.ae.he(t).next(function(u){return Math.floor(i/100*u)})},o.prototype.nthSequenceNumber=function(t,i){var u=this;if(0===i)return _n.resolve(Le.o);var p=new fa(i);return this.ae.forEachTarget(t,function(w){return p.re(w.sequenceNumber)}).next(function(){return u.ae.le(t,function(w){return p.re(w)})}).next(function(){return p.maxValue})},o.prototype.removeTargets=function(t,i,u){return this.ae.removeTargets(t,i,u)},o.prototype.removeOrphanedDocuments=function(t,i){return this.ae.removeOrphanedDocuments(t,i)},o.prototype.collect=function(t,i){var u=this;return-1===this.params.cacheSizeCollectionThreshold?(x("LruGarbageCollector","Garbage collection skipped; disabled"),_n.resolve(Zs)):this.getCacheSize(t).next(function(p){return p<u.params.cacheSizeCollectionThreshold?(x("LruGarbageCollector","Garbage collection skipped; Cache size "+p+" is lower than threshold "+u.params.cacheSizeCollectionThreshold),Zs):u.fe(t,i)})},o.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},o.prototype.fe=function(t,i){var u,p,w,S,O,Q,he,Te=this,et=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(pt){return pt>Te.params.maximumSequenceNumbersToCollect?(x("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+Te.params.maximumSequenceNumbersToCollect+" from "+pt),p=Te.params.maximumSequenceNumbersToCollect):p=pt,S=Date.now(),Te.nthSequenceNumber(t,p)}).next(function(pt){return u=pt,O=Date.now(),Te.removeTargets(t,u,i)}).next(function(pt){return w=pt,Q=Date.now(),Te.removeOrphanedDocuments(t,u)}).next(function(pt){return he=Date.now(),qe()<=H.LogLevel.DEBUG&&x("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(S-et)+"ms\n\tDetermined least recently used "+p+" in "+(O-S)+"ms\n\tRemoved "+w+" targets in "+(Q-O)+"ms\n\tRemoved "+pt+" documents in "+(he-Q)+"ms\nTotal Duration: "+(he-et)+"ms"),_n.resolve({didRun:!0,sequenceNumbersCollected:p,targetsRemoved:w,documentsRemoved:pt})})},o}(),Gs=function(){function o(t,i){this.db=t,this.garbageCollector=new Nu(this,i)}return o.prototype.he=function(t){var i=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(u){return i.next(function(p){return u+p})})},o.prototype.de=function(t){var i=0;return this.le(t,function(u){i++}).next(function(){return i})},o.prototype.forEachTarget=function(t,i){return this.db.getTargetCache().forEachTarget(t,i)},o.prototype.le=function(t,i){return this.we(t,function(u,p){return i(p)})},o.prototype.addReference=function(t,i,u){return So(t,u)},o.prototype.removeReference=function(t,i,u){return So(t,u)},o.prototype.removeTargets=function(t,i,u){return this.db.getTargetCache().removeTargets(t,i,u)},o.prototype.markPotentiallyOrphaned=function(t,i){return So(t,i)},o.prototype._e=function(t,i){return p=i,w=!1,Gt(u=t).Ot(function(S){return te(u,S,p).next(function(O){return O&&(w=!0),_n.resolve(!O)})}).next(function(){return w});var u,p,w},o.prototype.removeOrphanedDocuments=function(t,i){var u=this,p=this.db.getRemoteDocumentCache().newChangeBuffer(),w=[],S=0;return this.we(t,function(O,Q){if(Q<=i){var he=u._e(t,O).next(function(Te){if(!Te)return S++,p.getEntry(t,O).next(function(){return p.removeEntry(O),Eo(t).delete([0,ei(O.path)])})});w.push(he)}}).next(function(){return _n.waitFor(w)}).next(function(){return p.apply(t)}).next(function(){return S})},o.prototype.removeTarget=function(t,i){var u=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,u)},o.prototype.updateLimboDocument=function(t,i){return So(t,i)},o.prototype.we=function(t,i){var u,p=Eo(t),w=Le.o;return p.$t({index:Kt.documentTargetsIndex},function(S,O){var he=O.path,Te=O.sequenceNumber;0===S[0]?(w!==Le.o&&i(new We($(u)),w),w=Te,u=he):w=Le.o}).next(function(){w!==Le.o&&i(new We($(u)),w)})},o.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},o}();function So(o,t){return Eo(o).put((u=o.currentSequenceNumber,new Kt(0,ei(t.path),u)));var u}var ao=function(){function o(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={}}return o.prototype.get=function(t){var i=this.mapKeyFn(t),u=this.inner[i];if(void 0!==u)for(var p=0,w=u;p<w.length;p++){var S=w[p],Q=S[1];if(this.equalsFn(S[0],t))return Q}},o.prototype.has=function(t){return void 0!==this.get(t)},o.prototype.set=function(t,i){var u=this.mapKeyFn(t),p=this.inner[u];if(void 0!==p){for(var w=0;w<p.length;w++)if(this.equalsFn(p[w][0],t))return void(p[w]=[t,i]);p.push([t,i])}else this.inner[u]=[[t,i]]},o.prototype.delete=function(t){var i=this.mapKeyFn(t),u=this.inner[i];if(void 0===u)return!1;for(var p=0;p<u.length;p++)if(this.equalsFn(u[p][0],t))return 1===u.length?delete this.inner[i]:u.splice(p,1),!0;return!1},o.prototype.forEach=function(t){Et(this.inner,function(i,u){for(var p=0,w=u;p<w.length;p++){var S=w[p];t(S[0],S[1])}})},o.prototype.isEmpty=function(){return rn(this.inner)},o}(),Qa=function(){function o(){this.changes=new ao(function(t){return t.toString()},function(t,i){return t.isEqual(i)}),this.changesApplied=!1}return o.prototype.getReadTime=function(t){var i=this.changes.get(t);return i?i.readTime:rt.min()},o.prototype.addEntry=function(t,i){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:i})},o.prototype.removeEntry=function(t,i){void 0===i&&(i=null),this.assertNotApplied(),this.changes.set(t,{document:Hr.newInvalidDocument(t),readTime:i})},o.prototype.getEntry=function(t,i){this.assertNotApplied();var u=this.changes.get(i);return void 0!==u?_n.resolve(u.document):this.getFromCache(t,i)},o.prototype.getEntries=function(t,i){return this.getAllFromCache(t,i)},o.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},o.prototype.assertNotApplied=function(){},o}(),Ts=function(){function o(t,i){this.R=t,this.Ut=i}return o.prototype.addEntry=function(t,i,u){return Wo(t).put(da(i),u)},o.prototype.removeEntry=function(t,i){var u=Wo(t),p=da(i);return u.delete(p)},o.prototype.updateMetadata=function(t,i){var u=this;return this.getMetadata(t).next(function(p){return p.byteSize+=i,u.me(t,p)})},o.prototype.getEntry=function(t,i){var u=this;return Wo(t).get(da(i)).next(function(p){return u.ye(i,p)})},o.prototype.ge=function(t,i){var u=this;return Wo(t).get(da(i)).next(function(p){return{document:u.ye(i,p),size:y(p)}})},o.prototype.getEntries=function(t,i){var u=this,p=gr();return this.pe(t,i,function(w,S){var O=u.ye(w,S);p=p.insert(w,O)}).next(function(){return p})},o.prototype.Ee=function(t,i){var u=this,p=gr(),w=new Wr(We.comparator);return this.pe(t,i,function(S,O){var Q=u.ye(S,O);p=p.insert(S,Q),w=w.insert(S,y(O))}).next(function(){return{documents:p,Te:w}})},o.prototype.pe=function(t,i,u){if(i.isEmpty())return _n.resolve();var p=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),w=i.getIterator(),S=w.getNext();return Wo(t).$t({range:p},function(O,Q,he){for(var Te=We.fromSegments(O);S&&We.comparator(S,Te)<0;)u(S,null),S=w.getNext();S&&S.isEqual(Te)&&(u(S,Q),S=w.hasNext()?w.getNext():null),S?he.Ct(S.path.toArray()):he.done()}).next(function(){for(;S;)u(S,null),S=w.hasNext()?w.getNext():null})},o.prototype.getDocumentsMatchingQuery=function(t,i,u){var p=this,w=gr(),S=i.path.length+1,O={};if(u.isEqual(rt.min())){var Q=i.path.toArray();O.range=IDBKeyRange.lowerBound(Q)}else{var he=i.path.toArray(),Te=Ns(u);O.range=IDBKeyRange.lowerBound([he,Te],!0),O.index=b.collectionReadTimeIndex}return Wo(t).$t(O,function(et,pt,Zt){if(et.length===S){var Qt=ca(p.R,pt);i.path.isPrefixOf(Qt.key.path)?He(i,Qt)&&(w=w.insert(Qt.key,Qt)):Zt.done()}}).next(function(){return w})},o.prototype.newChangeBuffer=function(t){return new Va(this,!!t&&t.trackRemovals)},o.prototype.getSize=function(t){return this.getMetadata(t).next(function(i){return i.byteSize})},o.prototype.getMetadata=function(t){return ta(t).get(G.key).next(function(i){return Pe(!!i),i})},o.prototype.me=function(t,i){return ta(t).put(G.key,i)},o.prototype.ye=function(t,i){if(i){var u=ca(this.R,i);if(!u.isNoDocument()||!u.version.isEqual(rt.min()))return u}return Hr.newInvalidDocument(t)},o}(),Va=function(o){function t(i,u){var p=this;return(p=o.call(this)||this).Ie=i,p.trackRemovals=u,p.Ae=new ao(function(w){return w.toString()},function(w,S){return w.isEqual(S)}),p}return(0,f.__extends)(t,o),t.prototype.applyChanges=function(i){var u=this,p=[],w=0,S=new $i(function(O,Q){return ct(O.canonicalString(),Q.canonicalString())});return this.changes.forEach(function(O,Q){var he=u.Ae.get(O);if(Q.document.isValidDocument()){var Te=Po(u.Ie.R,Q.document,u.getReadTime(O));S=S.add(O.path.popLast());var et=y(Te);w+=et-he,p.push(u.Ie.addEntry(i,O,Te))}else if(w-=he,u.trackRemovals){var pt=Po(u.Ie.R,Hr.newNoDocument(O,rt.min()),u.getReadTime(O));p.push(u.Ie.addEntry(i,O,pt))}else p.push(u.Ie.removeEntry(i,O))}),S.forEach(function(O){p.push(u.Ie.Ut.addToCollectionParentIndex(i,O))}),p.push(this.Ie.updateMetadata(i,w)),_n.waitFor(p)},t.prototype.getFromCache=function(i,u){var p=this;return this.Ie.ge(i,u).next(function(w){return p.Ae.set(u,w.size),w.document})},t.prototype.getAllFromCache=function(i,u){var p=this;return this.Ie.Ee(i,u).next(function(w){var S=w.documents;return w.Te.forEach(function(O,Q){p.Ae.set(O,Q)}),S})},t}(Qa);function ta(o){return $o(o,G.store)}function Wo(o){return $o(o,b.store)}function da(o){return o.path.toArray()}var xi=function(){function o(t){this.R=t}return o.prototype.Rt=function(t,i,u,p){var w=this;Pe(u<p&&u>=0&&p<=11);var Q,S=new Qs("createOrUpgrade",i);u<1&&p>=1&&(t.createObjectStore(ge.store),(Q=t).createObjectStore(Yt.store,{keyPath:Yt.keyPath}),Q.createObjectStore(Ln.store,{keyPath:Ln.keyPath,autoIncrement:!0}).createIndex(Ln.userMutationsIndex,Ln.userMutationsKeyPath,{unique:!0}),Q.createObjectStore(vn.store),Ss(t),function(Q){Q.createObjectStore(b.store)}(t));var O=_n.resolve();return u<3&&p>=3&&(0!==u&&(function(Q){Q.deleteObjectStore(Kt.store),Q.deleteObjectStore(de.store),Q.deleteObjectStore(Sn.store)}(t),Ss(t)),O=O.next(function(){return function(Q){var he=Q.store(Sn.store),Te=new Sn(0,0,rt.min().toTimestamp(),0);return he.put(Sn.key,Te)}(S)})),u<4&&p>=4&&(0!==u&&(O=O.next(function(){return function(Q,he){return he.store(Ln.store).Nt().next(function(Te){Q.deleteObjectStore(Ln.store),Q.createObjectStore(Ln.store,{keyPath:Ln.keyPath,autoIncrement:!0}).createIndex(Ln.userMutationsIndex,Ln.userMutationsKeyPath,{unique:!0});var et=he.store(Ln.store),pt=Te.map(function(Zt){return et.put(Zt)});return _n.waitFor(pt)})}(t,S)})),O=O.next(function(){!function(Q){Q.createObjectStore(Vn.store,{keyPath:Vn.keyPath})}(t)})),u<5&&p>=5&&(O=O.next(function(){return w.Re(S)})),u<6&&p>=6&&(O=O.next(function(){return function(Q){Q.createObjectStore(G.store)}(t),w.be(S)})),u<7&&p>=7&&(O=O.next(function(){return w.ve(S)})),u<8&&p>=8&&(O=O.next(function(){return w.Pe(t,S)})),u<9&&p>=9&&(O=O.next(function(){(function(Q){Q.objectStoreNames.contains("remoteDocumentChanges")&&Q.deleteObjectStore("remoteDocumentChanges")})(t),function(Q){var he=Q.objectStore(b.store);he.createIndex(b.readTimeIndex,b.readTimeIndexPath,{unique:!1}),he.createIndex(b.collectionReadTimeIndex,b.collectionReadTimeIndexPath,{unique:!1})}(i)})),u<10&&p>=10&&(O=O.next(function(){return w.Ve(S)})),u<11&&p>=11&&(O=O.next(function(){(function(Q){Q.createObjectStore(wi.store,{keyPath:wi.keyPath})})(t),function(Q){Q.createObjectStore(zr.store,{keyPath:zr.keyPath})}(t)})),O},o.prototype.be=function(t){var i=0;return t.store(b.store).$t(function(u,p){i+=y(p)}).next(function(){var u=new G(i);return t.store(G.store).put(G.key,u)})},o.prototype.Re=function(t){var i=this,u=t.store(Yt.store),p=t.store(Ln.store);return u.Nt().next(function(w){return _n.forEach(w,function(S){var O=IDBKeyRange.bound([S.userId,-1],[S.userId,S.lastAcknowledgedBatchId]);return p.Nt(Ln.userMutationsIndex,O).next(function(Q){return _n.forEach(Q,function(he){Pe(he.userId===S.userId);var Te=Uo(i.R,he);return ea(t,S.userId,Te).next(function(){})})})})})},o.prototype.ve=function(t){var i=t.store(Kt.store),u=t.store(b.store);return t.store(Sn.store).get(Sn.key).next(function(p){var w=[];return u.$t(function(S,O){var Q=new ze(S),he=[0,ei(Q)];w.push(i.get(he).next(function(Te){return Te?_n.resolve():i.put(new Kt(0,ei(Q),p.highestListenSequenceNumber))}))}).next(function(){return _n.waitFor(w)})})},o.prototype.Pe=function(t,i){t.createObjectStore(Vt.store,{keyPath:Vt.keyPath});var u=i.store(Vt.store),p=new Bi,w=function(S){if(p.add(S)){var O=S.lastSegment(),Q=S.popLast();return u.put({collectionId:O,parent:ei(Q)})}};return i.store(b.store).$t({Ft:!0},function(S,O){var Q=new ze(S);return w(Q.popLast())}).next(function(){return i.store(vn.store).$t({Ft:!0},function(S,O){var he=$(S[1]);return w(he.popLast())})})},o.prototype.Ve=function(t){var i=this,u=t.store(de.store);return u.$t(function(p,w){var S=Ps(w),O=Ds(i.R,S);return u.put(O)})},o}();function Ss(o){o.createObjectStore(Kt.store,{keyPath:Kt.keyPath}).createIndex(Kt.documentTargetsIndex,Kt.documentTargetsKeyPath,{unique:!0}),o.createObjectStore(de.store,{keyPath:de.keyPath}).createIndex(de.queryTargetsIndexName,de.queryTargetsKeyPath,{unique:!0}),o.createObjectStore(Sn.store)}var _s="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Pu=function(){function o(t,i,u,p,w,S,O,Q,he,Te){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=u,this.Se=w,this.window=S,this.document=O,this.De=he,this.Ce=Te,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(et){return Promise.resolve()},!o.yt())throw new _e(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gs(this,p),this.Le=i+"main",this.R=new fo(Q),this.Be=new Pi(this.Le,11,new xi(this.R)),this.qe=new Ri(this.referenceDelegate,this.R),this.Ut=new la,this.Ue=new Ts(this.R,this.Ut),this.Ke=new Ba,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===Te&&Se("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return o.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new _e(we.FAILED_PRECONDITION,_s);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(i){return t.qe.getHighestSequenceNumber(i)})}).then(function(i){t.Ne=new Le(i,t.De)}).then(function(){t.xe=!0}).catch(function(i){return t.Be&&t.Be.close(),Promise.reject(i)})},o.prototype.He=function(t){var i=this;return this.Me=function(u){return(0,f.__awaiter)(i,void 0,void 0,function(){return(0,f.__generator)(this,function(p){return this.started?[2,t(u)]:[2]})})},t(this.isPrimary)},o.prototype.setDatabaseDeletedListener=function(t){var i=this;this.Be.vt(function(u){return(0,f.__awaiter)(i,void 0,void 0,function(){return(0,f.__generator)(this,function(p){switch(p.label){case 0:return null===u.newVersion?[4,t()]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})})},o.prototype.setNetworkEnabled=function(t){var i=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,f.__awaiter)(i,void 0,void 0,function(){return(0,f.__generator)(this,function(u){switch(u.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})}))},o.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(i){return ts(i).put(new Vn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(i).next(function(u){u||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(i)}).next(function(u){return t.isPrimary&&!u?t.Xe(i).next(function(){return!1}):!!u&&t.Ze(i).next(function(){return!0})})}).catch(function(i){if(mo(i))return x("IndexedDbPersistence","Failed to extend owner lease: ",i),t.isPrimary;if(!t.allowTabSynchronization)throw i;return x("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(function(i){t.isPrimary!==i&&t.Se.enqueueRetryable(function(){return t.Me(i)}),t.isPrimary=i})},o.prototype.Je=function(t){var i=this;return ha(t).get(ge.key).next(function(u){return _n.resolve(i.tn(u))})},o.prototype.en=function(t){return ts(t).delete(this.clientId)},o.prototype.nn=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){var t,i,u,w=this;return(0,f.__generator)(this,function(S){switch(S.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(O){var Q=$o(O,Vn.store);return Q.Nt().next(function(he){var Te=w.rn(he,18e5),et=he.filter(function(pt){return-1===Te.indexOf(pt)});return _n.forEach(et,function(pt){return Q.delete(pt.clientId)}).next(function(){return et})})}).catch(function(){return[]})]);case 1:if(t=S.sent(),this.Qe)for(i=0,u=t;i<u.length;i++)this.Qe.removeItem(this.on(u[i].clientId));S.label=2;case 2:return[2]}})})},o.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},o.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},o.prototype.Ye=function(t){var i=this;return this.Ce?_n.resolve(!0):ha(t).get(ge.key).next(function(u){if(null!==u&&i.sn(u.leaseTimestampMs,5e3)&&!i.cn(u.ownerId)){if(i.tn(u)&&i.networkEnabled)return!0;if(!i.tn(u)){if(!u.allowTabSynchronization)throw new _e(we.FAILED_PRECONDITION,_s);return!1}}return!(!i.networkEnabled||!i.inForeground)||ts(t).Nt().next(function(p){return void 0===i.rn(p,5e3).find(function(w){return!(i.clientId===w.clientId||!(!i.networkEnabled&&w.networkEnabled||!i.inForeground&&w.inForeground&&i.networkEnabled===w.networkEnabled))})})}).next(function(u){return i.isPrimary!==u&&x("IndexedDbPersistence","Client "+(u?"is":"is not")+" eligible for a primary lease."),u})},o.prototype.shutdown=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,f.__generator)(this,function(i){switch(i.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ge.store,Vn.store],function(u){var p=new Js(u,Le.o);return t.Xe(p).next(function(){return t.en(p)})})];case 1:return i.sent(),this.Be.close(),this.ln(),[2]}})})},o.prototype.rn=function(t,i){var u=this;return t.filter(function(p){return u.sn(p.updateTimeMs,i)&&!u.cn(p.clientId)})},o.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(i){return ts(i).Nt().next(function(u){return t.rn(u,18e5).map(function(p){return p.clientId})})})},Object.defineProperty(o.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),o.prototype.getMutationQueue=function(t){return P.Qt(t,this.R,this.Ut,this.referenceDelegate)},o.prototype.getTargetCache=function(){return this.qe},o.prototype.getRemoteDocumentCache=function(){return this.Ue},o.prototype.getIndexManager=function(){return this.Ut},o.prototype.getBundleCache=function(){return this.Ke},o.prototype.runTransaction=function(t,i,u){var w,p=this;return x("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===i?"readonly":"readwrite",so,function(O){return w=new Js(O,p.Ne?p.Ne.next():Le.o),"readwrite-primary"===i?p.Je(w).next(function(Q){return!!Q||p.Ye(w)}).next(function(Q){if(!Q)throw Se("Failed to obtain primary lease for action '"+t+"'."),p.isPrimary=!1,p.Se.enqueueRetryable(function(){return p.Me(!1)}),new _e(we.FAILED_PRECONDITION,no);return u(w)}).next(function(Q){return p.Ze(w).next(function(){return Q})}):p.dn(w).next(function(){return u(w)})}).then(function(O){return w.raiseOnCommittedEvent(),O})},o.prototype.dn=function(t){var i=this;return ha(t).get(ge.key).next(function(u){if(null!==u&&i.sn(u.leaseTimestampMs,5e3)&&!i.cn(u.ownerId)&&!i.tn(u)&&!(i.Ce||i.allowTabSynchronization&&u.allowTabSynchronization))throw new _e(we.FAILED_PRECONDITION,_s)})},o.prototype.Ze=function(t){var i=new ge(this.clientId,this.allowTabSynchronization,Date.now());return ha(t).put(ge.key,i)},o.yt=function(){return Pi.yt()},o.prototype.Xe=function(t){var i=this,u=ha(t);return u.get(ge.key).next(function(p){return i.tn(p)?(x("IndexedDbPersistence","Releasing primary lease."),u.delete(ge.key)):_n.resolve()})},o.prototype.sn=function(t,i){var u=Date.now();return!(t<u-i||t>u&&(Se("Detected an update time that is in the future: "+t+" > "+u),1))},o.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},o.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},o.prototype.Ge=function(){var t,i=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){i.un(),(0,j.isSafari)()&&navigator.appVersion.match("Version/14")&&i.Se.enterRestrictedMode(!0),i.Se.enqueueAndForget(function(){return i.shutdown()})},this.window.addEventListener("pagehide",this.ke))},o.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},o.prototype.cn=function(t){var i;try{var u=null!==(null===(i=this.Qe)||void 0===i?void 0:i.getItem(this.on(t)));return x("IndexedDbPersistence","Client '"+t+"' "+(u?"is":"is not")+" zombied in LocalStorage"),u}catch(p){return Se("IndexedDbPersistence","Failed to get zombied client id.",p),!1}},o.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Se("Failed to set zombie client id.",t)}},o.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},o.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},o}();function ha(o){return $o(o,ge.store)}function ts(o){return $o(o,Vn.store)}function $a(o,t){var i=o.projectId;return o.isDefaultDatabase||(i+="."+o.database),"firestore/"+t+"/"+i+"/"}var os=function(o,t){this.progress=o,this.wn=t},qs=function(){function o(t,i,u){this.Ue=t,this._n=i,this.Ut=u}return o.prototype.mn=function(t,i){var u=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,i).next(function(p){return u.yn(t,i,p)})},o.prototype.yn=function(t,i,u){return this.Ue.getEntry(t,i).next(function(p){for(var w=0,S=u;w<S.length;w++)S[w].applyToLocalView(p);return p})},o.prototype.gn=function(t,i){t.forEach(function(u,p){for(var w=0,S=i;w<S.length;w++)S[w].applyToLocalView(p)})},o.prototype.pn=function(t,i){var u=this;return this.Ue.getEntries(t,i).next(function(p){return u.En(t,p).next(function(){return p})})},o.prototype.En=function(t,i){var u=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,i).next(function(p){return u.gn(i,p)})},o.prototype.getDocumentsMatchingQuery=function(t,i,u){return We.isDocumentKey((p=i).path)&&null===p.collectionGroup&&0===p.filters.length?this.Tn(t,i.path):dt(i)?this.In(t,i,u):this.An(t,i,u);var p},o.prototype.Tn=function(t,i){return this.mn(t,new We(i)).next(function(u){var p=wo();return u.isFoundDocument()&&(p=p.insert(u.key,u)),p})},o.prototype.In=function(t,i,u){var p=this,w=i.collectionGroup,S=wo();return this.Ut.getCollectionParents(t,w).next(function(O){return _n.forEach(O,function(Q){var Te,et,he=(Te=i,et=Q.child(w),new Jt(et,null,Te.explicitOrderBy.slice(),Te.filters.slice(),Te.limit,Te.limitType,Te.startAt,Te.endAt));return p.An(t,he,u).next(function(Te){Te.forEach(function(et,pt){S=S.insert(et,pt)})})}).next(function(){return S})})},o.prototype.An=function(t,i,u){var p,w,S=this;return this.Ue.getDocumentsMatchingQuery(t,i,u).next(function(O){return p=O,S._n.getAllMutationBatchesAffectingQuery(t,i)}).next(function(O){return S.Rn(t,w=O,p).next(function(Q){p=Q;for(var he=0,Te=w;he<Te.length;he++)for(var et=Te[he],pt=0,Zt=et.mutations;pt<Zt.length;pt++){var Qt=Zt[pt],ln=Qt.key,fn=p.get(ln);null==fn&&(fn=Hr.newInvalidDocument(ln),p=p.insert(ln,fn)),gi(Qt,fn,et.localWriteTime),fn.isFoundDocument()||(p=p.remove(ln))}})}).next(function(){return p.forEach(function(O,Q){He(i,Q)||(p=p.remove(O))}),p})},o.prototype.Rn=function(t,i,u){for(var p=Yr(),w=0,S=i;w<S.length;w++)for(var O=0,Q=S[w].mutations;O<Q.length;O++){var he=Q[O];he instanceof ut&&null===u.get(he.key)&&(p=p.add(he.key))}var Te=u;return this.Ue.getEntries(t,p).next(function(et){return et.forEach(function(pt,Zt){Zt.isFoundDocument()&&(Te=Te.insert(pt,Zt))}),Te})},o}(),vu=function(){function o(t,i,u,p){this.targetId=t,this.fromCache=i,this.bn=u,this.vn=p}return o.Pn=function(t,i){for(var u=Yr(),p=Yr(),w=0,S=i.docChanges;w<S.length;w++){var O=S[w];switch(O.type){case 0:u=u.add(O.doc.key);break;case 1:p=p.add(O.doc.key)}}return new o(t,i.fromCache,u,p)},o}(),yu=function(){function o(){}return o.prototype.Vn=function(t){this.Sn=t},o.prototype.getDocumentsMatchingQuery=function(t,i,u,p){var S,w=this;return 0===(S=i).filters.length&&null===S.limit&&null==S.startAt&&null==S.endAt&&(0===S.explicitOrderBy.length||1===S.explicitOrderBy.length&&S.explicitOrderBy[0].field.isKeyField())||u.isEqual(rt.min())?this.Dn(t,i):this.Sn.pn(t,p).next(function(S){var O=w.Cn(i,S);return(Cr(i)||sr(i))&&w.Nn(i.limitType,O,p,u)?w.Dn(t,i):(qe()<=H.LogLevel.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ve(i)),w.Sn.getDocumentsMatchingQuery(t,i,u).next(function(Q){return O.forEach(function(he){Q=Q.insert(he.key,he)}),Q}))})},o.prototype.Cn=function(t,i){var u=new $i(nn(t));return i.forEach(function(p,w){He(t,w)&&(u=u.add(w))}),u},o.prototype.Nn=function(t,i,u,p){if(u.size!==i.size)return!0;var w="F"===t?i.last():i.first();return!!w&&(w.hasPendingWrites||w.version.compareTo(p)>0)},o.prototype.Dn=function(t,i){return qe()<=H.LogLevel.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",Ve(i)),this.Sn.getDocumentsMatchingQuery(t,i,rt.min())},o}(),Ja=function(){function o(t,i,u,p){this.persistence=t,this.xn=i,this.R=p,this.kn=new Wr(ct),this.Fn=new ao(function(w){return br(w)},$t),this.$n=rt.min(),this._n=t.getMutationQueue(u),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new qs(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return o.prototype.collectGarbage=function(t){var i=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(u){return t.collect(u,i.kn)})},o}();function zs(o,t,i,u){return new Ja(o,t,i,u)}function _u(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,u,p,w;return(0,f.__generator)(this,function(S){switch(S.label){case 0:return i=ue(o),u=i._n,p=i.Mn,[4,i.persistence.runTransaction("Handle user change","readonly",function(O){var Q;return i._n.getAllMutationBatches(O).next(function(he){return Q=he,u=i.persistence.getMutationQueue(t),p=new qs(i.On,u,i.persistence.getIndexManager()),u.getAllMutationBatches(O)}).next(function(he){for(var Te=[],et=[],pt=Yr(),Zt=0,Qt=Q;Zt<Qt.length;Zt++){var ln=Qt[Zt];Te.push(ln.batchId);for(var fn=0,Wn=ln.mutations;fn<Wn.length;fn++)pt=pt.add(Wn[fn].key)}for(var ri=0,qi=he;ri<qi.length;ri++){var Ii=qi[ri];et.push(Ii.batchId);for(var Io=0,$s=Ii.mutations;Io<$s.length;Io++)pt=pt.add($s[Io].key)}return p.pn(O,pt).next(function(Ka){return{Ln:Ka,removedBatchIds:Te,addedBatchIds:et}})})})];case 1:return w=S.sent(),[2,(i._n=u,i.Mn=p,i.xn.Vn(i.Mn),w)]}})})}function Ws(o,t){var i=ue(o);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(u){var S,O,Q,he,Te,et,pt,p=t.batch.keys(),w=i.On.newChangeBuffer({trackRemovals:!0});return(S=i,O=u,Q=t,he=w,Te=Q.batch,et=Te.keys(),pt=_n.resolve(),et.forEach(function(Zt){pt=pt.next(function(){return he.getEntry(O,Zt)}).next(function(Qt){var ln=Q.docVersions.get(Zt);Pe(null!==ln),Qt.version.compareTo(ln)<0&&(Te.applyToRemoteDocument(Qt,Q),Qt.isValidDocument()&&he.addEntry(Qt,Q.commitVersion))})}),pt.next(function(){return S._n.removeMutationBatch(O,Te)})).next(function(){return w.apply(u)}).next(function(){return i._n.performConsistencyCheck(u)}).next(function(){return i.Mn.pn(u,p)})})}function us(o){var t=ue(o);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(i){return t.qe.getLastRemoteSnapshotVersion(i)})}function Dr(o,t){var i=ue(o),u=t.snapshotVersion,p=i.kn;return i.persistence.runTransaction("Apply remote event","readwrite-primary",function(w){var S=i.On.newChangeBuffer({trackRemovals:!0});p=i.kn;var O=[];t.targetChanges.forEach(function(Te,et){var ln,fn,Wn,pt=p.get(et);if(pt){O.push(i.qe.removeMatchingKeys(w,Te.removedDocuments,et).next(function(){return i.qe.addMatchingKeys(w,Te.addedDocuments,et)}));var Zt=Te.resumeToken;if(Zt.approximateByteSize()>0){var Qt=pt.withResumeToken(Zt,u).withSequenceNumber(w.currentSequenceNumber);p=p.insert(et,Qt),ln=pt,Wn=Te,Pe((fn=Qt).resumeToken.approximateByteSize()>0),(0===ln.resumeToken.approximateByteSize()||fn.snapshotVersion.toMicroseconds()-ln.snapshotVersion.toMicroseconds()>=3e8||Wn.addedDocuments.size+Wn.modifiedDocuments.size+Wn.removedDocuments.size>0)&&O.push(i.qe.updateTargetData(w,Qt))}}});var Q=gr();if(t.documentUpdates.forEach(function(Te,et){t.resolvedLimboDocuments.has(Te)&&O.push(i.persistence.referenceDelegate.updateLimboDocument(w,Te))}),O.push(uo(w,S,t.documentUpdates,u,void 0).next(function(Te){Q=Te})),!u.isEqual(rt.min())){var he=i.qe.getLastRemoteSnapshotVersion(w).next(function(Te){return i.qe.setTargetsMetadata(w,w.currentSequenceNumber,u)});O.push(he)}return _n.waitFor(O).next(function(){return S.apply(w)}).next(function(){return i.Mn.En(w,Q)}).next(function(){return Q})}).then(function(w){return i.kn=p,w})}function uo(o,t,i,u,p){var w=Yr();return i.forEach(function(S){return w=w.add(S)}),t.getEntries(o,w).next(function(S){var O=gr();return i.forEach(function(Q,he){var Te=S.get(Q),et=(null==p?void 0:p.get(Q))||u;he.isNoDocument()&&he.version.isEqual(rt.min())?(t.removeEntry(Q,et),O=O.insert(Q,he)):!Te.isValidDocument()||he.version.compareTo(Te.version)>0||0===he.version.compareTo(Te.version)&&Te.hasPendingWrites?(t.addEntry(he,et),O=O.insert(Q,he)):x("LocalStore","Ignoring outdated watch update for ",Q,". Current version:",Te.version," Watch version:",he.version)}),O})}function na(o,t){var i=ue(o);return i.persistence.runTransaction("Get next mutation batch","readonly",function(u){return void 0===t&&(t=-1),i._n.getNextMutationBatchAfterBatchId(u,t)})}function Za(o,t){var i=ue(o);return i.persistence.runTransaction("Allocate target","readwrite",function(u){var p;return i.qe.getTargetData(u,t).next(function(w){return w?_n.resolve(p=w):i.qe.allocateTargetId(u).next(function(S){return p=new is(t,S,0,u.currentSequenceNumber),i.qe.addTargetData(u,p).next(function(){return p})})})}).then(function(u){var p=i.kn.get(u.targetId);return(null===p||u.snapshotVersion.compareTo(p.snapshotVersion)>0)&&(i.kn=i.kn.insert(u.targetId,u),i.Fn.set(t,u.targetId)),u})}function pa(o,t,i){return(0,f.__awaiter)(this,void 0,void 0,function(){var u,p,w,S;return(0,f.__generator)(this,function(O){switch(O.label){case 0:u=ue(o),p=u.kn.get(t),w=i?"readwrite":"readwrite-primary",O.label=1;case 1:return O.trys.push([1,4,,5]),i?[3,3]:[4,u.persistence.runTransaction("Release target",w,function(Q){return u.persistence.referenceDelegate.removeTarget(Q,p)})];case 2:O.sent(),O.label=3;case 3:return[3,5];case 4:if(!mo(S=O.sent()))throw S;return x("LocalStore","Failed to update sequence numbers for target "+t+": "+S),[3,5];case 5:return u.kn=u.kn.remove(t),u.Fn.delete(p.target),[2]}})})}function Ys(o,t,i){var u=ue(o),p=rt.min(),w=Yr();return u.persistence.runTransaction("Execute query","readonly",function(S){return(O=u,Q=S,he=mt(t),Te=ue(O),et=Te.Fn.get(he),void 0!==et?_n.resolve(Te.kn.get(et)):Te.qe.getTargetData(Q,he)).next(function(O){if(O)return p=O.lastLimboFreeSnapshotVersion,u.qe.getMatchingKeysForTargetId(S,O.targetId).next(function(Q){w=Q})}).next(function(){return u.xn.getDocumentsMatchingQuery(S,t,i?p:rt.min(),i?w:Yr())}).next(function(O){return{documents:O,Bn:w}});var O,Q,he,Te,et})}function wu(o,t){var i=ue(o),u=ue(i.qe),p=i.kn.get(t);return p?Promise.resolve(p.target):i.persistence.runTransaction("Get target data","readonly",function(w){return u.lt(w,t).next(function(S){return S?S.target:null})})}function bu(o){var t=ue(o);return t.persistence.runTransaction("Get new document changes","readonly",function(i){return p=i,w=t.$n,S=ue(t.On),O=gr(),Q=Ns(w),he=Wo(p),Te=IDBKeyRange.lowerBound(Q,!0),he.$t({index:b.readTimeIndex,range:Te},function(et,pt){var Zt=ca(S.R,pt);O=O.insert(Zt.key,Zt),Q=pt.readTime}).next(function(){return{wn:O,readTime:Ia(Q)}});var p,w,S,O,Q,he,Te}).then(function(i){var u=i.wn;return t.$n=i.readTime,u})}function Ju(o){return(0,f.__awaiter)(this,void 0,void 0,function(){var t;return(0,f.__generator)(this,function(i){return[2,(t=ue(o)).persistence.runTransaction("Synchronize last document change read time","readonly",function(u){return w=Wo(u),S=rt.min(),w.$t({index:b.readTimeIndex,reverse:!0},function(O,Q,he){Q.readTime&&(S=Ia(Q.readTime)),he.done()}).next(function(){return S});var w,S}).then(function(u){t.$n=u})]})})}function ra(o,t,i,u){return(0,f.__awaiter)(this,void 0,void 0,function(){var p,w,S,O,Q,he,Te,et,pt,Zt;return(0,f.__generator)(this,function(Qt){switch(Qt.label){case 0:for(p=ue(o),w=Yr(),S=gr(),O=Lo(),Q=0,he=i;Q<he.length;Q++)et=t.qn((Te=he[Q]).metadata.name),Te.document&&(w=w.add(et)),S=S.insert(et,t.Un(Te)),O=O.insert(et,t.Kn(Te.metadata.readTime));return pt=p.On.newChangeBuffer({trackRemovals:!0}),[4,Za(p,(ln=u,mt(Jn(ze.fromString("__bundle__/docs/"+ln)))))];case 1:return Zt=Qt.sent(),[2,p.persistence.runTransaction("Apply bundle documents","readwrite",function(ln){return uo(ln,pt,S,rt.min(),O).next(function(fn){return pt.apply(ln),fn}).next(function(fn){return p.qe.removeMatchingKeysForTargetId(ln,Zt.targetId).next(function(){return p.qe.addMatchingKeys(ln,w,Zt.targetId)}).next(function(){return p.Mn.En(ln,fn)}).next(function(){return fn})})})]}var ln})})}function eu(o,t,i){return void 0===i&&(i=Yr()),(0,f.__awaiter)(this,void 0,void 0,function(){var u,p;return(0,f.__generator)(this,function(w){switch(w.label){case 0:return[4,Za(o,mt(qo(t.bundledQuery)))];case 1:return u=w.sent(),[2,(p=ue(o)).persistence.runTransaction("Save named query","readwrite",function(S){var O=Mr(t.readTime);if(u.snapshotVersion.compareTo(O)>=0)return p.Ke.saveNamedQuery(S,t);var Q=u.withResumeToken(at.EMPTY_BYTE_STRING,O);return p.kn=p.kn.insert(Q.targetId,Q),p.qe.updateTargetData(S,Q).next(function(){return p.qe.removeMatchingKeysForTargetId(S,u.targetId)}).next(function(){return p.qe.addMatchingKeys(S,i,u.targetId)}).next(function(){return p.Ke.saveNamedQuery(S,t)})})]}})})}var tu=function(){function o(t){this.R=t,this.Qn=new Map,this.jn=new Map}return o.prototype.getBundleMetadata=function(t,i){return _n.resolve(this.Qn.get(i))},o.prototype.saveBundleMetadata=function(t,i){var u;return this.Qn.set(i.id,{id:(u=i).id,version:u.version,createTime:Mr(u.createTime)}),_n.resolve()},o.prototype.getNamedQuery=function(t,i){return _n.resolve(this.jn.get(i))},o.prototype.saveNamedQuery=function(t,i){return this.jn.set(i.name,{name:(u=i).name,query:qo(u.bundledQuery),readTime:Mr(u.readTime)}),_n.resolve();var u},o}(),ia=function(){function o(){this.Wn=new $i(Ao.Gn),this.zn=new $i(Ao.Hn)}return o.prototype.isEmpty=function(){return this.Wn.isEmpty()},o.prototype.addReference=function(t,i){var u=new Ao(t,i);this.Wn=this.Wn.add(u),this.zn=this.zn.add(u)},o.prototype.Jn=function(t,i){var u=this;t.forEach(function(p){return u.addReference(p,i)})},o.prototype.removeReference=function(t,i){this.Yn(new Ao(t,i))},o.prototype.Xn=function(t,i){var u=this;t.forEach(function(p){return u.removeReference(p,i)})},o.prototype.Zn=function(t){var i=this,u=new We(new ze([])),p=new Ao(u,t),w=new Ao(u,t+1),S=[];return this.zn.forEachInRange([p,w],function(O){i.Yn(O),S.push(O.key)}),S},o.prototype.ts=function(){var t=this;this.Wn.forEach(function(i){return t.Yn(i)})},o.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},o.prototype.es=function(t){var i=new We(new ze([])),u=new Ao(i,t),p=new Ao(i,t+1),w=Yr();return this.zn.forEachInRange([u,p],function(S){w=w.add(S.key)}),w},o.prototype.containsKey=function(t){var i=new Ao(t,0),u=this.Wn.firstAfterOrEqual(i);return null!==u&&t.isEqual(u.key)},o}(),Ao=function(){function o(t,i){this.key=t,this.ns=i}return o.Gn=function(t,i){return We.comparator(t.key,i.key)||ct(t.ns,i.ns)},o.Hn=function(t,i){return ct(t.ns,i.ns)||We.comparator(t.key,i.key)},o}(),ga=function(){function o(t,i){this.Ut=t,this.referenceDelegate=i,this._n=[],this.ss=1,this.rs=new $i(Ao.Gn)}return o.prototype.checkEmpty=function(t){return _n.resolve(0===this._n.length)},o.prototype.addMutationBatch=function(t,i,u,p){var w=this.ss;this.ss++;var S=new Is(w,i,u,p);this._n.push(S);for(var O=0,Q=p;O<Q.length;O++){var he=Q[O];this.rs=this.rs.add(new Ao(he.key,w)),this.Ut.addToCollectionParentIndex(t,he.key.path.popLast())}return _n.resolve(S)},o.prototype.lookupMutationBatch=function(t,i){return _n.resolve(this.os(i))},o.prototype.getNextMutationBatchAfterBatchId=function(t,i){var p=this.cs(i+1),w=p<0?0:p;return _n.resolve(this._n.length>w?this._n[w]:null)},o.prototype.getHighestUnacknowledgedBatchId=function(){return _n.resolve(0===this._n.length?-1:this.ss-1)},o.prototype.getAllMutationBatches=function(t){return _n.resolve(this._n.slice())},o.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,i){var u=this,p=new Ao(i,0),w=new Ao(i,Number.POSITIVE_INFINITY),S=[];return this.rs.forEachInRange([p,w],function(O){var Q=u.os(O.ns);S.push(Q)}),_n.resolve(S)},o.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,i){var u=this,p=new $i(ct);return i.forEach(function(w){var S=new Ao(w,0),O=new Ao(w,Number.POSITIVE_INFINITY);u.rs.forEachInRange([S,O],function(Q){p=p.add(Q.ns)})}),_n.resolve(this.us(p))},o.prototype.getAllMutationBatchesAffectingQuery=function(t,i){var u=i.path,p=u.length+1,w=u;We.isDocumentKey(w)||(w=w.child(""));var S=new Ao(new We(w),0),O=new $i(ct);return this.rs.forEachWhile(function(Q){var he=Q.key.path;return!!u.isPrefixOf(he)&&(he.length===p&&(O=O.add(Q.ns)),!0)},S),_n.resolve(this.us(O))},o.prototype.us=function(t){var i=this,u=[];return t.forEach(function(p){var w=i.os(p);null!==w&&u.push(w)}),u},o.prototype.removeMutationBatch=function(t,i){var u=this;Pe(0===this.hs(i.batchId,"removed")),this._n.shift();var p=this.rs;return _n.forEach(i.mutations,function(w){var S=new Ao(w.key,i.batchId);return p=p.delete(S),u.referenceDelegate.markPotentiallyOrphaned(t,w.key)}).next(function(){u.rs=p})},o.prototype.Gt=function(t){},o.prototype.containsKey=function(t,i){var u=new Ao(i,0),p=this.rs.firstAfterOrEqual(u);return _n.resolve(i.isEqual(p&&p.key))},o.prototype.performConsistencyCheck=function(t){return _n.resolve()},o.prototype.hs=function(t,i){return this.cs(t)},o.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},o.prototype.os=function(t){var i=this.cs(t);return i<0||i>=this._n.length?null:this._n[i]},o}(),Ho=function(){function o(t,i){this.Ut=t,this.ls=i,this.docs=new Wr(We.comparator),this.size=0}return o.prototype.addEntry=function(t,i,u){var p=i.key,w=this.docs.get(p),S=w?w.size:0,O=this.ls(i);return this.docs=this.docs.insert(p,{document:i.clone(),size:O,readTime:u}),this.size+=O-S,this.Ut.addToCollectionParentIndex(t,p.path.popLast())},o.prototype.removeEntry=function(t){var i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)},o.prototype.getEntry=function(t,i){var u=this.docs.get(i);return _n.resolve(u?u.document.clone():Hr.newInvalidDocument(i))},o.prototype.getEntries=function(t,i){var u=this,p=gr();return i.forEach(function(w){var S=u.docs.get(w);p=p.insert(w,S?S.document.clone():Hr.newInvalidDocument(w))}),_n.resolve(p)},o.prototype.getDocumentsMatchingQuery=function(t,i,u){for(var p=gr(),w=new We(i.path.child("")),S=this.docs.getIteratorFrom(w);S.hasNext();){var O=S.getNext(),he=O.value,Te=he.document,et=he.readTime;if(!i.path.isPrefixOf(O.key.path))break;et.compareTo(u)<=0||He(i,Te)&&(p=p.insert(Te.key,Te.clone()))}return _n.resolve(p)},o.prototype.fs=function(t,i){return _n.forEach(this.docs,function(u){return i(u)})},o.prototype.newChangeBuffer=function(t){return new N(this)},o.prototype.getSize=function(t){return _n.resolve(this.size)},o}(),N=function(o){function t(i){var u=this;return(u=o.call(this)||this).Ie=i,u}return(0,f.__extends)(t,o),t.prototype.applyChanges=function(i){var u=this,p=[];return this.changes.forEach(function(w,S){S.document.isValidDocument()?p.push(u.Ie.addEntry(i,S.document,u.getReadTime(w))):u.Ie.removeEntry(w)}),_n.waitFor(p)},t.prototype.getFromCache=function(i,u){return this.Ie.getEntry(i,u)},t.prototype.getAllFromCache=function(i,u){return this.Ie.getEntries(i,u)},t}(Qa),A=function(){function o(t){this.persistence=t,this.ds=new ao(function(i){return br(i)},$t),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.ws=0,this._s=new ia,this.targetCount=0,this.ys=Hn.Jt()}return o.prototype.forEachTarget=function(t,i){return this.ds.forEach(function(u,p){return i(p)}),_n.resolve()},o.prototype.getLastRemoteSnapshotVersion=function(t){return _n.resolve(this.lastRemoteSnapshotVersion)},o.prototype.getHighestSequenceNumber=function(t){return _n.resolve(this.ws)},o.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),_n.resolve(this.highestTargetId)},o.prototype.setTargetsMetadata=function(t,i,u){return u&&(this.lastRemoteSnapshotVersion=u),i>this.ws&&(this.ws=i),_n.resolve()},o.prototype.te=function(t){this.ds.set(t.target,t);var i=t.targetId;i>this.highestTargetId&&(this.ys=new Hn(i),this.highestTargetId=i),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},o.prototype.addTargetData=function(t,i){return this.te(i),this.targetCount+=1,_n.resolve()},o.prototype.updateTargetData=function(t,i){return this.te(i),_n.resolve()},o.prototype.removeTargetData=function(t,i){return this.ds.delete(i.target),this._s.Zn(i.targetId),this.targetCount-=1,_n.resolve()},o.prototype.removeTargets=function(t,i,u){var p=this,w=0,S=[];return this.ds.forEach(function(O,Q){Q.sequenceNumber<=i&&null===u.get(Q.targetId)&&(p.ds.delete(O),S.push(p.removeMatchingKeysForTargetId(t,Q.targetId)),w++)}),_n.waitFor(S).next(function(){return w})},o.prototype.getTargetCount=function(t){return _n.resolve(this.targetCount)},o.prototype.getTargetData=function(t,i){var u=this.ds.get(i)||null;return _n.resolve(u)},o.prototype.addMatchingKeys=function(t,i,u){return this._s.Jn(i,u),_n.resolve()},o.prototype.removeMatchingKeys=function(t,i,u){this._s.Xn(i,u);var p=this.persistence.referenceDelegate,w=[];return p&&i.forEach(function(S){w.push(p.markPotentiallyOrphaned(t,S))}),_n.waitFor(w)},o.prototype.removeMatchingKeysForTargetId=function(t,i){return this._s.Zn(i),_n.resolve()},o.prototype.getMatchingKeysForTargetId=function(t,i){var u=this._s.es(i);return _n.resolve(u)},o.prototype.containsKey=function(t,i){return _n.resolve(this._s.containsKey(i))},o}(),D=function(){function o(t,i){var u=this;this.gs={},this.Ne=new Le(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new A(this),this.Ut=new jo,this.Ue=new Ho(this.Ut,function(S){return u.referenceDelegate.ps(S)}),this.R=new fo(i),this.Ke=new tu(this.R)}return o.prototype.start=function(){return Promise.resolve()},o.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(o.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),o.prototype.setDatabaseDeletedListener=function(){},o.prototype.setNetworkEnabled=function(){},o.prototype.getIndexManager=function(){return this.Ut},o.prototype.getMutationQueue=function(t){var i=this.gs[t.toKey()];return i||(i=new ga(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=i),i},o.prototype.getTargetCache=function(){return this.qe},o.prototype.getRemoteDocumentCache=function(){return this.Ue},o.prototype.getBundleCache=function(){return this.Ke},o.prototype.runTransaction=function(t,i,u){var p=this;x("MemoryPersistence","Starting transaction:",t);var w=new U(this.Ne.next());return this.referenceDelegate.Es(),u(w).next(function(S){return p.referenceDelegate.Ts(w).next(function(){return S})}).toPromise().then(function(S){return w.raiseOnCommittedEvent(),S})},o.prototype.Is=function(t,i){return _n.or(Object.values(this.gs).map(function(u){return function(){return u.containsKey(t,i)}}))},o}(),U=function(o){function t(i){var u=this;return(u=o.call(this)||this).currentSequenceNumber=i,u}return(0,f.__extends)(t,o),t}(Wi),ee=function(){function o(t){this.persistence=t,this.As=new ia,this.Rs=null}return o.bs=function(t){return new o(t)},Object.defineProperty(o.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ve()},enumerable:!1,configurable:!0}),o.prototype.addReference=function(t,i,u){return this.As.addReference(u,i),this.vs.delete(u.toString()),_n.resolve()},o.prototype.removeReference=function(t,i,u){return this.As.removeReference(u,i),this.vs.add(u.toString()),_n.resolve()},o.prototype.markPotentiallyOrphaned=function(t,i){return this.vs.add(i.toString()),_n.resolve()},o.prototype.removeTarget=function(t,i){var u=this;this.As.Zn(i.targetId).forEach(function(w){return u.vs.add(w.toString())});var p=this.persistence.getTargetCache();return p.getMatchingKeysForTargetId(t,i.targetId).next(function(w){w.forEach(function(S){return u.vs.add(S.toString())})}).next(function(){return p.removeTargetData(t,i)})},o.prototype.Es=function(){this.Rs=new Set},o.prototype.Ts=function(t){var i=this,u=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _n.forEach(this.vs,function(p){var w=We.fromPath(p);return i.Ps(t,w).next(function(S){S||u.removeEntry(w)})}).next(function(){return i.Rs=null,u.apply(t)})},o.prototype.updateLimboDocument=function(t,i){var u=this;return this.Ps(t,i).next(function(p){p?u.vs.delete(i.toString()):u.vs.add(i.toString())})},o.prototype.ps=function(t){return 0},o.prototype.Ps=function(t,i){var u=this;return _n.or([function(){return _n.resolve(u.As.containsKey(i))},function(){return u.persistence.getTargetCache().containsKey(t,i)},function(){return u.persistence.Is(t,i)}])},o}(),le=function(){function o(t){this.uid=t}return o.prototype.isAuthenticated=function(){return null!=this.uid},o.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},o.prototype.isEqual=function(t){return t.uid===this.uid},o}();function Xe(o,t){return"firestore_clients_"+o+"_"+t}function gt(o,t,i){var u="firestore_mutations_"+o+"_"+i;return t.isAuthenticated()&&(u+="_"+t.uid),u}function un(o,t){return"firestore_targets_"+o+"_"+t}le.UNAUTHENTICATED=new le(null),le.GOOGLE_CREDENTIALS=new le("google-credentials-uid"),le.FIRST_PARTY=new le("first-party-uid"),le.MOCK_USER=new le("mock-user");var ir=function(){function o(t,i,u,p){this.user=t,this.batchId=i,this.state=u,this.error=p}return o.Vs=function(t,i,u){var p,w=JSON.parse(u),S="object"==typeof w&&-1!==["pending","acknowledged","rejected"].indexOf(w.state)&&(void 0===w.error||"object"==typeof w.error);return S&&w.error&&(S="string"==typeof w.error.message&&"string"==typeof w.error.code)&&(p=new _e(w.error.code,w.error.message)),S?new o(t,i,w.state,p):(Se("SharedClientState","Failed to parse mutation state for ID '"+i+"': "+u),null)},o.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},o}(),Oi=function(){function o(t,i,u){this.targetId=t,this.state=i,this.error=u}return o.Vs=function(t,i){var u,p=JSON.parse(i),w="object"==typeof p&&-1!==["not-current","current","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error);return w&&p.error&&(w="string"==typeof p.error.message&&"string"==typeof p.error.code)&&(u=new _e(p.error.code,p.error.message)),w?new o(t,p.state,u):(Se("SharedClientState","Failed to parse target state for ID '"+t+"': "+i),null)},o.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},o}(),Nr=function(){function o(t,i){this.clientId=t,this.activeTargetIds=i}return o.Vs=function(t,i){for(var u=JSON.parse(i),p="object"==typeof u&&u.activeTargetIds instanceof Array,w=li(),S=0;p&&S<u.activeTargetIds.length;++S)p=on(u.activeTargetIds[S]),w=w.add(u.activeTargetIds[S]);return p?new o(t,w):(Se("SharedClientState","Failed to parse client data for instance '"+t+"': "+i),null)},o}(),Vi=function(){function o(t,i){this.clientId=t,this.onlineState=i}return o.Vs=function(t){var i=JSON.parse(t);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new o(i.clientId,i.onlineState):(Se("SharedClientState","Failed to parse online state: "+t),null)},o}(),Ci=function(){function o(){this.activeTargetIds=li()}return o.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},o.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},o.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},o}(),ps=function(){function o(t,i,u,p,w){this.window=t,this.Se=i,this.persistenceKey=u,this.Ns=p,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Wr(ct),this.started=!1,this.$s=[];var S=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=w,this.Os=Xe(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Ci),this.Ls=new RegExp("^firestore_clients_"+S+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+S+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+S+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(O){return"firestore_bundle_loaded_"+O}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return o.yt=function(t){return!(!t||!t.localStorage)},o.prototype.start=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){var t,i,u,p,w,S,O,Q,he,Te,pt=this;return(0,f.__generator)(this,function(Zt){switch(Zt.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=Zt.sent(),i=0,u=t;i<u.length;i++)(p=u[i])!==this.Ns&&(w=this.getItem(Xe(this.persistenceKey,p)))&&(S=Nr.Vs(p,w))&&(this.Fs=this.Fs.insert(S.clientId,S));for(this.Qs(),(O=this.storage.getItem(this.Us))&&(Q=this.js(O))&&this.Ws(Q),he=0,Te=this.$s;he<Te.length;he++)this.ks(Te[he]);return this.$s=[],this.window.addEventListener("pagehide",function(){return pt.shutdown()}),this.started=!0,[2]}})})},o.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},o.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},o.prototype.isActiveQueryTarget=function(t){var i=!1;return this.Fs.forEach(function(u,p){p.activeTargetIds.has(t)&&(i=!0)}),i},o.prototype.addPendingMutation=function(t){this.zs(t,"pending")},o.prototype.updateMutationState=function(t,i,u){this.zs(t,i,u),this.Hs(t)},o.prototype.addLocalQueryTarget=function(t){var i="not-current";if(this.isActiveQueryTarget(t)){var u=this.storage.getItem(un(this.persistenceKey,t));if(u){var p=Oi.Vs(t,u);p&&(i=p.state)}}return this.Js.Ds(t),this.Qs(),i},o.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},o.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},o.prototype.clearQueryState=function(t){this.removeItem(un(this.persistenceKey,t))},o.prototype.updateQueryState=function(t,i,u){this.Ys(t,i,u)},o.prototype.handleUserChange=function(t,i,u){var p=this;i.forEach(function(w){p.Hs(w)}),this.currentUser=t,u.forEach(function(w){p.addPendingMutation(w)})},o.prototype.setOnlineState=function(t){this.Xs(t)},o.prototype.notifyBundleLoaded=function(){this.Zs()},o.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},o.prototype.getItem=function(t){var i=this.storage.getItem(t);return x("SharedClientState","READ",t,i),i},o.prototype.setItem=function(t,i){x("SharedClientState","SET",t,i),this.storage.setItem(t,i)},o.prototype.removeItem=function(t){x("SharedClientState","REMOVE",t),this.storage.removeItem(t)},o.prototype.ks=function(t){var i=this,u=t;if(u.storageArea===this.storage){if(x("SharedClientState","EVENT",u.key,u.newValue),u.key===this.Os)return void Se("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,f.__awaiter)(i,void 0,void 0,function(){var p,w,S,O,Q,he;return(0,f.__generator)(this,function(Te){if(this.started){if(null!==u.key)if(this.Ls.test(u.key)){if(null==u.newValue)return p=this.ti(u.key),[2,this.ei(p,null)];if(w=this.ni(u.key,u.newValue))return[2,this.ei(w.clientId,w)]}else if(this.Bs.test(u.key)){if(null!==u.newValue&&(S=this.si(u.key,u.newValue)))return[2,this.ii(S)]}else if(this.qs.test(u.key)){if(null!==u.newValue&&(O=this.ri(u.key,u.newValue)))return[2,this.oi(O)]}else if(u.key===this.Us){if(null!==u.newValue&&(Q=this.js(u.newValue)))return[2,this.Ws(Q)]}else if(u.key===this.Ms)(he=function(et){var pt=Le.o;if(null!=et)try{var Zt=JSON.parse(et);Pe("number"==typeof Zt),pt=Zt}catch(Qt){Se("SharedClientState","Failed to read sequence number from WebStorage",Qt)}return pt}(u.newValue))!==Le.o&&this.sequenceNumberHandler(he);else if(u.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(u);return[2]})})})}},Object.defineProperty(o.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),o.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},o.prototype.zs=function(t,i,u){var p=new ir(this.currentUser,t,i,u),w=gt(this.persistenceKey,this.currentUser,t);this.setItem(w,p.Ss())},o.prototype.Hs=function(t){var i=gt(this.persistenceKey,this.currentUser,t);this.removeItem(i)},o.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},o.prototype.Ys=function(t,i,u){var p=un(this.persistenceKey,t),w=new Oi(t,i,u);this.setItem(p,w.Ss())},o.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},o.prototype.ti=function(t){var i=this.Ls.exec(t);return i?i[1]:null},o.prototype.ni=function(t,i){var u=this.ti(t);return Nr.Vs(u,i)},o.prototype.si=function(t,i){var u=this.Bs.exec(t),p=Number(u[1]);return ir.Vs(new le(void 0!==u[2]?u[2]:null),p,i)},o.prototype.ri=function(t,i){var u=this.qs.exec(t),p=Number(u[1]);return Oi.Vs(p,i)},o.prototype.js=function(t){return Vi.Vs(t)},o.prototype.ii=function(t){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(i){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(x("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},o.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},o.prototype.ei=function(t,i){var u=this,p=i?this.Fs.insert(t,i):this.Fs.remove(t),w=this.Gs(this.Fs),S=this.Gs(p),O=[],Q=[];return S.forEach(function(he){w.has(he)||O.push(he)}),w.forEach(function(he){S.has(he)||Q.push(he)}),this.syncEngine.hi(O,Q).then(function(){u.Fs=p})},o.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},o.prototype.Gs=function(t){var i=li();return t.forEach(function(u,p){i=i.unionWith(p.activeTargetIds)}),i},o}(),Co=function(){function o(){this.li=new Ci,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return o.prototype.addPendingMutation=function(t){},o.prototype.updateMutationState=function(t,i,u){},o.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},o.prototype.updateQueryState=function(t,i,u){this.fi[t]=i},o.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},o.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},o.prototype.clearQueryState=function(t){delete this.fi[t]},o.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},o.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},o.prototype.start=function(){return this.li=new Ci,Promise.resolve()},o.prototype.handleUserChange=function(t,i,u){},o.prototype.setOnlineState=function(t){},o.prototype.shutdown=function(){},o.prototype.writeSequenceNumber=function(t){},o.prototype.notifyBundleLoaded=function(){},o}(),nu=function(){function o(){}return o.prototype.di=function(t){},o.prototype.shutdown=function(){},o}(),Ua=function(){function o(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return o.prototype.di=function(t){this.gi.push(t)},o.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},o.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},o.prototype._i=function(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,i=this.gi;t<i.length;t++)(0,i[t])(0)},o.prototype.yi=function(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,i=this.gi;t<i.length;t++)(0,i[t])(1)},o.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},o}(),Zo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Fu=function(){function o(t){this.Ei=t.Ei,this.Ti=t.Ti}return o.prototype.Ii=function(t){this.Ai=t},o.prototype.Ri=function(t){this.bi=t},o.prototype.onMessage=function(t){this.vi=t},o.prototype.close=function(){this.Ti()},o.prototype.send=function(t){this.Ei(t)},o.prototype.Pi=function(){this.Ai()},o.prototype.Vi=function(t){this.bi(t)},o.prototype.Si=function(t){this.vi(t)},o}(),Mo=function(o){function t(i){var u=this;return(u=o.call(this,i)||this).forceLongPolling=i.forceLongPolling,u.autoDetectLongPolling=i.autoDetectLongPolling,u.useFetchStreams=i.useFetchStreams,u}return(0,f.__extends)(t,o),t.prototype.Fi=function(i,u,p,w){return new Promise(function(S,O){var Q=new tt.JJ;Q.listenOnce(tt.tw.COMPLETE,function(){try{switch(Q.getLastErrorCode()){case tt.jK.NO_ERROR:var Te=Q.getResponseJson();x("Connection","XHR received:",JSON.stringify(Te)),S(Te);break;case tt.jK.TIMEOUT:x("Connection",'RPC "'+i+'" timed out'),O(new _e(we.DEADLINE_EXCEEDED,"Request time out"));break;case tt.jK.HTTP_ERROR:var et=Q.getStatus();if(x("Connection",'RPC "'+i+'" failed with status:',et,"response text:",Q.getResponseText()),et>0){var pt=Q.getResponseJson().error;if(pt&&pt.status&&pt.message){var Zt=(ln=pt.status.toLowerCase().replace(/_/g,"-"),Object.values(we).indexOf(ln)>=0?ln:we.UNKNOWN);O(new _e(Zt,pt.message))}else O(new _e(we.UNKNOWN,"Server responded with status "+Q.getStatus()))}else O(new _e(we.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{x("Connection",'RPC "'+i+'" completed.')}var ln});var he=JSON.stringify(w);Q.send(u,"POST",he,p,15)})},t.prototype.Oi=function(i,u){var p=[this.Di,"/","google.firestore.v1.Firestore","/",i,"/channel"],w=(0,tt.UE)(),S=(0,tt.FJ)(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(O.xmlHttpFactory=new tt.zI({})),this.ki(O.initMessageHeaders,u),(0,j.isMobileCordova)()||(0,j.isReactNative)()||(0,j.isElectron)()||(0,j.isIE)()||(0,j.isUWP)()||(0,j.isBrowserExtension)()||(O.httpHeadersOverwriteParam="$httpHeaders");var Q=p.join("");x("Connection","Creating WebChannel: "+Q,O);var he=w.createWebChannel(Q,O),Te=!1,et=!1,pt=new Fu({Ei:function(Qt){et?x("Connection","Not sending because WebChannel is closed:",Qt):(Te||(x("Connection","Opening WebChannel transport."),he.open(),Te=!0),x("Connection","WebChannel sending:",Qt),he.send(Qt))},Ti:function(){return he.close()}}),Zt=function(Qt,ln,fn){Qt.listen(ln,function(Wn){try{fn(Wn)}catch(Kr){setTimeout(function(){throw Kr},0)}})};return Zt(he,tt.ii.EventType.OPEN,function(){et||x("Connection","WebChannel transport opened.")}),Zt(he,tt.ii.EventType.CLOSE,function(){et||(et=!0,x("Connection","WebChannel transport closed"),pt.Vi())}),Zt(he,tt.ii.EventType.ERROR,function(Qt){et||(et=!0,xe("Connection","WebChannel transport errored:",Qt),pt.Vi(new _e(we.UNAVAILABLE,"The operation could not be completed")))}),Zt(he,tt.ii.EventType.MESSAGE,function(Qt){var ln;if(!et){var fn=Qt.data[0];Pe(!!fn);var Kr=fn.error||(null===(ln=fn[0])||void 0===ln?void 0:ln.error);if(Kr){x("Connection","WebChannel received error:",Kr);var ri=Kr.status,qi=function(Io){var $s=Wt[Io];if(void 0!==$s)return lo($s)}(ri),Ii=Kr.message;void 0===qi&&(qi=we.INTERNAL,Ii="Unknown error status: "+ri+" with message "+Kr.message),et=!0,pt.Vi(new _e(qi,Ii)),he.close()}else x("Connection","WebChannel received:",fn),pt.Si(fn)}}),Zt(S,tt.ju.STAT_EVENT,function(Qt){Qt.stat===tt.kN.PROXY?x("Connection","Detected buffering proxy"):Qt.stat===tt.kN.NOPROXY&&x("Connection","Detected no buffering proxy")}),setTimeout(function(){pt.Pi()},0),pt},t}(function(){function o(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return o.prototype.Ni=function(t,i,u,p){var w=this.xi(t,i);x("RestConnection","Sending: ",w,u);var S={};return this.ki(S,p),this.Fi(t,w,S,u).then(function(O){return x("RestConnection","Received: ",O),O},function(O){throw xe("RestConnection",t+" failed with error: ",O,"url: ",w,"request:",u),O})},o.prototype.$i=function(t,i,u,p){return this.Ni(t,i,u,p)},o.prototype.ki=function(t,i){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(var u in i.authHeaders)i.authHeaders.hasOwnProperty(u)&&(t[u]=i.authHeaders[u])},o.prototype.xi=function(t,i){return this.Di+"/v1/"+i+":"+Zo[t]},o}());function ss(){return"undefined"!=typeof window?window:null}function Ta(){return"undefined"!=typeof document?document:null}function Sa(o){return new dr(o,!0)}var ru=function(){function o(t,i,u,p,w){void 0===u&&(u=1e3),void 0===p&&(p=1.5),void 0===w&&(w=6e4),this.Se=t,this.timerId=i,this.Mi=u,this.Li=p,this.Bi=w,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return o.prototype.reset=function(){this.qi=0},o.prototype.Qi=function(){this.qi=this.Bi},o.prototype.ji=function(t){var i=this;this.cancel();var u=Math.floor(this.qi+this.Wi()),p=Math.max(0,Date.now()-this.Ki),w=Math.max(0,u-p);w>0&&x("ExponentialBackoff","Backing off for "+w+" ms (base delay: "+this.qi+" ms, delay with jitter: "+u+" ms, last attempt: "+p+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,w,function(){return i.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},o.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},o.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},o.prototype.Wi=function(){return(Math.random()-.5)*this.qi},o}(),Lc=function(){function o(t,i,u,p,w,S){this.Se=t,this.zi=u,this.Hi=p,this.Ji=w,this.listener=S,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ru(t,i)}return o.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},o.prototype.er=function(){return 2===this.state},o.prototype.start=function(){3!==this.state?this.auth():this.nr()},o.prototype.stop=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},o.prototype.sr=function(){this.state=0,this.Zi.reset()},o.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},o.prototype.cr=function(t){this.ur(),this.stream.send(t)},o.prototype.rr=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},o.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},o.prototype.close=function(t,i){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(u){switch(u.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():i&&i.code===we.RESOURCE_EXHAUSTED?(Se(i.toString()),Se("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):i&&i.code===we.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(i)];case 1:return u.sent(),[2]}})})},o.prototype.ar=function(){},o.prototype.auth=function(){var t=this;this.state=1;var i=this.hr(this.Yi),u=this.Yi;this.Ji.getToken().then(function(p){t.Yi===u&&t.lr(p)},function(p){i(function(){var w=new _e(we.UNKNOWN,"Fetching auth token failed: "+p.message);return t.dr(w)})})},o.prototype.lr=function(t){var i=this,u=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){u(function(){return i.state=2,i.listener.Ii()})}),this.stream.Ri(function(p){u(function(){return i.dr(p)})}),this.stream.onMessage(function(p){u(function(){return i.onMessage(p)})})},o.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,f.__awaiter)(t,void 0,void 0,function(){return(0,f.__generator)(this,function(i){return this.state=0,this.start(),[2]})})})},o.prototype.dr=function(t){return x("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},o.prototype.hr=function(t){var i=this;return function(u){i.Se.enqueueAndForget(function(){return i.Yi===t?u():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},o}(),pc=function(o){function t(i,u,p,w,S){var O=this;return(O=o.call(this,i,"listen_stream_connection_backoff","listen_stream_idle",u,p,S)||this).R=w,O}return(0,f.__extends)(t,o),t.prototype.wr=function(i){return this.Hi.Oi("Listen",i)},t.prototype.onMessage=function(i){this.Zi.reset();var u=function(w,S){var O,fn;if("targetChange"in S){var Q="NO_CHANGE"===(fn=S.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===fn?1:"REMOVE"===fn?2:"CURRENT"===fn?3:"RESET"===fn?4:ve(),he=S.targetChange.targetIds||[],Te=function(fn,Wn){return fn.I?(Pe(void 0===Wn||"string"==typeof Wn),at.fromBase64String(Wn||"")):(Pe(void 0===Wn||Wn instanceof Uint8Array),at.fromUint8Array(Wn||new Uint8Array))}(w,S.targetChange.resumeToken),et=(pt=S.targetChange.cause)&&function(fn){var Wn=void 0===fn.code?we.UNKNOWN:lo(fn.code);return new _e(Wn,fn.message||"")}(pt);O=new Je(Q,he,Te,et||null)}else if("documentChange"in S){he=Ui(w,(Q=S.documentChange).document.name),Te=Mr(Q.document.updateTime);var pt=new Rr({mapValue:{fields:Q.document.fields}}),Zt=(et=Hr.newFoundDocument(he,Te,pt),Q.targetIds||[]);O=new q(Zt,Q.removedTargetIds||[],et.key,et)}else if("documentDelete"in S)he=Ui(w,(Q=S.documentDelete).document),Te=Q.readTime?Mr(Q.readTime):rt.min(),pt=Hr.newNoDocument(he,Te),O=new q([],et=Q.removedTargetIds||[],pt.key,pt);else if("documentRemove"in S)he=Ui(w,(Q=S.documentRemove).document),O=new q([],Te=Q.removedTargetIds||[],he,null);else{if(!("filter"in S))return ve();var ln=S.filter;he=new pr(Q=ln.count||0),O=new Me(Te=ln.targetId,he)}return O}(this.R,i),p=function(w){if(!("targetChange"in w))return rt.min();var S=w.targetChange;return S.targetIds&&S.targetIds.length?rt.min():S.readTime?Mr(S.readTime):rt.min()}(i);return this.listener._r(u,p)},t.prototype.mr=function(i){var w,S,O,Q,u={};u.database=Fi(this.R),u.addTarget=(w=this.R,(O=Qn(Q=(S=i).target)?{documents:Ee(w,Q)}:{query:ht(w,Q)}).targetId=S.targetId,S.resumeToken.approximateByteSize()>0?O.resumeToken=mi(w,S.resumeToken):S.snapshotVersion.compareTo(rt.min())>0&&(O.readTime=oi(w,S.snapshotVersion.toTimestamp())),O);var p=function(w,S){var O=function(Q,he){switch(he){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ve()}}(0,S.purpose);return null==O?null:{"goog-listen-tags":O}}(0,i);p&&(u.labels=p),this.cr(u)},t.prototype.yr=function(i){var u={};u.database=Fi(this.R),u.removeTarget=i,this.cr(u)},t}(Lc),Bc=function(o){function t(i,u,p,w,S){var O=this;return(O=o.call(this,i,"write_stream_connection_backoff","write_stream_idle",u,p,S)||this).R=w,O.gr=!1,O}return(0,f.__extends)(t,o),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,o.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(i){return this.Hi.Oi("Write",i)},t.prototype.onMessage=function(i){if(Pe(!!i.streamToken),this.lastStreamToken=i.streamToken,this.gr){this.Zi.reset();var u=(S=i.commitTime,(w=i.writeResults)&&w.length>0?(Pe(void 0!==S),w.map(function(O){return he=S,(Te=Mr((Q=O).updateTime?Q.updateTime:he)).isEqual(rt.min())&&(Te=Mr(he)),new Ki(Te,Q.transformResults||[]);var Q,he,Te})):[]),p=Mr(i.commitTime);return this.listener.Tr(p,u)}var w,S;return Pe(!i.writeResults||0===i.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var i={};i.database=Fi(this.R),this.cr(i)},t.prototype.Er=function(i){var u=this,p={streamToken:this.lastStreamToken,writes:i.map(function(w){return oe(u.R,w)})};this.cr(p)},t}(Lc),Hl=function(o){function t(i,u,p){var w=this;return(w=o.call(this)||this).credentials=i,w.Hi=u,w.R=p,w.Rr=!1,w}return(0,f.__extends)(t,o),t.prototype.br=function(){if(this.Rr)throw new _e(we.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(i,u,p){var w=this;return this.br(),this.credentials.getToken().then(function(S){return w.Hi.Ni(i,u,p,S)}).catch(function(S){throw"FirebaseError"===S.name?(S.code===we.UNAUTHENTICATED&&w.credentials.invalidateToken(),S):new _e(we.UNKNOWN,S.toString())})},t.prototype.$i=function(i,u,p){var w=this;return this.br(),this.credentials.getToken().then(function(S){return w.Hi.$i(i,u,p,S)}).catch(function(S){throw"FirebaseError"===S.name?(S.code===we.UNAUTHENTICATED&&w.credentials.invalidateToken(),S):new _e(we.UNKNOWN,S.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),gc=function(){function o(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return o.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},o.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},o.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},o.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},o.prototype.Cr=function(t){var i="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Se(i),this.Vr=!1):x("OnlineStateTracker",i)},o.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},o}(),iu=function(o,t,i,u,p){var w=this;this.localStore=o,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=p,this.Lr.di(function(S){i.enqueueAndForget(function(){return(0,f.__awaiter)(w,void 0,void 0,function(){return(0,f.__generator)(this,function(O){switch(O.label){case 0:return va(this)?(x("RemoteStore","Restarting streams for network reachability change."),[4,function(Q){return(0,f.__awaiter)(this,void 0,void 0,function(){var he;return(0,f.__generator)(this,function(Te){switch(Te.label){case 0:return(he=ue(Q)).Or.add(4),[4,ms(he)];case 1:return Te.sent(),he.Br.set("Unknown"),he.Or.delete(4),[4,gs(he)];case 2:return Te.sent(),[2]}})})}(this)]):[3,2];case 1:O.sent(),O.label=2;case 2:return[2]}})})})}),this.Br=new gc(i,u)};function gs(o){return(0,f.__awaiter)(this,void 0,void 0,function(){var t,i;return(0,f.__generator)(this,function(u){switch(u.label){case 0:if(!va(o))return[3,4];t=0,i=o.Mr,u.label=1;case 1:return t<i.length?[4,(0,i[t])(!0)]:[3,4];case 2:u.sent(),u.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function ms(o){return(0,f.__awaiter)(this,void 0,void 0,function(){var t,i;return(0,f.__generator)(this,function(u){switch(u.label){case 0:t=0,i=o.Mr,u.label=1;case 1:return t<i.length?[4,(0,i[t])(!1)]:[3,4];case 2:u.sent(),u.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Aa(o,t){var i=ue(o);i.$r.has(t.targetId)||(i.$r.set(t.targetId,t),Lu(i)?ja(i):W(i).er()&&ma(i,t))}function ou(o,t){var i=ue(o),u=W(i);i.$r.delete(t),u.er()&&su(i,t),0===i.$r.size&&(u.er()?u.ir():va(i)&&i.Br.set("Unknown"))}function ma(o,t){o.qr.U(t.targetId),W(o).mr(t)}function su(o,t){o.qr.U(t),W(o).yr(t)}function ja(o){o.qr=new jt({getRemoteKeysForTarget:function(t){return o.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return o.$r.get(t)||null}}),W(o).start(),o.Br.Sr()}function Lu(o){return va(o)&&!W(o).tr()&&o.$r.size>0}function va(o){return 0===ue(o).Or.size}function Eu(o){o.qr=void 0}function mc(o){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(t){return o.$r.forEach(function(i,u){ma(o,i)}),[2]})})}function Ha(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(i){return Eu(o),Lu(o)?(o.Br.Nr(t),ja(o)):o.Br.set("Unknown"),[2]})})}function Zu(o,t,i){return(0,f.__awaiter)(this,void 0,void 0,function(){var u,p,w;return(0,f.__generator)(this,function(S){switch(S.label){case 0:if(o.Br.set("Online"),!(t instanceof Je&&2===t.state&&t.cause))return[3,6];S.label=1;case 1:return S.trys.push([1,3,,5]),[4,function(O,Q){return(0,f.__awaiter)(this,void 0,void 0,function(){var he,Te,et,pt;return(0,f.__generator)(this,function(Zt){switch(Zt.label){case 0:he=Q.cause,Te=0,et=Q.targetIds,Zt.label=1;case 1:return Te<et.length?O.$r.has(pt=et[Te])?[4,O.remoteSyncer.rejectListen(pt,he)]:[3,3]:[3,5];case 2:Zt.sent(),O.$r.delete(pt),O.qr.removeTarget(pt),Zt.label=3;case 3:Zt.label=4;case 4:return Te++,[3,1];case 5:return[2]}})})}(o,t)];case 2:return S.sent(),[3,5];case 3:return u=S.sent(),x("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),u),[4,Bu(o,u)];case 4:return S.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof q?o.qr.X(t):t instanceof Me?o.qr.rt(t):o.qr.et(t),i.isEqual(rt.min()))return[3,13];S.label=7;case 7:return S.trys.push([7,11,,13]),[4,us(o.localStore)];case 8:return p=S.sent(),i.compareTo(p)>=0?[4,(O=o,Q=i,he=O.qr.ut(Q),he.targetChanges.forEach(function(Te,et){if(Te.resumeToken.approximateByteSize()>0){var pt=O.$r.get(et);pt&&O.$r.set(et,pt.withResumeToken(Te.resumeToken,Q))}}),he.targetMismatches.forEach(function(Te){var et=O.$r.get(Te);if(et){O.$r.set(Te,et.withResumeToken(at.EMPTY_BYTE_STRING,et.snapshotVersion)),su(O,Te);var pt=new is(et.target,Te,1,et.sequenceNumber);ma(O,pt)}}),O.remoteSyncer.applyRemoteEvent(he))]:[3,10];case 9:S.sent(),S.label=10;case 10:return[3,13];case 11:return x("RemoteStore","Failed to raise snapshot:",w=S.sent()),[4,Bu(o,w)];case 12:return S.sent(),[3,13];case 13:return[2]}var O,Q,he})})}function Bu(o,t,i){return(0,f.__awaiter)(this,void 0,void 0,function(){var u=this;return(0,f.__generator)(this,function(p){switch(p.label){case 0:if(!mo(t))throw t;return o.Or.add(1),[4,ms(o)];case 1:return p.sent(),o.Br.set("Offline"),i||(i=function(){return us(o.localStore)}),o.asyncQueue.enqueueRetryable(function(){return(0,f.__awaiter)(u,void 0,void 0,function(){return(0,f.__generator)(this,function(w){switch(w.label){case 0:return x("RemoteStore","Retrying IndexedDB access"),[4,i()];case 1:return w.sent(),o.Or.delete(1),[4,gs(o)];case 2:return w.sent(),[2]}})})}),[2]}})})}function Cu(o,t){return t().catch(function(i){return Bu(o,i,t)})}function Ma(o){return(0,f.__awaiter)(this,void 0,void 0,function(){var t,i,u,p,w;return(0,f.__generator)(this,function(S){switch(S.label){case 0:t=ue(o),i=se(t),u=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,S.label=1;case 1:if(!(va(O=t)&&O.Fr.length<10))return[3,7];S.label=2;case 2:return S.trys.push([2,4,,6]),[4,na(t.localStore,u)];case 3:return null===(p=S.sent())?(0===t.Fr.length&&i.ir(),[3,7]):(u=p.batchId,function(O,Q){O.Fr.push(Q);var he=se(O);he.er()&&he.pr&&he.Er(Q.mutations)}(t,p),[3,6]);case 4:return w=S.sent(),[4,Bu(t,w)];case 5:return S.sent(),[3,6];case 6:return[3,1];case 7:return Ks(t)&&Vc(t),[2]}var O})})}function Ks(o){return va(o)&&!se(o).tr()&&o.Fr.length>0}function Vc(o){se(o).start()}function vc(o){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(t){return se(o).Ar(),[2]})})}function gl(o){return(0,f.__awaiter)(this,void 0,void 0,function(){var t,i,u;return(0,f.__generator)(this,function(w){for(t=se(o),i=0,u=o.Fr;i<u.length;i++)t.Er(u[i].mutations);return[2]})})}function $c(o,t,i){return(0,f.__awaiter)(this,void 0,void 0,function(){var u,p;return(0,f.__generator)(this,function(w){switch(w.label){case 0:return u=o.Fr.shift(),p=La.from(u,t,i),[4,Cu(o,function(){return o.remoteSyncer.applySuccessfulWrite(p)})];case 1:return w.sent(),[4,Ma(o)];case 2:return w.sent(),[2]}})})}function R(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(i){switch(i.label){case 0:return t&&se(o).pr?[4,function(u,p){return(0,f.__awaiter)(this,void 0,void 0,function(){var w,S;return(0,f.__generator)(this,function(O){switch(O.label){case 0:return Ir(S=p.code)&&S!==we.ABORTED?(w=u.Fr.shift(),se(u).sr(),[4,Cu(u,function(){return u.remoteSyncer.rejectFailedWrite(w.batchId,p)})]):[3,3];case 1:return O.sent(),[4,Ma(u)];case 2:O.sent(),O.label=3;case 3:return[2]}})})}(o,t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return Ks(o)&&Vc(o),[2]}})})}function M(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i;return(0,f.__generator)(this,function(u){switch(u.label){case 0:return i=ue(o),t?(i.Or.delete(2),[4,gs(i)]):[3,2];case 1:return u.sent(),[3,5];case 2:return t?[3,4]:(i.Or.add(2),[4,ms(i)]);case 3:u.sent(),i.Br.set("Unknown"),u.label=4;case 4:u.label=5;case 5:return[2]}})})}function W(o){var i,u,p,w,t=this;return o.Ur||(o.Ur=(i=o.datastore,u=o.asyncQueue,p={Ii:mc.bind(null,o),Ri:Ha.bind(null,o),_r:Zu.bind(null,o)},(w=ue(i)).br(),new pc(u,w.Hi,w.credentials,w.R,p)),o.Mr.push(function(i){return(0,f.__awaiter)(t,void 0,void 0,function(){return(0,f.__generator)(this,function(u){switch(u.label){case 0:return i?(o.Ur.sr(),Lu(o)?ja(o):o.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,o.Ur.stop()];case 2:u.sent(),Eu(o),u.label=3;case 3:return[2]}})})})),o.Ur}function se(o){var i,u,p,w,t=this;return o.Kr||(o.Kr=(i=o.datastore,u=o.asyncQueue,p={Ii:vc.bind(null,o),Ri:R.bind(null,o),Ir:gl.bind(null,o),Tr:$c.bind(null,o)},(w=ue(i)).br(),new Bc(u,w.Hi,w.credentials,w.R,p)),o.Mr.push(function(i){return(0,f.__awaiter)(t,void 0,void 0,function(){return(0,f.__generator)(this,function(u){switch(u.label){case 0:return i?(o.Kr.sr(),[4,Ma(o)]):[3,2];case 1:return u.sent(),[3,4];case 2:return[4,o.Kr.stop()];case 3:u.sent(),o.Fr.length>0&&(x("RemoteStore","Stopping write stream with "+o.Fr.length+" pending writes"),o.Fr=[]),u.label=4;case 4:return[2]}})})})),o.Kr}var me=function(){function o(t,i,u,p,w){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=u,this.op=p,this.removalCallback=w,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(S){})}return o.createAndSchedule=function(t,i,u,p,w){var S=new o(t,i,Date.now()+u,p,w);return S.start(u),S},o.prototype.start=function(t){var i=this;this.timerHandle=setTimeout(function(){return i.handleDelayElapsed()},t)},o.prototype.skipDelay=function(){return this.handleDelayElapsed()},o.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(we.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},o.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(i){return t.deferred.resolve(i)})):Promise.resolve()})},o.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},o}();function Ne(o,t){if(Se("AsyncQueue",t+": "+o),mo(o))return new _e(we.UNAVAILABLE,t+": "+o);throw o}var _t=function(){function o(t){this.comparator=t?function(i,u){return t(i,u)||We.comparator(i.key,u.key)}:function(i,u){return We.comparator(i.key,u.key)},this.keyedMap=wo(),this.sortedSet=new Wr(this.comparator)}return o.emptySet=function(t){return new o(t.comparator)},o.prototype.has=function(t){return null!=this.keyedMap.get(t)},o.prototype.get=function(t){return this.keyedMap.get(t)},o.prototype.first=function(){return this.sortedSet.minKey()},o.prototype.last=function(){return this.sortedSet.maxKey()},o.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},o.prototype.indexOf=function(t){var i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1},Object.defineProperty(o.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),o.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(i,u){return t(i),!1})},o.prototype.add=function(t){var i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))},o.prototype.delete=function(t){var i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this},o.prototype.isEqual=function(t){if(!(t instanceof o)||this.size!==t.size)return!1;for(var i=this.sortedSet.getIterator(),u=t.sortedSet.getIterator();i.hasNext();){var p=i.getNext().key,w=u.getNext().key;if(!p.isEqual(w))return!1}return!0},o.prototype.toString=function(){var t=[];return this.forEach(function(i){t.push(i.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},o.prototype.copy=function(t,i){var u=new o;return u.comparator=this.comparator,u.keyedMap=t,u.sortedSet=i,u},o}(),xt=function(){function o(){this.Qr=new Wr(We.comparator)}return o.prototype.track=function(t){var i=t.doc.key,u=this.Qr.get(i);u?0!==t.type&&3===u.type?this.Qr=this.Qr.insert(i,t):3===t.type&&1!==u.type?this.Qr=this.Qr.insert(i,{type:u.type,doc:t.doc}):2===t.type&&2===u.type?this.Qr=this.Qr.insert(i,{type:2,doc:t.doc}):2===t.type&&0===u.type?this.Qr=this.Qr.insert(i,{type:0,doc:t.doc}):1===t.type&&0===u.type?this.Qr=this.Qr.remove(i):1===t.type&&2===u.type?this.Qr=this.Qr.insert(i,{type:1,doc:u.doc}):0===t.type&&1===u.type?this.Qr=this.Qr.insert(i,{type:2,doc:t.doc}):ve():this.Qr=this.Qr.insert(i,t)},o.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(i,u){t.push(u)}),t},o}(),sn=function(){function o(t,i,u,p,w,S,O,Q){this.query=t,this.docs=i,this.oldDocs=u,this.docChanges=p,this.mutatedKeys=w,this.fromCache=S,this.syncStateChanged=O,this.excludesMetadataChanges=Q}return o.fromInitialDocuments=function(t,i,u,p){var w=[];return i.forEach(function(S){w.push({type:0,doc:S})}),new o(t,i,_t.emptySet(i),w,u,p,!0,!1)},Object.defineProperty(o.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var i=this.docChanges,u=t.docChanges;if(i.length!==u.length)return!1;for(var p=0;p<i.length;p++)if(i[p].type!==u[p].type||!i[p].doc.isEqual(u[p].doc))return!1;return!0},o}(),mn=function(){this.Wr=void 0,this.listeners=[]},jn=function(){this.queries=new ao(function(o){return Er(o)},Xn),this.onlineState="Unknown",this.Gr=new Set};function ti(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,u,p,w,S,O,Q;return(0,f.__generator)(this,function(he){switch(he.label){case 0:if(i=ue(o),p=!1,(w=i.queries.get(u=t.query))||(p=!0,w=new mn),!p)return[3,4];he.label=1;case 1:return he.trys.push([1,3,,4]),S=w,[4,i.onListen(u)];case 2:return S.Wr=he.sent(),[3,4];case 3:return O=he.sent(),Q=Ne(O,"Initialization of query '"+Ve(t.query)+"' failed"),[2,void t.onError(Q)];case 4:return i.queries.set(u,w),w.listeners.push(t),t.zr(i.onlineState),w.Wr&&t.Hr(w.Wr)&&Ro(i),[2]}})})}function Br(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,u,p,w,S;return(0,f.__generator)(this,function(O){return i=ue(o),p=!1,(w=i.queries.get(u=t.query))&&(S=w.listeners.indexOf(t))>=0&&(w.listeners.splice(S,1),p=0===w.listeners.length),p?[2,(i.queries.delete(u),i.onUnlisten(u))]:[2]})})}function oo(o,t){for(var i=ue(o),u=!1,p=0,w=t;p<w.length;p++){var S=w[p],Q=i.queries.get(S.query);if(Q){for(var he=0,Te=Q.listeners;he<Te.length;he++)Te[he].Hr(S)&&(u=!0);Q.Wr=S}}u&&Ro(i)}function ki(o,t,i){var u=ue(o),p=u.queries.get(t);if(p)for(var w=0,S=p.listeners;w<S.length;w++)S[w].onError(i);u.queries.delete(t)}function Ro(o){o.Gr.forEach(function(t){t.next()})}var Fs=function(){function o(t,i,u){this.query=t,this.Jr=i,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=u||{}}return o.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var i=[],u=0,p=t.docChanges;u<p.length;u++){var w=p[u];3!==w.type&&i.push(w)}t=new sn(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var S=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),S=!0):this.eo(t,this.onlineState)&&(this.no(t),S=!0),this.Xr=t,S},o.prototype.onError=function(t){this.Jr.error(t)},o.prototype.zr=function(t){this.onlineState=t;var i=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),i=!0),i},o.prototype.eo=function(t,i){return!t.fromCache||!(this.options.so&&"Offline"!==i||t.docs.isEmpty()&&"Offline"!==i)},o.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},o.prototype.no=function(t){t=sn.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},o}(),cs=function(){function o(t,i){this.payload=t,this.byteLength=i}return o.prototype.io=function(){return"metadata"in this.payload},o}(),Ls=function(){function o(t){this.R=t}return o.prototype.qn=function(t){return Ui(this.R,t)},o.prototype.Un=function(t){return t.metadata.exists?z(this.R,t.document,!1):Hr.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},o.prototype.Kn=function(t){return Mr(t)},o}(),Bs=function(){function o(t,i,u){this.ro=t,this.localStore=i,this.R=u,this.queries=[],this.documents=[],this.progress=ec(t)}return o.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var i=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++i):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null},o.prototype.co=function(t){for(var i=new Map,u=new Ls(this.R),p=0,w=t;p<w.length;p++){var S=w[p];if(S.metadata.queries)for(var O=u.qn(S.metadata.name),Q=0,he=S.metadata.queries;Q<he.length;Q++){var Te=he[Q],et=(i.get(Te)||Yr()).add(O);i.set(Te,et)}}return i},o.prototype.complete=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){var t,i,u,p,w;return(0,f.__generator)(this,function(S){switch(S.label){case 0:return[4,ra(this.localStore,new Ls(this.R),this.documents,this.ro.id)];case 1:t=S.sent(),i=this.co(this.documents),u=0,p=this.queries,S.label=2;case 2:return u<p.length?[4,eu(this.localStore,w=p[u],i.get(w.name))]:[3,5];case 3:S.sent(),S.label=4;case 4:return u++,[3,2];case 5:return[2,(this.progress.taskState="Success",new os(Object.assign({},this.progress),t))]}})})},o}();function ec(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}var Yo=function(o){this.key=o},ya=function(o){this.key=o},ls=function(){function o(t,i){this.query=t,this.uo=i,this.ao=null,this.current=!1,this.ho=Yr(),this.mutatedKeys=Yr(),this.lo=nn(t),this.fo=new _t(this.lo)}return Object.defineProperty(o.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),o.prototype._o=function(t,i){var u=this,p=i?i.mo:new xt,w=i?i.fo:this.fo,S=i?i.mutatedKeys:this.mutatedKeys,O=w,Q=!1,he=Cr(this.query)&&w.size===this.query.limit?w.last():null,Te=sr(this.query)&&w.size===this.query.limit?w.first():null;if(t.inorderTraversal(function(pt,Zt){var Qt=w.get(pt),ln=He(u.query,Zt)?Zt:null,fn=!!Qt&&u.mutatedKeys.has(Qt.key),Wn=!!ln&&(ln.hasLocalMutations||u.mutatedKeys.has(ln.key)&&ln.hasCommittedMutations),Kr=!1;Qt&&ln?Qt.data.isEqual(ln.data)?fn!==Wn&&(p.track({type:3,doc:ln}),Kr=!0):u.yo(Qt,ln)||(p.track({type:2,doc:ln}),Kr=!0,(he&&u.lo(ln,he)>0||Te&&u.lo(ln,Te)<0)&&(Q=!0)):!Qt&&ln?(p.track({type:0,doc:ln}),Kr=!0):Qt&&!ln&&(p.track({type:1,doc:Qt}),Kr=!0,(he||Te)&&(Q=!0)),Kr&&(ln?(O=O.add(ln),S=Wn?S.add(pt):S.delete(pt)):(O=O.delete(pt),S=S.delete(pt)))}),Cr(this.query)||sr(this.query))for(;O.size>this.query.limit;){var et=Cr(this.query)?O.last():O.first();O=O.delete(et.key),S=S.delete(et.key),p.track({type:1,doc:et})}return{fo:O,mo:p,Nn:Q,mutatedKeys:S}},o.prototype.yo=function(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations},o.prototype.applyChanges=function(t,i,u){var p=this,w=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var S=t.mo.jr();S.sort(function(Te,et){return Zt=et.type,(Qt=function(ln){switch(ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}})(Te.type)-Qt(Zt)||p.lo(Te.doc,et.doc);var Zt,Qt}),this.po(u);var O=i?this.Eo():[],Q=0===this.ho.size&&this.current?1:0,he=Q!==this.ao;return this.ao=Q,0!==S.length||he?{snapshot:new sn(this.query,t.fo,w,S,t.mutatedKeys,0===Q,he,!1),To:O}:{To:O}},o.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new xt,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},o.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},o.prototype.po=function(t){var i=this;t&&(t.addedDocuments.forEach(function(u){return i.uo=i.uo.add(u)}),t.modifiedDocuments.forEach(function(u){}),t.removedDocuments.forEach(function(u){return i.uo=i.uo.delete(u)}),this.current=t.current)},o.prototype.Eo=function(){var t=this;if(!this.current)return[];var i=this.ho;this.ho=Yr(),this.fo.forEach(function(p){t.Io(p.key)&&(t.ho=t.ho.add(p.key))});var u=[];return i.forEach(function(p){t.ho.has(p)||u.push(new ya(p))}),this.ho.forEach(function(p){i.has(p)||u.push(new Yo(p))}),u},o.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Yr();var i=this._o(t.documents);return this.applyChanges(i,!0)},o.prototype.Ro=function(){return sn.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},o}(),Vu=function(o,t,i){this.query=o,this.targetId=t,this.view=i},_a=function(o){this.key=o,this.bo=!1},Gl=function(){function o(t,i,u,p,w,S){this.localStore=t,this.remoteStore=i,this.eventManager=u,this.sharedClientState=p,this.currentUser=w,this.maxConcurrentLimboResolutions=S,this.vo={},this.Po=new ao(function(O){return Er(O)},Xn),this.Vo=new Map,this.So=new Set,this.Do=new Wr(We.comparator),this.Co=new Map,this.No=new ia,this.xo={},this.ko=new Map,this.Fo=Hn.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(o.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),o}();function ml(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,p,w,S,O;return(0,f.__generator)(this,function(Q){switch(Q.label){case 0:return i=Kc(o),(w=i.Po.get(t))?(i.sharedClientState.addLocalQueryTarget(w.targetId),p=w.view.Ro(),[3,4]):[3,1];case 1:return[4,Za(i.localStore,mt(t))];case 2:return S=Q.sent(),O=i.sharedClientState.addLocalQueryTarget(S.targetId),[4,oa(i,t,S.targetId,"current"===O)];case 3:p=Q.sent(),i.isPrimaryClient&&Aa(i.remoteStore,S),Q.label=4;case 4:return[2,p]}})})}function oa(o,t,i,u){return(0,f.__awaiter)(this,void 0,void 0,function(){var p,w,S,O,Q,he;return(0,f.__generator)(this,function(Te){switch(Te.label){case 0:return o.Oo=function(et,pt,Zt){return function(Qt,ln,fn,Wn){return(0,f.__awaiter)(this,void 0,void 0,function(){var Kr,ri,qi;return(0,f.__generator)(this,function(Ii){switch(Ii.label){case 0:return(Kr=ln.view._o(fn)).Nn?[4,Ys(Qt.localStore,ln.query,!1).then(function(Io){return ln.view._o(Io.documents,Kr)})]:[3,2];case 1:Kr=Ii.sent(),Ii.label=2;case 2:return ri=Wn&&Wn.targetChanges.get(ln.targetId),qi=ln.view.applyChanges(Kr,Qt.isPrimaryClient,ri),[2,($u(Qt,ln.targetId,qi.To),qi.snapshot)]}})})}(o,et,pt,Zt)},[4,Ys(o.localStore,t,!0)];case 1:return p=Te.sent(),w=new ls(t,p.Bn),S=w._o(p.documents),O=Z.createSynthesizedTargetChangeForCurrentChange(i,u&&"Offline"!==o.onlineState),Q=w.applyChanges(S,o.isPrimaryClient,O),$u(o,i,Q.To),he=new Vu(t,i,w),[2,(o.Po.set(t,he),o.Vo.has(i)?o.Vo.get(i).push(t):o.Vo.set(i,[t]),Q.snapshot)]}})})}function vl(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,u,p;return(0,f.__generator)(this,function(w){switch(w.label){case 0:return i=ue(o),u=i.Po.get(t),(p=i.Vo.get(u.targetId)).length>1?[2,(i.Vo.set(u.targetId,p.filter(function(S){return!Xn(S,t)})),void i.Po.delete(t))]:i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(u.targetId),i.sharedClientState.isActiveQueryTarget(u.targetId)?[3,2]:[4,pa(i.localStore,u.targetId,!1).then(function(){i.sharedClientState.clearQueryState(u.targetId),ou(i.remoteStore,u.targetId),Iu(i,u.targetId)}).catch(yo)]):[3,3];case 1:w.sent(),w.label=2;case 2:return[3,5];case 3:return Iu(i,u.targetId),[4,pa(i.localStore,u.targetId,!0)];case 4:w.sent(),w.label=5;case 5:return[2]}})})}function Uc(o,t,i){return(0,f.__awaiter)(this,void 0,void 0,function(){var u,p,w,S;return(0,f.__generator)(this,function(O){switch(O.label){case 0:u=wl(o),O.label=1;case 1:return O.trys.push([1,5,,6]),[4,(Q=u.localStore,he=t,et=ue(Q),pt=nt.now(),Zt=he.reduce(function(Qt,ln){return Qt.add(ln.key)},Yr()),et.persistence.runTransaction("Locally write mutations","readwrite",function(Qt){return et.Mn.pn(Qt,Zt).next(function(ln){Te=ln;for(var fn=[],Wn=0,Kr=he;Wn<Kr.length;Wn++){var ri=Kr[Wn],qi=ne(ri,Te.get(ri.key));null!=qi&&fn.push(new ut(ri.key,qi,fi(qi.value.mapValue),$r.exists(!0)))}return et._n.addMutationBatch(Qt,pt,fn,he)})}).then(function(Qt){return Qt.applyToLocalDocumentSet(Te),{batchId:Qt.batchId,changes:Te}}))];case 2:return p=O.sent(),u.sharedClientState.addPendingMutation(p.batchId),function(Q,he,Te){var et=Q.xo[Q.currentUser.toKey()];et||(et=new Wr(ct)),et=et.insert(he,Te),Q.xo[Q.currentUser.toKey()]=et}(u,p.batchId,i),[4,As(u,p.changes)];case 3:return O.sent(),[4,Ma(u.remoteStore)];case 4:return O.sent(),[3,6];case 5:return w=O.sent(),S=Ne(w,"Failed to persist write"),i.reject(S),[3,6];case 6:return[2]}var Q,he,Te,et,pt,Zt})})}function as(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,u;return(0,f.__generator)(this,function(p){switch(p.label){case 0:i=ue(o),p.label=1;case 1:return p.trys.push([1,4,,6]),[4,Dr(i.localStore,t)];case 2:return u=p.sent(),t.targetChanges.forEach(function(w,S){var O=i.Co.get(S);O&&(Pe(w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size<=1),w.addedDocuments.size>0?O.bo=!0:w.modifiedDocuments.size>0?Pe(O.bo):w.removedDocuments.size>0&&(Pe(O.bo),O.bo=!1))}),[4,As(i,u,t)];case 3:return p.sent(),[3,6];case 4:return[4,yo(p.sent())];case 5:return p.sent(),[3,6];case 6:return[2]}})})}function yl(o,t,i){var u=ue(o);if(u.isPrimaryClient&&0===i||!u.isPrimaryClient&&1===i){var p=[];u.Po.forEach(function(w,S){var O=S.view.zr(t);O.snapshot&&p.push(O.snapshot)}),function(w,S){var O=ue(w);O.onlineState=S;var Q=!1;O.queries.forEach(function(he,Te){for(var et=0,pt=Te.listeners;et<pt.length;et++)pt[et].zr(S)&&(Q=!0)}),Q&&Ro(O)}(u.eventManager,t),p.length&&u.vo._r(p),u.onlineState=t,u.isPrimaryClient&&u.sharedClientState.setOnlineState(t)}}function yc(o,t,i){return(0,f.__awaiter)(this,void 0,void 0,function(){var u,p,w,S,O,Q;return(0,f.__generator)(this,function(he){switch(he.label){case 0:return(u=ue(o)).sharedClientState.updateQueryState(t,"rejected",i),p=u.Co.get(t),(w=p&&p.key)?(S=(S=new Wr(We.comparator)).insert(w,Hr.newNoDocument(w,rt.min())),O=Yr().add(w),Q=new bo(rt.min(),new Map,new $i(ct),S,O),[4,as(u,Q)]):[3,2];case 1:return he.sent(),u.Do=u.Do.remove(w),u.Co.delete(t),Uu(u),[3,4];case 2:return[4,pa(u.localStore,t,!1).then(function(){return Iu(u,t,i)}).catch(yo)];case 3:he.sent(),he.label=4;case 4:return[2]}})})}function jc(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,u,p;return(0,f.__generator)(this,function(w){switch(w.label){case 0:i=ue(o),u=t.batch.batchId,w.label=1;case 1:return w.trys.push([1,4,,6]),[4,Ws(i.localStore,t)];case 2:return p=w.sent(),Hc(i,u,null),sa(i,u),i.sharedClientState.updateMutationState(u,"acknowledged"),[4,As(i,p)];case 3:return w.sent(),[3,6];case 4:return[4,yo(w.sent())];case 5:return w.sent(),[3,6];case 6:return[2]}})})}function vs(o,t,i){return(0,f.__awaiter)(this,void 0,void 0,function(){var u,p;return(0,f.__generator)(this,function(w){switch(w.label){case 0:u=ue(o),w.label=1;case 1:return w.trys.push([1,4,,6]),[4,(S=u.localStore,O=t,Q=ue(S),Q.persistence.runTransaction("Reject batch","readwrite-primary",function(he){var Te;return Q._n.lookupMutationBatch(he,O).next(function(et){return Pe(null!==et),Te=et.keys(),Q._n.removeMutationBatch(he,et)}).next(function(){return Q._n.performConsistencyCheck(he)}).next(function(){return Q.Mn.pn(he,Te)})}))];case 2:return p=w.sent(),Hc(u,t,i),sa(u,t),u.sharedClientState.updateMutationState(t,"rejected",i),[4,As(u,p)];case 3:return w.sent(),[3,6];case 4:return[4,yo(w.sent())];case 5:return w.sent(),[3,6];case 6:return[2]}var S,O,Q})})}function _l(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,u,p,w,S;return(0,f.__generator)(this,function(O){switch(O.label){case 0:va((i=ue(o)).remoteStore)||x("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),O.label=1;case 1:return O.trys.push([1,3,,4]),[4,(Q=i.localStore,he=ue(Q),he.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Te){return he._n.getHighestUnacknowledgedBatchId(Te)}))];case 2:return-1===(u=O.sent())?[2,void t.resolve()]:((p=i.ko.get(u)||[]).push(t),i.ko.set(u,p),[3,4]);case 3:return w=O.sent(),S=Ne(w,"Initialization of waitForPendingWrites() operation failed"),t.reject(S),[3,4];case 4:return[2]}var Q,he})})}function sa(o,t){(o.ko.get(t)||[]).forEach(function(i){i.resolve()}),o.ko.delete(t)}function Hc(o,t,i){var u=ue(o),p=u.xo[u.currentUser.toKey()];if(p){var w=p.get(t);w&&(i?w.reject(i):w.resolve(),p=p.remove(t)),u.xo[u.currentUser.toKey()]=p}}function Iu(o,t,i){void 0===i&&(i=null),o.sharedClientState.removeLocalQueryTarget(t);for(var u=0,p=o.Vo.get(t);u<p.length;u++){var w=p[u];o.Po.delete(w),i&&o.vo.Mo(w,i)}o.Vo.delete(t),o.isPrimaryClient&&o.No.Zn(t).forEach(function(S){o.No.containsKey(S)||tc(o,S)})}function tc(o,t){o.So.delete(t.path.canonicalString());var i=o.Do.get(t);null!==i&&(ou(o.remoteStore,i),o.Do=o.Do.remove(t),o.Co.delete(i),Uu(o))}function $u(o,t,i){for(var u=0,p=i;u<p.length;u++){var w=p[u];w instanceof Yo?(o.No.addReference(w.key,t),Gc(o,w)):w instanceof ya?(x("SyncEngine","Document no longer in limbo: "+w.key),o.No.removeReference(w.key,t),o.No.containsKey(w.key)||tc(o,w.key)):ve()}}function Gc(o,t){var i=t.key,u=i.path.canonicalString();o.Do.get(i)||o.So.has(u)||(x("SyncEngine","New document in limbo: "+i),o.So.add(u),Uu(o))}function Uu(o){for(;o.So.size>0&&o.Do.size<o.maxConcurrentLimboResolutions;){var t=o.So.values().next().value;o.So.delete(t);var i=new We(ze.fromString(t)),u=o.Fo.next();o.Co.set(u,new _a(i)),o.Do=o.Do.insert(i,u),Aa(o.remoteStore,new is(mt(Jn(i.path)),u,2,Le.o))}}function As(o,t,i){return(0,f.__awaiter)(this,void 0,void 0,function(){var u,p,w,S;return(0,f.__generator)(this,function(O){switch(O.label){case 0:return u=ue(o),p=[],w=[],S=[],u.Po.isEmpty()?[3,3]:(u.Po.forEach(function(Q,he){S.push(u.Oo(he,t,i).then(function(Te){if(Te){u.isPrimaryClient&&u.sharedClientState.updateQueryState(he.targetId,Te.fromCache?"not-current":"current"),p.push(Te);var et=vu.Pn(he.targetId,Te);w.push(et)}}))}),[4,Promise.all(S)]);case 1:return O.sent(),u.vo._r(p),[4,function(Q,he){return(0,f.__awaiter)(this,void 0,void 0,function(){var Te,et,pt,Zt,Qt,ln,fn,Kr;return(0,f.__generator)(this,function(ri){switch(ri.label){case 0:Te=ue(Q),ri.label=1;case 1:return ri.trys.push([1,3,,4]),[4,Te.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(qi){return _n.forEach(he,function(Ii){return _n.forEach(Ii.bn,function(Io){return Te.persistence.referenceDelegate.addReference(qi,Ii.targetId,Io)}).next(function(){return _n.forEach(Ii.vn,function(Io){return Te.persistence.referenceDelegate.removeReference(qi,Ii.targetId,Io)})})})})];case 2:return ri.sent(),[3,4];case 3:if(!mo(et=ri.sent()))throw et;return x("LocalStore","Failed to update sequence numbers: "+et),[3,4];case 4:for(pt=0,Zt=he;pt<Zt.length;pt++)ln=(Qt=Zt[pt]).targetId,Qt.fromCache||(fn=Te.kn.get(ln),Kr=fn.withLastLimboFreeSnapshotVersion(fn.snapshotVersion),Te.kn=Te.kn.insert(ln,Kr));return[2]}})})}(u.localStore,w)];case 2:O.sent(),O.label=3;case 3:return[2]}})})}function nc(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,u;return(0,f.__generator)(this,function(p){switch(p.label){case 0:return(i=ue(o)).currentUser.isEqual(t)?[3,3]:(x("SyncEngine","User change. New user:",t.toKey()),[4,_u(i.localStore,t)]);case 1:return u=p.sent(),i.currentUser=t,(w=i).ko.forEach(function(O){O.forEach(function(Q){Q.reject(new _e(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),w.ko.clear(),i.sharedClientState.handleUserChange(t,u.removedBatchIds,u.addedBatchIds),[4,As(i,u.Ln)];case 2:p.sent(),p.label=3;case 3:return[2]}var w})})}function qc(o,t){var i=ue(o),u=i.Co.get(t);if(u&&u.bo)return Yr().add(u.key);var p=Yr(),w=i.Vo.get(t);if(!w)return p;for(var S=0,O=w;S<O.length;S++){var he=i.Po.get(O[S]);p=p.unionWith(he.view.wo)}return p}function bf(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,u,p;return(0,f.__generator)(this,function(w){switch(w.label){case 0:return[4,Ys((i=ue(o)).localStore,t.query,!0)];case 1:return u=w.sent(),p=t.view.Ao(u),[2,(i.isPrimaryClient&&$u(i,t.targetId,p.To),p)]}})})}function zc(o){return(0,f.__awaiter)(this,void 0,void 0,function(){var t;return(0,f.__generator)(this,function(i){return[2,bu((t=ue(o)).localStore).then(function(u){return As(t,u)})]})})}function Ef(o,t,i,u){return(0,f.__awaiter)(this,void 0,void 0,function(){var p,w;return(0,f.__generator)(this,function(S){switch(S.label){case 0:return[4,(O=(p=ue(o)).localStore,Q=t,he=ue(O),Te=ue(he._n),he.persistence.runTransaction("Lookup mutation documents","readonly",function(et){return Te.jt(et,Q).next(function(pt){return pt?he.Mn.pn(et,pt):_n.resolve(null)})}))];case 1:return null===(w=S.sent())?[3,6]:"pending"!==i?[3,3]:[4,Ma(p.remoteStore)];case 2:return S.sent(),[3,4];case 3:"acknowledged"===i||"rejected"===i?(Hc(p,t,u||null),sa(p,t),function(O,Q){ue(ue(O)._n).Gt(Q)}(p.localStore,t)):ve(),S.label=4;case 4:return[4,As(p,w)];case 5:return S.sent(),[3,7];case 6:x("SyncEngine","Cannot apply mutation batch with id: "+t),S.label=7;case 7:return[2]}var O,Q,he,Te})})}function wa(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,u,p,w,S,Q,he;return(0,f.__generator)(this,function(Te){switch(Te.label){case 0:return Kc(i=ue(o)),wl(i),!0!==t||!0===i.$o?[3,3]:(u=i.sharedClientState.getAllActiveQueryTargets(),[4,Ra(i,u.toArray())]);case 1:return p=Te.sent(),i.$o=!0,[4,M(i.remoteStore,!0)];case 2:for(Te.sent(),w=0,S=p;w<S.length;w++)Aa(i.remoteStore,S[w]);return[3,7];case 3:return!1!==t||!1===i.$o?[3,7]:(Q=[],he=Promise.resolve(),i.Vo.forEach(function(et,pt){i.sharedClientState.isLocalQueryTarget(pt)?Q.push(pt):he=he.then(function(){return Iu(i,pt),pa(i.localStore,pt,!0)}),ou(i.remoteStore,pt)}),[4,he]);case 4:return Te.sent(),[4,Ra(i,Q)];case 5:return Te.sent(),(pt=ue(i)).Co.forEach(function(Zt,Qt){ou(pt.remoteStore,Qt)}),pt.No.ts(),pt.Co=new Map,pt.Do=new Wr(We.comparator),i.$o=!1,[4,M(i.remoteStore,!1)];case 6:Te.sent(),Te.label=7;case 7:return[2]}var pt})})}function Ra(o,t,i){return(0,f.__awaiter)(this,void 0,void 0,function(){var u,p,w,S,O,Q,he,Te,et,pt,Qt,ln,fn;return(0,f.__generator)(this,function(Wn){switch(Wn.label){case 0:u=ue(o),p=[],w=[],S=0,O=t,Wn.label=1;case 1:return S<O.length?(he=void 0,(Te=u.Vo.get(Q=O[S]))&&0!==Te.length?[4,Za(u.localStore,mt(Te[0]))]:[3,7]):[3,13];case 2:he=Wn.sent(),et=0,pt=Te,Wn.label=3;case 3:return et<pt.length?(Qt=u.Po.get(pt[et]),[4,bf(u,Qt)]):[3,6];case 4:(ln=Wn.sent()).snapshot&&w.push(ln.snapshot),Wn.label=5;case 5:return et++,[3,3];case 6:return[3,11];case 7:return[4,wu(u.localStore,Q)];case 8:return fn=Wn.sent(),[4,Za(u.localStore,fn)];case 9:return he=Wn.sent(),[4,oa(u,ql(fn),Q,!1)];case 10:Wn.sent(),Wn.label=11;case 11:p.push(he),Wn.label=12;case 12:return S++,[3,1];case 13:return[2,(u.vo._r(w),p)]}})})}function ql(o){return Fn(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function Wc(o){var t=ue(o);return ue(ue(t.localStore).persistence).fn()}function Yc(o,t,i,u){return(0,f.__awaiter)(this,void 0,void 0,function(){var p,w,S;return(0,f.__generator)(this,function(O){switch(O.label){case 0:return(p=ue(o)).$o?(x("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!p.Vo.has(t))return[3,8];switch(i){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,bu(p.localStore)];case 3:return w=O.sent(),S=bo.createSynthesizedRemoteEventForCurrentChange(t,"current"===i),[4,As(p,w,S)];case 4:return O.sent(),[3,8];case 5:return[4,pa(p.localStore,t,!0)];case 6:return O.sent(),Iu(p,t,u),[3,8];case 7:ve(),O.label=8;case 8:return[2]}})})}function Cf(o,t,i){return(0,f.__awaiter)(this,void 0,void 0,function(){var u,p,w,S,O,Q,he,Te,et;return(0,f.__generator)(this,function(Zt){switch(Zt.label){case 0:if(!(u=Kc(o)).$o)return[3,10];p=0,w=t,Zt.label=1;case 1:return p<w.length?u.Vo.has(S=w[p])?(x("SyncEngine","Adding an already active target "+S),[3,5]):[4,wu(u.localStore,S)]:[3,6];case 2:return O=Zt.sent(),[4,Za(u.localStore,O)];case 3:return Q=Zt.sent(),[4,oa(u,ql(O),Q.targetId,!1)];case 4:Zt.sent(),Aa(u.remoteStore,Q),Zt.label=5;case 5:return p++,[3,1];case 6:he=function(Qt){return(0,f.__generator)(this,function(ln){switch(ln.label){case 0:return u.Vo.has(Qt)?[4,pa(u.localStore,Qt,!1).then(function(){ou(u.remoteStore,Qt),Iu(u,Qt)}).catch(yo)]:[3,2];case 1:ln.sent(),ln.label=2;case 2:return[2]}})},Te=0,et=i,Zt.label=7;case 7:return Te<et.length?[5,he(et[Te])]:[3,10];case 8:Zt.sent(),Zt.label=9;case 9:return Te++,[3,7];case 10:return[2]}})})}function Kc(o){var t=ue(o);return t.remoteStore.remoteSyncer.applyRemoteEvent=as.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yc.bind(null,t),t.vo._r=oo.bind(null,t.eventManager),t.vo.Mo=ki.bind(null,t.eventManager),t}function wl(o){var t=ue(o);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jc.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vs.bind(null,t),t}function If(o,t,i){var u=ue(o);(function(p,w,S){return(0,f.__awaiter)(this,void 0,void 0,function(){var O,Q,he,Te,et,pt;return(0,f.__generator)(this,function(Zt){switch(Zt.label){case 0:return Zt.trys.push([0,14,,15]),[4,w.getMetadata()];case 1:return O=Zt.sent(),[4,(Qt=p.localStore,ln=O,fn=ue(Qt),Wn=Mr(ln.createTime),fn.persistence.runTransaction("hasNewerBundle","readonly",function(Kr){return fn.Ke.getBundleMetadata(Kr,ln.id)}).then(function(Kr){return!!Kr&&Kr.createTime.compareTo(Wn)>=0}))];case 2:return Zt.sent()?[4,w.close()]:[3,4];case 3:return[2,(Zt.sent(),void S._completeWith(function(Qt){return{taskState:"Success",documentsLoaded:Qt.totalDocuments,bytesLoaded:Qt.totalBytes,totalDocuments:Qt.totalDocuments,totalBytes:Qt.totalBytes}}(O)))];case 4:return S._updateProgress(ec(O)),Q=new Bs(O,p.localStore,w.R),[4,w.Lo()];case 5:he=Zt.sent(),Zt.label=6;case 6:return he?[4,Q.oo(he)]:[3,10];case 7:return(Te=Zt.sent())&&S._updateProgress(Te),[4,w.Lo()];case 8:he=Zt.sent(),Zt.label=9;case 9:return[3,6];case 10:return[4,Q.complete()];case 11:return et=Zt.sent(),[4,As(p,et.wn,void 0)];case 12:return Zt.sent(),[4,function(Qt,ln){var fn=ue(Qt);return fn.persistence.runTransaction("Save bundle","readwrite",function(Wn){return fn.Ke.saveBundleMetadata(Wn,ln)})}(p.localStore,O)];case 13:return Zt.sent(),S._completeWith(et.progress),[3,15];case 14:return xe("SyncEngine","Loading bundle failed with "+(pt=Zt.sent())),S._failWith(pt),[3,15];case 15:return[2]}var Qt,ln,fn,Wn})})})(u,t,i).then(function(){u.sharedClientState.notifyBundleLoaded()})}var zl=function(){function o(){this.synchronizeTabs=!1}return o.prototype.initialize=function(t){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(i){switch(i.label){case 0:return this.R=Sa(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return i.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},o.prototype.Uo=function(t){return null},o.prototype.Ko=function(t){return zs(this.persistence,new yu,t.initialUser,this.R)},o.prototype.qo=function(t){return new D(ee.bs,this.R)},o.prototype.Bo=function(t){return new Co},o.prototype.terminate=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},o}(),bl=function(o){function t(i,u,p){var w=this;return(w=o.call(this)||this).Qo=i,w.cacheSizeBytes=u,w.forceOwnership=p,w.synchronizeTabs=!1,w}return(0,f.__extends)(t,o),t.prototype.initialize=function(i){return(0,f.__awaiter)(this,void 0,void 0,function(){var u=this;return(0,f.__generator)(this,function(p){switch(p.label){case 0:return[4,o.prototype.initialize.call(this,i)];case 1:return p.sent(),[4,Ju(this.localStore)];case 2:return p.sent(),[4,this.Qo.initialize(this,i)];case 3:return p.sent(),[4,wl(this.Qo.syncEngine)];case 4:return p.sent(),[4,Ma(this.Qo.remoteStore)];case 5:return p.sent(),[4,this.persistence.He(function(){return u.gcScheduler&&!u.gcScheduler.started&&u.gcScheduler.start(u.localStore),Promise.resolve()})];case 6:return p.sent(),[2]}})})},t.prototype.Ko=function(i){return zs(this.persistence,new yu,i.initialUser,this.R)},t.prototype.Uo=function(i){return new Hs(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)},t.prototype.qo=function(i){var u=$a(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),p=void 0!==this.cacheSizeBytes?zo.withCacheSize(this.cacheSizeBytes):zo.DEFAULT;return new Pu(this.synchronizeTabs,u,i.clientId,p,i.asyncQueue,ss(),Ta(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(i){return new Co},t}(zl),_c=function(o){function t(i,u){var p=this;return(p=o.call(this,i,u,!1)||this).Qo=i,p.cacheSizeBytes=u,p.synchronizeTabs=!0,p}return(0,f.__extends)(t,o),t.prototype.initialize=function(i){return(0,f.__awaiter)(this,void 0,void 0,function(){var u,p=this;return(0,f.__generator)(this,function(w){switch(w.label){case 0:return[4,o.prototype.initialize.call(this,i)];case 1:return w.sent(),u=this.Qo.syncEngine,this.sharedClientState instanceof ps?(this.sharedClientState.syncEngine={ui:Ef.bind(null,u),ai:Yc.bind(null,u),hi:Cf.bind(null,u),fn:Wc.bind(null,u),ci:zc.bind(null,u)},[4,this.sharedClientState.start()]):[3,3];case 2:w.sent(),w.label=3;case 3:return[4,this.persistence.He(function(S){return(0,f.__awaiter)(p,void 0,void 0,function(){return(0,f.__generator)(this,function(O){switch(O.label){case 0:return[4,wa(this.Qo.syncEngine,S)];case 1:return O.sent(),this.gcScheduler&&(S&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):S||this.gcScheduler.stop()),[2]}})})})];case 4:return w.sent(),[2]}})})},t.prototype.Bo=function(i){var u=ss();if(!ps.yt(u))throw new _e(we.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var p=$a(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new ps(u,i.asyncQueue,p,i.clientId,i.initialUser)},t}(bl),wc=function(){function o(){}return o.prototype.initialize=function(t,i){return(0,f.__awaiter)(this,void 0,void 0,function(){var u=this;return(0,f.__generator)(this,function(p){switch(p.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(w){return yl(u.syncEngine,w,1)},this.remoteStore.remoteSyncer.handleCredentialChange=nc.bind(null,this.syncEngine),[4,M(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:p.sent(),p.label=2;case 2:return[2]}})})},o.prototype.createEventManager=function(t){return new jn},o.prototype.createDatastore=function(t){var u=Sa(t.databaseInfo.databaseId),p=new Mo(t.databaseInfo);return new Hl(t.credentials,p,u)},o.prototype.createRemoteStore=function(t){var i,u,p,w,S,O=this;return i=this.localStore,u=this.datastore,p=t.asyncQueue,w=function(Q){return yl(O.syncEngine,Q,0)},S=Ua.yt()?new Ua:new nu,new iu(i,u,p,w,S)},o.prototype.createSyncEngine=function(t,i){return he=i,Te=new Gl(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions),he&&(Te.$o=!0),Te;var he,Te},o.prototype.terminate=function(){return function(t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i;return(0,f.__generator)(this,function(u){switch(u.label){case 0:return i=ue(t),x("RemoteStore","RemoteStore shutting down."),i.Or.add(5),[4,ms(i)];case 1:return u.sent(),i.Lr.shutdown(),i.Br.set("Unknown"),[2]}})})}(this.remoteStore)},o}();function xa(o,t){void 0===t&&(t=10240);var i=0;return{read:function(){return(0,f.__awaiter)(this,void 0,void 0,function(){var u;return(0,f.__generator)(this,function(p){return i<o.byteLength?(u={value:o.slice(i,i+t),done:!1},[2,(i+=t,u)]):[2,{done:!0}]})})},cancel:function(){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(u){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var rc=function(){function o(t){this.observer=t,this.muted=!1}return o.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},o.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},o.prototype.Wo=function(){this.muted=!0},o.prototype.jo=function(t,i){var u=this;this.muted||setTimeout(function(){u.muted||t(i)},0)},o}(),ju=function(){function o(t,i){var u=this;this.Go=t,this.R=i,this.metadata=new Li,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(p){p&&p.io()?u.metadata.resolve(p.payload.metadata):u.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==p?void 0:p.payload)))},function(p){return u.metadata.reject(p)})}return o.prototype.close=function(){return this.Go.cancel()},o.prototype.getMetadata=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(t){return[2,this.metadata.promise]})})},o.prototype.Lo=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},o.prototype.Ho=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){var t,i,u,p;return(0,f.__generator)(this,function(w){switch(w.label){case 0:return[4,this.Jo()];case 1:return null===(t=w.sent())?[2,null]:(i=this.zo.decode(t),u=Number(i),isNaN(u)&&this.Yo("length string ("+i+") is not valid number"),[4,this.Xo(u)]);case 2:return p=w.sent(),[2,new cs(JSON.parse(p),t.length+u)]}})})},o.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},o.prototype.Jo=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){var t,i;return(0,f.__generator)(this,function(u){switch(u.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(u.sent())return[3,3];u.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),i=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),i)])}})})},o.prototype.Xo=function(t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i;return(0,f.__generator)(this,function(u){switch(u.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:u.sent()&&this.Yo("Reached the end of bundle when more is expected."),u.label=2;case 2:return[3,0];case 3:return i=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),i)]}})})},o.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},o.prototype.tc=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){var t,i;return(0,f.__generator)(this,function(u){switch(u.label){case 0:return[4,this.Go.read()];case 1:return(t=u.sent()).done||((i=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),i.set(t.value,this.buffer.length),this.buffer=i),[2,t.done]}})})},o}(),Du=function(){function o(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return o.prototype.lookup=function(t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,u=this;return(0,f.__generator)(this,function(p){switch(p.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new _e(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(w,S){return(0,f.__awaiter)(this,void 0,void 0,function(){var O,Q,he,Te,et,pt;return(0,f.__generator)(this,function(Zt){switch(Zt.label){case 0:return O=ue(w),Q=Fi(O.R)+"/documents",he={documents:S.map(function(Qt){return Ur(O.R,Qt)})},[4,O.$i("BatchGetDocuments",Q,he)];case 1:return Te=Zt.sent(),et=new Map,Te.forEach(function(Qt){var fn,Wn,ln=(fn=O.R,"found"in(Wn=Qt)?function(Kr,ri){Pe(!!ri.found);var qi=Ui(Kr,ri.found.name),Ii=Mr(ri.found.updateTime),Io=new Rr({mapValue:{fields:ri.found.fields}});return Hr.newFoundDocument(qi,Ii,Io)}(fn,Wn):"missing"in Wn?function(Kr,ri){Pe(!!ri.missing),Pe(!!ri.readTime);var qi=Ui(Kr,ri.missing),Ii=Mr(ri.readTime);return Hr.newNoDocument(qi,Ii)}(fn,Wn):ve());et.set(ln.key.toString(),ln)}),pt=[],[2,(S.forEach(function(Qt){var ln=et.get(Qt.toString());Pe(!!ln),pt.push(ln)}),pt)]}})})}(this.datastore,t)];case 1:return[2,((i=p.sent()).forEach(function(w){return u.recordVersion(w)}),i)]}})})},o.prototype.set=function(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},o.prototype.update=function(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(u){this.lastWriteError=u}this.writtenDocs.add(t.toString())},o.prototype.delete=function(t){this.write(new On(t,this.precondition(t))),this.writtenDocs.add(t.toString())},o.prototype.commit=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){var t,i=this;return(0,f.__generator)(this,function(u){switch(u.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(p){t.delete(p.key.toString())}),t.forEach(function(p,w){var S=We.fromPath(w);i.mutations.push(new tr(S,i.precondition(S)))}),[4,function(p,w){return(0,f.__awaiter)(this,void 0,void 0,function(){var S,O,Q;return(0,f.__generator)(this,function(he){switch(he.label){case 0:return S=ue(p),O=Fi(S.R)+"/documents",Q={writes:w.map(function(Te){return oe(S.R,Te)})},[4,S.Ni("Commit",O,Q)];case 1:return he.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return u.sent(),this.committed=!0,[2]}})})},o.prototype.recordVersion=function(t){var i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw ve();i=rt.min()}var u=this.readVersions.get(t.key.toString());if(u){if(!i.isEqual(u))throw new _e(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)},o.prototype.precondition=function(t){var i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?$r.updateTime(i):$r.none()},o.prototype.preconditionForUpdate=function(t){var i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(rt.min()))throw new _e(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $r.updateTime(i)}return $r.exists(!0)},o.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},o.prototype.ensureCommitNotCalled=function(){},o}(),ws=function(){function o(t,i,u,p){this.asyncQueue=t,this.datastore=i,this.updateFunction=u,this.deferred=p,this.ec=5,this.Zi=new ru(this.asyncQueue,"transaction_retry")}return o.prototype.run=function(){this.ec-=1,this.nc()},o.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,f.__awaiter)(t,void 0,void 0,function(){var i,u,p=this;return(0,f.__generator)(this,function(w){return i=new Du(this.datastore),(u=this.sc(i))&&u.then(function(S){p.asyncQueue.enqueueAndForget(function(){return i.commit().then(function(){p.deferred.resolve(S)}).catch(function(O){p.ic(O)})})}).catch(function(S){p.ic(S)}),[2]})})})},o.prototype.sc=function(t){try{var i=this.updateFunction(t);return!Mt(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(u){return this.deferred.reject(u),null}},o.prototype.ic=function(t){var i=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return i.nc(),Promise.resolve()})):this.deferred.reject(t)},o.prototype.rc=function(t){if("FirebaseError"===t.name){var i=t.code;return"aborted"===i||"failed-precondition"===i||!Ir(i)}return!1},o}(),Tu=function(){function o(t,i,u){var p=this;this.credentials=t,this.asyncQueue=i,this.databaseInfo=u,this.user=le.UNAUTHENTICATED,this.clientId=Qe.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(i,function(w){return(0,f.__awaiter)(p,void 0,void 0,function(){return(0,f.__generator)(this,function(S){switch(S.label){case 0:return x("FirestoreClient","Received user=",w.uid),[4,this.credentialListener(w)];case 1:return S.sent(),this.user=w,[2]}})})})}return o.prototype.getConfiguration=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},o.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},o.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new _e(we.FAILED_PRECONDITION,"The client has already been terminated.")},o.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var i=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,f.__awaiter)(t,void 0,void 0,function(){var u,p;return(0,f.__generator)(this,function(w){switch(w.label){case 0:return w.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:w.sent(),w.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:w.sent(),w.label=4;case 4:return this.credentials.removeChangeListener(),i.resolve(),[3,6];case 5:return u=w.sent(),p=Ne(u,"Failed to shutdown persistence"),i.reject(p),[3,6];case 6:return[2]}})})}),i.promise},o}();function Su(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,u,p=this;return(0,f.__generator)(this,function(w){switch(w.label){case 0:return o.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider"),[4,o.getConfiguration()];case 1:return i=w.sent(),[4,t.initialize(i)];case 2:return w.sent(),u=i.initialUser,o.setCredentialChangeListener(function(S){return(0,f.__awaiter)(p,void 0,void 0,function(){return(0,f.__generator)(this,function(O){switch(O.label){case 0:return u.isEqual(S)?[3,2]:[4,_u(t.localStore,S)];case 1:O.sent(),u=S,O.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return o.terminate()}),o.offlineComponents=t,[2]}})})}function au(o,t){return(0,f.__awaiter)(this,void 0,void 0,function(){var i,u;return(0,f.__generator)(this,function(p){switch(p.label){case 0:return o.asyncQueue.verifyOperationInProgress(),[4,Xc(o)];case 1:return i=p.sent(),x("FirestoreClient","Initializing OnlineComponentProvider"),[4,o.getConfiguration()];case 2:return u=p.sent(),[4,t.initialize(i,u)];case 3:return p.sent(),o.setCredentialChangeListener(function(w){return function(S,O){return(0,f.__awaiter)(this,void 0,void 0,function(){var Q,he;return(0,f.__generator)(this,function(Te){switch(Te.label){case 0:return(Q=ue(S)).asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials"),he=va(Q),Q.Or.add(3),[4,ms(Q)];case 1:return Te.sent(),he&&Q.Br.set("Unknown"),[4,Q.remoteSyncer.handleCredentialChange(O)];case 2:return Te.sent(),Q.Or.delete(3),[4,gs(Q)];case 3:return Te.sent(),[2]}})})}(t.remoteStore,w)}),o.onlineComponents=t,[2]}})})}function Xc(o){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(t){switch(t.label){case 0:return o.offlineComponents?[3,2]:(x("FirestoreClient","Using default OfflineComponentProvider"),[4,Su(o,new zl)]);case 1:t.sent(),t.label=2;case 2:return[2,o.offlineComponents]}})})}function Hu(o){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(t){switch(t.label){case 0:return o.onlineComponents?[3,2]:(x("FirestoreClient","Using default OnlineComponentProvider"),[4,au(o,new wc)]);case 1:t.sent(),t.label=2;case 2:return[2,o.onlineComponents]}})})}function zf(o){return Xc(o).then(function(t){return t.persistence})}function Wl(o){return Xc(o).then(function(t){return t.localStore})}function Qc(o){return Hu(o).then(function(t){return t.remoteStore})}function bc(o){return Hu(o).then(function(t){return t.syncEngine})}function Oa(o){return(0,f.__awaiter)(this,void 0,void 0,function(){var t,i;return(0,f.__generator)(this,function(u){switch(u.label){case 0:return[4,Hu(o)];case 1:return t=u.sent(),[2,((i=t.eventManager).onListen=ml.bind(null,t.syncEngine),i.onUnlisten=vl.bind(null,t.syncEngine),i)]}})})}function El(o,t,i){var u=this;void 0===i&&(i={});var p=new Li;return o.asyncQueue.enqueueAndForget(function(){return(0,f.__awaiter)(u,void 0,void 0,function(){var w;return(0,f.__generator)(this,function(S){switch(S.label){case 0:return w=function(O,Q,he,Te,et){var pt=new rc({next:function(Qt){Q.enqueueAndForget(function(){return Br(O,Zt)});var ln=Qt.docs.has(he);!ln&&Qt.fromCache?et.reject(new _e(we.UNAVAILABLE,"Failed to get document because the client is offline.")):ln&&Qt.fromCache&&Te&&"server"===Te.source?et.reject(new _e(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):et.resolve(Qt)},error:function(Qt){return et.reject(Qt)}}),Zt=new Fs(Jn(he.path),pt,{includeMetadataChanges:!0,so:!0});return ti(O,Zt)},[4,Oa(o)];case 1:return[2,w.apply(void 0,[S.sent(),o.asyncQueue,t,i,p])]}})})}),p.promise}function Cl(o,t,i){var u=this;void 0===i&&(i={});var p=new Li;return o.asyncQueue.enqueueAndForget(function(){return(0,f.__awaiter)(u,void 0,void 0,function(){var w;return(0,f.__generator)(this,function(S){switch(S.label){case 0:return w=function(O,Q,he,Te,et){var pt=new rc({next:function(Qt){Q.enqueueAndForget(function(){return Br(O,Zt)}),Qt.fromCache&&"server"===Te.source?et.reject(new _e(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):et.resolve(Qt)},error:function(Qt){return et.reject(Qt)}}),Zt=new Fs(he,pt,{includeMetadataChanges:!0,so:!0});return ti(O,Zt)},[4,Oa(o)];case 1:return[2,w.apply(void 0,[S.sent(),o.asyncQueue,t,i,p])]}})})}),p.promise}var Jc=function(o,t,i,u,p,w,S,O){this.databaseId=o,this.appId=t,this.persistenceKey=i,this.host=u,this.ssl=p,this.forceLongPolling=w,this.autoDetectLongPolling=S,this.useFetchStreams=O},Zc=function(){function o(t,i){this.projectId=t,this.database=i||"(default)"}return Object.defineProperty(o.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(t){return t instanceof o&&t.projectId===this.projectId&&t.database===this.database},o}(),Gu=new Map,el=function(o,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+o},Yl=function(){function o(){this.changeListener=null}return o.prototype.getToken=function(){return Promise.resolve(null)},o.prototype.invalidateToken=function(){},o.prototype.setChangeListener=function(t,i){this.changeListener=i,t.enqueueRetryable(function(){return i(le.UNAUTHENTICATED)})},o.prototype.removeChangeListener=function(){this.changeListener=null},o}(),Ga=function(){function o(t){this.token=t,this.changeListener=null}return o.prototype.getToken=function(){return Promise.resolve(this.token)},o.prototype.invalidateToken=function(){},o.prototype.setChangeListener=function(t,i){var u=this;this.changeListener=i,t.enqueueRetryable(function(){return i(u.token.user)})},o.prototype.removeChangeListener=function(){this.changeListener=null},o}(),qa=function(){function o(t){var i=this;this.currentUser=le.UNAUTHENTICATED,this.oc=new Li,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){i.cc++,i.currentUser=i.ac(),i.oc.resolve(),i.changeListener&&i.asyncQueue.enqueueRetryable(function(){return i.changeListener(i.currentUser)})};var u=function(p){x("FirebaseCredentialsProvider","Auth detected"),i.auth=p,i.auth.addAuthTokenListener(i.uc)};t.onInit(function(p){return u(p)}),setTimeout(function(){if(!i.auth){var p=t.getImmediate({optional:!0});p?u(p):(x("FirebaseCredentialsProvider","Auth not yet detected"),i.oc.resolve())}},0)}return o.prototype.getToken=function(){var t=this,i=this.cc,u=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(u).then(function(p){return t.cc!==i?(x("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):p?(Pe("string"==typeof p.accessToken),new el(p.accessToken,t.currentUser)):null}):Promise.resolve(null)},o.prototype.invalidateToken=function(){this.forceRefresh=!0},o.prototype.setChangeListener=function(t,i){var u=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,f.__awaiter)(u,void 0,void 0,function(){return(0,f.__generator)(this,function(p){switch(p.label){case 0:return[4,this.oc.promise];case 1:return p.sent(),[4,i(this.currentUser)];case 2:return p.sent(),this.changeListener=i,[2]}})})})},o.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},o.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Pe(null===t||"string"==typeof t),new le(t)},o}(),Ec=function(){function o(t,i,u){this.hc=t,this.lc=i,this.fc=u,this.type="FirstParty",this.user=le.FIRST_PARTY}return Object.defineProperty(o.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},i=this.hc.auth.getAuthHeaderValueForFirstParty([]);return i&&(t.Authorization=i),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),o}(),Ms=function(){function o(t,i,u){this.hc=t,this.lc=i,this.fc=u}return o.prototype.getToken=function(){return Promise.resolve(new Ec(this.hc,this.lc,this.fc))},o.prototype.setChangeListener=function(t,i){t.enqueueRetryable(function(){return i(le.FIRST_PARTY)})},o.prototype.removeChangeListener=function(){},o.prototype.invalidateToken=function(){},o}();function Cc(o,t,i){if(!i)throw new _e(we.INVALID_ARGUMENT,"Function "+o+"() cannot be called with an empty "+t+".")}function go(o,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new _e(we.INVALID_ARGUMENT,"Invalid options passed to function "+o+'(): You cannot specify both "merge" and "mergeFields".');return t}function Ic(o,t,i,u){if(!0===t&&!0===u)throw new _e(we.INVALID_ARGUMENT,o+" and "+i+" cannot be used together.")}function ka(o){if(!We.isDocumentKey(o))throw new _e(we.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+o+" has "+o.length+".")}function uu(o){if(We.isDocumentKey(o))throw new _e(we.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+o+" has "+o.length+".")}function cu(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=o.substring(0,20)+"..."),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";var t=function(i){if(i.constructor){var u=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(u&&u.length>1)return u[1]}return null}(o);return t?"a custom "+t+" object":"an object"}return"function"==typeof o?"a function":ve()}function co(o,t){if("_delegate"in o&&(o=o._delegate),!(o instanceof t)){if(t.name===o.constructor.name)throw new _e(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var i=cu(o);throw new _e(we.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+i)}return o}function za(o,t){if(t<=0)throw new _e(we.INVALID_ARGUMENT,"Function "+o+"() requires a positive number, but it was: "+t+".")}var Il=function(){function o(t){var i;if(void 0===t.host){if(void 0!==t.ssl)throw new _e(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(i=t.ssl)||void 0===i||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _e(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ic("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return o.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},o}(),tl=function(){function o(t,i){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Il({}),this._settingsFrozen=!1,t instanceof Zc?(this._databaseId=t,this._credentials=new Yl):(this._app=t,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new _e(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(u.options.projectId)}(t),this._credentials=new qa(i))}return Object.defineProperty(o.prototype,"app",{get:function(){if(!this._app)throw new _e(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),o.prototype._setSettings=function(t){if(this._settingsFrozen)throw new _e(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Il(t),void 0!==t.credentials&&(this._credentials=function(i){if(!i)return new Yl;switch(i.type){case"gapi":var u=i.client;return Pe(!("object"!=typeof u||null===u||!u.auth||!u.auth.getAuthHeaderValueForFirstParty)),new Ms(u,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new _e(we.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},o.prototype._getSettings=function(){return this._settings},o.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},o.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},o.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},o.prototype._terminate=function(){return(i=Gu.get(this))&&(x("ComponentProvider","Removing Datastore"),Gu.delete(this),i.terminate()),Promise.resolve();var i},o}(),Go=function(){function o(t,i,u){this.converter=i,this._key=u,this.type="document",this.firestore=t}return Object.defineProperty(o.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parent",{get:function(){return new ic(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),o.prototype.withConverter=function(t){return new o(this.firestore,t,this._key)},o}(),Vs=function(){function o(t,i,u){this.converter=i,this._query=u,this.type="query",this.firestore=t}return o.prototype.withConverter=function(t){return new o(this.firestore,t,this._query)},o}(),ic=function(o){function t(i,u,p){var w=this;return(w=o.call(this,i,u,Jn(p))||this)._path=p,w.type="collection",w}return(0,f.__extends)(t,o),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var i=this._path.popLast();return i.isEmpty()?null:new Go(this.firestore,null,new We(i))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(i){return new t(this.firestore,i,this._path)},t}(Vs);function Dc(o,t){for(var i,u=[],p=2;p<arguments.length;p++)u[p-2]=arguments[p];if(o=(0,j.getModularInstance)(o),Cc("collection","path",t),o instanceof tl)return uu(i=ze.fromString.apply(ze,(0,f.__spreadArray)([t],u))),new ic(o,null,i);if(!(o instanceof Go||o instanceof ic))throw new _e(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return uu(i=ze.fromString.apply(ze,(0,f.__spreadArray)([o.path],u)).child(ze.fromString(t))),new ic(o.firestore,null,i)}function fs(o,t){for(var i,u=[],p=2;p<arguments.length;p++)u[p-2]=arguments[p];if(o=(0,j.getModularInstance)(o),1===arguments.length&&(t=Qe.u()),Cc("doc","path",t),o instanceof tl)return ka(i=ze.fromString.apply(ze,(0,f.__spreadArray)([t],u))),new Go(o,null,new We(i));if(!(o instanceof Go||o instanceof ic))throw new _e(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ka(i=o._path.child(ze.fromString.apply(ze,(0,f.__spreadArray)([t],u)))),new Go(o.firestore,o instanceof ic?o.converter:null,new We(i))}function qu(o,t){return o=(0,j.getModularInstance)(o),t=(0,j.getModularInstance)(t),(o instanceof Go||o instanceof ic)&&(t instanceof Go||t instanceof ic)&&o.firestore===t.firestore&&o.path===t.path&&o.converter===t.converter}function aa(o,t){return o=(0,j.getModularInstance)(o),t=(0,j.getModularInstance)(t),o instanceof Vs&&t instanceof Vs&&o.firestore===t.firestore&&Xn(o._query,t._query)&&o.converter===t.converter}var zu=function(){function o(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ru(this,"async_queue_retry"),this.Ic=function(){var u=Ta();u&&x("AsyncQueue","Visibility state changed to "+u.visibilityState),t.Zi.Gi()};var i=Ta();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(o.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),o.prototype.enqueueAndForget=function(t){this.enqueue(t)},o.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},o.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var i=Ta();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ic)}},o.prototype.enqueue=function(t){var i=this;if(this.Ac(),this._c)return new Promise(function(){});var u=new Li;return this.Rc(function(){return i._c&&i.Ec?Promise.resolve():(t().then(u.resolve,u.reject),u.promise)}).then(function(){return u.promise})},o.prototype.enqueueRetryable=function(t){var i=this;this.enqueueAndForget(function(){return i.wc.push(t),i.bc()})},o.prototype.bc=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){var t,i=this;return(0,f.__generator)(this,function(u){switch(u.label){case 0:if(0===this.wc.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return u.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!mo(t=u.sent()))throw t;return x("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return i.bc()}),u.label=5;case 5:return[2]}})})},o.prototype.Rc=function(t){var i=this,u=this.dc.then(function(){return i.gc=!0,t().catch(function(p){throw i.yc=p,i.gc=!1,Se("INTERNAL UNHANDLED ERROR: ",(S=(w=p).message||"",w.stack&&(S=w.stack.includes(w.message)?w.stack:w.message+"\n"+w.stack),S)),p;var w,S}).then(function(p){return i.gc=!1,p})});return this.dc=u,u},o.prototype.enqueueAfterDelay=function(t,i,u){var p=this;this.Ac(),this.Tc.indexOf(t)>-1&&(i=0);var w=me.createAndSchedule(this,t,i,u,function(S){return p.vc(S)});return this.mc.push(w),w},o.prototype.Ac=function(){this.yc&&ve()},o.prototype.verifyOperationInProgress=function(){},o.prototype.Pc=function(){return(0,f.__awaiter)(this,void 0,void 0,function(){var t;return(0,f.__generator)(this,function(i){switch(i.label){case 0:return[4,t=this.dc];case 1:i.sent(),i.label=2;case 2:if(t!==this.dc)return[3,0];i.label=3;case 3:return[2]}})})},o.prototype.Vc=function(t){for(var i=0,u=this.mc;i<u.length;i++)if(u[i].timerId===t)return!0;return!1},o.prototype.Sc=function(t){var i=this;return this.Pc().then(function(){i.mc.sort(function(S,O){return S.targetTimeMs-O.targetTimeMs});for(var u=0,p=i.mc;u<p.length;u++){var w=p[u];if(w.skipDelay(),"all"!==t&&w.timerId===t)break}return i.Pc()})},o.prototype.Dc=function(t){this.Tc.push(t)},o.prototype.vc=function(t){var i=this.mc.indexOf(t);this.mc.splice(i,1)},o}();function ho(o){return function(t,i){if("object"!=typeof t||null===t)return!1;for(var u=t,p=0,w=["next","error","complete"];p<w.length;p++){var S=w[p];if(S in u&&"function"==typeof u[S])return!0}return!1}(o)}var Tc=function(){function o(){this._progressObserver={},this._taskCompletionResolver=new Li,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return o.prototype.onProgress=function(t,i,u){this._progressObserver={next:t,error:i,complete:u}},o.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},o.prototype.then=function(t,i){return this._taskCompletionResolver.promise.then(t,i)},o.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},o.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},o.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},o}(),Dl=-1,ns=function(o){function t(i,u){var p=this;return(p=o.call(this,i,u)||this).type="firestore",p._queue=new zu,p._persistenceKey="name"in i?i.name:"[DEFAULT]",p}return(0,f.__extends)(t,o),t.prototype._terminate=function(){return this._firestoreClient||nl(this),this._firestoreClient.terminate()},t}(tl);function ys(o){return o._firestoreClient||nl(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function nl(o){var t,w,O,i=o._freezeSettings(),u=(w=(null===(t=o._app)||void 0===t?void 0:t.options.appId)||"",new Jc(o._databaseId,w,o._persistenceKey,(O=i).host,O.ssl,O.experimentalForceLongPolling,O.experimentalAutoDetectLongPolling,O.useFetchStreams));o._firestoreClient=new Tu(o._credentials,o._queue,u)}function Xs(o,t,i){var u=this,p=new Li;return o.asyncQueue.enqueue(function(){return(0,f.__awaiter)(u,void 0,void 0,function(){var w;return(0,f.__generator)(this,function(S){switch(S.label){case 0:return S.trys.push([0,3,,4]),[4,Su(o,i)];case 1:return S.sent(),[4,au(o,t)];case 2:return S.sent(),p.resolve(),[3,4];case 3:if(!("FirebaseError"===(O=w=S.sent()).name?O.code===we.FAILED_PRECONDITION||O.code===we.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&O instanceof DOMException)||22===O.code||20===O.code||11===O.code))throw w;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+w),p.reject(w),[3,4];case 4:return[2]}var O})})}).then(function(){return p.promise})}function Sc(o){if(o._initialized||o._terminated)throw new _e(we.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Wa=function(){function o(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var u=0;u<t.length;++u)if(0===t[u].length)throw new _e(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}return o.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},o}(),Au=function(){function o(t){this._byteString=t}return o.fromBase64String=function(t){try{return new o(at.fromBase64String(t))}catch(i){throw new _e(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}},o.fromUint8Array=function(t){return new o(at.fromUint8Array(t))},o.prototype.toBase64=function(){return this._byteString.toBase64()},o.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},o.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},o.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},o}(),oc=function(o){this._methodName=o},Ac=function(){function o(t,i){if(!isFinite(t)||t<-90||t>90)throw new _e(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new _e(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}return Object.defineProperty(o.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},o.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},o.prototype._compareTo=function(t){return ct(this._lat,t._lat)||ct(this._long,t._long)},o}(),Kl=/^__.*__$/,Wf=function(){function o(t,i,u){this.data=t,this.fieldMask=i,this.fieldTransforms=u}return o.prototype.toMutation=function(t,i){return null!==this.fieldMask?new ut(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fe(t,this.data,i,this.fieldTransforms)},o}(),Xl=function(){function o(t,i,u){this.data=t,this.fieldMask=i,this.fieldTransforms=u}return o.prototype.toMutation=function(t,i){return new ut(t,this.data,this.fieldMask,i,this.fieldTransforms)},o}();function lu(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}var Ql=function(){function o(t,i,u,p,w,S){this.settings=t,this.databaseId=i,this.R=u,this.ignoreUndefinedProperties=p,void 0===w&&this.Cc(),this.fieldTransforms=w||[],this.fieldMask=S||[]}return Object.defineProperty(o.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),o.prototype.xc=function(t){return new o(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},o.prototype.kc=function(t){var i,u=null===(i=this.path)||void 0===i?void 0:i.child(t),p=this.xc({path:u,Fc:!1});return p.$c(t),p},o.prototype.Oc=function(t){var i,u=null===(i=this.path)||void 0===i?void 0:i.child(t),p=this.xc({path:u,Fc:!1});return p.Cc(),p},o.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},o.prototype.Lc=function(t){return ef(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},o.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(i){return t.isPrefixOf(i)})||void 0!==this.fieldTransforms.find(function(i){return t.isPrefixOf(i.field)})},o.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},o.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(lu(this.Nc)&&Kl.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},o}(),Yf=function(){function o(t,i,u){this.databaseId=t,this.ignoreUndefinedProperties=i,this.R=u||Sa(t)}return o.prototype.Uc=function(t,i,u,p){return void 0===p&&(p=!1),new Ql({Nc:t,methodName:i,qc:u,path:Be.emptyPath(),Fc:!1,Bc:p},this.databaseId,this.R,this.ignoreUndefinedProperties)},o}();function fu(o){var t=o._freezeSettings(),i=Sa(o._databaseId);return new Yf(o._databaseId,!!t.ignoreUndefinedProperties,i)}function Rs(o,t,i,u,p,w){void 0===w&&(w={});var S=o.Uc(w.merge||w.mergeFields?2:0,t,i,p);Rc("Data must be an object, but it was:",S,u);var O,Q,he=Sl(u,S);if(w.merge)O=new Ke(S.fieldMask),Q=S.fieldTransforms;else if(w.mergeFields){for(var Te=[],et=0,pt=w.mergeFields;et<pt.length;et++){var Zt=du(t,pt[et],i);if(!S.contains(Zt))throw new _e(we.INVALID_ARGUMENT,"Field '"+Zt+"' is specified in your field mask but missing from your input data.");tf(Te,Zt)||Te.push(Zt)}O=new Ke(Te),Q=S.fieldTransforms.filter(function(Qt){return O.covers(Qt.field)})}else O=null,Q=S.fieldTransforms;return new Wf(new Rr(he),O,Q)}var rl=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return(0,f.__extends)(t,o),t.prototype._toFieldTransform=function(i){if(2!==i.Nc)throw i.Lc(1===i.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return i.fieldMask.push(i.path),null},t.prototype.isEqual=function(i){return i instanceof t},t}(oc);function Df(o,t,i){return new Ql({Nc:3,qc:t.settings.qc,methodName:o._methodName,Fc:i},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Kf=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return(0,f.__extends)(t,o),t.prototype._toFieldTransform=function(i){return new Ai(i.path,new lr)},t.prototype.isEqual=function(i){return i instanceof t},t}(oc),Xf=function(o){function t(i,u){var p=this;return(p=o.call(this,i)||this).Kc=u,p}return(0,f.__extends)(t,o),t.prototype._toFieldTransform=function(i){var u=Df(this,i,!0),p=this.Kc.map(function(S){return bs(S,u)}),w=new Zn(p);return new Ai(i.path,w)},t.prototype.isEqual=function(i){return this===i},t}(oc),Jl=function(o){function t(i,u){var p=this;return(p=o.call(this,i)||this).Kc=u,p}return(0,f.__extends)(t,o),t.prototype._toFieldTransform=function(i){var u=Df(this,i,!0),p=this.Kc.map(function(S){return bs(S,u)}),w=new Di(p);return new Ai(i.path,w)},t.prototype.isEqual=function(i){return this===i},t}(oc),Qf=function(o){function t(i,u){var p=this;return(p=o.call(this,i)||this).Qc=u,p}return(0,f.__extends)(t,o),t.prototype._toFieldTransform=function(i){var u=new bn(i.R,cn(i.R,this.Qc));return new Ai(i.path,u)},t.prototype.isEqual=function(i){return this===i},t}(oc);function Zl(o,t,i,u){var p=o.Uc(1,t,i);Rc("Data must be an object, but it was:",p,u);var w=[],S=Rr.empty();Et(u,function(Q,he){var Te=Tf(t,Q,i);he=(0,j.getModularInstance)(he);var et=p.Oc(Te);if(he instanceof rl)w.push(Te);else{var pt=bs(he,et);null!=pt&&(w.push(Te),S.set(Te,pt))}});var O=new Ke(w);return new Xl(S,O,p.fieldTransforms)}function il(o,t,i,u,p,w){var S=o.Uc(1,t,i),O=[du(t,u,i)],Q=[p];if(w.length%2!=0)throw new _e(we.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var he=0;he<w.length;he+=2)O.push(du(t,w[he])),Q.push(w[he+1]);for(var Te=[],et=Rr.empty(),pt=O.length-1;pt>=0;--pt)if(!tf(Te,O[pt])){var Zt=O[pt],Qt=Q[pt];Qt=(0,j.getModularInstance)(Qt);var ln=S.Oc(Zt);if(Qt instanceof rl)Te.push(Zt);else{var fn=bs(Qt,ln);null!=fn&&(Te.push(Zt),et.set(Zt,fn))}}var Wn=new Ke(Te);return new Xl(et,Wn,S.fieldTransforms)}function Tl(o,t,i,u){return void 0===u&&(u=!1),bs(i,o.Uc(u?4:3,t))}function bs(o,t){if(Mc(o=(0,j.getModularInstance)(o)))return Rc("Unsupported field value:",t,o),Sl(o,t);if(o instanceof oc)return function(i,u){if(!lu(u.Nc))throw u.Lc(i._methodName+"() can only be used with update() and set()");if(!u.path)throw u.Lc(i._methodName+"() is not currently supported inside arrays");var p=i._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(o,t),null;if(void 0===o&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),o instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(i,u){for(var p=[],w=0,S=0,O=i;S<O.length;S++){var Q=bs(O[S],u.Mc(w));null==Q&&(Q={nullValue:"NULL_VALUE"}),p.push(Q),w++}return{arrayValue:{values:p}}}(o,t)}return function(i,u){if(null===(i=(0,j.getModularInstance)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return cn(u.R,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){var p=nt.fromDate(i);return{timestampValue:oi(u.R,p)}}if(i instanceof nt)return p=new nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3)),{timestampValue:oi(u.R,p)};if(i instanceof Ac)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Au)return{bytesValue:mi(u.R,i._byteString)};if(i instanceof Go){var w=i.firestore._databaseId;if(!w.isEqual(p=u.databaseId))throw u.Lc("Document reference is for database "+w.projectId+"/"+w.database+" but should be for database "+p.projectId+"/"+p.database);return{referenceValue:vi(i.firestore._databaseId||u.databaseId,i._key.path)}}throw u.Lc("Unsupported field value: "+cu(i))}(o,t)}function Sl(o,t){var i={};return rn(o)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Et(o,function(u,p){var w=bs(p,t.kc(u));null!=w&&(i[u]=w)}),{mapValue:{fields:i}}}function Mc(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof nt||o instanceof Ac||o instanceof Au||o instanceof Go||o instanceof oc)}function Rc(o,t,i){if(!Mc(i)||"object"!=typeof(p=i)||null===p||Object.getPrototypeOf(p)!==Object.prototype&&null!==Object.getPrototypeOf(p)){var u=cu(i);throw t.Lc("an object"===u?o+" a custom object":o+" "+u)}var p}function du(o,t,i){if((t=(0,j.getModularInstance)(t))instanceof Wa)return t._internalPath;if("string"==typeof t)return Tf(o,t);throw ef("Field path arguments must be of type string or FieldPath.",o,!1,void 0,i)}var Ya=new RegExp("[~\\*/\\[\\]]");function Tf(o,t,i){if(t.search(Ya)>=0)throw ef("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",o,!1,void 0,i);try{return(new(Wa.bind.apply(Wa,(0,f.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(u){throw ef("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",o,!1,void 0,i)}}function ef(o,t,i,u,p){var w=u&&!u.isEmpty(),S=void 0!==p,O="Function "+t+"() called with invalid data";i&&(O+=" (via `toFirestore()`)");var Q="";return(w||S)&&(Q+=" (found",w&&(Q+=" in field "+u),S&&(Q+=" in document "+p),Q+=")"),new _e(we.INVALID_ARGUMENT,(O+=". ")+o+Q)}function tf(o,t){return o.some(function(i){return i.isEqual(t)})}var Al=function(){function o(t,i,u,p,w){this._firestore=t,this._userDataWriter=i,this._key=u,this._document=p,this._converter=w}return Object.defineProperty(o.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"ref",{get:function(){return new Go(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),o.prototype.exists=function(){return null!==this._document},o.prototype.data=function(){if(this._document){if(this._converter){var t=new hu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},o.prototype.get=function(t){if(this._document){var i=this._document.data.field(xc("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i)}},o}(),hu=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return(0,f.__extends)(t,o),t.prototype.data=function(){return o.prototype.data.call(this)},t}(Al);function xc(o,t){return"string"==typeof t?Tf(o,t):t instanceof Wa?t._internalPath:t._delegate._internalPath}var Mu=function(){function o(t,i){this.hasPendingWrites=t,this.fromCache=i}return o.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},o}(),Ru=function(o){function t(i,u,p,w,S,O){var Q=this;return(Q=o.call(this,i,u,p,w,O)||this)._firestore=i,Q._firestoreImpl=i,Q.metadata=S,Q}return(0,f.__extends)(t,o),t.prototype.exists=function(){return o.prototype.exists.call(this)},t.prototype.data=function(i){if(void 0===i&&(i={}),this._document){if(this._converter){var u=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(u,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}},t.prototype.get=function(i,u){if(void 0===u&&(u={}),this._document){var p=this._document.data.field(xc("DocumentSnapshot.get",i));if(null!==p)return this._userDataWriter.convertValue(p,u.serverTimestamps)}},t}(Al),Oc=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return(0,f.__extends)(t,o),t.prototype.data=function(i){return void 0===i&&(i={}),o.prototype.data.call(this,i)},t}(Ru),Na=function(){function o(t,i,u,p){this._firestore=t,this._userDataWriter=i,this._snapshot=p,this.metadata=new Mu(p.hasPendingWrites,p.fromCache),this.query=u}return Object.defineProperty(o.prototype,"docs",{get:function(){var t=[];return this.forEach(function(i){return t.push(i)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),o.prototype.forEach=function(t,i){var u=this;this._snapshot.docs.forEach(function(p){t.call(i,new Oc(u._firestore,u._userDataWriter,p.key,p,new Mu(u._snapshot.mutatedKeys.has(p.key),u._snapshot.fromCache),u.query.converter))})},o.prototype.docChanges=function(t){void 0===t&&(t={});var i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new _e(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){var w=0;return u._snapshot.docChanges.map(function(O){return{type:"added",doc:new Oc(u._firestore,u._userDataWriter,O.doc.key,O.doc,new Mu(u._snapshot.mutatedKeys.has(O.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:w++}})}var S=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(function(O){return p||3!==O.type}).map(function(O){var Q=new Oc(u._firestore,u._userDataWriter,O.doc.key,O.doc,new Mu(u._snapshot.mutatedKeys.has(O.doc.key),u._snapshot.fromCache),u.query.converter),he=-1,Te=-1;return 0!==O.type&&(he=S.indexOf(O.doc.key),S=S.delete(O.doc.key)),1!==O.type&&(Te=(S=S.add(O.doc)).indexOf(O.doc.key)),{type:Sf(O.type),doc:Q,oldIndex:he,newIndex:Te}})}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges},o}();function Sf(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}function nf(o,t){return o instanceof Ru&&t instanceof Ru?o._firestore===t._firestore&&o._key.isEqual(t._key)&&(null===o._document?null===t._document:o._document.isEqual(t._document))&&o._converter===t._converter:o instanceof Na&&t instanceof Na&&o._firestore===t._firestore&&aa(o.query,t.query)&&o.metadata.isEqual(t.metadata)&&o._snapshot.isEqual(t._snapshot)}function Ml(o){if(sr(o)&&0===o.explicitOrderBy.length)throw new _e(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sc=function(){};function ba(o){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var u=0,p=t;u<p.length;u++){var w=p[u];o=w._apply(o)}return o}var Jf=function(o){function t(i,u,p){var w=this;return(w=o.call(this)||this).jc=i,w.Wc=u,w.Gc=p,w.type="where",w}return(0,f.__extends)(t,o),t.prototype._apply=function(i){var w,O,u=fu(i.firestore),p=function(w,S,O,Q,he,Te,et){var pt;if(he.isKeyField()){if("array-contains"===Te||"array-contains-any"===Te)throw new _e(we.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+Te+"' queries on FieldPath.documentId().");if("in"===Te||"not-in"===Te){Mf(et,Te);for(var Zt=[],Qt=0,ln=et;Qt<ln.length;Qt++)Zt.push(Af(Q,w,ln[Qt]));pt={arrayValue:{values:Zt}}}else pt=Af(Q,w,et)}else"in"!==Te&&"not-in"!==Te&&"array-contains-any"!==Te||Mf(et,Te),pt=Tl(O,"where",et,"in"===Te||"not-in"===Te);var Wn=vr.create(he,Te,pt);return function(Kr,ri){if(ri.g()){var qi=kt(Kr);if(null!==qi&&!qi.isEqual(ri.field))throw new _e(we.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+qi.toString()+"' and '"+ri.field.toString()+"'");var Ii=ni(Kr);null!==Ii&&Rf(0,ri.field,Ii)}var Io=function($s,uf){for(var Ka=0,Nl=$s.filters;Ka<Nl.length;Ka++){var td=Nl[Ka];if(uf.indexOf(td.op)>=0)return td.op}return null}(Kr,function($s){switch($s){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ri.op));if(null!==Io)throw new _e(we.INVALID_ARGUMENT,Io===ri.op?"Invalid query. You cannot use more than one '"+ri.op.toString()+"' filter.":"Invalid query. You cannot use '"+ri.op.toString()+"' filters with '"+Io.toString()+"' filters.")}(w,Wn),Wn}(i._query,0,u,i.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Vs(i.firestore,i.converter,(O=(w=i._query).filters.concat([p]),new Jt(w.path,w.collectionGroup,w.explicitOrderBy.slice(),O,w.limit,w.limitType,w.startAt,w.endAt)))},t}(sc),Pa=function(o){function t(i,u){var p=this;return(p=o.call(this)||this).jc=i,p.zc=u,p.type="orderBy",p}return(0,f.__extends)(t,o),t.prototype._apply=function(i){var p,S,u=function(p,w,S){if(null!==p.startAt)throw new _e(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==p.endAt)throw new _e(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var O=new Ae(w,S);return function(Q,he){if(null===ni(Q)){var Te=kt(Q);null!==Te&&Rf(0,Te,he.field)}}(p,O),O}(i._query,this.jc,this.zc);return new Vs(i.firestore,i.converter,(S=(p=i._query).explicitOrderBy.concat([u]),new Jt(p.path,p.collectionGroup,S,p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)))},t}(sc),ac=function(o){function t(i,u,p){var w=this;return(w=o.call(this)||this).type=i,w.Hc=u,w.Jc=p,w}return(0,f.__extends)(t,o),t.prototype._apply=function(i){return new Vs(i.firestore,i.converter,Lt(i._query,this.Hc,this.Jc))},t}(sc),Rl=function(o){function t(i,u,p){var w=this;return(w=o.call(this)||this).type=i,w.Yc=u,w.Xc=p,w}return(0,f.__extends)(t,o),t.prototype._apply=function(i){var p,w,u=xl(i,this.type,this.Yc,this.Xc);return new Vs(i.firestore,i.converter,(w=u,new Jt((p=i._query).path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,w,p.endAt)))},t}(sc),rf=function(o){function t(i,u,p){var w=this;return(w=o.call(this)||this).type=i,w.Yc=u,w.Xc=p,w}return(0,f.__extends)(t,o),t.prototype._apply=function(i){var p,w,u=xl(i,this.type,this.Yc,this.Xc);return new Vs(i.firestore,i.converter,(w=u,new Jt((p=i._query).path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,w)))},t}(sc);function xl(o,t,i,u){if(i[0]=(0,j.getModularInstance)(i[0]),i[0]instanceof Al)return function(w,S,O,Q,he){if(!Q)throw new _e(we.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+O+"().");for(var Te=[],et=0,pt=ke(w);et<pt.length;et++){var Zt=pt[et];if(Zt.field.isKeyField())Te.push(Kn(S,Q.key));else{var Qt=Q.data.field(Zt.field);if(Rt(Qt))throw new _e(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Zt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Qt){var ln=Zt.field.canonicalString();throw new _e(we.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+ln+"' (used as the orderBy) does not exist.")}Te.push(Qt)}}return new bt(Te,he)}(o._query,o.firestore._databaseId,t,i[0]._document,u);var p=fu(o.firestore);return function(w,S,O,Q,he,Te){var et=w.explicitOrderBy;if(he.length>et.length)throw new _e(we.INVALID_ARGUMENT,"Too many arguments provided to "+Q+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var pt=[],Zt=0;Zt<he.length;Zt++){var Qt=he[Zt];if(et[Zt].field.isKeyField()){if("string"!=typeof Qt)throw new _e(we.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+Q+"(), but got a "+typeof Qt);if(!dt(w)&&-1!==Qt.indexOf("/"))throw new _e(we.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+Q+"() must be a plain document ID, but '"+Qt+"' contains a slash.");var ln=w.path.child(ze.fromString(Qt));if(!We.isDocumentKey(ln))throw new _e(we.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+Q+"() must result in a valid document path, but '"+ln+"' is not because it contains an odd number of segments.");var fn=new We(ln);pt.push(Kn(S,fn))}else{var Wn=Tl(O,Q,Qt);pt.push(Wn)}}return new bt(pt,Te)}(o._query,o.firestore._databaseId,p,t,i,u)}function Af(o,t,i){if("string"==typeof(i=(0,j.getModularInstance)(i))){if(""===i)throw new _e(we.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!dt(t)&&-1!==i.indexOf("/"))throw new _e(we.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+i+"' contains a '/' character.");var u=t.path.child(ze.fromString(i));if(!We.isDocumentKey(u))throw new _e(we.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+u+"' is not because it has an odd number of segments ("+u.length+").");return Kn(o,new We(u))}if(i instanceof Go)return Kn(o,i._key);throw new _e(we.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+cu(i)+".")}function Mf(o,t){if(!Array.isArray(o)||0===o.length)throw new _e(we.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(o.length>10)throw new _e(we.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Rf(o,t,i){if(!i.isEqual(t))throw new _e(we.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+i.toString()+"' instead.")}var of=function(){function o(){}return o.prototype.convertValue=function(t,i){switch(void 0===i&&(i="none"),Bn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Tt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(At(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw ve()}},o.prototype.convertObject=function(t,i){var u=this,p={};return Et(t.fields,function(w,S){p[w]=u.convertValue(S,i)}),p},o.prototype.convertGeoPoint=function(t){return new Ac(Tt(t.latitude),Tt(t.longitude))},o.prototype.convertArray=function(t,i){var u=this;return(t.values||[]).map(function(p){return u.convertValue(p,i)})},o.prototype.convertServerTimestamp=function(t,i){switch(i){case"previous":var u=St(t);return null==u?null:this.convertValue(u,i);case"estimate":return this.convertTimestamp(yt(t));default:return null}},o.prototype.convertTimestamp=function(t){var i=gn(t);return new nt(i.seconds,i.nanos)},o.prototype.convertDocumentKey=function(t,i){var u=ze.fromString(t);Pe(zi(u));var p=new Zc(u.get(1),u.get(3)),w=new We(u.popFirst(5));return p.isEqual(i)||Se("Document "+w+" contains a document reference within a different database ("+p.projectId+"/"+p.database+") which is not supported. It will be treated as a reference in the current database ("+i.projectId+"/"+i.database+") instead."),w},o}();function Ol(o,t,i){return o?i&&(i.merge||i.mergeFields)?o.toFirestore(t,i):o.toFirestore(t):t}var Zf=function(o){function t(i){var u=this;return(u=o.call(this)||this).firestore=i,u}return(0,f.__extends)(t,o),t.prototype.convertBytes=function(i){return new Au(i)},t.prototype.convertReference=function(i){var u=this.convertDocumentKey(i,this.firestore._databaseId);return new Go(this.firestore,null,u)},t}(of),sf=function(){function o(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=fu(t)}return o.prototype.set=function(t,i,u){this._verifyNotCommitted();var p=pu(t,this._firestore),w=Ol(p.converter,i,u),S=Rs(this._dataReader,"WriteBatch.set",p._key,w,null!==p.converter,u);return this._mutations.push(S.toMutation(p._key,$r.none())),this},o.prototype.update=function(t,i,u){for(var p=[],w=3;w<arguments.length;w++)p[w-3]=arguments[w];this._verifyNotCommitted();var S,O=pu(t,this._firestore);return S="string"==typeof(i=(0,j.getModularInstance)(i))||i instanceof Wa?il(this._dataReader,"WriteBatch.update",O._key,i,u,p):Zl(this._dataReader,"WriteBatch.update",O._key,i),this._mutations.push(S.toMutation(O._key,$r.exists(!0))),this},o.prototype.delete=function(t){this._verifyNotCommitted();var i=pu(t,this._firestore);return this._mutations=this._mutations.concat(new On(i._key,$r.none())),this},o.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},o.prototype._verifyNotCommitted=function(){if(this._committed)throw new _e(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},o}();function pu(o,t){if((o=(0,j.getModularInstance)(o)).firestore!==t)throw new _e(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}var Wu=function(o){function t(i){var u=this;return(u=o.call(this)||this).firestore=i,u}return(0,f.__extends)(t,o),t.prototype.convertBytes=function(i){return new Au(i)},t.prototype.convertReference=function(i){var u=this.convertDocumentKey(i,this.firestore._databaseId);return new Go(this.firestore,null,u)},t}(of);function kl(o,t,i){o=co(o,Go);var u=co(o.firestore,ns),p=Ol(o.converter,t,i);return uc(u,[Rs(fu(u),"setDoc",o._key,p,null!==o.converter,i).toMutation(o._key,$r.none())])}function xf(o,t,i){for(var u=[],p=3;p<arguments.length;p++)u[p-3]=arguments[p];o=co(o,Go);var w=co(o.firestore,ns),S=fu(w);return uc(w,[("string"==typeof(t=(0,j.getModularInstance)(t))||t instanceof Wa?il(S,"updateDoc",o._key,t,i,u):Zl(S,"updateDoc",o._key,t)).toMutation(o._key,$r.exists(!0))])}function Ji(o){for(var t,i,u,p=[],w=1;w<arguments.length;w++)p[w-1]=arguments[w];o=(0,j.getModularInstance)(o);var S={includeMetadataChanges:!1},O=0;"object"!=typeof p[O]||ho(p[O])||(S=p[O],O++);var Q,he,Te,et={includeMetadataChanges:S.includeMetadataChanges};if(ho(p[O])){var pt=p[O];p[O]=null===(t=pt.next)||void 0===t?void 0:t.bind(pt),p[O+1]=null===(i=pt.error)||void 0===i?void 0:i.bind(pt),p[O+2]=null===(u=pt.complete)||void 0===u?void 0:u.bind(pt)}if(o instanceof Go)he=co(o.firestore,ns),Te=Jn(o._key.path),Q={next:function(ln){p[O]&&p[O](kc(he,o,ln))},error:p[O+1],complete:p[O+2]};else{var Zt=co(o,Vs);he=co(Zt.firestore,ns),Te=Zt._query;var Qt=new Wu(he);Q={next:function(ln){p[O]&&p[O](new Na(he,Qt,Zt,ln))},error:p[O+1],complete:p[O+2]},Ml(o._query)}return function(ln,fn,Wn,Kr){var ri=this,qi=new rc(Kr),Ii=new Fs(fn,qi,Wn);return ln.asyncQueue.enqueueAndForget(function(){return(0,f.__awaiter)(ri,void 0,void 0,function(){var Io;return(0,f.__generator)(this,function($s){switch($s.label){case 0:return Io=ti,[4,Oa(ln)];case 1:return[2,Io.apply(void 0,[$s.sent(),Ii])]}})})}),function(){qi.Wo(),ln.asyncQueue.enqueueAndForget(function(){return(0,f.__awaiter)(ri,void 0,void 0,function(){var Io;return(0,f.__generator)(this,function($s){switch($s.label){case 0:return Io=Br,[4,Oa(ln)];case 1:return[2,Io.apply(void 0,[$s.sent(),Ii])]}})})})}}(ys(he),Te,et,Q)}function uc(o,t){return function(i,u){var p=this,w=new Li;return i.asyncQueue.enqueueAndForget(function(){return(0,f.__awaiter)(p,void 0,void 0,function(){var S;return(0,f.__generator)(this,function(O){switch(O.label){case 0:return S=Uc,[4,bc(i)];case 1:return[2,S.apply(void 0,[O.sent(),u,w])]}})})}),w.promise}(ys(o),t)}function kc(o,t,i){var u=i.docs.get(t._key),p=new Wu(o);return new Ru(o,p,t._key,u,new Mu(i.hasPendingWrites,i.fromCache),t.converter)}var cc=function(o){function t(i,u){var p=this;return(p=o.call(this,i,u)||this)._firestore=i,p}return(0,f.__extends)(t,o),t.prototype.get=function(i){var u=this,p=pu(i,this._firestore),w=new Wu(this._firestore);return o.prototype.get.call(this,i).then(function(S){return new Ru(u._firestore,w,p._key,S._document,new Mu(!1,!1),p.converter)})},t}(function(){function o(t,i){this._firestore=t,this._transaction=i,this._dataReader=fu(t)}return o.prototype.get=function(t){var i=this,u=pu(t,this._firestore),p=new Zf(this._firestore);return this._transaction.lookup([u._key]).then(function(w){if(!w||1!==w.length)return ve();var S=w[0];if(S.isFoundDocument())return new Al(i._firestore,p,S.key,S,u.converter);if(S.isNoDocument())return new Al(i._firestore,p,u._key,null,u.converter);throw ve()})},o.prototype.set=function(t,i,u){var p=pu(t,this._firestore),w=Ol(p.converter,i,u),S=Rs(this._dataReader,"Transaction.set",p._key,w,null!==p.converter,u);return this._transaction.set(p._key,S),this},o.prototype.update=function(t,i,u){for(var p=[],w=3;w<arguments.length;w++)p[w-3]=arguments[w];var S,O=pu(t,this._firestore);return S="string"==typeof(i=(0,j.getModularInstance)(i))||i instanceof Wa?il(this._dataReader,"Transaction.update",O._key,i,u,p):Zl(this._dataReader,"Transaction.update",O._key,i),this._transaction.update(O._key,S),this},o.prototype.delete=function(t){var i=pu(t,this._firestore);return this._transaction.delete(i._key),this},o}());function af(){if("undefined"==typeof Uint8Array)throw new _e(we.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function l(){if("undefined"==typeof atob)throw new _e(we.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var c=function(){function o(t){this._delegate=t}return o.fromBase64String=function(t){return l(),new o(Au.fromBase64String(t))},o.fromUint8Array=function(t){return af(),new o(Au.fromUint8Array(t))},o.prototype.toBase64=function(){return l(),this._delegate.toBase64()},o.prototype.toUint8Array=function(){return af(),this._delegate.toUint8Array()},o.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},o.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},o}(),h=function(){function o(){}return o.prototype.enableIndexedDbPersistence=function(t,i){return function(u,p){Sc(u=co(u,ns));var w=ys(u),S=u._freezeSettings(),O=new wc;return Xs(w,O,new bl(O,S.cacheSizeBytes,null==p?void 0:p.forceOwnership))}(t._delegate,{forceOwnership:i})},o.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(i){Sc(i=co(i,ns));var u=ys(i),p=i._freezeSettings(),w=new wc;return Xs(u,w,new _c(w,p.cacheSizeBytes))}(t._delegate)},o.prototype.clearIndexedDbPersistence=function(t){return function(i){var u=this;if(i._initialized&&!i._terminated)throw new _e(we.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var p=new Li;return i._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,f.__awaiter)(u,void 0,void 0,function(){var w;return(0,f.__generator)(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,function(O){return(0,f.__awaiter)(this,void 0,void 0,function(){return(0,f.__generator)(this,function(he){switch(he.label){case 0:return Pi.yt()?[4,Pi.delete(O+"main")]:[2,Promise.resolve()];case 1:return he.sent(),[2]}})})}($a(i._databaseId,i._persistenceKey))];case 1:return S.sent(),p.resolve(),[3,3];case 2:return w=S.sent(),p.reject(w),[3,3];case 3:return[2]}})})}),p.promise}(t._delegate)},o}(),v=function(){function o(t,i,u){var p=this;this._delegate=i,this.Zc=u,this.INTERNAL={delete:function(){return p.terminate()}},t instanceof Zc||(this.tu=t)}return Object.defineProperty(o.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),o.prototype.settings=function(t){var i=this._delegate._getSettings();t.merge||i.host===t.host||xe("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},i),t)).merge,this._delegate._setSettings(t)},o.prototype.useEmulator=function(t,i,u){void 0===u&&(u={}),function(p,w,S,O){var Q;void 0===O&&(O={});var he=(p=co(p,tl))._getSettings();if("firestore.googleapis.com"!==he.host&&he.host!==w&&xe("Host has been set in both settings() and useEmulator(), emulator host will be used"),p._setSettings(Object.assign(Object.assign({},he),{host:w+":"+S,ssl:!1})),O.mockUserToken){var Te,et;if("string"==typeof O.mockUserToken)Te=O.mockUserToken,et=le.MOCK_USER;else{Te=(0,j.createMockUserToken)(O.mockUserToken,null===(Q=p._app)||void 0===Q?void 0:Q.options.projectId);var pt=O.mockUserToken.sub||O.mockUserToken.user_id;if(!pt)throw new _e(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");et=new le(pt)}p._credentials=new Ga(new el(Te,et))}}(this._delegate,t,i,u)},o.prototype.enableNetwork=function(){return function(t){var i=this;return t.asyncQueue.enqueue(function(){return(0,f.__awaiter)(i,void 0,void 0,function(){var u,p;return(0,f.__generator)(this,function(w){switch(w.label){case 0:return[4,zf(t)];case 1:return u=w.sent(),[4,Qc(t)];case 2:return p=w.sent(),[2,(u.setNetworkEnabled(!0),S=p,O=ue(S),O.Or.delete(0),gs(O))]}var S,O})})})}(ys(co(this._delegate,ns)))},o.prototype.disableNetwork=function(){return function(t){var i=this;return t.asyncQueue.enqueue(function(){return(0,f.__awaiter)(i,void 0,void 0,function(){var u,p;return(0,f.__generator)(this,function(w){switch(w.label){case 0:return[4,zf(t)];case 1:return u=w.sent(),[4,Qc(t)];case 2:return p=w.sent(),[2,(u.setNetworkEnabled(!1),function(S){return(0,f.__awaiter)(this,void 0,void 0,function(){var O;return(0,f.__generator)(this,function(Q){switch(Q.label){case 0:return(O=ue(S)).Or.add(0),[4,ms(O)];case 1:return Q.sent(),O.Br.set("Offline"),[2]}})})}(p))]}})})})}(ys(co(this._delegate,ns)))},o.prototype.enablePersistence=function(t){var i=!1,u=!1;return t&&Ic("synchronizeTabs",i=!!t.synchronizeTabs,"experimentalForceOwningTab",u=!!t.experimentalForceOwningTab),i?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,u)},o.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},o.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},o.prototype.waitForPendingWrites=function(){return function(t){var i=this,u=new Li;return t.asyncQueue.enqueueAndForget(function(){return(0,f.__awaiter)(i,void 0,void 0,function(){var p;return(0,f.__generator)(this,function(w){switch(w.label){case 0:return p=_l,[4,bc(t)];case 1:return[2,p.apply(void 0,[w.sent(),u])]}})})}),u.promise}(ys(co(this._delegate,ns)))},o.prototype.onSnapshotsInSync=function(t){return u=t,function(p,w){var S=this,O=new rc(w);return p.asyncQueue.enqueueAndForget(function(){return(0,f.__awaiter)(S,void 0,void 0,function(){var Q;return(0,f.__generator)(this,function(he){switch(he.label){case 0:return Q=function(Te,et){ue(Te).Gr.add(et),et.next()},[4,Oa(p)];case 1:return[2,Q.apply(void 0,[he.sent(),O])]}})})}),function(){O.Wo(),p.asyncQueue.enqueueAndForget(function(){return(0,f.__awaiter)(S,void 0,void 0,function(){var Q;return(0,f.__generator)(this,function(he){switch(he.label){case 0:return Q=function(Te,et){ue(Te).Gr.delete(et)},[4,Oa(p)];case 1:return[2,Q.apply(void 0,[he.sent(),O])]}})})})}}(ys(co(this._delegate,ns)),ho(u)?u:{next:u});var u},Object.defineProperty(o.prototype,"app",{get:function(){if(!this.tu)throw new _e(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),o.prototype.collection=function(t){try{return new es(this,Dc(this._delegate,t))}catch(i){throw Ze(i,"collection()","Firestore.collection()")}},o.prototype.doc=function(t){try{return new je(this,fs(this._delegate,t))}catch(i){throw Ze(i,"doc()","Firestore.doc()")}},o.prototype.collectionGroup=function(t){try{return new Xr(this,function(i,u){if(i=co(i,tl),Cc("collectionGroup","collection id",u),u.indexOf("/")>=0)throw new _e(we.INVALID_ARGUMENT,"Invalid collection ID '"+u+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Vs(i,null,(p=u,new Jt(ze.emptyPath(),p)));var p}(this._delegate,t))}catch(i){throw Ze(i,"collectionGroup()","Firestore.collectionGroup()")}},o.prototype.runTransaction=function(t){var u,i=this;return function(w,S){var O=this,Q=new Li;return w.asyncQueue.enqueueAndForget(function(){return(0,f.__awaiter)(O,void 0,void 0,function(){var he;return(0,f.__generator)(this,function(Te){switch(Te.label){case 0:return[4,(et=w,Hu(et).then(function(pt){return pt.datastore}))];case 1:return he=Te.sent(),new ws(w.asyncQueue,he,S,Q).run(),[2]}var et})})}),Q.promise}(ys(u=this._delegate),function(w){return function(u){return t(new J(i,u))}(new cc(u,w))})},o.prototype.batch=function(){var t=this;return ys(this._delegate),new De(new sf(this._delegate,function(i){return uc(t._delegate,i)}))},o.prototype.loadBundle=function(t){throw new _e(we.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},o.prototype.namedQuery=function(t){throw new _e(we.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},o}(),I=function(o){function t(i){var u=this;return(u=o.call(this)||this).firestore=i,u}return(0,f.__extends)(t,o),t.prototype.convertBytes=function(i){return new c(new Au(i))},t.prototype.convertReference=function(i){var u=this.convertDocumentKey(i,this.firestore._databaseId);return je.eu(u,this.firestore,null)},t}(of);function F(o){Dt.setLogLevel(o)}var J=function(){function o(t,i){this._firestore=t,this._delegate=i,this._userDataWriter=new I(t)}return o.prototype.get=function(t){var i=this,u=xs(t);return this._delegate.get(u).then(function(p){return new kn(i._firestore,new Ru(i._firestore._delegate,i._userDataWriter,p._key,p._document,p.metadata,u.converter))})},o.prototype.set=function(t,i,u){var p=xs(t);return u?(go("Transaction.set",u),this._delegate.set(p,i,u)):this._delegate.set(p,i),this},o.prototype.update=function(t,i,u){for(var p,w=[],S=3;S<arguments.length;S++)w[S-3]=arguments[S];var O=xs(t);return 2===arguments.length?this._delegate.update(O,i):(p=this._delegate).update.apply(p,(0,f.__spreadArray)([O,i,u],w)),this},o.prototype.delete=function(t){var i=xs(t);return this._delegate.delete(i),this},o}(),De=function(){function o(t){this._delegate=t}return o.prototype.set=function(t,i,u){var p=xs(t);return u?(go("WriteBatch.set",u),this._delegate.set(p,i,u)):this._delegate.set(p,i),this},o.prototype.update=function(t,i,u){for(var p,w=[],S=3;S<arguments.length;S++)w[S-3]=arguments[S];var O=xs(t);return 2===arguments.length?this._delegate.update(O,i):(p=this._delegate).update.apply(p,(0,f.__spreadArray)([O,i,u],w)),this},o.prototype.delete=function(t){var i=xs(t);return this._delegate.delete(i),this},o.prototype.commit=function(){return this._delegate.commit()},o}(),Re=function(){function o(t,i,u){this._firestore=t,this._userDataWriter=i,this._delegate=u}return o.prototype.fromFirestore=function(t,i){var u=new Oc(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new qn(this._firestore,u),null!=i?i:{})},o.prototype.toFirestore=function(t,i){return i?this._delegate.toFirestore(t,i):this._delegate.toFirestore(t)},o.nu=function(t,i){var u=o.su,p=u.get(t);p||u.set(t,p=new WeakMap);var w=p.get(i);return w||(w=new o(t,new I(t),i),p.set(i,w)),w},o}();Re.su=new WeakMap;var je=function(){function o(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new I(t)}return o.iu=function(t,i,u){if(t.length%2!=0)throw new _e(we.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new o(i,new Go(i._delegate,u,new We(t)))},o.eu=function(t,i,u){return new o(i,new Go(i._delegate,u,t))},Object.defineProperty(o.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parent",{get:function(){return new es(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),o.prototype.collection=function(t){try{return new es(this.firestore,Dc(this._delegate,t))}catch(i){throw Ze(i,"collection()","DocumentReference.collection()")}},o.prototype.isEqual=function(t){return(t=(0,j.getModularInstance)(t))instanceof Go&&qu(this._delegate,t)},o.prototype.set=function(t,i){i=go("DocumentReference.set",i);try{return i?kl(this._delegate,t,i):kl(this._delegate,t)}catch(u){throw Ze(u,"setDoc()","DocumentReference.set()")}},o.prototype.update=function(t,i){for(var u=[],p=2;p<arguments.length;p++)u[p-2]=arguments[p];try{return 1===arguments.length?xf(this._delegate,t):xf.apply(void 0,(0,f.__spreadArray)([this._delegate,t,i],u))}catch(w){throw Ze(w,"updateDoc()","DocumentReference.update()")}},o.prototype.delete=function(){return uc(co((t=this._delegate).firestore,ns),[new On(t._key,$r.none())]);var t},o.prototype.onSnapshot=function(){for(var t=this,i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var p=Xt(i),w=hn(i,function(S){return new kn(t.firestore,new Ru(t.firestore._delegate,t._userDataWriter,S._key,S._document,S.metadata,t._delegate.converter))});return Ji(this._delegate,p,w)},o.prototype.get=function(t){var i=this;return("cache"===(null==t?void 0:t.source)?function(u){u=co(u,Go);var p=co(u.firestore,ns),w=ys(p),S=new Wu(p);return function(O,Q){var he=this,Te=new Li;return O.asyncQueue.enqueueAndForget(function(){return(0,f.__awaiter)(he,void 0,void 0,function(){var et;return(0,f.__generator)(this,function(pt){switch(pt.label){case 0:return et=function(Zt,Qt,ln){return(0,f.__awaiter)(this,void 0,void 0,function(){var fn,Wn;return(0,f.__generator)(this,function(Kr){switch(Kr.label){case 0:return Kr.trys.push([0,2,,3]),[4,(ri=Zt,qi=Qt,Ii=ue(ri),Ii.persistence.runTransaction("read document","readonly",function(Io){return Ii.Mn.mn(Io,qi)}))];case 1:return(Wn=Kr.sent()).isFoundDocument()?ln.resolve(Wn):Wn.isNoDocument()?ln.resolve(null):ln.reject(new _e(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return fn=Kr.sent(),Wn=Ne(fn,"Failed to get document '"+Qt+" from cache"),ln.reject(Wn),[3,3];case 3:return[2]}var ri,qi,Ii})})},[4,Wl(O)];case 1:return[2,et.apply(void 0,[pt.sent(),Q,Te])]}})})}),Te.promise}(w,u._key).then(function(O){return new Ru(p,S,u._key,O,new Mu(null!==O&&O.hasLocalMutations,!0),u.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(u){u=co(u,Go);var p=co(u.firestore,ns);return El(ys(p),u._key,{source:"server"}).then(function(w){return kc(p,u,w)})}(this._delegate):function(u){u=co(u,Go);var p=co(u.firestore,ns);return El(ys(p),u._key).then(function(w){return kc(p,u,w)})}(this._delegate)).then(function(u){return new kn(i.firestore,new Ru(i.firestore._delegate,i._userDataWriter,u._key,u._document,u.metadata,i._delegate.converter))})},o.prototype.withConverter=function(t){return new o(this.firestore,this._delegate.withConverter(t?Re.nu(this.firestore,t):null))},o}();function Ze(o,t,i){return o.message=o.message.replace(t,i),o}function Xt(o){for(var t=0,i=o;t<i.length;t++){var u=i[t];if("object"==typeof u&&!ho(u))return u}return{}}function hn(o,t){var i,u,p;return{next:function(w){p.next&&p.next(t(w))},error:null===(i=(p=ho(o[0])?o[0]:ho(o[1])?o[1]:"function"==typeof o[0]?{next:o[0],error:o[1],complete:o[2]}:{next:o[1],error:o[2],complete:o[3]}).error)||void 0===i?void 0:i.bind(p),complete:null===(u=p.complete)||void 0===u?void 0:u.bind(p)}}var kn=function(){function o(t,i){this._firestore=t,this._delegate=i}return Object.defineProperty(o.prototype,"ref",{get:function(){return new je(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),o.prototype.data=function(t){return this._delegate.data(t)},o.prototype.get=function(t,i){return this._delegate.get(t,i)},o.prototype.isEqual=function(t){return nf(this._delegate,t._delegate)},o}(),qn=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return(0,f.__extends)(t,o),t.prototype.data=function(i){return this._delegate.data(i)},t}(kn),Xr=function(){function o(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new I(t)}return o.prototype.where=function(t,i,u){try{return new o(this.firestore,ba(this._delegate,(S=u,O=i,Q=xc("where",p=t),new Jf(Q,O,S))))}catch(p){throw Ze(p,/(orderBy|where)\(\)/,"Query.$1()")}var p,S,O,Q},o.prototype.orderBy=function(t,i){try{return new o(this.firestore,ba(this._delegate,function(u,p){void 0===p&&(p="asc");var w=p,S=xc("orderBy",u);return new Pa(S,w)}(t,i)))}catch(u){throw Ze(u,/(orderBy|where)\(\)/,"Query.$1()")}},o.prototype.limit=function(t){try{return new o(this.firestore,ba(this._delegate,(za("limit",i=t),new ac("limit",i,"F"))))}catch(i){throw Ze(i,"limit()","Query.limit()")}var i},o.prototype.limitToLast=function(t){try{return new o(this.firestore,ba(this._delegate,(za("limitToLast",i=t),new ac("limitToLast",i,"L"))))}catch(i){throw Ze(i,"limitToLast()","Query.limitToLast()")}var i},o.prototype.startAt=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{return new o(this.firestore,ba(this._delegate,function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];return new Rl("startAt",u,!0)}.apply(void 0,t)))}catch(u){throw Ze(u,"startAt()","Query.startAt()")}},o.prototype.startAfter=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{return new o(this.firestore,ba(this._delegate,function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];return new Rl("startAfter",u,!1)}.apply(void 0,t)))}catch(u){throw Ze(u,"startAfter()","Query.startAfter()")}},o.prototype.endBefore=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{return new o(this.firestore,ba(this._delegate,function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];return new rf("endBefore",u,!0)}.apply(void 0,t)))}catch(u){throw Ze(u,"endBefore()","Query.endBefore()")}},o.prototype.endAt=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{return new o(this.firestore,ba(this._delegate,function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];return new rf("endAt",u,!1)}.apply(void 0,t)))}catch(u){throw Ze(u,"endAt()","Query.endAt()")}},o.prototype.isEqual=function(t){return aa(this._delegate,t._delegate)},o.prototype.get=function(t){var i=this;return("cache"===(null==t?void 0:t.source)?function(u){u=co(u,Vs);var p=co(u.firestore,ns),w=ys(p),S=new Wu(p);return function(O,Q){var he=this,Te=new Li;return O.asyncQueue.enqueueAndForget(function(){return(0,f.__awaiter)(he,void 0,void 0,function(){var et;return(0,f.__generator)(this,function(pt){switch(pt.label){case 0:return et=function(Zt,Qt,ln){return(0,f.__awaiter)(this,void 0,void 0,function(){var fn,Wn,Kr,ri,qi;return(0,f.__generator)(this,function(Ii){switch(Ii.label){case 0:return Ii.trys.push([0,2,,3]),[4,Ys(Zt,Qt,!0)];case 1:return qi=Ii.sent(),fn=new ls(Qt,qi.Bn),Wn=fn._o(qi.documents),Kr=fn.applyChanges(Wn,!1),ln.resolve(Kr.snapshot),[3,3];case 2:return ri=Ii.sent(),qi=Ne(ri,"Failed to execute query '"+Qt+" against cache"),ln.reject(qi),[3,3];case 3:return[2]}})})},[4,Wl(O)];case 1:return[2,et.apply(void 0,[pt.sent(),Q,Te])]}})})}),Te.promise}(w,u._query).then(function(O){return new Na(p,S,u,O)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(u){u=co(u,Vs);var p=co(u.firestore,ns),w=ys(p),S=new Wu(p);return Cl(w,u._query,{source:"server"}).then(function(O){return new Na(p,S,u,O)})}(this._delegate):function(u){u=co(u,Vs);var p=co(u.firestore,ns),w=ys(p),S=new Wu(p);return Ml(u._query),Cl(w,u._query).then(function(O){return new Na(p,S,u,O)})}(this._delegate)).then(function(u){return new bi(i.firestore,new Na(i.firestore._delegate,i._userDataWriter,i._delegate,u._snapshot))})},o.prototype.onSnapshot=function(){for(var t=this,i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var p=Xt(i),w=hn(i,function(S){return new bi(t.firestore,new Na(t.firestore._delegate,t._userDataWriter,t._delegate,S._snapshot))});return Ji(this._delegate,p,w)},o.prototype.withConverter=function(t){return new o(this.firestore,this._delegate.withConverter(t?Re.nu(this.firestore,t):null))},o}(),Jr=function(){function o(t,i){this._firestore=t,this._delegate=i}return Object.defineProperty(o.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"doc",{get:function(){return new qn(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),o}(),bi=function(){function o(t,i){this._firestore=t,this._delegate=i}return Object.defineProperty(o.prototype,"query",{get:function(){return new Xr(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(i){return new qn(t._firestore,i)})},enumerable:!1,configurable:!0}),o.prototype.docChanges=function(t){var i=this;return this._delegate.docChanges(t).map(function(u){return new Jr(i._firestore,u)})},o.prototype.forEach=function(t,i){var u=this;this._delegate.forEach(function(p){t.call(i,new qn(u._firestore,p))})},o.prototype.isEqual=function(t){return nf(this._delegate,t._delegate)},o}(),es=function(o){function t(i,u){var p=this;return(p=o.call(this,i,u)||this).firestore=i,p._delegate=u,p}return(0,f.__extends)(t,o),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var i=this._delegate.parent;return i?new je(this.firestore,i):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(i){try{return new je(this.firestore,void 0===i?fs(this._delegate):fs(this._delegate,i))}catch(u){throw Ze(u,"doc()","CollectionReference.doc()")}},t.prototype.add=function(i){var p,w,S,O,Q,u=this;return(p=this._delegate,w=i,S=co(p.firestore,ns),O=fs(p),Q=Ol(p.converter,w),uc(S,[Rs(fu(p.firestore),"addDoc",O._key,Q,null!==p.converter,{}).toMutation(O._key,$r.exists(!1))]).then(function(){return O})).then(function(p){return new je(u.firestore,p)})},t.prototype.isEqual=function(i){return qu(this._delegate,i._delegate)},t.prototype.withConverter=function(i){return new t(this.firestore,this._delegate.withConverter(i?Re.nu(this.firestore,i):null))},t}(Xr);function xs(o){return co(o,Go)}var ol=function(){function o(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this._delegate=new(Wa.bind.apply(Wa,(0,f.__spreadArray)([void 0],t)))}return o.documentId=function(){return new o(Be.keyField().canonicalString())},o.prototype.isEqual=function(t){return(t=(0,j.getModularInstance)(t))instanceof Wa&&this._delegate._internalPath.isEqual(t._internalPath)},o}(),Nc=function(){function o(t){this._delegate=t}return o.serverTimestamp=function(){var t=new Kf("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new o(t)},o.delete=function(){var t=new rl("deleteField");return t._methodName="FieldValue.delete",new o(t)},o.arrayUnion=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var u=function(){for(var p=[],w=0;w<arguments.length;w++)p[w]=arguments[w];return new Xf("arrayUnion",p)}.apply(void 0,t);return u._methodName="FieldValue.arrayUnion",new o(u)},o.arrayRemove=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var u=function(){for(var p=[],w=0;w<arguments.length;w++)p[w]=arguments[w];return new Jl("arrayRemove",p)}.apply(void 0,t);return u._methodName="FieldValue.arrayRemove",new o(u)},o.increment=function(t){var i=new Qf("increment",t);return i._methodName="FieldValue.increment",new o(i)},o.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},o}();function sl(o){return i=o,u=ys(t=co(t=this._delegate,ns)),p=new Tc,function(w,S,O,Q){var et,pt,Zt,he=this,Te=(et=O,pt=Sa(S),Zt=function(Zt,Qt){if(Zt instanceof Uint8Array)return xa(Zt,void 0);if(Zt instanceof ArrayBuffer)return xa(new Uint8Array(Zt),void 0);if(Zt instanceof ReadableStream)return Zt.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof et?(new TextEncoder).encode(et):et),new ju(Zt,pt));w.asyncQueue.enqueueAndForget(function(){return(0,f.__awaiter)(he,void 0,void 0,function(){var et;return(0,f.__generator)(this,function(pt){switch(pt.label){case 0:return et=If,[4,bc(w)];case 1:return et.apply(void 0,[pt.sent(),Te,Q]),[2]}})})})}(u,t._databaseId,i,p),p;var t,i,u,p}function ed(o){var t,i,u=this;return(t=this._delegate,i=o,function(p,w){var S=this;return p.asyncQueue.enqueue(function(){return(0,f.__awaiter)(S,void 0,void 0,function(){var O;return(0,f.__generator)(this,function(Q){switch(Q.label){case 0:return O=function(he,Te){var et=ue(he);return et.persistence.runTransaction("Get named query","readonly",function(pt){return et.Ke.getNamedQuery(pt,Te)})},[4,Wl(p)];case 1:return[2,O.apply(void 0,[Q.sent(),w])]}})})})}(ys(t=co(t,ns)),i).then(function(p){return p?new Vs(t,null,p.query):null})).then(function(p){return p?new Xr(u,p):null})}},4003:(wr,an,fe)=>{"use strict";function f(){for(var xe=0,ce=0,ve=arguments.length;ce<ve;ce++)xe+=arguments[ce].length;var Pe=Array(xe),ue=0;for(ce=0;ce<ve;ce++)for(var Ge=arguments[ce],Qe=0,ct=Ge.length;Qe<ct;Qe++,ue++)Pe[ue]=Ge[Qe];return Pe}fe.r(an),fe.d(an,{LogLevel:()=>tt,Logger:()=>qe,setLogLevel:()=>x,setUserLogHandler:()=>Se});var j,H=[],tt=(()=>{return(xe=tt||(tt={}))[xe.DEBUG=0]="DEBUG",xe[xe.VERBOSE=1]="VERBOSE",xe[xe.INFO=2]="INFO",xe[xe.WARN=3]="WARN",xe[xe.ERROR=4]="ERROR",xe[xe.SILENT=5]="SILENT",tt;var xe})(),Le={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},we=tt.INFO,_e=((j={})[tt.DEBUG]="log",j[tt.VERBOSE]="log",j[tt.INFO]="info",j[tt.WARN]="warn",j[tt.ERROR]="error",j),Dt=function(xe,ce){for(var ve=[],Pe=2;Pe<arguments.length;Pe++)ve[Pe-2]=arguments[Pe];if(!(ce<xe.logLevel)){var ue=(new Date).toISOString(),Ge=_e[ce];if(!Ge)throw new Error("Attempted to log a message with an invalid logType (value: "+ce+")");console[Ge].apply(console,f(["["+ue+"]  "+xe.name+":"],ve))}},qe=function(){function xe(ce){this.name=ce,this._logLevel=we,this._logHandler=Dt,this._userLogHandler=null,H.push(this)}return Object.defineProperty(xe.prototype,"logLevel",{get:function(){return this._logLevel},set:function(ce){if(!(ce in tt))throw new TypeError('Invalid value "'+ce+'" assigned to `logLevel`');this._logLevel=ce},enumerable:!1,configurable:!0}),xe.prototype.setLogLevel=function(ce){this._logLevel="string"==typeof ce?Le[ce]:ce},Object.defineProperty(xe.prototype,"logHandler",{get:function(){return this._logHandler},set:function(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(ce){this._userLogHandler=ce},enumerable:!1,configurable:!0}),xe.prototype.debug=function(){for(var ce=[],ve=0;ve<arguments.length;ve++)ce[ve]=arguments[ve];this._userLogHandler&&this._userLogHandler.apply(this,f([this,tt.DEBUG],ce)),this._logHandler.apply(this,f([this,tt.DEBUG],ce))},xe.prototype.log=function(){for(var ce=[],ve=0;ve<arguments.length;ve++)ce[ve]=arguments[ve];this._userLogHandler&&this._userLogHandler.apply(this,f([this,tt.VERBOSE],ce)),this._logHandler.apply(this,f([this,tt.VERBOSE],ce))},xe.prototype.info=function(){for(var ce=[],ve=0;ve<arguments.length;ve++)ce[ve]=arguments[ve];this._userLogHandler&&this._userLogHandler.apply(this,f([this,tt.INFO],ce)),this._logHandler.apply(this,f([this,tt.INFO],ce))},xe.prototype.warn=function(){for(var ce=[],ve=0;ve<arguments.length;ve++)ce[ve]=arguments[ve];this._userLogHandler&&this._userLogHandler.apply(this,f([this,tt.WARN],ce)),this._logHandler.apply(this,f([this,tt.WARN],ce))},xe.prototype.error=function(){for(var ce=[],ve=0;ve<arguments.length;ve++)ce[ve]=arguments[ve];this._userLogHandler&&this._userLogHandler.apply(this,f([this,tt.ERROR],ce)),this._logHandler.apply(this,f([this,tt.ERROR],ce))},xe}();function x(xe){H.forEach(function(ce){ce.setLogLevel(xe)})}function Se(xe,ce){for(var ve=function(Qe){var ct=null;ce&&ce.level&&(ct=Le[ce.level]),Qe.userLogHandler=null===xe?null:function(wt,Ut){for(var nt=[],rt=2;rt<arguments.length;rt++)nt[rt-2]=arguments[rt];var Nt=nt.map(function(Et){if(null==Et)return null;if("string"==typeof Et)return Et;if("number"==typeof Et||"boolean"==typeof Et)return Et.toString();if(Et instanceof Error)return Et.message;try{return JSON.stringify(Et)}catch(rn){return null}}).filter(function(Et){return Et}).join(" ");Ut>=(null!=ct?ct:wt.logLevel)&&xe({level:tt[Ut].toLowerCase(),message:Nt,args:nt,type:wt.name})}},Pe=0,ue=H;Pe<ue.length;Pe++)ve(ue[Pe])}},1262:(wr,an,fe)=>{"use strict";var f=fe(8367),j=fe(655),H=fe(492),tt=fe(2461),Le="firebasestorage.googleapis.com",we="storageBucket",qe=function(Z){function q(Me,Je){var Ct=Z.call(this,x(Me),"Firebase Storage: "+Je+" ("+x(Me)+")")||this;return Ct.customData={serverResponse:null},Ct._baseMessage=Ct.message,Object.setPrototypeOf(Ct,q.prototype),Ct}return(0,j.__extends)(q,Z),q.prototype._codeEquals=function(Me){return x(Me)===this.code},Object.defineProperty(q.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(Me){this.customData.serverResponse=Me,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),q}(H.FirebaseError);function x(Z){return"storage/"+Z}function Se(){return new qe("unknown","An unknown error occurred, please check the error payload for server response.")}function Qe(){return new qe("canceled","User canceled the upload/download.")}function nt(){return new qe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Et(Z){return new qe("invalid-argument",Z)}function rn(){return new qe("app-deleted","The Firebase app was deleted.")}function Ye(Z){return new qe("invalid-root-operation","The operation '"+Z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ze(Z,q){return new qe("invalid-format","String does not match format '"+Z+"': "+q)}function ae(Z){throw new qe("internal-error","Internal error: "+Z)}var Ke={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},at=function Z(q,Me){this.data=q,this.contentType=Me||null};function Tn(Z,q){switch(Z){case Ke.RAW:return new at(gn(q));case Ke.BASE64:case Ke.BASE64URL:return new at(At(Z,q));case Ke.DATA_URL:return new at(function St(Z){var q=new Rt(Z);return q.base64?At(Ke.BASE64,q.rest):function Tt(Z){var q;try{q=decodeURIComponent(Z)}catch(Me){throw ze(Ke.DATA_URL,"Malformed data URL.")}return gn(q)}(q.rest)}(q),function yt(Z){return new Rt(Z).contentType}(q))}throw Se()}function gn(Z){for(var q=[],Me=0;Me<Z.length;Me++){var Je=Z.charCodeAt(Me);if(Je<=127)q.push(Je);else if(Je<=2047)q.push(192|Je>>6,128|63&Je);else if(55296==(64512&Je))if(Me<Z.length-1&&56320==(64512&Z.charCodeAt(Me+1))){var jt=Je,En=Z.charCodeAt(++Me);q.push(240|(Je=65536|(1023&jt)<<10|1023&En)>>18,128|Je>>12&63,128|Je>>6&63,128|63&Je)}else q.push(239,191,189);else 56320==(64512&Je)?q.push(239,191,189):q.push(224|Je>>12,128|Je>>6&63,128|63&Je)}return new Uint8Array(q)}function At(Z,q){switch(Z){case Ke.BASE64:var Me=-1!==q.indexOf("-"),Je=-1!==q.indexOf("_");if(Me||Je)throw ze(Z,"Invalid character '"+(Me?"-":"_")+"' found: is it base64url encoded?");break;case Ke.BASE64URL:var jt=-1!==q.indexOf("+"),En=-1!==q.indexOf("/");if(jt||En)throw ze(Z,"Invalid character '"+(jt?"+":"/")+"' found: is it base64 encoded?");q=q.replace(/-/g,"+").replace(/_/g,"/")}var xn;try{xn=function Be(Z){return atob(Z)}(q)}catch(dr){throw ze(Z,"Invalid character found")}for(var Un=new Uint8Array(xn.length),mr=0;mr<xn.length;mr++)Un[mr]=xn.charCodeAt(mr);return Un}var Rt=function Z(q){this.base64=!1,this.contentType=null;var Me=q.match(/^data:([^,]+)?,/);if(null===Me)throw ze(Ke.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var Je=Me[1]||null;null!=Je&&(this.base64=function Mt(Z,q){return Z.length>=q.length&&Z.substring(Z.length-q.length)===q}(Je,";base64"),this.contentType=this.base64?Je.substring(0,Je.length-7):Je),this.rest=q.substring(q.indexOf(",")+1)},Ft={STATE_CHANGED:"state_changed"},on={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function We(Z){switch(Z){case"running":case"pausing":case"canceling":return on.RUNNING;case"paused":return on.PAUSED;case"success":return on.SUCCESS;case"canceled":return on.CANCELED;default:return on.ERROR}}var Bn=(()=>{return(Z=Bn||(Bn={}))[Z.NO_ERROR=0]="NO_ERROR",Z[Z.NETWORK_ERROR=1]="NETWORK_ERROR",Z[Z.ABORT=2]="ABORT",Bn;var Z})(),yn=function(){function Z(){var q=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Bn.NO_ERROR,this.sendPromise_=new Promise(function(Me){q.xhr_.addEventListener("abort",function(){q.errorCode_=Bn.ABORT,Me()}),q.xhr_.addEventListener("error",function(){q.errorCode_=Bn.NETWORK_ERROR,Me()}),q.xhr_.addEventListener("load",function(){Me()})})}return Z.prototype.send=function(q,Me,Je,Ct){if(this.sent_)throw ae("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Me,q,!0),void 0!==Ct)for(var jt in Ct)Ct.hasOwnProperty(jt)&&this.xhr_.setRequestHeader(jt,Ct[jt].toString());return void 0!==Je?this.xhr_.send(Je):this.xhr_.send(),this.sendPromise_},Z.prototype.getErrorCode=function(){if(!this.sent_)throw ae("cannot .getErrorCode() before sending");return this.errorCode_},Z.prototype.getStatus=function(){if(!this.sent_)throw ae("cannot .getStatus() before sending");try{return this.xhr_.status}catch(q){return-1}},Z.prototype.getResponseText=function(){if(!this.sent_)throw ae("cannot .getResponseText() before sending");return this.xhr_.responseText},Z.prototype.abort=function(){this.xhr_.abort()},Z.prototype.getResponseHeader=function(q){return this.xhr_.getResponseHeader(q)},Z.prototype.addUploadProgressListener=function(q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",q)},Z.prototype.removeUploadProgressListener=function(q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",q)},Z}(),Mn=function(){function Z(){}return Z.prototype.createConnection=function(){return function ar(){return new yn}()},Z}(),er=function(){function Z(q,Me){this.bucket=q,this.path_=Me}return Object.defineProperty(Z.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),Z.prototype.fullServerUrl=function(){var q=encodeURIComponent;return"/b/"+q(this.bucket)+"/o/"+q(this.path)},Z.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},Z.makeFromBucketSpec=function(q,Me){var Je;try{Je=Z.makeFromUrl(q,Me)}catch(Ct){return new Z(q,"")}if(""===Je.path)return Je;throw function wt(Z){return new qe("invalid-default-bucket","Invalid default bucket '"+Z+"'.")}(q)},Z.makeFromUrl=function(q,Me){var Je=null,Ct="([A-Za-z0-9.\\-_]+)",xn=new RegExp("^gs://"+Ct+"(/(.*))?$","i");function mr(oe){oe.path_=decodeURIComponent(oe.path)}for(var oi=Me.replace(/[.]/g,"\\."),eo=[{regex:xn,indices:{bucket:1,path:3},postModify:function jt(oe){"/"===oe.path.charAt(oe.path.length-1)&&(oe.path_=oe.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+oi+"/v[A-Za-z0-9_]+/b/"+Ct+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:mr},{regex:new RegExp("^https?://"+(Me===Le?"(?:storage.googleapis.com|storage.cloud.google.com)":Me)+"/"+Ct+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:mr}],Mi=0;Mi<eo.length;Mi++){var Fi=eo[Mi],To=Fi.regex.exec(q);if(To){var z=To[Fi.indices.path];z||(z=""),Je=new Z(To[Fi.indices.bucket],z),Fi.postModify(Je);break}}if(null==Je)throw function ct(Z){return new qe("invalid-url","Invalid URL '"+Z+"'.")}(q);return Je},Z}(),Pr=function(){function Z(q){this.promise_=Promise.reject(q)}return Z.prototype.getPromise=function(){return this.promise_},Z.prototype.cancel=function(q){},Z}();function Lr(Z){return"string"==typeof Z||Z instanceof String}function Sr(Z){return rr()&&Z instanceof Blob}function rr(){return"undefined"!=typeof Blob}function Rr(Z,q,Me,Je){if(Je<q)throw Et("Invalid value for '"+Z+"'. Expected "+q+" or greater.");if(Je>Me)throw Et("Invalid value for '"+Z+"'. Expected "+Me+" or less.")}function fi(Z,q){var Me=q.match(/^(\w+):\/\/.+/),Ct=q;return null==(null==Me?void 0:Me[1])&&(Ct="https://"+q),Ct+"/v0"+Z}function Hr(Z){var q=encodeURIComponent,Me="?";for(var Je in Z)Z.hasOwnProperty(Je)&&(Me=Me+(q(Je)+"=")+q(Z[Je])+"&");return Me.slice(0,-1)}var Gn=function(){function Z(q,Me,Je,Ct,jt,En,xn,Un,mr,dr,oi){var mi=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=q,this.method_=Me,this.headers_=Je,this.body_=Ct,this.successCodes_=jt.slice(),this.additionalRetryCodes_=En.slice(),this.callback_=xn,this.errorCallback_=Un,this.progressCallback_=dr,this.timeout_=mr,this.pool_=oi,this.promise_=new Promise(function(po,Mr){mi.resolve_=po,mi.reject_=Mr,mi.start_()})}return Z.prototype.start_=function(){var q=this;function Je(Ct,jt){var En=q.resolve_,xn=q.reject_,Un=jt.connection;if(jt.wasSuccessCode)try{var mr=q.callback_(Un,Un.getResponseText());!function Vr(Z){return void 0!==Z}(mr)?En():En(mr)}catch(oi){xn(oi)}else if(null!==Un)(dr=Se()).serverResponse=Un.getResponseText(),xn(q.errorCallback_?q.errorCallback_(Un,dr):dr);else if(jt.canceled)xn(dr=q.appDelete_?rn():Qe());else{var dr;xn(dr=function Ge(){return new qe("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?Je(0,new nr(!1,null,!0)):this.backoffId_=function or(Z,q,Me){var Je=1,Ct=null,jt=!1,En=0;function xn(){return 2===En}var Un=!1;function mr(){for(var Mr=[],vi=0;vi<arguments.length;vi++)Mr[vi]=arguments[vi];Un||(Un=!0,q.apply(null,Mr))}function dr(Mr){Ct=setTimeout(function(){Ct=null,Z(oi,xn())},Mr)}function oi(Mr){for(var vi=[],Qi=1;Qi<arguments.length;Qi++)vi[Qi-1]=arguments[Qi];if(!Un){if(Mr)return void mr.call.apply(mr,(0,j.__spreadArray)([null,Mr],vi));var Ui;if(xn()||jt)return void mr.call.apply(mr,(0,j.__spreadArray)([null,Mr],vi));Je<64&&(Je*=2),1===En?(En=2,Ui=0):Ui=1e3*(Je+Math.random()),dr(Ui)}}var mi=!1;function po(Mr){mi||(mi=!0,!Un&&(null!==Ct?(Mr||(En=2),clearTimeout(Ct),dr(0)):Mr||(En=1)))}return dr(0),setTimeout(function(){jt=!0,po(!0)},Me),po}(function Me(Ct,jt){if(jt)Ct(!1,new nr(!1,null,!0));else{var En=q.pool_.createConnection();q.pendingConnection_=En,null!==q.progressCallback_&&En.addUploadProgressListener(xn),En.send(q.url_,q.method_,q.body_,q.headers_).then(function(){null!==q.progressCallback_&&En.removeUploadProgressListener(xn),q.pendingConnection_=null;var Un=En.getErrorCode()===Bn.NO_ERROR,mr=En.getStatus();if(Un&&!q.isRetryStatusCode_(mr)){var oi=-1!==q.successCodes_.indexOf(mr);Ct(!0,new nr(oi,En))}else{var dr=En.getErrorCode()===Bn.ABORT;Ct(!1,new nr(!1,null,dr))}})}function xn(Un){null!==q.progressCallback_&&q.progressCallback_(Un.loaded,Un.lengthComputable?Un.total:-1)}},Je,this.timeout_)},Z.prototype.getPromise=function(){return this.promise_},Z.prototype.cancel=function(q){this.canceled_=!0,this.appDelete_=q||!1,null!==this.backoffId_&&function Kn(Z){Z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},Z.prototype.isRetryStatusCode_=function(q){var Me=q>=500&&q<600,Ct=-1!==[408,429].indexOf(q),jt=-1!==this.additionalRetryCodes_.indexOf(q);return Me||Ct||jt},Z}(),nr=function Z(q,Me,Je){this.wasSuccessCode=q,this.connection=Me,this.canceled=!!Je};function xr(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Si(){for(var Z=[],q=0;q<arguments.length;q++)Z[q]=arguments[q];var Me=xr();if(void 0!==Me){for(var Je=new Me,Ct=0;Ct<Z.length;Ct++)Je.append(Z[Ct]);return Je.getBlob()}if(rr())return new Blob(Z);throw new qe("unsupported-environment","This browser doesn't seem to support creating Blobs")}var kr=function(){function Z(q,Me){var Je=0,Ct="";Sr(q)?(this.data_=q,Je=q.size,Ct=q.type):q instanceof ArrayBuffer?(Me?this.data_=new Uint8Array(q):(this.data_=new Uint8Array(q.byteLength),this.data_.set(new Uint8Array(q))),Je=this.data_.length):q instanceof Uint8Array&&(Me?this.data_=q:(this.data_=new Uint8Array(q.length),this.data_.set(q)),Je=q.length),this.size_=Je,this.type_=Ct}return Z.prototype.size=function(){return this.size_},Z.prototype.type=function(){return this.type_},Z.prototype.slice=function(q,Me){if(Sr(this.data_)){var Ct=function Or(Z,q,Me){return Z.webkitSlice?Z.webkitSlice(q,Me):Z.mozSlice?Z.mozSlice(q,Me):Z.slice?Z.slice(q,Me):null}(this.data_,q,Me);return null===Ct?null:new Z(Ct)}return new Z(new Uint8Array(this.data_.buffer,q,Me-q),!0)},Z.getBlob=function(){for(var q=[],Me=0;Me<arguments.length;Me++)q[Me]=arguments[Me];if(rr()){var Je=q.map(function(Un){return Un instanceof Z?Un.data_:Un});return new Z(Si.apply(null,Je))}var Ct=q.map(function(Un){return Lr(Un)?Tn(Ke.RAW,Un).data:Un.data_}),jt=0;Ct.forEach(function(Un){jt+=Un.byteLength});var En=new Uint8Array(jt),xn=0;return Ct.forEach(function(Un){for(var mr=0;mr<Un.length;mr++)En[xn++]=Un[mr]}),new Z(En,!0)},Z.prototype.uploadData=function(){return this.data_},Z}();function Zr(Z){var q;try{q=JSON.parse(Z)}catch(Me){return null}return function Fr(Z){return"object"==typeof Z&&!Array.isArray(Z)}(q)?q:null}function bt(Z){var q=Z.lastIndexOf("/",Z.length-2);return-1===q?Z:Z.slice(q+1)}function Ce(Z,q){return q}var Ae=function Z(q,Me,Je,Ct){this.server=q,this.local=Me||q,this.writable=!!Je,this.xform=Ct||Ce},st=null;function Pt(){if(st)return st;var Z=[];Z.push(new Ae("bucket")),Z.push(new Ae("generation")),Z.push(new Ae("metageneration")),Z.push(new Ae("name","fullPath",!0));var Me=new Ae("name");Me.xform=function q(jt,En){return function Ot(Z){return!Lr(Z)||Z.length<2?Z:bt(Z)}(En)},Z.push(Me);var Ct=new Ae("size");return Ct.xform=function Je(jt,En){return void 0!==En?Number(En):En},Z.push(Ct),Z.push(new Ae("timeCreated")),Z.push(new Ae("updated")),Z.push(new Ae("md5Hash",null,!0)),Z.push(new Ae("cacheControl",null,!0)),Z.push(new Ae("contentDisposition",null,!0)),Z.push(new Ae("contentEncoding",null,!0)),Z.push(new Ae("contentLanguage",null,!0)),Z.push(new Ae("contentType",null,!0)),Z.push(new Ae("metadata","customMetadata",!0)),st=Z}function Jn(Z,q,Me){var Je=Zr(q);return null===Je?null:function Fn(Z,q,Me){for(var Je={type:"file"},Ct=Me.length,jt=0;jt<Ct;jt++){var En=Me[jt];Je[En.local]=En.xform(Je,q[En.server])}return function Jt(Z,q){Object.defineProperty(Z,"ref",{get:function Me(){var jt=new er(Z.bucket,Z.fullPath);return q._makeStorageReference(jt)}})}(Je,Z),Je}(Z,Je,Me)}function sr(Z,q){for(var Me={},Je=q.length,Ct=0;Ct<Je;Ct++){var jt=q[Ct];jt.writable&&(Me[jt.server]=Z[jt.local])}return JSON.stringify(Me)}var ni="prefixes";var mt=function Z(q,Me,Je,Ct){this.url=q,this.method=Me,this.handler=Je,this.timeout=Ct,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Lt(Z){if(!Z)throw Se()}function Xn(Z,q){return function Me(Je,Ct){var jt=Jn(Z,Ct,q);return Lt(null!==jt),jt}}function He(Z){return function q(Me,Je){var Ct;return Ct=401===Me.getStatus()?Me.getResponseText().includes("Firebase App Check token is invalid")?function Pe(){return new qe("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ve(){return new qe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Me.getStatus()?function ce(Z){return new qe("quota-exceeded","Quota for bucket '"+Z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Z.bucket):403===Me.getStatus()?function ue(Z){return new qe("unauthorized","User does not have permission to access '"+Z+"'.")}(Z.path):Je,Ct.serverResponse=Je.serverResponse,Ct}}function nn(Z){var q=He(Z);return function Me(Je,Ct){var jt=q(Je,Ct);return 404===Je.getStatus()&&(jt=function xe(Z){return new qe("object-not-found","Object '"+Z+"' does not exist.")}(Z.path)),jt.serverResponse=Ct.serverResponse,jt}}function zt(Z,q,Me){var Ct=fi(q.fullServerUrl(),Z.host),En=Z.maxOperationRetryTime,xn=new mt(Ct,"GET",Xn(Z,Me),En);return xn.errorHandler=nn(q),xn}function tn(Z,q,Me,Je,Ct){var jt={};jt.prefix=q.isRoot?"":q.path+"/",Me&&Me.length>0&&(jt.delimiter=Me),Je&&(jt.pageToken=Je),Ct&&(jt.maxResults=Ct);var xn=fi(q.bucketOnlyServerUrl(),Z.host),mr=Z.maxOperationRetryTime,dr=new mt(xn,"GET",function Er(Z,q){return function Me(Je,Ct){var jt=function ke(Z,q,Me){var Je=Zr(Me);return null===Je?null:function dt(Z,q,Me){var Je={prefixes:[],items:[],nextPageToken:Me.nextPageToken};if(Me[ni])for(var Ct=0,jt=Me[ni];Ct<jt.length;Ct++){var xn=jt[Ct].replace(/\/$/,""),Un=Z._makeStorageReference(new er(q,xn));Je.prefixes.push(Un)}if(Me.items)for(var mr=0,dr=Me.items;mr<dr.length;mr++)Un=Z._makeStorageReference(new er(q,dr[mr].name)),Je.items.push(Un);return Je}(Z,q,Je)}(Z,q,Ct);return Lt(null!==jt),jt}}(Z,q.bucket),mr);return dr.urlParams=jt,dr.errorHandler=He(q),dr}function yr(Z,q,Me){var Je=Object.assign({},Me);return Je.fullPath=Z.path,Je.size=q.size(),Je.contentType||(Je.contentType=function In(Z,q){return Z&&Z.contentType||q&&q.type()||"application/octet-stream"}(null,q)),Je}var lr=function Z(q,Me,Je,Ct){this.current=q,this.total=Me,this.finalized=!!Je,this.metadata=Ct||null};function Zn(Z,q){var Me=null;try{Me=Z.getResponseHeader("X-Goog-Upload-Status")}catch(Ct){Lt(!1)}return Lt(!!Me&&-1!==(q||["active"]).indexOf(Me)),Me}var _r=function Z(q,Me,Je){var Ct=function cr(Z){return"function"==typeof Z}(q)||null!=Me||null!=Je;if(Ct)this.next=q,this.error=Me,this.complete=Je;else{var jt=q;this.next=jt.next,this.error=jt.error,this.complete=jt.complete}};function Qr(Z){return function(){for(var q=[],Me=0;Me<arguments.length;Me++)q[Me]=arguments[Me];Promise.resolve().then(function(){return Z.apply(void 0,q)})}}var Ai=function(){function Z(q,Me,Je){var Ct=this;void 0===Je&&(Je=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=q,this._blob=Me,this._metadata=Je,this._mappings=Pt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(jt){Ct._request=void 0,Ct._chunkMultiplier=1,jt._codeEquals("canceled")?(Ct._needToFetchStatus=!0,Ct.completeTransitions_()):(Ct._error=jt,Ct._transition("error"))},this._metadataErrorHandler=function(jt){Ct._request=void 0,jt._codeEquals("canceled")?Ct.completeTransitions_():(Ct._error=jt,Ct._transition("error"))},this._promise=new Promise(function(jt,En){Ct._resolve=jt,Ct._reject=En,Ct._start()}),this._promise.then(null,function(){})}return Z.prototype._makeProgressCallback=function(){var q=this,Me=this._transferred;return function(Je){return q._updateProgress(Me+Je)}},Z.prototype._shouldDoResumable=function(q){return q.size()>262144},Z.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},Z.prototype._resolveToken=function(q){var Me=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(Je){var Ct=Je[0],jt=Je[1];switch(Me._state){case"running":q(Ct,jt);break;case"canceling":Me._transition("canceled");break;case"pausing":Me._transition("paused")}})},Z.prototype._createResumable=function(){var q=this;this._resolveToken(function(Me,Je){var Ct=function ii(Z,q,Me,Je,Ct){var jt=q.bucketOnlyServerUrl(),En=yr(q,Je,Ct),xn={name:En.fullPath},Un=fi(jt,Z.host),dr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+Je.size(),"X-Goog-Upload-Header-Content-Type":En.contentType,"Content-Type":"application/json; charset=utf-8"},oi=sr(En,Me),Mr=new mt(Un,"POST",function po(vi){var Qi;Zn(vi);try{Qi=vi.getResponseHeader("X-Goog-Upload-URL")}catch(Ur){Lt(!1)}return Lt(Lr(Qi)),Qi},Z.maxUploadRetryTime);return Mr.urlParams=xn,Mr.headers=dr,Mr.body=oi,Mr.errorHandler=He(q),Mr}(q._ref.storage,q._ref._location,q._mappings,q._blob,q._metadata),jt=q._ref.storage._makeRequest(Ct,Me,Je);q._request=jt,jt.getPromise().then(function(En){q._request=void 0,q._uploadUrl=En,q._needToFetchStatus=!1,q.completeTransitions_()},q._errorHandler)})},Z.prototype._fetchStatus=function(){var q=this,Me=this._uploadUrl;this._resolveToken(function(Je,Ct){var jt=function Di(Z,q,Me,Je){var Un=new mt(Me,"POST",function jt(mr){var dr=Zn(mr,["active","final"]),oi=null;try{oi=mr.getResponseHeader("X-Goog-Upload-Size-Received")}catch(po){Lt(!1)}oi||Lt(!1);var mi=Number(oi);return Lt(!isNaN(mi)),new lr(mi,Je.size(),"final"===dr)},Z.maxUploadRetryTime);return Un.headers={"X-Goog-Upload-Command":"query"},Un.errorHandler=He(q),Un}(q._ref.storage,q._ref._location,Me,q._blob),En=q._ref.storage._makeRequest(jt,Je,Ct);q._request=En,En.getPromise().then(function(xn){xn=xn,q._request=void 0,q._updateProgress(xn.current),q._needToFetchStatus=!1,xn.finalized&&(q._needToFetchMetadata=!0),q.completeTransitions_()},q._errorHandler)})},Z.prototype._continueUpload=function(){var q=this,Me=262144*this._chunkMultiplier,Je=new lr(this._transferred,this._blob.size()),Ct=this._uploadUrl;this._resolveToken(function(jt,En){var xn;try{xn=function bn(Z,q,Me,Je,Ct,jt,En,xn){var Un=new lr(0,0);if(En?(Un.current=En.current,Un.total=En.total):(Un.current=0,Un.total=Je.size()),Je.size()!==Un.total)throw function rt(){return new qe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var mr=Un.total-Un.current,dr=mr;Ct>0&&(dr=Math.min(dr,Ct));var oi=Un.current,Mr={"X-Goog-Upload-Command":dr===mr?"upload, finalize":"upload","X-Goog-Upload-Offset":""+Un.current},vi=Je.slice(oi,oi+dr);if(null===vi)throw nt();var eo=new mt(Me,"POST",function Qi(Mi,Fi){var oe,To=Zn(Mi,["active","final"]),to=Un.current+dr,z=Je.size();return oe="final"===To?Xn(q,jt)(Mi,Fi):null,new lr(to,z,"final"===To,oe)},q.maxUploadRetryTime);return eo.headers=Mr,eo.body=vi.uploadData(),eo.progressCallback=xn||null,eo.errorHandler=He(Z),eo}(q._ref._location,q._ref.storage,Ct,q._blob,Me,q._mappings,Je,q._makeProgressCallback())}catch(mr){return q._error=mr,void q._transition("error")}var Un=q._ref.storage._makeRequest(xn,jt,En);q._request=Un,Un.getPromise().then(function(mr){q._increaseMultiplier(),q._request=void 0,q._updateProgress(mr.current),mr.finalized?(q._metadata=mr.metadata,q._transition("success")):q.completeTransitions_()},q._errorHandler)})},Z.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},Z.prototype._fetchMetadata=function(){var q=this;this._resolveToken(function(Me,Je){var Ct=zt(q._ref.storage,q._ref._location,q._mappings),jt=q._ref.storage._makeRequest(Ct,Me,Je);q._request=jt,jt.getPromise().then(function(En){q._request=void 0,q._metadata=En,q._transition("success")},q._metadataErrorHandler)})},Z.prototype._oneShotUpload=function(){var q=this;this._resolveToken(function(Me,Je){var Ct=function Nn(Z,q,Me,Je,Ct){var jt=q.bucketOnlyServerUrl(),En={"X-Goog-Upload-Protocol":"multipart"},Un=function xn(){for(var eo="",Mi=0;Mi<2;Mi++)eo+=Math.random().toString().slice(2);return eo}();En["Content-Type"]="multipart/related; boundary="+Un;var mr=yr(q,Je,Ct),dr=sr(mr,Me),po=kr.getBlob("--"+Un+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+dr+"\r\n--"+Un+"\r\nContent-Type: "+mr.contentType+"\r\n\r\n",Je,"\r\n--"+Un+"--");if(null===po)throw nt();var Mr={name:mr.fullPath},vi=fi(jt,Z.host),Ur=Z.maxUploadRetryTime,Ui=new mt(vi,"POST",Xn(Z,Me),Ur);return Ui.urlParams=Mr,Ui.headers=En,Ui.body=po.uploadData(),Ui.errorHandler=He(q),Ui}(q._ref.storage,q._ref._location,q._mappings,q._blob,q._metadata),jt=q._ref.storage._makeRequest(Ct,Me,Je);q._request=jt,jt.getPromise().then(function(En){q._request=void 0,q._metadata=En,q._updateProgress(q._blob.size()),q._transition("success")},q._errorHandler)})},Z.prototype._updateProgress=function(q){var Me=this._transferred;this._transferred=q,this._transferred!==Me&&this._notifyObservers()},Z.prototype._transition=function(q){if(this._state!==q)switch(q){case"canceling":case"pausing":this._state=q,void 0!==this._request&&this._request.cancel();break;case"running":var Me="paused"===this._state;this._state=q,Me&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=q,this._notifyObservers();break;case"canceled":this._error=Qe(),this._state=q,this._notifyObservers()}},Z.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(Z.prototype,"snapshot",{get:function(){var q=We(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:q,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),Z.prototype.on=function(q,Me,Je,Ct){var jt=this,En=new _r(Me,Je,Ct);return this._addObserver(En),function(){jt._removeObserver(En)}},Z.prototype.then=function(q,Me){return this._promise.then(q,Me)},Z.prototype.catch=function(q){return this.then(null,q)},Z.prototype._addObserver=function(q){this._observers.push(q),this._notifyObserver(q)},Z.prototype._removeObserver=function(q){var Me=this._observers.indexOf(q);-1!==Me&&this._observers.splice(Me,1)},Z.prototype._notifyObservers=function(){var q=this;this._finishPromise(),this._observers.slice().forEach(function(Je){q._notifyObserver(Je)})},Z.prototype._finishPromise=function(){if(void 0!==this._resolve){var q=!0;switch(We(this._state)){case on.SUCCESS:Qr(this._resolve.bind(null,this.snapshot))();break;case on.CANCELED:case on.ERROR:Qr(this._reject.bind(null,this._error))();break;default:q=!1}q&&(this._resolve=void 0,this._reject=void 0)}},Z.prototype._notifyObserver=function(q){switch(We(this._state)){case on.RUNNING:case on.PAUSED:q.next&&Qr(q.next.bind(q,this.snapshot))();break;case on.SUCCESS:q.complete&&Qr(q.complete.bind(q))();break;default:q.error&&Qr(q.error.bind(q,this._error))()}},Z.prototype.resume=function(){var q="paused"===this._state||"pausing"===this._state;return q&&this._transition("running"),q},Z.prototype.pause=function(){var q="running"===this._state;return q&&this._transition("pausing"),q},Z.prototype.cancel=function(){var q="running"===this._state||"pausing"===this._state;return q&&this._transition("canceling"),q},Z}(),Ki=function(){function Z(q,Me){this._service=q,this._location=Me instanceof er?Me:er.makeFromUrl(Me,q.host)}return Z.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},Z.prototype._newRef=function(q,Me){return new Z(q,Me)},Object.defineProperty(Z.prototype,"root",{get:function(){var q=new er(this._location.bucket,"");return this._newRef(this._service,q)},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"name",{get:function(){return bt(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"parent",{get:function(){var q=function it(Z){if(0===Z.length)return null;var q=Z.lastIndexOf("/");return-1===q?"":Z.slice(0,q)}(this._location.path);if(null===q)return null;var Me=new er(this._location.bucket,q);return new Z(this._service,Me)},enumerable:!1,configurable:!0}),Z.prototype._throwIfRoot=function(q){if(""===this._location.path)throw Ye(q)},Z}();function zn(Z){var q={prefixes:[],items:[]};return Dn(Z,q).then(function(){return q})}function Dn(Z,q,Me){return(0,j.__awaiter)(this,void 0,void 0,function(){var Ct,jt,En;return(0,j.__generator)(this,function(xn){switch(xn.label){case 0:return[4,fr(Z,{pageToken:Me})];case 1:return Ct=xn.sent(),(jt=q.prefixes).push.apply(jt,Ct.prefixes),(En=q.items).push.apply(En,Ct.items),null==Ct.nextPageToken?[3,3]:[4,Dn(Z,q,Ct.nextPageToken)];case 2:xn.sent(),xn.label=3;case 3:return[2]}})})}function fr(Z,q){return(0,j.__awaiter)(this,void 0,void 0,function(){var Me,Je;return(0,j.__generator)(this,function(Ct){switch(Ct.label){case 0:return null!=q&&"number"==typeof q.maxResults&&Rr("options.maxResults",1,1e3,q.maxResults),Je=tn(Z.storage,Z._location,"/",(Me=q||{}).pageToken,Me.maxResults),[4,Z.storage.makeRequestWithTokens(Je)];case 1:return[2,Ct.sent().getPromise()]}})})}function Oe(Z){return(0,j.__awaiter)(this,void 0,void 0,function(){var q;return(0,j.__generator)(this,function(Me){switch(Me.label){case 0:return Z._throwIfRoot("getDownloadURL"),q=function dn(Z,q,Me){var Ct=fi(q.fullServerUrl(),Z.host),En=Z.maxOperationRetryTime,xn=new mt(Ct,"GET",function Ve(Z,q){return function Me(Je,Ct){var jt=Jn(Z,Ct,q);return Lt(null!==jt),function Cr(Z,q,Me){var Je=Zr(q);if(null===Je||!Lr(Je.downloadTokens))return null;var Ct=Je.downloadTokens;if(0===Ct.length)return null;var jt=encodeURIComponent;return Ct.split(",").map(function(Un){var dr=Z.fullPath;return fi("/b/"+jt(Z.bucket)+"/o/"+jt(dr),Me)+Hr({alt:"media",token:Un})})[0]}(jt,Ct,Z.host)}}(Z,Me),En);return xn.errorHandler=nn(q),xn}(Z.storage,Z._location,Pt()),[4,Z.storage.makeRequestWithTokens(q)];case 1:return[2,Me.sent().getPromise().then(function(Je){if(null===Je)throw function Nt(){return new qe("no-download-url","The given file does not have any download URLs.")}();return Je})]}})})}function Fe(Z,q){var Me=function Ue(Z,q){var Me=q.split("/").filter(function(Je){return Je.length>0}).join("/");return 0===Z.length?Me:Z+"/"+Me}(Z._location.path,q),Je=new er(Z._location.bucket,Me);return new Ki(Z.storage,Je)}function ut(Z){return/^[A-Za-z]+:\/\//.test(Z)}function It(Z,q){if(Z instanceof On){var Me=Z;if(null==Me._bucket)throw function Ut(){return new qe("no-default-bucket","No default bucket found. Did you set the '"+we+"' property when initializing the app?")}();var Je=new Ki(Me,Me._bucket);return null!=q?It(Je,q):Je}return void 0!==q?Fe(Z,q):Z}function en(Z,q){if(q&&ut(q)){if(Z instanceof On)return function lt(Z,q){return new Ki(Z,q)}(Z,q);throw Et("To use ref(service, url), the first argument must be a Storage instance.")}return It(Z,q)}function Wt(Z,q){var Me=null==q?void 0:q[we];return null==Me?null:er.makeFromBucketSpec(Me,Z)}var On=function(){function Z(q,Me,Je,Ct,jt,En){this.app=q,this._authProvider=Me,this._appCheckProvider=Je,this._pool=Ct,this._url=jt,this._firebaseVersion=En,this._bucket=null,this._host=Le,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=jt?er.makeFromBucketSpec(jt,this._host):Wt(this._host,this.app.options)}return Object.defineProperty(Z.prototype,"host",{get:function(){return this._host},set:function(q){this._host=q,this._bucket=null!=this._url?er.makeFromBucketSpec(this._url,q):Wt(q,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(q){Rr("time",0,Number.POSITIVE_INFINITY,q),this._maxUploadRetryTime=q},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(q){Rr("time",0,Number.POSITIVE_INFINITY,q),this._maxOperationRetryTime=q},enumerable:!1,configurable:!0}),Z.prototype._getAuthToken=function(){return(0,j.__awaiter)(this,void 0,void 0,function(){var q,Me;return(0,j.__generator)(this,function(Je){switch(Je.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(q=this._authProvider.getImmediate({optional:!0}))?[4,q.getToken()]:[3,2];case 1:if(null!==(Me=Je.sent()))return[2,Me.accessToken];Je.label=2;case 2:return[2,null]}})})},Z.prototype._getAppCheckToken=function(){return(0,j.__awaiter)(this,void 0,void 0,function(){var q;return(0,j.__generator)(this,function(Je){switch(Je.label){case 0:return(q=this._appCheckProvider.getImmediate({optional:!0}))?[4,q.getToken()]:[3,2];case 1:return[2,Je.sent().token];case 2:return[2,null]}})})},Z.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(q){return q.cancel()}),this._requests.clear()),Promise.resolve()},Z.prototype._makeStorageReference=function(q){return new Ki(this,q)},Z.prototype._makeRequest=function(q,Me,Je){var Ct=this;if(this._deleted)return new Pr(rn());var jt=function Ei(Z,q,Me,Je,Ct,jt){var En=Hr(Z.urlParams),xn=Z.url+En,Un=Object.assign({},Z.headers);return function Qn(Z,q){q&&(Z["X-Firebase-GMPID"]=q)}(Un,q),function br(Z,q){null!==q&&q.length>0&&(Z.Authorization="Firebase "+q)}(Un,Me),function $t(Z,q){Z["X-Firebase-Storage-Version"]="webjs/"+(null!=q?q:"AppManager")}(Un,jt),function vr(Z,q){null!==q&&(Z["X-Firebase-AppCheck"]=q)}(Un,Je),new Gn(xn,Z.method,Un,Z.body,Z.successCodes,Z.additionalRetryCodes,Z.handler,Z.errorHandler,Z.timeout,Z.progressCallback,Ct)}(q,this._appId,Me,Je,this._pool,this._firebaseVersion);return this._requests.add(jt),jt.getPromise().then(function(){return Ct._requests.delete(jt)},function(){return Ct._requests.delete(jt)}),jt},Z.prototype.makeRequestWithTokens=function(q){return(0,j.__awaiter)(this,void 0,void 0,function(){var Me;return(0,j.__generator)(this,function(jt){switch(jt.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return Me=jt.sent(),[2,this._makeRequest(q,Me[0],Me[1])]}})})},Z}();function $i(Z,q){return en(Z=(0,H.getModularInstance)(Z),q)}var gr=function(){function Z(q,Me,Je){this._delegate=q,this.task=Me,this.ref=Je}return Object.defineProperty(Z.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),Z}(),Oo=function(){function Z(q,Me){this._delegate=q,this._ref=Me,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(Z.prototype,"snapshot",{get:function(){return new gr(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),Z.prototype.then=function(q,Me){var Je=this;return this._delegate.then(function(Ct){if(q)return q(new gr(Ct,Je,Je._ref))},Me)},Z.prototype.on=function(q,Me,Je,Ct){var jt=this,En=void 0;return Me&&(En="function"==typeof Me?function(xn){return Me(new gr(xn,jt,jt._ref))}:{next:Me.next?function(xn){return Me.next(new gr(xn,jt,jt._ref))}:void 0,complete:Me.complete||void 0,error:Me.error||void 0}),this._delegate.on(q,En,Je||void 0,Ct||void 0)},Z}(),wo=function(){function Z(q,Me){this._delegate=q,this._service=Me}return Object.defineProperty(Z.prototype,"prefixes",{get:function(){var q=this;return this._delegate.prefixes.map(function(Me){return new Xi(Me,q._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"items",{get:function(){var q=this;return this._delegate.items.map(function(Me){return new Xi(Me,q._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),Z}(),Xi=function(){function Z(q,Me){this._delegate=q,this.storage=Me}return Object.defineProperty(Z.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),Z.prototype.toString=function(){return this._delegate.toString()},Z.prototype.child=function(q){var Me=function Do(Z,q){return Fe(Z,q)}(this._delegate,q);return new Z(Me,this.storage)},Object.defineProperty(Z.prototype,"root",{get:function(){return new Z(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"parent",{get:function(){var q=this._delegate.parent;return null==q?null:new Z(q,this.storage)},enumerable:!1,configurable:!0}),Z.prototype.put=function(q,Me){return this._throwIfRoot("put"),new Oo(function tr(Z,q,Me){return function $r(Z,q,Me){return Z._throwIfRoot("uploadBytesResumable"),new Ai(Z,new kr(q),Me)}(Z=(0,H.getModularInstance)(Z),q,Me)}(this._delegate,q,Me),this)},Z.prototype.putString=function(q,Me,Je){void 0===Me&&(Me=Ke.RAW),this._throwIfRoot("putString");var Ct=Tn(Me,q),jt=(0,j.__assign)({},Je);return null==jt.contentType&&null!=Ct.contentType&&(jt.contentType=Ct.contentType),new Oo(new Ai(this._delegate,new kr(Ct.data,!0),jt),this)},Z.prototype.listAll=function(){var q=this;return function Wr(Z){return zn(Z=(0,H.getModularInstance)(Z))}(this._delegate).then(function(Me){return new wo(Me,q.storage)})},Z.prototype.list=function(q){var Me=this;return function lo(Z,q){return fr(Z=(0,H.getModularInstance)(Z),q)}(this._delegate,q||void 0).then(function(Je){return new wo(Je,Me.storage)})},Z.prototype.getMetadata=function(){return function pr(Z){return function gi(Z){return(0,j.__awaiter)(this,void 0,void 0,function(){var q;return(0,j.__generator)(this,function(Me){switch(Me.label){case 0:return Z._throwIfRoot("getMetadata"),q=zt(Z.storage,Z._location,Pt()),[4,Z.storage.makeRequestWithTokens(q)];case 1:return[2,Me.sent().getPromise()]}})})}(Z=(0,H.getModularInstance)(Z))}(this._delegate)},Z.prototype.updateMetadata=function(q){return function Ir(Z,q){return function ne(Z,q){return(0,j.__awaiter)(this,void 0,void 0,function(){var Me;return(0,j.__generator)(this,function(Je){switch(Je.label){case 0:return Z._throwIfRoot("updateMetadata"),Me=function cn(Z,q,Me,Je){var jt=fi(q.fullServerUrl(),Z.host),xn=sr(Me,Je),mr=Z.maxOperationRetryTime,dr=new mt(jt,"PATCH",Xn(Z,Je),mr);return dr.headers={"Content-Type":"application/json; charset=utf-8"},dr.body=xn,dr.errorHandler=nn(q),dr}(Z.storage,Z._location,q,Pt()),[4,Z.storage.makeRequestWithTokens(Me)];case 1:return[2,Je.sent().getPromise()]}})})}(Z=(0,H.getModularInstance)(Z),q)}(this._delegate,q)},Z.prototype.getDownloadURL=function(){return function Zi(Z){return Oe(Z=(0,H.getModularInstance)(Z))}(this._delegate)},Z.prototype.delete=function(){return this._throwIfRoot("delete"),function di(Z){return function be(Z){return(0,j.__awaiter)(this,void 0,void 0,function(){var q;return(0,j.__generator)(this,function(Me){switch(Me.label){case 0:return Z._throwIfRoot("deleteObject"),q=function An(Z,q){var Je=fi(q.fullServerUrl(),Z.host),xn=new mt(Je,"DELETE",function En(Un,mr){},Z.maxOperationRetryTime);return xn.successCodes=[200,204],xn.errorHandler=nn(q),xn}(Z.storage,Z._location),[4,Z.storage.makeRequestWithTokens(q)];case 1:return[2,Me.sent().getPromise()]}})})}(Z=(0,H.getModularInstance)(Z))}(this._delegate)},Z.prototype._throwIfRoot=function(q){if(""===this._delegate._location.path)throw Ye(q)},Z}(),Lo=function(){function Z(q,Me){this.app=q,this._delegate=Me}return Object.defineProperty(Z.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),Z.prototype.ref=function(q){if(ut(q))throw Et("ref() expected a child path but got a URL, use refFromURL instead.");return new Xi($i(this._delegate,q),this)},Z.prototype.refFromURL=function(q){if(!ut(q))throw Et("refFromURL() expected a full URL but got a child path, use ref() instead.");try{er.makeFromUrl(q,this._delegate.host)}catch(Me){throw Et("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xi($i(this._delegate,q),this)},Z.prototype.setMaxUploadRetryTime=function(q){this._delegate.maxUploadRetryTime=q},Z.prototype.setMaxOperationRetryTime=function(q){this._delegate.maxOperationRetryTime=q},Z.prototype.useEmulator=function(q,Me,Je){void 0===Je&&(Je={}),function rs(Z,q,Me,Je){void 0===Je&&(Je={}),function Bt(Z,q,Me,Je){void 0===Je&&(Je={}),Z.host="http://"+q+":"+Me;var Ct=Je.mockUserToken;Ct&&(Z._overrideAuthToken="string"==typeof Ct?Ct:(0,H.createMockUserToken)(Ct,Z.app.options.projectId))}(Z,q,Me,Je)}(this._delegate,q,Me,Je)},Z}();function li(Z,q){var Me=q.instanceIdentifier,Je=Z.getProvider("app").getImmediate(),Ct=Z.getProvider("auth-internal"),jt=Z.getProvider("app-check-internal");return new Lo(Je,new On(Je,Ct,jt,new Mn,Me,f.default.SDK_VERSION))}!function bo(Z){var q={TaskState:on,TaskEvent:Ft,StringFormat:Ke,Storage:On,Reference:Xi};Z.INTERNAL.registerComponent(new tt.Component("storage",li,"PUBLIC").setServiceProps(q).setMultipleInstances(!0)),Z.registerVersion("@firebase/storage","0.7.1")}(f.default)},492:(wr,an,fe)=>{"use strict";fe.r(an),fe.d(an,{CONSTANTS:()=>j,Deferred:()=>ve,ErrorFactory:()=>Tn,FirebaseError:()=>at,MAX_VALUE_MILLIS:()=>Ei,RANDOM_FACTOR:()=>xr,Sha1:()=>Vr,areCookiesEnabled:()=>ae,assert:()=>H,assertionError:()=>tt,async:()=>Lr,base64:()=>_e,base64Decode:()=>x,base64Encode:()=>Dt,base64urlEncodeWithoutPadding:()=>qe,calculateBackoffMillis:()=>Si,contains:()=>We,createMockUserToken:()=>Pe,createSubscribe:()=>cr,decode:()=>St,deepCopy:()=>Se,deepEqual:()=>Mn,deepExtend:()=>xe,errorPrefix:()=>fi,extractQuerystring:()=>Kn,getGlobal:()=>Be,getModularInstance:()=>Zr,getUA:()=>ue,isAdmin:()=>on,isBrowser:()=>ct,isBrowserExtension:()=>wt,isElectron:()=>nt,isEmpty:()=>yn,isIE:()=>rt,isIndexedDBAvailable:()=>Ye,isMobileCordova:()=>Ge,isNode:()=>Qe,isNodeSdk:()=>Et,isReactNative:()=>Ut,isSafari:()=>rn,isUWP:()=>Nt,isValidFormat:()=>Ft,isValidTimestamp:()=>yt,issuedAtTime:()=>Mt,jsonEval:()=>At,map:()=>ar,ordinal:()=>Or,querystring:()=>Pr,querystringDecode:()=>or,safeGet:()=>Bn,stringLength:()=>$t,stringToByteArray:()=>br,stringify:()=>Rt,validateArgCount:()=>Rr,validateCallback:()=>Gn,validateContextObject:()=>nr,validateIndexedDBOpenable:()=>ze,validateNamespace:()=>Hr});var f=fe(655),j={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},H=function(it,Ue){if(!it)throw tt(Ue)},tt=function(it){return new Error("Firebase Database ("+j.SDK_VERSION+") INTERNAL ASSERT FAILED: "+it)},Le=function(it){for(var Ue=[],bt=0,Ce=0;Ce<it.length;Ce++){var Ae=it.charCodeAt(Ce);Ae<128?Ue[bt++]=Ae:Ae<2048?(Ue[bt++]=Ae>>6|192,Ue[bt++]=63&Ae|128):55296==(64512&Ae)&&Ce+1<it.length&&56320==(64512&it.charCodeAt(Ce+1))?(Ae=65536+((1023&Ae)<<10)+(1023&it.charCodeAt(++Ce)),Ue[bt++]=Ae>>18|240,Ue[bt++]=Ae>>12&63|128,Ue[bt++]=Ae>>6&63|128,Ue[bt++]=63&Ae|128):(Ue[bt++]=Ae>>12|224,Ue[bt++]=Ae>>6&63|128,Ue[bt++]=63&Ae|128)}return Ue},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(it,Ue){if(!Array.isArray(it))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var bt=Ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[],Ae=0;Ae<it.length;Ae+=3){var st=it[Ae],Ot=Ae+1<it.length,Pt=Ot?it[Ae+1]:0,Jt=Ae+2<it.length,Fn=Jt?it[Ae+2]:0,sr=(15&Pt)<<2|Fn>>6,ni=63&Fn;Jt||(ni=64,Ot||(sr=64)),Ce.push(bt[st>>2],bt[(3&st)<<4|Pt>>4],bt[sr],bt[ni])}return Ce.join("")},encodeString:function(it,Ue){return this.HAS_NATIVE_SUPPORT&&!Ue?btoa(it):this.encodeByteArray(Le(it),Ue)},decodeString:function(it,Ue){return this.HAS_NATIVE_SUPPORT&&!Ue?atob(it):function(it){for(var Ue=[],bt=0,Ce=0;bt<it.length;){var Ae=it[bt++];if(Ae<128)Ue[Ce++]=String.fromCharCode(Ae);else if(Ae>191&&Ae<224){var st=it[bt++];Ue[Ce++]=String.fromCharCode((31&Ae)<<6|63&st)}else if(Ae>239&&Ae<365){var Jt=((7&Ae)<<18|(63&(st=it[bt++]))<<12|(63&(Ot=it[bt++]))<<6|63&it[bt++])-65536;Ue[Ce++]=String.fromCharCode(55296+(Jt>>10)),Ue[Ce++]=String.fromCharCode(56320+(1023&Jt))}else{st=it[bt++];var Ot=it[bt++];Ue[Ce++]=String.fromCharCode((15&Ae)<<12|(63&st)<<6|63&Ot)}}return Ue.join("")}(this.decodeStringToByteArray(it,Ue))},decodeStringToByteArray:function(it,Ue){this.init_();for(var bt=Ue?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[],Ae=0;Ae<it.length;){var st=bt[it.charAt(Ae++)],Pt=Ae<it.length?bt[it.charAt(Ae)]:0,Fn=++Ae<it.length?bt[it.charAt(Ae)]:64,Cr=++Ae<it.length?bt[it.charAt(Ae)]:64;if(++Ae,null==st||null==Pt||null==Fn||null==Cr)throw Error();Ce.push(st<<2|Pt>>4),64!==Fn&&(Ce.push(Pt<<4&240|Fn>>2),64!==Cr&&Ce.push(Fn<<6&192|Cr))}return Ce},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var it=0;it<this.ENCODED_VALS.length;it++)this.byteToCharMap_[it]=this.ENCODED_VALS.charAt(it),this.charToByteMap_[this.byteToCharMap_[it]]=it,this.byteToCharMapWebSafe_[it]=this.ENCODED_VALS_WEBSAFE.charAt(it),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[it]]=it,it>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(it)]=it,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(it)]=it)}}},Dt=function(it){var Ue=Le(it);return _e.encodeByteArray(Ue,!0)},qe=function(it){return Dt(it).replace(/\./g,"")},x=function(it){try{return _e.decodeString(it,!0)}catch(Ue){console.error("base64Decode failed: ",Ue)}return null};function Se(it){return xe(void 0,it)}function xe(it,Ue){if(!(Ue instanceof Object))return Ue;switch(Ue.constructor){case Date:return new Date(Ue.getTime());case Object:void 0===it&&(it={});break;case Array:it=[];break;default:return Ue}for(var Ce in Ue)!Ue.hasOwnProperty(Ce)||!ce(Ce)||(it[Ce]=xe(it[Ce],Ue[Ce]));return it}function ce(it){return"__proto__"!==it}var ve=function(){function it(){var Ue=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(bt,Ce){Ue.resolve=bt,Ue.reject=Ce})}return it.prototype.wrapCallback=function(Ue){var bt=this;return function(Ce,Ae){Ce?bt.reject(Ce):bt.resolve(Ae),"function"==typeof Ue&&(bt.promise.catch(function(){}),1===Ue.length?Ue(Ce):Ue(Ce,Ae))}},it}();function Pe(it,Ue){if(it.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var Ce=Ue||"demo-project",Ae=it.iat||0,st=it.sub||it.user_id;if(!st)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ot=(0,f.__assign)({iss:"https://securetoken.google.com/"+Ce,aud:Ce,iat:Ae,exp:Ae+3600,auth_time:Ae,sub:st,user_id:st,firebase:{sign_in_provider:"custom",identities:{}}},it);return[qe(JSON.stringify({alg:"none",type:"JWT"})),qe(JSON.stringify(Ot)),""].join(".")}function ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ue())}function Qe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(it){return!1}}function ct(){return"object"==typeof self&&self.self===self}function wt(){var it="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof it&&void 0!==it.id}function Ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nt(){return ue().indexOf("Electron/")>=0}function rt(){var it=ue();return it.indexOf("MSIE ")>=0||it.indexOf("Trident/")>=0}function Nt(){return ue().indexOf("MSAppHost/")>=0}function Et(){return!0===j.NODE_CLIENT||!0===j.NODE_ADMIN}function rn(){return!Qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ye(){return"indexedDB"in self&&null!=indexedDB}function ze(){return new Promise(function(it,Ue){try{var bt=!0,Ce="validate-browser-context-for-indexeddb-analytics-module",Ae=self.indexedDB.open(Ce);Ae.onsuccess=function(){Ae.result.close(),bt||self.indexedDB.deleteDatabase(Ce),it(!0)},Ae.onupgradeneeded=function(){bt=!1},Ae.onerror=function(){var st;Ue((null===(st=Ae.error)||void 0===st?void 0:st.message)||"")}}catch(st){Ue(st)}})}function ae(){return!(!navigator||!navigator.cookieEnabled)}function Be(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var at=function(it){function Ue(bt,Ce,Ae){var st=it.call(this,Ce)||this;return st.code=bt,st.customData=Ae,st.name="FirebaseError",Object.setPrototypeOf(st,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(st,Tn.prototype.create),st}return(0,f.__extends)(Ue,it),Ue}(Error),Tn=function(){function it(Ue,bt,Ce){this.service=Ue,this.serviceName=bt,this.errors=Ce}return it.prototype.create=function(Ue){for(var bt=[],Ce=1;Ce<arguments.length;Ce++)bt[Ce-1]=arguments[Ce];var Ae=bt[0]||{},st=this.service+"/"+Ue,Ot=this.errors[Ue],Pt=Ot?gn(Ot,Ae):"Error",Jt=this.serviceName+": "+Pt+" ("+st+").",Fn=new at(st,Jt,Ae);return Fn},it}();function gn(it,Ue){return it.replace(Tt,function(bt,Ce){var Ae=Ue[Ce];return null!=Ae?String(Ae):"<"+Ce+"?>"})}var Tt=/\{\$([^}]+)}/g;function At(it){return JSON.parse(it)}function Rt(it){return JSON.stringify(it)}var St=function(it){var Ue={},bt={},Ce={},Ae="";try{var st=it.split(".");Ue=At(x(st[0])||""),bt=At(x(st[1])||""),Ae=st[2],Ce=bt.d||{},delete bt.d}catch(Ot){}return{header:Ue,claims:bt,data:Ce,signature:Ae}},yt=function(it){var Ue=St(it).claims,bt=Math.floor((new Date).getTime()/1e3),Ce=0,Ae=0;return"object"==typeof Ue&&(Ue.hasOwnProperty("nbf")?Ce=Ue.nbf:Ue.hasOwnProperty("iat")&&(Ce=Ue.iat),Ae=Ue.hasOwnProperty("exp")?Ue.exp:Ce+86400),!!bt&&!!Ce&&!!Ae&&bt>=Ce&&bt<=Ae},Mt=function(it){var Ue=St(it).claims;return"object"==typeof Ue&&Ue.hasOwnProperty("iat")?Ue.iat:null},Ft=function(it){var bt=St(it).claims;return!!bt&&"object"==typeof bt&&bt.hasOwnProperty("iat")},on=function(it){var Ue=St(it).claims;return"object"==typeof Ue&&!0===Ue.admin};function We(it,Ue){return Object.prototype.hasOwnProperty.call(it,Ue)}function Bn(it,Ue){if(Object.prototype.hasOwnProperty.call(it,Ue))return it[Ue]}function yn(it){for(var Ue in it)if(Object.prototype.hasOwnProperty.call(it,Ue))return!1;return!0}function ar(it,Ue,bt){var Ce={};for(var Ae in it)Object.prototype.hasOwnProperty.call(it,Ae)&&(Ce[Ae]=Ue.call(bt,it[Ae],Ae,it));return Ce}function Mn(it,Ue){if(it===Ue)return!0;for(var bt=Object.keys(it),Ce=Object.keys(Ue),Ae=0,st=bt;Ae<st.length;Ae++){if(!Ce.includes(Ot=st[Ae]))return!1;var Pt=it[Ot],Jt=Ue[Ot];if(er(Pt)&&er(Jt)){if(!Mn(Pt,Jt))return!1}else if(Pt!==Jt)return!1}for(var Fn=0,Jn=Ce;Fn<Jn.length;Fn++){var Ot;if(!bt.includes(Ot=Jn[Fn]))return!1}return!0}function er(it){return null!==it&&"object"==typeof it}function Pr(it){for(var Ue=[],bt=function(Jt,Fn){Array.isArray(Fn)?Fn.forEach(function(Jn){Ue.push(encodeURIComponent(Jt)+"="+encodeURIComponent(Jn))}):Ue.push(encodeURIComponent(Jt)+"="+encodeURIComponent(Fn))},Ce=0,Ae=Object.entries(it);Ce<Ae.length;Ce++){var st=Ae[Ce];bt(st[0],st[1])}return Ue.length?"&"+Ue.join("&"):""}function or(it){var Ue={};return it.replace(/^\?/,"").split("&").forEach(function(Ce){if(Ce){var Ae=Ce.split("="),Ot=Ae[1];Ue[decodeURIComponent(Ae[0])]=decodeURIComponent(Ot)}}),Ue}function Kn(it){var Ue=it.indexOf("?");if(!Ue)return"";var bt=it.indexOf("#",Ue);return it.substring(Ue,bt>0?bt:void 0)}var Vr=function(){function it(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Ue=1;Ue<this.blockSize;++Ue)this.pad_[Ue]=0;this.reset()}return it.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},it.prototype.compress_=function(Ue,bt){bt||(bt=0);var Ce=this.W_;if("string"==typeof Ue)for(var Ae=0;Ae<16;Ae++)Ce[Ae]=Ue.charCodeAt(bt)<<24|Ue.charCodeAt(bt+1)<<16|Ue.charCodeAt(bt+2)<<8|Ue.charCodeAt(bt+3),bt+=4;else for(Ae=0;Ae<16;Ae++)Ce[Ae]=Ue[bt]<<24|Ue[bt+1]<<16|Ue[bt+2]<<8|Ue[bt+3],bt+=4;for(Ae=16;Ae<80;Ae++)Ce[Ae]=4294967295&((st=Ce[Ae-3]^Ce[Ae-8]^Ce[Ae-14]^Ce[Ae-16])<<1|st>>>31);var Cr,sr,Ot=this.chain_[0],Pt=this.chain_[1],Jt=this.chain_[2],Fn=this.chain_[3],Jn=this.chain_[4];for(Ae=0;Ae<80;Ae++){Ae<40?Ae<20?(Cr=Fn^Pt&(Jt^Fn),sr=1518500249):(Cr=Pt^Jt^Fn,sr=1859775393):Ae<60?(Cr=Pt&Jt|Fn&(Pt|Jt),sr=2400959708):(Cr=Pt^Jt^Fn,sr=3395469782);var st=(Ot<<5|Ot>>>27)+Cr+Jn+sr+Ce[Ae]&4294967295;Jn=Fn,Fn=Jt,Jt=4294967295&(Pt<<30|Pt>>>2),Pt=Ot,Ot=st}this.chain_[0]=this.chain_[0]+Ot&4294967295,this.chain_[1]=this.chain_[1]+Pt&4294967295,this.chain_[2]=this.chain_[2]+Jt&4294967295,this.chain_[3]=this.chain_[3]+Fn&4294967295,this.chain_[4]=this.chain_[4]+Jn&4294967295},it.prototype.update=function(Ue,bt){if(null!=Ue){void 0===bt&&(bt=Ue.length);for(var Ce=bt-this.blockSize,Ae=0,st=this.buf_,Ot=this.inbuf_;Ae<bt;){if(0===Ot)for(;Ae<=Ce;)this.compress_(Ue,Ae),Ae+=this.blockSize;if("string"==typeof Ue){for(;Ae<bt;)if(st[Ot]=Ue.charCodeAt(Ae),++Ae,++Ot===this.blockSize){this.compress_(st),Ot=0;break}}else for(;Ae<bt;)if(st[Ot]=Ue[Ae],++Ae,++Ot===this.blockSize){this.compress_(st),Ot=0;break}}this.inbuf_=Ot,this.total_+=bt}},it.prototype.digest=function(){var Ue=[],bt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Ce=this.blockSize-1;Ce>=56;Ce--)this.buf_[Ce]=255&bt,bt/=256;this.compress_(this.buf_);var Ae=0;for(Ce=0;Ce<5;Ce++)for(var st=24;st>=0;st-=8)Ue[Ae]=this.chain_[Ce]>>st&255,++Ae;return Ue},it}();function cr(it,Ue){var bt=new Fr(it,Ue);return bt.subscribe.bind(bt)}var Fr=function(){function it(Ue,bt){var Ce=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=bt,this.task.then(function(){Ue(Ce)}).catch(function(Ae){Ce.error(Ae)})}return it.prototype.next=function(Ue){this.forEachObserver(function(bt){bt.next(Ue)})},it.prototype.error=function(Ue){this.forEachObserver(function(bt){bt.error(Ue)}),this.close(Ue)},it.prototype.complete=function(){this.forEachObserver(function(Ue){Ue.complete()}),this.close()},it.prototype.subscribe=function(Ue,bt,Ce){var st,Ae=this;if(void 0===Ue&&void 0===bt&&void 0===Ce)throw new Error("Missing Observer.");st=function Sr(it,Ue){if("object"!=typeof it||null===it)return!1;for(var bt=0,Ce=Ue;bt<Ce.length;bt++){var Ae=Ce[bt];if(Ae in it&&"function"==typeof it[Ae])return!0}return!1}(Ue,["next","error","complete"])?Ue:{next:Ue,error:bt,complete:Ce},void 0===st.next&&(st.next=rr),void 0===st.error&&(st.error=rr),void 0===st.complete&&(st.complete=rr);var Ot=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Ae.finalError?st.error(Ae.finalError):st.complete()}catch(Pt){}}),this.observers.push(st),Ot},it.prototype.unsubscribeOne=function(Ue){void 0===this.observers||void 0===this.observers[Ue]||(delete this.observers[Ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},it.prototype.forEachObserver=function(Ue){if(!this.finalized)for(var bt=0;bt<this.observers.length;bt++)this.sendOne(bt,Ue)},it.prototype.sendOne=function(Ue,bt){var Ce=this;this.task.then(function(){if(void 0!==Ce.observers&&void 0!==Ce.observers[Ue])try{bt(Ce.observers[Ue])}catch(Ae){"undefined"!=typeof console&&console.error&&console.error(Ae)}})},it.prototype.close=function(Ue){var bt=this;this.finalized||(this.finalized=!0,void 0!==Ue&&(this.finalError=Ue),this.task.then(function(){bt.observers=void 0,bt.onNoObservers=void 0}))},it}();function Lr(it,Ue){return function(){for(var bt=[],Ce=0;Ce<arguments.length;Ce++)bt[Ce]=arguments[Ce];Promise.resolve(!0).then(function(){it.apply(void 0,bt)}).catch(function(Ae){Ue&&Ue(Ae)})}}function rr(){}var Rr=function(it,Ue,bt,Ce){var Ae;if(Ce<Ue?Ae="at least "+Ue:Ce>bt&&(Ae=0===bt?"none":"no more than "+bt),Ae)throw new Error(it+" failed: Was called with "+Ce+(1===Ce?" argument.":" arguments.")+" Expects "+Ae+".")};function fi(it,Ue){return it+" failed: "+Ue+" argument "}function Hr(it,Ue,bt){if((!bt||Ue)&&"string"!=typeof Ue)throw new Error(fi(it,"namespace")+"must be a valid firebase namespace.")}function Gn(it,Ue,bt,Ce){if((!Ce||bt)&&"function"!=typeof bt)throw new Error(fi(it,Ue)+"must be a valid function.")}function nr(it,Ue,bt,Ce){if((!Ce||bt)&&("object"!=typeof bt||null===bt))throw new Error(fi(it,Ue)+"must be a valid context object.")}var br=function(it){for(var Ue=[],bt=0,Ce=0;Ce<it.length;Ce++){var Ae=it.charCodeAt(Ce);if(Ae>=55296&&Ae<=56319){var st=Ae-55296;Ce++,H(Ce<it.length,"Surrogate pair missing trail surrogate."),Ae=65536+(st<<10)+(it.charCodeAt(Ce)-56320)}Ae<128?Ue[bt++]=Ae:Ae<2048?(Ue[bt++]=Ae>>6|192,Ue[bt++]=63&Ae|128):Ae<65536?(Ue[bt++]=Ae>>12|224,Ue[bt++]=Ae>>6&63|128,Ue[bt++]=63&Ae|128):(Ue[bt++]=Ae>>18|240,Ue[bt++]=Ae>>12&63|128,Ue[bt++]=Ae>>6&63|128,Ue[bt++]=63&Ae|128)}return Ue},$t=function(it){for(var Ue=0,bt=0;bt<it.length;bt++){var Ce=it.charCodeAt(bt);Ce<128?Ue++:Ce<2048?Ue+=2:Ce>=55296&&Ce<=56319?(Ue+=4,bt++):Ue+=3}return Ue},Ei=144e5,xr=.5;function Si(it,Ue,bt){void 0===Ue&&(Ue=1e3),void 0===bt&&(bt=2);var Ce=Ue*Math.pow(bt,it),Ae=Math.round(xr*Ce*(Math.random()-.5)*2);return Math.min(Ei,Ce+Ae)}function Or(it){return Number.isFinite(it)?it+function kr(it){var Ue=(it=Math.abs(it))%100;if(Ue>=10&&Ue<=20)return"th";var bt=it%10;return 1===bt?"st":2===bt?"nd":3===bt?"rd":"th"}(it):""+it}function Zr(it){return it&&it._delegate?it._delegate:it}},670:(wr,an,fe)=>{"use strict";fe.d(an,{jK:()=>mu,ju:()=>jo,tw:()=>io,zI:()=>la,kN:()=>Bi,ii:()=>Da,JJ:()=>Zs,UE:()=>qo,FJ:()=>Ba});var f=function(y,P){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,Ie){te.__proto__=Ie}||function(te,Ie){for(var ft in Ie)Object.prototype.hasOwnProperty.call(Ie,ft)&&(te[ft]=Ie[ft])})(y,P)};function H(y){var P="function"==typeof Symbol&&Symbol.iterator,te=P&&y[P],Ie=0;if(te)return te.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&Ie>=y.length&&(y=void 0),{value:y&&y[Ie++],done:!y}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")}var Le,tt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},we=we||{},_e=tt||self;function Dt(){}function qe(y){var P=typeof y;return"array"==(P="object"!=P?P:y?Array.isArray(y)?"array":P:"null")||"object"==P&&"number"==typeof y.length}function x(y){var P=typeof y;return"object"==P&&null!=y||"function"==P}var xe="closure_uid_"+(1e9*Math.random()>>>0),ce=0;function ve(y,P,te){return y.call.apply(y.bind,arguments)}function Pe(y,P,te){if(!y)throw Error();if(2<arguments.length){var Ie=Array.prototype.slice.call(arguments,2);return function(){var ft=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ft,Ie),y.apply(P,ft)}}return function(){return y.apply(P,arguments)}}function ue(y,P,te){return(ue=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ve:Pe).apply(null,arguments)}function Ge(y,P){var te=Array.prototype.slice.call(arguments,1);return function(){var Ie=te.slice();return Ie.push.apply(Ie,arguments),y.apply(this,Ie)}}function Qe(y,P){function te(){}te.prototype=P.prototype,y.Z=P.prototype,y.prototype=new te,y.prototype.constructor=y,y.Vb=function(Ie,ft,Gt){for(var Hn=Array(arguments.length-2),Ri=2;Ri<arguments.length;Ri++)Hn[Ri-2]=arguments[Ri];return P.prototype[ft].apply(Ie,Hn)}}function ct(){this.s=this.s,this.o=this.o}var Ut={};ct.prototype.s=!1,ct.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var y=function Se(y){return Object.prototype.hasOwnProperty.call(y,xe)&&y[xe]||(y[xe]=++ce)}(this);delete Ut[y]}},ct.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var nt=Array.prototype.indexOf?function(y,P){return Array.prototype.indexOf.call(y,P,void 0)}:function(y,P){if("string"==typeof y)return"string"!=typeof P||1!=P.length?-1:y.indexOf(P,0);for(var te=0;te<y.length;te++)if(te in y&&y[te]===P)return te;return-1},rt=Array.prototype.forEach?function(y,P,te){Array.prototype.forEach.call(y,P,te)}:function(y,P,te){for(var Ie=y.length,ft="string"==typeof y?y.split(""):y,Gt=0;Gt<Ie;Gt++)Gt in ft&&P.call(te,ft[Gt],Gt,y)};function Et(y){return Array.prototype.concat.apply([],arguments)}function rn(y){var P=y.length;if(0<P){for(var te=Array(P),Ie=0;Ie<P;Ie++)te[Ie]=y[Ie];return te}return[]}function Ye(y){return/^[\s\xa0]*$/.test(y)}var Ke,ze=String.prototype.trim?function(y){return y.trim()}:function(y){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(y)[1]};function ae(y,P){return-1!=y.indexOf(P)}function Be(y,P){return y<P?-1:y>P?1:0}e:{var at=_e.navigator;if(at){var Tn=at.userAgent;if(Tn){Ke=Tn;break e}}Ke=""}function gn(y,P,te){for(var Ie in y)P.call(te,y[Ie],Ie,y)}function Tt(y){var P={};for(var te in y)P[te]=y[te];return P}var At="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rt(y,P){for(var te,Ie,ft=1;ft<arguments.length;ft++){for(te in Ie=arguments[ft])y[te]=Ie[te];for(var Gt=0;Gt<At.length;Gt++)te=At[Gt],Object.prototype.hasOwnProperty.call(Ie,te)&&(y[te]=Ie[te])}}function St(y){return St[" "](y),y}St[" "]=Dt;var Mn,y,Mt=ae(Ke,"Opera"),Ft=ae(Ke,"Trident")||ae(Ke,"MSIE"),on=ae(Ke,"Edge"),We=on||Ft,Bn=ae(Ke,"Gecko")&&!(ae(Ke.toLowerCase(),"webkit")&&!ae(Ke,"Edge"))&&!(ae(Ke,"Trident")||ae(Ke,"MSIE"))&&!ae(Ke,"Edge"),yn=ae(Ke.toLowerCase(),"webkit")&&!ae(Ke,"Edge");function ar(){var y=_e.document;return y?y.documentMode:void 0}e:{var er="",Pr=(y=Ke,Bn?/rv:([^\);]+)(\)|;)/.exec(y):on?/Edge\/([\d\.]+)/.exec(y):Ft?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(y):yn?/WebKit\/(\S+)/.exec(y):Mt?/(?:Version)[ \/]?(\S+)/.exec(y):void 0);if(Pr&&(er=Pr?Pr[1]:""),Ft){var or=ar();if(null!=or&&or>parseFloat(er)){Mn=String(or);break e}}Mn=er}var Kn={};var Lr=_e.document&&Ft&&(ar()||parseInt(Mn,10))||void 0,Sr=function(){if(!_e.addEventListener||!Object.defineProperty)return!1;var y=!1,P=Object.defineProperty({},"passive",{get:function(){y=!0}});try{_e.addEventListener("test",Dt,P),_e.removeEventListener("test",Dt,P)}catch(te){}return y}();function rr(y,P){this.type=y,this.g=this.target=P,this.defaultPrevented=!1}function Rr(y,P){if(rr.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var te=this.type=y.type,Ie=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=P,P=y.relatedTarget){if(Bn){e:{try{St(P.nodeName);var ft=!0;break e}catch(Gt){}ft=!1}ft||(P=null)}}else"mouseover"==te?P=y.fromElement:"mouseout"==te&&(P=y.toElement);this.relatedTarget=P,Ie?(this.clientX=void 0!==Ie.clientX?Ie.clientX:Ie.pageX,this.clientY=void 0!==Ie.clientY?Ie.clientY:Ie.pageY,this.screenX=Ie.screenX||0,this.screenY=Ie.screenY||0):(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType="string"==typeof y.pointerType?y.pointerType:fi[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Rr.Z.h.call(this)}}rr.prototype.h=function(){this.defaultPrevented=!0},Qe(Rr,rr);var fi={2:"touch",3:"pen",4:"mouse"};Rr.prototype.h=function(){Rr.Z.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Hr="closure_listenable_"+(1e6*Math.random()|0),Gn=0;function nr(y,P,te,Ie,ft){this.listener=y,this.proxy=null,this.src=P,this.type=te,this.capture=!!Ie,this.ia=ft,this.key=++Gn,this.ca=this.fa=!1}function br(y){y.ca=!0,y.listener=null,y.proxy=null,y.src=null,y.ia=null}function $t(y){this.src=y,this.g={},this.h=0}function Qn(y,P){var te=P.type;if(te in y.g){var Gt,Ie=y.g[te],ft=nt(Ie,P);(Gt=0<=ft)&&Array.prototype.splice.call(Ie,ft,1),Gt&&(br(P),0==y.g[te].length&&(delete y.g[te],y.h--))}}function vr(y,P,te,Ie){for(var ft=0;ft<y.length;++ft){var Gt=y[ft];if(!Gt.ca&&Gt.listener==P&&Gt.capture==!!te&&Gt.ia==Ie)return ft}return-1}$t.prototype.add=function(y,P,te,Ie,ft){var Gt=y.toString();(y=this.g[Gt])||(y=this.g[Gt]=[],this.h++);var Hn=vr(y,P,Ie,ft);return-1<Hn?(P=y[Hn],te||(P.fa=!1)):((P=new nr(P,this.src,Gt,!!Ie,ft)).fa=te,y.push(P)),P};var Ei="closure_lm_"+(1e6*Math.random()|0),xr={};function Si(y,P,te,Ie,ft){if(Ie&&Ie.once)return Zr(y,P,te,Ie,ft);if(Array.isArray(P)){for(var Gt=0;Gt<P.length;Gt++)Si(y,P[Gt],te,Ie,ft);return null}return te=Ot(te),y&&y[Hr]?y.N(P,te,x(Ie)?!!Ie.capture:!!Ie,ft):Or(y,P,te,!1,Ie,ft)}function Or(y,P,te,Ie,ft,Gt){if(!P)throw Error("Invalid event type");var Hn=x(ft)?!!ft.capture:!!ft,Ri=Ae(y);if(Ri||(y[Ei]=Ri=new $t(y)),(te=Ri.add(P,te,Ie,Hn,Gt)).proxy)return te;if(Ie=function kr(){var P=Ce;return function y(te){return P.call(y.src,y.listener,te)}}(),te.proxy=Ie,Ie.src=y,Ie.listener=te,y.addEventListener)Sr||(ft=Hn),void 0===ft&&(ft=!1),y.addEventListener(P.toString(),Ie,ft);else if(y.attachEvent)y.attachEvent(bt(P.toString()),Ie);else{if(!y.addListener||!y.removeListener)throw Error("addEventListener and attachEvent are unavailable.");y.addListener(Ie)}return te}function Zr(y,P,te,Ie,ft){if(Array.isArray(P)){for(var Gt=0;Gt<P.length;Gt++)Zr(y,P[Gt],te,Ie,ft);return null}return te=Ot(te),y&&y[Hr]?y.O(P,te,x(Ie)?!!Ie.capture:!!Ie,ft):Or(y,P,te,!0,Ie,ft)}function it(y,P,te,Ie,ft){if(Array.isArray(P))for(var Gt=0;Gt<P.length;Gt++)it(y,P[Gt],te,Ie,ft);else Ie=x(Ie)?!!Ie.capture:!!Ie,te=Ot(te),y&&y[Hr]?(y=y.i,(P=String(P).toString())in y.g&&-1<(te=vr(Gt=y.g[P],te,Ie,ft))&&(br(Gt[te]),Array.prototype.splice.call(Gt,te,1),0==Gt.length&&(delete y.g[P],y.h--))):y&&(y=Ae(y))&&(P=y.g[P.toString()],y=-1,P&&(y=vr(P,te,Ie,ft)),(te=-1<y?P[y]:null)&&Ue(te))}function Ue(y){if("number"!=typeof y&&y&&!y.ca){var P=y.src;if(P&&P[Hr])Qn(P.i,y);else{var te=y.type,Ie=y.proxy;P.removeEventListener?P.removeEventListener(te,Ie,y.capture):P.detachEvent?P.detachEvent(bt(te),Ie):P.addListener&&P.removeListener&&P.removeListener(Ie),(te=Ae(P))?(Qn(te,y),0==te.h&&(te.src=null,P[Ei]=null)):br(y)}}}function bt(y){return y in xr?xr[y]:xr[y]="on"+y}function Ce(y,P){if(y.ca)y=!0;else{P=new Rr(P,this);var te=y.listener,Ie=y.ia||y.src;y.fa&&Ue(y),y=te.call(Ie,P)}return y}function Ae(y){return(y=y[Ei])instanceof $t?y:null}var st="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(y){return"function"==typeof y?y:(y[st]||(y[st]=function(P){return y.handleEvent(P)}),y[st])}function Pt(){ct.call(this),this.i=new $t(this),this.P=this,this.I=null}function Jt(y,P){var te,Ie=y.I;if(Ie)for(te=[];Ie;Ie=Ie.I)te.push(Ie);if(y=y.P,Ie=P.type||P,"string"==typeof P)P=new rr(P,y);else if(P instanceof rr)P.target=P.target||y;else{var ft=P;Rt(P=new rr(Ie,y),ft)}if(ft=!0,te)for(var Gt=te.length-1;0<=Gt;Gt--){var Hn=P.g=te[Gt];ft=Fn(Hn,Ie,!0,P)&&ft}if(ft=Fn(Hn=P.g=y,Ie,!0,P)&&ft,ft=Fn(Hn,Ie,!1,P)&&ft,te)for(Gt=0;Gt<te.length;Gt++)ft=Fn(Hn=P.g=te[Gt],Ie,!1,P)&&ft}function Fn(y,P,te,Ie){if(!(P=y.i.g[String(P)]))return!0;P=P.concat();for(var ft=!0,Gt=0;Gt<P.length;++Gt){var Hn=P[Gt];if(Hn&&!Hn.ca&&Hn.capture==te){var Ri=Hn.listener,ai=Hn.ia||Hn.src;Hn.fa&&Qn(y.i,Hn),ft=!1!==Ri.call(ai,Ie)&&ft}}return ft&&!Ie.defaultPrevented}Qe(Pt,ct),Pt.prototype[Hr]=!0,Pt.prototype.removeEventListener=function(y,P,te,Ie){it(this,y,P,te,Ie)},Pt.prototype.M=function(){if(Pt.Z.M.call(this),this.i){var P,y=this.i;for(P in y.g){for(var te=y.g[P],Ie=0;Ie<te.length;Ie++)br(te[Ie]);delete y.g[P],y.h--}}this.I=null},Pt.prototype.N=function(y,P,te,Ie){return this.i.add(String(y),P,!1,te,Ie)},Pt.prototype.O=function(y,P,te,Ie){return this.i.add(String(y),P,!0,te,Ie)};var Jn=_e.JSON.stringify;function Cr(){var y=Er,P=null;return y.g&&(P=y.g,y.g=y.g.next,y.g||(y.h=null),P.next=null),P}var mt,sr=function(){function y(){this.h=this.g=null}return y.prototype.add=function(P,te){var Ie=ni.get();Ie.set(P,te),this.h?this.h.next=Ie:this.g=Ie,this.h=Ie},y}(),ni=new(function(){function y(P,te){this.i=P,this.j=te,this.h=0,this.g=null}return y.prototype.get=function(){var P;return 0<this.h?(this.h--,this.g=(P=this.g).next,P.next=null):P=this.i(),P},y}())(function(){return new kt},function(y){return y.reset()}),kt=function(){function y(){this.next=this.g=this.h=null}return y.prototype.set=function(P,te){this.h=P,this.g=te,this.next=null},y.prototype.reset=function(){this.next=this.g=this.h=null},y}();function dt(y){_e.setTimeout(function(){throw y},0)}function ke(y,P){mt||function Lt(){var y=_e.Promise.resolve(void 0);mt=function(){y.then(Ve)}}(),Xn||(mt(),Xn=!0),Er.add(y,P)}var Xn=!1,Er=new sr;function Ve(){for(var y;y=Cr();){try{y.h.call(y.g)}catch(te){dt(te)}var P=ni;P.j(y),100>P.h&&(P.h++,y.next=P.g,P.g=y)}Xn=!1}function He(y,P){Pt.call(this),this.h=y||1,this.g=P||_e,this.j=ue(this.kb,this),this.l=Date.now()}function nn(y){y.da=!1,y.S&&(y.g.clearTimeout(y.S),y.S=null)}function zt(y,P,te){if("function"==typeof y)te&&(y=ue(y,te));else{if(!y||"function"!=typeof y.handleEvent)throw Error("Invalid listener argument");y=ue(y.handleEvent,y)}return 2147483647<Number(P)?-1:_e.setTimeout(y,P||0)}function tn(y){y.g=zt(function(){y.g=null,y.i&&(y.i=!1,tn(y))},y.j);var P=y.h;y.h=null,y.m.apply(null,P)}Qe(He,Pt),(Le=He.prototype).da=!1,Le.S=null,Le.kb=function(){if(this.da){var y=Date.now()-this.l;0<y&&y<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-y):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jt(this,"tick"),this.da&&(nn(this),this.start()))}},Le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Le.M=function(){He.Z.M.call(this),nn(this),delete this.g};var dn=function(y){function P(te,Ie){var ft=y.call(this)||this;return ft.m=te,ft.j=Ie,ft.h=null,ft.i=!1,ft.g=null,ft}return function j(y,P){if("function"!=typeof P&&null!==P)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function te(){this.constructor=y}f(y,P),y.prototype=null===P?Object.create(P):(te.prototype=P.prototype,new te)}(P,y),P.prototype.l=function(te){this.h=arguments,this.g?this.i=!0:tn(this)},P.prototype.M=function(){y.prototype.M.call(this),this.g&&(_e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},P}(ct);function cn(y){ct.call(this),this.h=y,this.g={}}Qe(cn,ct);var An=[];function In(y,P,te,Ie){Array.isArray(te)||(te&&(An[0]=te.toString()),te=An);for(var ft=0;ft<te.length;ft++){var Gt=Si(P,te[ft],Ie||y.handleEvent,!1,y.h||y);if(!Gt)break;y.g[Gt.key]=Gt}}function yr(y){gn(y.g,function(P,te){this.g.hasOwnProperty(te)&&Ue(P)},y),y.g={}}function Nn(){this.g=!0}function ii(y,P,te,Ie){y.info(function(){return"XMLHTTP TEXT ("+P+"): "+function ci(y,P){if(!y.g)return P;if(!P)return null;try{var te=JSON.parse(P);if(te)for(y=0;y<te.length;y++)if(Array.isArray(te[y])){var Ie=te[y];if(!(2>Ie.length)){var ft=Ie[1];if(Array.isArray(ft)&&!(1>ft.length)){var Gt=ft[0];if("noop"!=Gt&&"stop"!=Gt&&"close"!=Gt)for(var Hn=1;Hn<ft.length;Hn++)ft[Hn]=""}}}return Jn(te)}catch(Ri){return P}}(y,te)+(Ie?" "+Ie:"")})}cn.prototype.M=function(){cn.Z.M.call(this),yr(this)},cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nn.prototype.Aa=function(){this.g=!1},Nn.prototype.info=function(){};var bn={},_r=null;function Qr(){return _r=_r||new Pt}function Ai(y){rr.call(this,bn.Ma,y)}function Ki(y){var P=Qr();Jt(P,new Ai(P,y))}function $r(y,P){rr.call(this,bn.STAT_EVENT,y),this.stat=P}function zn(y){var P=Qr();Jt(P,new $r(P,y))}function Dn(y,P){rr.call(this,bn.Na,y),this.size=P}function fr(y,P){if("function"!=typeof y)throw Error("Fn must not be null and must be a function");return _e.setTimeout(function(){y()},P)}bn.Ma="serverreachability",Qe(Ai,rr),bn.STAT_EVENT="statevent",Qe($r,rr),bn.Na="timingevent",Qe(Dn,rr);var gi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ne={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Oe(){}function Fe(){}Oe.prototype.h=null;var en,ut={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function lt(){rr.call(this,"d")}function It(){rr.call(this,"c")}function Wt(){}function Bt(y,P,te,Ie){this.l=y,this.j=P,this.m=te,this.X=Ie||1,this.V=new cn(this),this.P=tr,this.W=new He(y=We?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new On}function On(){this.i=null,this.g="",this.h=!1}Qe(lt,rr),Qe(It,rr),Qe(Wt,Oe),Wt.prototype.g=function(){return new XMLHttpRequest},Wt.prototype.i=function(){return{}},en=new Wt;var tr=45e3,pr={},Ir={};function lo(y,P,te){y.K=1,y.v=Un(Me(P)),y.s=te,y.U=!0,Wr(y,null)}function Wr(y,P){y.F=Date.now(),Do(y),y.A=Me(y.v);var te=y.A,Ie=y.X;Array.isArray(Ie)||(Ie=[String(Ie)]),to(te.h,"t",Ie),y.C=0,te=y.l.H,y.h=new On,y.g=Ns(y.l,te?P:null,!y.s),0<y.O&&(y.L=new dn(ue(y.Ia,y,y.g),y.O)),In(y.V,y.g,"readystatechange",y.gb),P=y.H?Tt(y.H):{},y.s?(y.u||(y.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.s,P)):(y.u="GET",y.g.ea(y.A,y.u,null,P)),Ki(1),function lr(y,P,te,Ie,ft,Gt){y.info(function(){if(y.g)if(Gt)for(var Hn="",Ri=Gt.split("&"),ai=0;ai<Ri.length;ai++){var Gi=Ri[ai].split("=");if(1<Gi.length){var Eo=Gi[0];Gi=Gi[1];var yo=Eo.split("_");Hn=2<=yo.length&&"type"==yo[1]?Hn+(Eo+"=")+Gi+"&":Hn+(Eo+"=redacted&")}}else Hn=null;else Hn=Gt;return"XMLHTTP REQ ("+Ie+") [attempt "+ft+"]: "+P+"\n"+te+"\n"+Hn})}(y.j,y.u,y.A,y.m,y.X,y.s)}function Zi(y){return!!y.g&&"GET"==y.u&&2!=y.K&&y.l.Ba}function di(y,P,te){for(var ft,Ie=!0;!y.I&&y.C<te.length;){if((ft=$i(y,te))==Ir){4==P&&(y.o=4,zn(14),Ie=!1),ii(y.j,y.m,null,"[Incomplete Response]");break}if(ft==pr){y.o=4,zn(15),ii(y.j,y.m,te,"[Invalid Chunk]"),Ie=!1;break}ii(y.j,y.m,ft,null),Xi(y,ft)}Zi(y)&&ft!=Ir&&ft!=pr&&(y.h.g="",y.C=0),4!=P||0!=te.length||y.h.h||(y.o=1,zn(16),Ie=!1),y.i=y.i&&Ie,Ie?0<te.length&&!y.aa&&(y.aa=!0,(P=y.l).g==y&&P.$&&!P.L&&(P.h.info("Great, no buffering proxy detected. Bytes received: "+te.length),Js(P),P.L=!0,zn(11))):(ii(y.j,y.m,te,"[Invalid Chunked Response]"),wo(y),Oo(y))}function $i(y,P){var te=y.C,Ie=P.indexOf("\n",te);return-1==Ie?Ir:(te=Number(P.substring(te,Ie)),isNaN(te)?pr:(Ie+=1)+te>P.length?Ir:(P=P.substr(Ie,te),y.C=Ie+te,P))}function Do(y){y.Y=Date.now()+y.P,rs(y,y.P)}function rs(y,P){if(null!=y.B)throw Error("WatchDog timer not null");y.B=fr(ue(y.eb,y),P)}function gr(y){y.B&&(_e.clearTimeout(y.B),y.B=null)}function Oo(y){0==y.l.G||y.I||La(y.l,y)}function wo(y){gr(y);var P=y.L;P&&"function"==typeof P.na&&P.na(),y.L=null,nn(y.W),yr(y.V),y.g&&(P=y.g,y.g=null,P.abort(),P.na())}function Xi(y,P){try{var te=y.l;if(0!=te.G&&(te.g==y||$n(te.i,y)))if(te.I=y.N,!y.J&&$n(te.i,y)&&3==te.G){try{var Ie=te.Ca.g.parse(P)}catch(Gs){Ie=null}if(Array.isArray(Ie)&&3==Ie.length){var ft=Ie;if(0==ft[0])e:if(te.u)te.ta=ft[1],0<te.ta-te.U&&37500>ft[2]&&te.N&&0==te.A&&!te.v&&(te.v=fr(ue(te.ab,te),6e3));else{if(te.g){if(!(te.g.F+3e3<y.F))break e;Is(te),_n(te)}Vo(te),zn(18)}if(1>=Cn(te.i)&&te.ka){try{te.ka()}catch(Gs){}te.ka=void 0}}else fo(te,11)}else if((y.J||te.g==y)&&Is(te),!Ye(P))for(ft=te.Ca.g.parse(P),P=0;P<ft.length;P++){var Gt=ft[P];if(te.U=Gt[0],Gt=Gt[1],2==te.G)if("c"==Gt[0]){te.J=Gt[1],te.la=Gt[2];var Hn=Gt[3];null!=Hn&&(te.ma=Hn,te.h.info("VER="+te.ma));var Ri=Gt[4];null!=Ri&&(te.za=Ri,te.h.info("SVER="+te.za));var ai=Gt[5];null!=ai&&"number"==typeof ai&&0<ai&&(te.K=Ie=1.5*ai,te.h.info("backChannelRequestTimeoutMs_="+Ie)),Ie=te;var Gi=y.g;if(Gi){var Eo=Gi.g?Gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var yo=Ie.i;!yo.g&&(ae(Eo,"spdy")||ae(Eo,"quic")||ae(Eo,"h2"))&&(yo.j=yo.l,yo.g=new Set,yo.h&&(yi(yo,yo.h),yo.h=null))}if(Ie.D){var hs=Gi.g?Gi.g.getResponseHeader("X-HTTP-Session-Id"):null;hs&&(Ie.sa=hs,xn(Ie.F,Ie.D,hs))}}te.G=3,te.j&&te.j.xa(),te.$&&(te.O=Date.now()-y.F,te.h.info("Handshake RTT: "+te.O+"ms"));var fa=y;if((Ie=te).oa=Po(Ie,Ie.H?Ie.la:null,Ie.W),fa.J){si(Ie.i,fa);var Hs=fa,Nu=Ie.K;Nu&&Hs.setTimeout(Nu),Hs.B&&(gr(Hs),Do(Hs)),Ie.g=fa}else ks(Ie);0<te.l.length&&Bo(te)}else"stop"!=Gt[0]&&"close"!=Gt[0]||fo(te,7);else 3==te.G&&("stop"==Gt[0]||"close"==Gt[0]?"stop"==Gt[0]?fo(te,7):Li(te):"noop"!=Gt[0]&&te.j&&te.j.wa(Gt),te.A=0)}Ki(4)}catch(Gs){}}function Ar(y,P){if(y.forEach&&"function"==typeof y.forEach)y.forEach(P,void 0);else if(qe(y)||"string"==typeof y)rt(y,P,void 0);else{if(y.T&&"function"==typeof y.T)var te=y.T();else if(y.R&&"function"==typeof y.R)te=void 0;else if(qe(y)||"string"==typeof y){te=[];for(var Ie=y.length,ft=0;ft<Ie;ft++)te.push(ft)}else for(ft in te=[],Ie=0,y)te[Ie++]=ft;Ie=function Lo(y){if(y.R&&"function"==typeof y.R)return y.R();if("string"==typeof y)return y.split("");if(qe(y)){for(var P=[],te=y.length,Ie=0;Ie<te;Ie++)P.push(y[Ie]);return P}for(Ie in P=[],te=0,y)P[te++]=y[Ie];return P}(y),ft=Ie.length;for(var Gt=0;Gt<ft;Gt++)P.call(void 0,Ie[Gt],te&&te[Gt],y)}}function Yr(y,P){this.h={},this.g=[],this.i=0;var te=arguments.length;if(1<te){if(te%2)throw Error("Uneven number of arguments");for(var Ie=0;Ie<te;Ie+=2)this.set(arguments[Ie],arguments[Ie+1])}else if(y)if(y instanceof Yr)for(te=y.T(),Ie=0;Ie<te.length;Ie++)this.set(te[Ie],y.get(te[Ie]));else for(Ie in y)this.set(Ie,y[Ie])}function ur(y){if(y.i!=y.g.length){for(var P=0,te=0;P<y.g.length;){var Ie=y.g[P];li(y.h,Ie)&&(y.g[te++]=Ie),P++}y.g.length=te}if(y.i!=y.g.length){var ft={};for(te=P=0;P<y.g.length;)li(ft,Ie=y.g[P])||(y.g[te++]=Ie,ft[Ie]=1),P++;y.g.length=te}}function li(y,P){return Object.prototype.hasOwnProperty.call(y,P)}(Le=Bt.prototype).setTimeout=function(y){this.P=y},Le.gb=function(y){y=y.target;var P=this.L;P&&3==Vn(y)?P.l():this.Ia(y)},Le.Ia=function(y){try{if(y==this.g)e:{var P=Vn(this.g),te=this.g.Da(),Ie=this.g.ba();if(!(3>P)&&(3!=P||We||this.g&&(this.h.h||this.g.ga()||wi(this.g)))){this.I||4!=P||7==te||Ki(8==te||0>=Ie?3:2),gr(this);var ft=this.g.ba();this.N=ft;t:if(Zi(this)){var Gt=wi(this.g);y="";var Hn=Gt.length,Ri=4==Vn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){wo(this),Oo(this);var ai="";break t}this.h.i=new _e.TextDecoder}for(te=0;te<Hn;te++)this.h.h=!0,y+=this.h.i.decode(Gt[te],{stream:Ri&&te==Hn-1});Gt.splice(0,Hn),this.h.g+=y,this.C=0,ai=this.h.g}else ai=this.g.ga();if(this.i=200==ft,function Zn(y,P,te,Ie,ft,Gt,Hn){y.info(function(){return"XMLHTTP RESP ("+Ie+") [ attempt "+ft+"]: "+P+"\n"+te+"\n"+Gt+" "+Hn})}(this.j,this.u,this.A,this.m,this.X,P,ft),this.i){if(this.$&&!this.J){t:{if(this.g){var Gi,Eo=this.g;if((Gi=Eo.g?Eo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ye(Gi)){var yo=Gi;break t}}yo=null}if(!(ft=yo)){this.i=!1,this.o=3,zn(12),wo(this),Oo(this);break e}ii(this.j,this.m,ft,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xi(this,ft)}this.U?(di(this,P,ai),We&&this.i&&3==P&&(In(this.V,this.W,"tick",this.fb),this.W.start())):(ii(this.j,this.m,ai,null),Xi(this,ai)),4==P&&wo(this),this.i&&!this.I&&(4==P?La(this.l,this):(this.i=!1,Do(this)))}else 400==ft&&0<ai.indexOf("Unknown SID")?(this.o=3,zn(12)):(this.o=0,zn(13)),wo(this),Oo(this)}}}catch(hs){}},Le.fb=function(){if(this.g){var y=Vn(this.g),P=this.g.ga();this.C<P.length&&(gr(this),di(this,y,P),this.i&&4!=y&&Do(this))}},Le.cancel=function(){this.I=!0,wo(this)},Le.eb=function(){this.B=null;var y=Date.now();0<=y-this.Y?(function Di(y,P){y.info(function(){return"TIMEOUT: "+P})}(this.j,this.A),2!=this.K&&(Ki(3),zn(17)),wo(this),this.o=2,Oo(this)):rs(this,this.Y-y)},(Le=Yr.prototype).R=function(){ur(this);for(var y=[],P=0;P<this.g.length;P++)y.push(this.h[this.g[P]]);return y},Le.T=function(){return ur(this),this.g.concat()},Le.get=function(y,P){return li(this.h,y)?this.h[y]:P},Le.set=function(y,P){li(this.h,y)||(this.i++,this.g.push(y)),this.h[y]=P},Le.forEach=function(y,P){for(var te=this.T(),Ie=0;Ie<te.length;Ie++){var ft=te[Ie],Gt=this.get(ft);y.call(P,Gt,ft,this)}};var bo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function q(y,P){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,y instanceof q){this.g=void 0!==P?P:y.g,Je(this,y.j),this.s=y.s,Ct(this,y.i),jt(this,y.m),this.l=y.l,P=y.h;var te=new eo;te.i=P.i,P.g&&(te.g=new Yr(P.g),te.h=P.h),En(this,te),this.o=y.o}else y&&(te=String(y).match(bo))?(this.g=!!P,Je(this,te[1]||"",!0),this.s=oi(te[2]||""),Ct(this,te[3]||"",!0),jt(this,te[4]),this.l=oi(te[5]||"",!0),En(this,te[6]||"",!0),this.o=oi(te[7]||"")):(this.g=!!P,this.h=new eo(null,this.g))}function Me(y){return new q(y)}function Je(y,P,te){y.j=te?oi(P,!0):P,y.j&&(y.j=y.j.replace(/:$/,""))}function Ct(y,P,te){y.i=te?oi(P,!0):P}function jt(y,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);y.m=P}else y.m=null}function En(y,P,te){P instanceof eo?(y.h=P,function oe(y,P){P&&!y.j&&(Mi(y),y.i=null,y.g.forEach(function(te,Ie){var ft=Ie.toLowerCase();Ie!=ft&&(Fi(this,Ie),to(this,ft,te))},y)),y.j=P}(y.h,y.g)):(te||(P=mi(P,Ur)),y.h=new eo(P,y.g))}function xn(y,P,te){y.h.set(P,te)}function Un(y){return xn(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function oi(y,P){return y?P?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function mi(y,P,te){return"string"==typeof y?(y=encodeURI(y).replace(P,po),te&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function po(y){return"%"+((y=y.charCodeAt(0))>>4&15).toString(16)+(15&y).toString(16)}q.prototype.toString=function(){var y=[],P=this.j;P&&y.push(mi(P,Mr,!0),":");var te=this.i;return(te||"file"==P)&&(y.push("//"),(P=this.s)&&y.push(mi(P,Mr,!0),"@"),y.push(encodeURIComponent(String(te)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(te=this.m)&&y.push(":",String(te))),(te=this.l)&&(this.i&&"/"!=te.charAt(0)&&y.push("/"),y.push(mi(te,"/"==te.charAt(0)?Qi:vi,!0))),(te=this.h.toString())&&y.push("?",te),(te=this.o)&&y.push("#",mi(te,Ui)),y.join("")};var Mr=/[#\/\?@]/g,vi=/[#\?:]/g,Qi=/[#\?]/g,Ur=/[#\?@]/g,Ui=/#/g;function eo(y,P){this.h=this.g=null,this.i=y||null,this.j=!!P}function Mi(y){y.g||(y.g=new Yr,y.h=0,y.i&&function Z(y,P){if(y){y=y.split("&");for(var te=0;te<y.length;te++){var Ie=y[te].indexOf("="),ft=null;if(0<=Ie){var Gt=y[te].substring(0,Ie);ft=y[te].substring(Ie+1)}else Gt=y[te];P(Gt,ft?decodeURIComponent(ft.replace(/\+/g," ")):"")}}}(y.i,function(P,te){y.add(decodeURIComponent(P.replace(/\+/g," ")),te)}))}function Fi(y,P){Mi(y),P=z(y,P),li(y.g.h,P)&&(y.i=null,y.h-=y.g.get(P).length,li((y=y.g).h,P)&&(delete y.h[P],y.i--,y.g.length>2*y.i&&ur(y)))}function To(y,P){return Mi(y),P=z(y,P),li(y.g.h,P)}function to(y,P,te){Fi(y,P),0<te.length&&(y.i=null,y.g.set(z(y,P),rn(te)),y.h+=te.length)}function z(y,P){return P=String(P),y.j&&(P=P.toLowerCase()),P}(Le=eo.prototype).add=function(y,P){Mi(this),this.i=null,y=z(this,y);var te=this.g.get(y);return te||this.g.set(y,te=[]),te.push(P),this.h+=1,this},Le.forEach=function(y,P){Mi(this),this.g.forEach(function(te,Ie){rt(te,function(ft){y.call(P,ft,Ie,this)},this)},this)},Le.T=function(){Mi(this);for(var y=this.g.R(),P=this.g.T(),te=[],Ie=0;Ie<P.length;Ie++)for(var ft=y[Ie],Gt=0;Gt<ft.length;Gt++)te.push(P[Ie]);return te},Le.R=function(y){Mi(this);var P=[];if("string"==typeof y)To(this,y)&&(P=Et(P,this.g.get(z(this,y))));else{y=this.g.R();for(var te=0;te<y.length;te++)P=Et(P,y[te])}return P},Le.set=function(y,P){return Mi(this),this.i=null,To(this,y=z(this,y))&&(this.h-=this.g.get(y).length),this.g.set(y,[P]),this.h+=1,this},Le.get=function(y,P){return y&&0<(y=this.R(y)).length?String(y[0]):P},Le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var y=[],P=this.g.T(),te=0;te<P.length;te++){var Ie=P[te],ft=encodeURIComponent(String(Ie));Ie=this.R(Ie);for(var Gt=0;Gt<Ie.length;Gt++){var Hn=ft;""!==Ie[Gt]&&(Hn+="="+encodeURIComponent(String(Ie[Gt]))),y.push(Hn)}}return this.i=y.join("&")};var K=function y(P,te){this.h=P,this.g=te};function Ee(y){this.l=y||ht,y=_e.PerformanceNavigationTiming?0<(y=_e.performance.getEntriesByType("navigation")).length&&("hq"==y[0].nextHopProtocol||"h2"==y[0].nextHopProtocol):!!(_e.g&&_e.g.Ea&&_e.g.Ea()&&_e.g.Ea().Zb),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ht=10;function Ht(y){return!!y.h||!!y.g&&y.g.size>=y.j}function Cn(y){return y.h?1:y.g?y.g.size:0}function $n(y,P){return y.h?y.h==P:!!y.g&&y.g.has(P)}function yi(y,P){y.g?y.g.add(P):y.h=P}function si(y,P){y.h&&y.h==P?y.h=null:y.g&&y.g.has(P)&&y.g.delete(P)}function jr(y){var P,te;if(null!=y.h)return y.i.concat(y.h.D);if(null!=y.g&&0!==y.g.size){var Ie=y.i;try{for(var ft=H(y.g.values()),Gt=ft.next();!Gt.done;Gt=ft.next())Ie=Ie.concat(Gt.value.D)}catch(Ri){P={error:Ri}}finally{try{Gt&&!Gt.done&&(te=ft.return)&&te.call(ft)}finally{if(P)throw P.error}}return Ie}return rn(y.i)}function Gr(){}function Ti(){this.g=new Gr}function _i(y,P,te){var Ie=te||"";try{Ar(y,function(ft,Gt){var Hn=ft;x(ft)&&(Hn=Jn(ft)),P.push(Ie+Gt+"="+encodeURIComponent(Hn))})}catch(ft){throw P.push(Ie+"type="+encodeURIComponent("_badmap")),ft}}function Hi(y,P,te,Ie,ft){try{P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null,ft(Ie)}catch(Gt){}}function zi(y){this.l=y.$b||null,this.j=y.ib||!1}function ei(y,P){Pt.call(this),this.D=y,this.u=P,this.m=void 0,this.readyState=hi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ee.prototype.cancel=function(){var y,P;if(this.i=jr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var te=H(this.g.values()),Ie=te.next();!Ie.done;Ie=te.next())Ie.value.cancel()}catch(Gt){y={error:Gt}}finally{try{Ie&&!Ie.done&&(P=te.return)&&P.call(te)}finally{if(y)throw y.error}}this.g.clear()}},Gr.prototype.stringify=function(y){return _e.JSON.stringify(y,void 0)},Gr.prototype.parse=function(y){return _e.JSON.parse(y,void 0)},Qe(zi,Oe),zi.prototype.g=function(){return new ei(this.l,this.j)},zi.prototype.i=function(y){return function(){return y}}({}),Qe(ei,Pt);var hi=0;function Y(y){y.j.read().then(y.Sa.bind(y)).catch(y.ha.bind(y))}function $(y){y.readyState=4,y.l=null,y.j=null,y.A=null,B(y)}function B(y){y.onreadystatechange&&y.onreadystatechange.call(y)}(Le=ei.prototype).open=function(y,P){if(this.readyState!=hi)throw this.abort(),Error("Error reopening a connection");this.C=y,this.B=P,this.readyState=1,B(this)},Le.send=function(y){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var P={headers:this.v,method:this.C,credentials:this.m,cache:void 0};y&&(P.body=y),(this.D||_e).fetch(new Request(this.B,P)).then(this.Va.bind(this),this.ha.bind(this))},Le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$(this)),this.readyState=hi},Le.Va=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,B(this)),this.g&&(this.readyState=3,B(this),this.g)))if("arraybuffer"===this.responseType)y.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==_e.ReadableStream&&"body"in y){if(this.j=y.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Y(this)}else y.text().then(this.Ua.bind(this),this.ha.bind(this))},Le.Sa=function(y){if(this.g){if(this.u&&y.value)this.response.push(y.value);else if(!this.u){var P=y.value?y.value:new Uint8Array(0);(P=this.A.decode(P,{stream:!y.done}))&&(this.response=this.responseText+=P)}y.done?$(this):B(this),3==this.readyState&&Y(this)}},Le.Ua=function(y){this.g&&(this.response=this.responseText=y,$(this))},Le.Ta=function(y){this.g&&(this.response=y,$(this))},Le.ha=function(){this.g&&$(this)},Le.setRequestHeader=function(y,P){this.v.append(y,P)},Le.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},Le.getAllResponseHeaders=function(){if(!this.h)return"";for(var y=[],P=this.h.entries(),te=P.next();!te.done;)y.push((te=te.value)[0]+": "+te[1]),te=P.next();return y.join("\r\n")},Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(y){this.m=y?"include":"same-origin"}});var ge=_e.JSON.parse;function Yt(y){Pt.call(this),this.headers=new Yr,this.u=y||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ln,this.K=this.L=!1}Qe(Yt,Pt);var Ln="",vn=/^https?$/i,E=["POST","PUT"];function b(y){return"content-type"==y.toLowerCase()}function G(y,P){y.h=!1,y.g&&(y.l=!0,y.g.abort(),y.l=!1),y.j=P,y.m=5,de(y),Sn(y)}function de(y){y.D||(y.D=!0,Jt(y,"complete"),Jt(y,"error"))}function Kt(y){if(y.h&&void 0!==we&&(!y.C[1]||4!=Vn(y)||2!=y.ba()))if(y.v&&4==Vn(y))zt(y.Fa,0,y);else if(Jt(y,"readystatechange"),4==Vn(y)){y.h=!1;try{var Ie,P=y.ba();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var te=!0;break e;default:te=!1}if(!(Ie=te)){var ft;if(ft=0===P){var Gt=String(y.H).match(bo)[1]||null;if(!Gt&&_e.self&&_e.self.location){var Hn=_e.self.location.protocol;Gt=Hn.substr(0,Hn.length-1)}ft=!vn.test(Gt?Gt.toLowerCase():"")}Ie=ft}if(Ie)Jt(y,"complete"),Jt(y,"success");else{y.m=6;try{var Ri=2<Vn(y)?y.g.statusText:""}catch(ai){Ri=""}y.j=Ri+" ["+y.ba()+"]",de(y)}}finally{Sn(y)}}}function Sn(y,P){if(y.g){Vt(y);var te=y.g,Ie=y.C[0]?Dt:null;y.g=null,y.C=null,P||Jt(y,"ready");try{te.onreadystatechange=Ie}catch(ft){}}}function Vt(y){y.g&&y.K&&(y.g.ontimeout=null),y.A&&(_e.clearTimeout(y.A),y.A=null)}function Vn(y){return y.g?y.g.readyState:0}function wi(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.J){case Ln:case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch(P){return null}}function so(y,P,te){e:{for(Ie in te){var Ie=!1;break e}Ie=!0}Ie||(te=function zr(y){var P="";return gn(y,function(te,Ie){P+=Ie,P+=":",P+=te,P+="\r\n"}),P}(te),"string"==typeof y?null!=te&&encodeURIComponent(String(te)):xn(y,P,te))}function no(y,P,te){return te&&te.internalChannelParams&&te.internalChannelParams[y]||P}function Wi(y){this.za=0,this.l=[],this.h=new Nn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=no("failFast",!1,y),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=no("baseRetryDelayMs",5e3,y),this.$a=no("retryDelaySeedMs",1e4,y),this.Ya=no("forwardChannelMaxRetries",2,y),this.ra=no("forwardChannelRequestTimeoutMs",2e4,y),this.qa=y&&y.xmlHttpFactory||void 0,this.Ba=y&&y.Yb||!1,this.K=void 0,this.H=y&&y.supportsCrossDomainXhr||!1,this.J="",this.i=new Ee(y&&y.concurrentRequestLimit),this.Ca=new Ti,this.ja=y&&y.fastHandshake||!1,this.Ra=y&&y.Wb||!1,y&&y.Aa&&this.h.Aa(),y&&y.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&y&&y.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!y||!1!==y.Xb}function Li(y){if(Qs(y),3==y.G){var P=y.V++,te=Me(y.F);xn(te,"SID",y.J),xn(te,"RID",P),xn(te,"TYPE","terminate"),Qo(y,te),(P=new Bt(y,y.h,P,void 0)).K=2,P.v=Un(Me(te)),te=!1,_e.navigator&&_e.navigator.sendBeacon&&(te=_e.navigator.sendBeacon(P.v.toString(),"")),!te&&_e.Image&&((new Image).src=P.v,te=!0),te||(P.g=Ns(P.l,null),P.g.ea(P.v)),P.F=Date.now(),Do(P)}ca(y)}function _n(y){y.g&&(Js(y),y.g.cancel(),y.g=null)}function Qs(y){_n(y),y.u&&(_e.clearTimeout(y.u),y.u=null),Is(y),y.i.cancel(),y.m&&("number"==typeof y.m&&_e.clearTimeout(y.m),y.m=null)}function Pi(y,P){y.l.push(new K(y.Za++,P)),3==y.G&&Bo(y)}function Bo(y){Ht(y.i)||y.m||(y.m=!0,ke(y.Ha,y),y.C=0)}function mo(y,P){var te;te=P?P.m:y.V++;var Ie=Me(y.F);xn(Ie,"SID",y.J),xn(Ie,"RID",te),xn(Ie,"AID",y.U),Qo(y,Ie),y.o&&y.s&&so(Ie,y.o,y.s),te=new Bt(y,y.h,te,y.C+1),null===y.o&&(te.H=y.s),P&&(y.l=P.D.concat(y.l)),P=vo(y,te,1e3),te.setTimeout(Math.round(.5*y.ra)+Math.round(.5*y.ra*Math.random())),yi(y.i,te),lo(te,Ie,P)}function Qo(y,P){y.j&&Ar({},function(te,Ie){xn(P,Ie,te)})}function vo(y,P,te){te=Math.min(y.l.length,te);var Ie=y.j?ue(y.j.Oa,y.j,y):null;e:for(var ft=y.l,Gt=-1;;){var Hn=["count="+te];-1==Gt?0<te?Hn.push("ofs="+(Gt=ft[0].h)):Gt=0:Hn.push("ofs="+Gt);for(var Ri=!0,ai=0;ai<te;ai++){var Gi=ft[ai].h,Eo=ft[ai].g;if(0>(Gi-=Gt))Gt=Math.max(0,ft[ai].h-100),Ri=!1;else try{_i(Eo,Hn,"req"+Gi+"_")}catch(yo){Ie&&Ie(Eo)}}if(Ri){Ie=Hn.join("&");break e}}return y=y.l.splice(0,te),P.D=y,Ie}function ks(y){y.g||y.u||(y.Y=1,ke(y.Ga,y),y.A=0)}function Vo(y){return!(y.g||y.u||3<=y.A||(y.Y++,y.u=fr(ue(y.Ga,y),is(y,y.A)),y.A++,0))}function Js(y){null!=y.B&&(_e.clearTimeout(y.B),y.B=null)}function $o(y){y.g=new Bt(y,y.h,"rpc",y.Y),null===y.o&&(y.g.H=y.s),y.g.O=0;var P=Me(y.oa);xn(P,"RID","rpc"),xn(P,"SID",y.J),xn(P,"CI",y.N?"0":"1"),xn(P,"AID",y.U),Qo(y,P),xn(P,"TYPE","xmlhttp"),y.o&&y.s&&so(P,y.o,y.s),y.K&&y.g.setTimeout(y.K);var te=y.g;y=y.la,te.K=1,te.v=Un(Me(P)),te.s=null,te.U=!0,Wr(te,y)}function Is(y){null!=y.v&&(_e.clearTimeout(y.v),y.v=null)}function La(y,P){var te=null;if(y.g==P){Is(y),Js(y),y.g=null;var Ie=2}else{if(!$n(y.i,P))return;te=P.D,si(y.i,P),Ie=1}if(y.I=P.N,0!=y.G)if(P.i)if(1==Ie){te=P.s?P.s.length:0,P=Date.now()-P.F;var ft=y.C;Jt(Ie=Qr(),new Dn(Ie,te,P,ft)),Bo(y)}else ks(y);else if(3==(ft=P.o)||0==ft&&0<y.I||!(1==Ie&&function ko(y,P){return!(Cn(y.i)>=y.i.j-(y.m?1:0)||(y.m?(y.l=P.D.concat(y.l),0):1==y.G||2==y.G||y.C>=(y.Xa?0:y.Ya)||(y.m=fr(ue(y.Ha,y,P),is(y,y.C)),y.C++,0)))}(y,P)||2==Ie&&Vo(y)))switch(te&&0<te.length&&(P=y.i,P.i=P.i.concat(te)),ft){case 1:fo(y,5);break;case 4:fo(y,10);break;case 3:fo(y,6);break;default:fo(y,2)}}function is(y,P){var te=y.Pa+Math.floor(Math.random()*y.$a);return y.j||(te*=2),te*P}function fo(y,P){if(y.h.info("Error code "+P),2==P){var te=null;y.j&&(te=null);var Ie=ue(y.jb,y);te||(te=new q("//www.google.com/images/cleardot.gif"),_e.location&&"http"==_e.location.protocol||Je(te,"https"),Un(te)),function ji(y,P){var te=new Nn;if(_e.Image){var Ie=new Image;Ie.onload=Ge(Hi,te,Ie,"TestLoadImage: loaded",!0,P),Ie.onerror=Ge(Hi,te,Ie,"TestLoadImage: error",!1,P),Ie.onabort=Ge(Hi,te,Ie,"TestLoadImage: abort",!1,P),Ie.ontimeout=Ge(Hi,te,Ie,"TestLoadImage: timeout",!1,P),_e.setTimeout(function(){Ie.ontimeout&&Ie.ontimeout()},1e4),Ie.src=y}else P(!1)}(te.toString(),Ie)}else zn(2);y.G=0,y.j&&y.j.va(P),ca(y),Qs(y)}function ca(y){y.G=0,y.I=-1,y.j&&((0!=jr(y.i).length||0!=y.l.length)&&(y.i.i.length=0,rn(y.l),y.l.length=0),y.j.ua())}function Po(y,P,te){var Ie=function mr(y){return y instanceof q?Me(y):new q(y,void 0)}(te);if(""!=Ie.i)P&&Ct(Ie,P+"."+Ie.i),jt(Ie,Ie.m);else{var ft=_e.location;Ie=function dr(y,P,te,Ie){var ft=new q(null,void 0);return y&&Je(ft,y),P&&Ct(ft,P),te&&jt(ft,te),Ie&&(ft.l=Ie),ft}(ft.protocol,P?P+"."+ft.hostname:ft.hostname,+ft.port,te)}return y.aa&&gn(y.aa,function(Gt,Hn){xn(Ie,Hn,Gt)}),te=y.sa,(P=y.D)&&te&&xn(Ie,P,te),xn(Ie,"VER",y.ma),Qo(y,Ie),Ie}function Ns(y,P,te){if(P&&!y.H)throw Error("Can't create secondary domain capable XhrIo object.");return(P=new Yt(te&&y.Ba&&!y.qa?new zi({ib:!0}):y.qa)).L=y.H,P}function Ia(){}function Jo(){if(Ft&&!(10<=Number(Lr)))throw Error("Environmental error: no available transport.")}function ro(y,P){Pt.call(this),this.g=new Wi(P),this.l=y,this.h=P&&P.messageUrlParams||null,y=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.s=y,y=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(y?y["X-WebChannel-Content-Type"]=P.messageContentType:y={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.ya&&(y?y["X-WebChannel-Client-Profile"]=P.ya:y={"X-WebChannel-Client-Profile":P.ya}),this.g.P=y,(y=P&&P.httpHeadersOverwriteParam)&&!Ye(y)&&(this.g.o=y),this.A=P&&P.supportsCrossDomainXhr||!1,this.v=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!Ye(P)&&(this.g.D=P,null!==(y=this.h)&&P in y&&P in(y=this.h)&&delete y[P]),this.j=new Ds(this)}function Uo(y){lt.call(this);var P=y.__sm__;if(P){e:{for(var te in P){y=te;break e}y=void 0}(this.i=y)&&(y=this.i,P=null!==P&&y in P?P[y]:void 0),this.data=P}else this.data=y}function Ps(){It.call(this),this.status=1}function Ds(y){this.g=y}(Le=Yt.prototype).ea=function(y,P,te,Ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+y);P=P?P.toUpperCase():"GET",this.H=y,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():en.g(),this.C=function be(y){return y.h||(y.h=y.i())}(this.u?this.u:en),this.g.onreadystatechange=ue(this.Fa,this);try{this.F=!0,this.g.open(P,String(y),!0),this.F=!1}catch(Gt){return void G(this,Gt)}y=te||"";var ft=new Yr(this.headers);Ie&&Ar(Ie,function(Gt,Hn){ft.set(Hn,Gt)}),Ie=function Nt(y){e:{for(var P=b,te=y.length,Ie="string"==typeof y?y.split(""):y,ft=0;ft<te;ft++)if(ft in Ie&&P.call(void 0,Ie[ft],ft,y)){P=ft;break e}P=-1}return 0>P?null:"string"==typeof y?y.charAt(P):y[P]}(ft.T()),te=_e.FormData&&y instanceof _e.FormData,!(0<=nt(E,P))||Ie||te||ft.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),ft.forEach(function(Gt,Hn){this.g.setRequestHeader(Hn,Gt)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Vt(this),0<this.B&&((this.K=function X(y){return Ft&&function Vr(){return function yt(y){var P=Kn;return Object.prototype.hasOwnProperty.call(P,9)?P[9]:P[9]=y(9)}(function(){for(var y=0,P=ze(String(Mn)).split("."),te=ze("9").split("."),Ie=Math.max(P.length,te.length),ft=0;0==y&&ft<Ie;ft++){var Gt=P[ft]||"",Hn=te[ft]||"";do{if(Gt=/(\d*)(\D*)(.*)/.exec(Gt)||["","","",""],Hn=/(\d*)(\D*)(.*)/.exec(Hn)||["","","",""],0==Gt[0].length&&0==Hn[0].length)break;y=Be(0==Gt[1].length?0:parseInt(Gt[1],10),0==Hn[1].length?0:parseInt(Hn[1],10))||Be(0==Gt[2].length,0==Hn[2].length)||Be(Gt[2],Hn[2]),Gt=Gt[3],Hn=Hn[3]}while(0==y)}return 0<=y})}()&&"number"==typeof y.timeout&&void 0!==y.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ue(this.pa,this)):this.A=zt(this.pa,this.B,this)),this.v=!0,this.g.send(y),this.v=!1}catch(Gt){G(this,Gt)}},Le.pa=function(){void 0!==we&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))},Le.abort=function(y){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=y||7,Jt(this,"complete"),Jt(this,"abort"),Sn(this))},Le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sn(this,!0)),Yt.Z.M.call(this)},Le.Fa=function(){this.s||(this.F||this.v||this.l?Kt(this):this.cb())},Le.cb=function(){Kt(this)},Le.ba=function(){try{return 2<Vn(this)?this.g.status:-1}catch(y){return-1}},Le.ga=function(){try{return this.g?this.g.responseText:""}catch(y){return""}},Le.Qa=function(y){if(this.g){var P=this.g.responseText;return y&&0==P.indexOf(y)&&(P=P.substring(y.length)),ge(P)}},Le.Da=function(){return this.m},Le.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Le=Wi.prototype).ma=8,Le.G=1,Le.hb=function(y){try{this.h.info("Origin Trials invoked: "+y)}catch(P){}},Le.Ha=function(y){if(this.m)if(this.m=null,1==this.G){if(!y){this.V=Math.floor(1e5*Math.random()),y=this.V++;var P=new Bt(this,this.h,y,void 0),te=this.s;if(this.P&&(te?Rt(te=Tt(te),this.P):te=this.P),null===this.o&&(P.H=te),this.ja)e:{for(var Ie=0,ft=0;ft<this.l.length;ft++){var Gt=this.l[ft];if(void 0===(Gt="__data__"in Gt.g&&"string"==typeof(Gt=Gt.g.__data__)?Gt.length:void 0))break;if(4096<(Ie+=Gt)){Ie=ft;break e}if(4096===Ie||ft===this.l.length-1){Ie=ft+1;break e}}Ie=1e3}else Ie=1e3;Ie=vo(this,P,Ie),xn(ft=Me(this.F),"RID",y),xn(ft,"CVER",22),this.D&&xn(ft,"X-HTTP-Session-Id",this.D),Qo(this,ft),this.o&&te&&so(ft,this.o,te),yi(this.i,P),this.Ra&&xn(ft,"TYPE","init"),this.ja?(xn(ft,"$req",Ie),xn(ft,"SID","null"),P.$=!0,lo(P,ft,null)):lo(P,ft,Ie),this.G=2}}else 3==this.G&&(y?mo(this,y):0==this.l.length||Ht(this.i)||mo(this))},Le.Ga=function(){if(this.u=null,$o(this),this.$&&!(this.L||null==this.g||0>=this.O)){var y=2*this.O;this.h.info("BP detection timer enabled: "+y),this.B=fr(ue(this.bb,this),y)}},Le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,zn(10),_n(this),$o(this))},Le.ab=function(){null!=this.v&&(this.v=null,_n(this),Vo(this),zn(19))},Le.jb=function(y){y?(this.h.info("Successfully pinged google.com"),zn(2)):(this.h.info("Failed to ping google.com"),zn(1))},(Le=Ia.prototype).xa=function(){},Le.wa=function(){},Le.va=function(){},Le.ua=function(){},Le.Oa=function(){},Jo.prototype.g=function(y,P){return new ro(y,P)},Qe(ro,Pt),ro.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var y=this.g,P=this.l,te=this.h||void 0;y.Wa&&(y.h.info("Origin Trials enabled."),ke(ue(y.hb,y,P))),zn(0),y.W=P,y.aa=te||{},y.N=y.X,y.F=Po(y,null,y.W),Bo(y)},ro.prototype.close=function(){Li(this.g)},ro.prototype.u=function(y){if("string"==typeof y){var P={};P.__data__=y,Pi(this.g,P)}else this.v?((P={}).__data__=Jn(y),Pi(this.g,P)):Pi(this.g,y)},ro.prototype.M=function(){this.g.j=null,delete this.j,Li(this.g),delete this.g,ro.Z.M.call(this)},Qe(Uo,lt),Qe(Ps,It),Qe(Ds,Ia),Ds.prototype.xa=function(){Jt(this.g,"a")},Ds.prototype.wa=function(y){Jt(this.g,new Uo(y))},Ds.prototype.va=function(y){Jt(this.g,new Ps(y))},Ds.prototype.ua=function(){Jt(this.g,"b")},Jo.prototype.createWebChannel=Jo.prototype.g,ro.prototype.send=ro.prototype.u,ro.prototype.open=ro.prototype.m,ro.prototype.close=ro.prototype.close,gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,ne.COMPLETE="complete",Fe.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",Pt.prototype.listen=Pt.prototype.N,Yt.prototype.listenOnce=Yt.prototype.O,Yt.prototype.getLastError=Yt.prototype.La,Yt.prototype.getLastErrorCode=Yt.prototype.Da,Yt.prototype.getStatus=Yt.prototype.ba,Yt.prototype.getResponseJson=Yt.prototype.Qa,Yt.prototype.getResponseText=Yt.prototype.ga,Yt.prototype.send=Yt.prototype.ea;var qo=function(){return new Jo},Ba=function(){return Qr()},mu=gi,io=ne,jo=bn,Bi={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},la=zi,Da=Fe,Zs=Yt},9537:(wr,an,fe)=>{"use strict";fe.d(an,{Br:()=>Gr,dr:()=>Ei,oU:()=>Si,cs:()=>to,YG:()=>Ue,Sm:()=>bt,PM:()=>Ce,W2:()=>Cr,Gu:()=>Lt,gu:()=>Xn,pK:()=>nn,Ie:()=>zt,Q$:()=>yr,q_:()=>Nn,jP:()=>Mi,VI:()=>be,t9:()=>lt,n0:()=>It,yq:()=>pr,ZU:()=>Ir,UN:()=>To,Bs:()=>Zi,wd:()=>di,sr:()=>Do,Pc:()=>vn,r4:()=>ge,as:()=>Sr,YI:()=>oe,QI:()=>Rr,j9:()=>fi,yF:()=>ei});var f=fe(2096),j=fe(4182),H=fe(655),tt=fe(2916),Le=fe(6688),we=fe(7043),_e=fe(4850);function qe(E,X,b,G){return(0,we.m)(b)&&(G=b,b=void 0),G?qe(E,X,b).pipe((0,_e.U)(de=>(0,Le.k)(de)?G(...de):G(de))):new tt.y(de=>{x(E,X,function Kt(Sn){de.next(arguments.length>1?Array.prototype.slice.call(arguments):Sn)},de,b)})}function x(E,X,b,G,de){let Kt;if(function ce(E){return E&&"function"==typeof E.addEventListener&&"function"==typeof E.removeEventListener}(E)){const Sn=E;E.addEventListener(X,b,de),Kt=()=>Sn.removeEventListener(X,b,de)}else if(function xe(E){return E&&"function"==typeof E.on&&"function"==typeof E.off}(E)){const Sn=E;E.on(X,b),Kt=()=>Sn.off(X,b)}else if(function Se(E){return E&&"function"==typeof E.addListener&&"function"==typeof E.removeListener}(E)){const Sn=E;E.addListener(X,b),Kt=()=>Sn.removeListener(X,b)}else{if(!E||!E.length)throw new TypeError("Invalid event target");for(let Sn=0,Vt=E.length;Sn<Vt;Sn++)x(E[Sn],X,b,G,de)}G.add(Kt)}var ve=fe(5529),Pe=fe(591),ue=fe(501),wt=(fe(5797),fe(6409),fe(1363),fe(8686)),Ut=fe(206),nt=fe(358),Nt=(fe(5970),fe(3986)),rn=(fe(2733),fe(2361)),at=fe(3489);class gn{constructor(X,b){this.compare=X,this.keySelector=b}call(X,b){return b.subscribe(new Tt(X,this.compare,this.keySelector))}}class Tt extends at.L{constructor(X,b,G){super(X),this.keySelector=G,this.hasKey=!1,"function"==typeof b&&(this.compare=b)}compare(X,b){return X===b}_next(X){let b;try{const{keySelector:de}=this;b=de?de(X):X}catch(de){return this.destination.error(de)}let G=!1;if(this.hasKey)try{const{compare:de}=this;G=de(this.key,b)}catch(de){return this.destination.error(de)}else this.hasKey=!0;G||(this.key=b,this.destination.next(X))}}var At=fe(2198),Rt=fe(7545),St=fe(9808);const Mt=wt.i,We=["*"],Bn=["outlet"],yn=[[["","slot","top"]],"*"],ar=["[slot=top]","*"],Pr=E=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(E):"function"==typeof requestAnimationFrame?requestAnimationFrame(E):setTimeout(E);let or=(()=>{class E{constructor(b,G){this.injector=b,this.el=G,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(b){this.el.nativeElement.value=this.lastValue=null==b?"":b,Kn(this.el)}handleChangeEvent(b,G){b===this.el.nativeElement&&(G!==this.lastValue&&(this.lastValue=G,this.onChange(G)),Kn(this.el))}_handleBlurEvent(b){b===this.el.nativeElement&&(this.onTouched(),Kn(this.el))}registerOnChange(b){this.onChange=b}registerOnTouched(b){this.onTouched=b}setDisabledState(b){this.el.nativeElement.disabled=b}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let b;try{b=this.injector.get(j.a5)}catch(de){}if(!b)return;b.statusChanges&&(this.statusChanges=b.statusChanges.subscribe(()=>Kn(this.el)));const G=b.control;G&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Kt=>{if(void 0!==G[Kt]){const Sn=G[Kt].bind(G);G[Kt]=(...Vt)=>{Sn(...Vt),Kn(this.el)}}})}}return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.zs3),f.Y36(f.SBq))},E.\u0275dir=f.lG2({type:E,hostBindings:function(b,G){1&b&&f.NdJ("ionBlur",function(Kt){return G._handleBlurEvent(Kt.target)})}}),E})();const Kn=E=>{Pr(()=>{const X=E.nativeElement,b=Vr(X);cr(X,b);const G=X.closest("ion-item");G&&cr(G,b)})},Vr=E=>{const X=E.classList,b=[];for(let G=0;G<X.length;G++){const de=X.item(G);null!==de&&Fr(de,"ng-")&&b.push(`ion-${de.substr(3)}`)}return b},cr=(E,X)=>{const b=E.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(G=>b.remove(G)),X.forEach(G=>b.add(G))},Fr=(E,X)=>E.substr(0,X.length)===X;let Sr=(()=>{class E extends or{constructor(b,G){super(b,G)}_handleIonChange(b){this.handleChangeEvent(b,b.value)}registerOnChange(b){super.registerOnChange(G=>{b(""===G?null:parseFloat(G))})}}return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.zs3),f.Y36(f.SBq))},E.\u0275dir=f.lG2({type:E,selectors:[["ion-input","type","number"]],hostBindings:function(b,G){1&b&&f.NdJ("ionChange",function(Kt){return G._handleIonChange(Kt.target)})},features:[f._Bn([{provide:j.JU,useExisting:E,multi:!0}]),f.qOj]}),E})(),Rr=(()=>{class E extends or{constructor(b,G){super(b,G)}_handleChangeEvent(b){this.handleChangeEvent(b,b.value)}}return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.zs3),f.Y36(f.SBq))},E.\u0275dir=f.lG2({type:E,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(b,G){1&b&&f.NdJ("ionChange",function(Kt){return G._handleChangeEvent(Kt.target)})},features:[f._Bn([{provide:j.JU,useExisting:E,multi:!0}]),f.qOj]}),E})(),fi=(()=>{class E extends or{constructor(b,G){super(b,G)}_handleInputEvent(b){this.handleChangeEvent(b,b.value)}}return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.zs3),f.Y36(f.SBq))},E.\u0275dir=f.lG2({type:E,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(b,G){1&b&&f.NdJ("ionChange",function(Kt){return G._handleInputEvent(Kt.target)})},features:[f._Bn([{provide:j.JU,useExisting:E,multi:!0}]),f.qOj]}),E})();const Hr=(E,X)=>{const b=E.prototype;X.forEach(G=>{Object.defineProperty(b,G,{get(){return this.el[G]},set(de){this.z.runOutsideAngular(()=>this.el[G]=de)}})})},Gn=(E,X)=>{const b=E.prototype;X.forEach(G=>{b[G]=function(){const de=arguments;return this.z.runOutsideAngular(()=>this.el[G].apply(this.el,de))}})},nr=(E,X,b)=>{b.forEach(G=>E[G]=qe(X,G))};function $t(E){return function(b){const{defineCustomElementFn:G,inputs:de,methods:Kt}=E;return void 0!==G&&G(),de&&Hr(b,de),Kt&&Gn(b,Kt),b}}let Ei=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-app"]],ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0})],E),E})(),Si=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],E),E})(),Ue=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement,nr(this,this.el,["ionFocus","ionBlur"])}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],E),E})(),bt=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["collapse"]})],E),E})(),Ce=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],E),E})(),Cr=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement,nr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],E),E})(),Lt=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],E),E})(),Xn=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],E),E})(),nn=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement,nr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),zt=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["button","color","counter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],E),E})(),yr=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],E),E})(),Nn=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],E),E})(),be=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement,nr(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),lt=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement,nr(this,this.el,["ionChange","ionCancel","ionFocus","ionBlur"])}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],E),E})(),It=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["disabled","value"]})],E),E})(),pr=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],E),E})(),Ir=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],E),E})(),Zi=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-thumbnail"]],ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0})],E),E})(),di=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["color","size"]})],E),E})(),Do=(()=>{let E=class{constructor(b,G,de){this.z=de,b.detach(),this.el=G.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:We,decls:1,vars:0,template:function(b,G){1&b&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,H.__decorate)([$t({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})();class rs{constructor(X={}){this.data=X}get(X){return this.data[X]}}let gr=(()=>{class E{constructor(b,G){this.zone=b,this.appRef=G}create(b,G,de){return new Oo(b,G,de,this.appRef,this.zone)}}return E.\u0275fac=function(b){return new(b||E)(f.LFG(f.R0b),f.LFG(f.z2F))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac}),E})();class Oo{constructor(X,b,G,de,Kt){this.resolver=X,this.injector=b,this.location=G,this.appRef=de,this.zone=Kt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(X,b,G,de){return this.zone.run(()=>new Promise(Kt=>{Kt(wo(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,X,b,G,de))}))}removeViewFromDom(X,b){return this.zone.run(()=>new Promise(G=>{const de=this.elRefMap.get(b);if(de){de.destroy(),this.elRefMap.delete(b);const Kt=this.elEventsMap.get(b);Kt&&(Kt(),this.elEventsMap.delete(b))}G()}))}}const wo=(E,X,b,G,de,Kt,Sn,Vt,Vn,wi,zr)=>{const so=X.resolveComponentFactory(Vn),no=f.zs3.create({providers:Yr(wi),parent:b}),Wi=G?G.createComponent(so,G.length,no):so.create(no),Li=Wi.instance,_n=Wi.location.nativeElement;if(wi&&Object.assign(Li,wi),zr)for(const Pi of zr)_n.classList.add(Pi);const Qs=Lo(E,Li,_n);return Vt.appendChild(_n),G||de.attachView(Wi.hostView),Wi.changeDetectorRef.reattach(),Kt.set(_n,Wi),Sn.set(_n,Qs),_n},Xi=[nt.L,nt.a,nt.b,nt.c,nt.d],Lo=(E,X,b)=>E.run(()=>{const G=Xi.filter(de=>"function"==typeof X[de]).map(de=>{const Kt=Sn=>X[de](Sn.detail);return b.addEventListener(de,Kt),()=>b.removeEventListener(de,Kt)});return()=>G.forEach(de=>de())}),Ar=new f.OlP("NavParamsToken"),Yr=E=>[{provide:Ar,useValue:E},{provide:rs,useFactory:ur,deps:[Ar]}],ur=E=>new rs(E),bo=(E,X)=>((E=E.filter(b=>b.stackId!==X.stackId)).push(X),E),Me=(E,X)=>{const b=E.createUrlTree(["."],{relativeTo:X});return E.serializeUrl(b)},Ct=(E,X)=>{if(!E)return;const b=jt(X);for(let G=0;G<b.length;G++){if(G>=E.length)return b[G];if(b[G]!==E[G])return}},jt=E=>E.split("/").map(X=>X.trim()).filter(X=>""!==X),En=E=>{E&&(E.ref.destroy(),E.unlistenEvents())};class xn{constructor(X,b,G,de,Kt,Sn){this.containerEl=b,this.router=G,this.navCtrl=de,this.zone=Kt,this.location=Sn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==X?jt(X):void 0}createView(X,b){var G;const de=Me(this.router,b),Kt=null===(G=null==X?void 0:X.location)||void 0===G?void 0:G.nativeElement,Sn=Lo(this.zone,X.instance,Kt);return{id:this.nextId++,stackId:Ct(this.tabsPrefix,de),unlistenEvents:Sn,element:Kt,ref:X,url:de}}getExistingView(X){const b=Me(this.router,X),G=this.views.find(de=>de.url===b);return G&&G.ref.changeDetectorRef.reattach(),G}setActive(X){var b,G;const de=this.navCtrl.consumeTransition();let{direction:Kt,animation:Sn,animationBuilder:Vt}=de;const Vn=this.activeView,wi=((E,X)=>!X||E.stackId!==X.stackId)(X,Vn);wi&&(Kt="back",Sn=void 0);const zr=this.views.slice();let so;const no=this.router;no.getCurrentNavigation?so=no.getCurrentNavigation():(null===(b=no.navigations)||void 0===b?void 0:b.value)&&(so=no.navigations.value),(null===(G=null==so?void 0:so.extras)||void 0===G?void 0:G.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const Wi=this.views.includes(X),Li=this.insertView(X,Kt);Wi||X.ref.changeDetectorRef.detectChanges();const _n=X.animationBuilder;return void 0===Vt&&"back"===Kt&&!wi&&void 0!==_n&&(Vt=_n),Vn&&(Vn.animationBuilder=Vt),this.zone.runOutsideAngular(()=>this.wait(()=>(Vn&&Vn.ref.changeDetectorRef.detach(),X.ref.changeDetectorRef.reattach(),this.transition(X,Vn,Sn,this.canGoBack(1),!1,Vt).then(()=>Un(X,Li,zr,this.location)).then(()=>({enteringView:X,direction:Kt,animation:Sn,tabSwitch:wi})))))}canGoBack(X,b=this.getActiveStackId()){return this.getStack(b).length>X}pop(X,b=this.getActiveStackId()){return this.zone.run(()=>{var G,de;const Kt=this.getStack(b);if(Kt.length<=X)return Promise.resolve(!1);const Sn=Kt[Kt.length-X-1];let Vt=Sn.url;const Vn=Sn.savedData;if(Vn){const zr=Vn.get("primary");(null===(de=null===(G=null==zr?void 0:zr.route)||void 0===G?void 0:G._routerState)||void 0===de?void 0:de.snapshot.url)&&(Vt=zr.route._routerState.snapshot.url)}const{animationBuilder:wi}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Vt,Object.assign(Object.assign({},Sn.savedExtras),{animation:wi})).then(()=>!0)})}startBackTransition(){const X=this.activeView;if(X){const b=this.getStack(X.stackId),G=b[b.length-2],de=G.animationBuilder;return this.wait(()=>this.transition(G,X,"back",this.canGoBack(2),!0,de))}return Promise.resolve()}endBackTransition(X){X?(this.skipTransition=!0,this.pop(1)):this.activeView&&mr(this.activeView,this.views,this.views,this.location)}getLastUrl(X){const b=this.getStack(X);return b.length>0?b[b.length-1]:void 0}getRootUrl(X){const b=this.getStack(X);return b.length>0?b[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(En),this.activeView=void 0,this.views=[]}getStack(X){return this.views.filter(b=>b.stackId===X)}insertView(X,b){return this.activeView=X,this.views=((E,X,b)=>"root"===b?bo(E,X):"forward"===b?((E,X)=>(E.indexOf(X)>=0?E=E.filter(G=>G.stackId!==X.stackId||G.id<=X.id):E.push(X),E))(E,X):((E,X)=>E.indexOf(X)>=0?E.filter(G=>G.stackId!==X.stackId||G.id<=X.id):bo(E,X))(E,X))(this.views,X,b),this.views.slice()}transition(X,b,G,de,Kt,Sn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(b===X)return Promise.resolve(!1);const Vt=X?X.element:void 0,Vn=b?b.element:void 0,wi=this.containerEl;return Vt&&Vt!==Vn&&(Vt.classList.add("ion-page"),Vt.classList.add("ion-page-invisible"),Vt.parentElement!==wi&&wi.appendChild(Vt),wi.commit)?wi.commit(Vt,Vn,{deepWait:!0,duration:void 0===G?0:void 0,direction:G,showGoBack:de,progressAnimation:Kt,animationBuilder:Sn}):Promise.resolve(!1)}wait(X){return(0,H.__awaiter)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const b=this.runningTask=X();return b.finally(()=>this.runningTask=void 0),b})}}const Un=(E,X,b,G)=>"function"==typeof requestAnimationFrame?new Promise(de=>{requestAnimationFrame(()=>{mr(E,X,b,G),de()})}):Promise.resolve(),mr=(E,X,b,G)=>{b.filter(de=>!X.includes(de)).forEach(En),X.forEach(de=>{const Sn=G.path().split("?")[0].split("#")[0];if(de!==E&&de.url!==Sn){const Vt=de.element;Vt.setAttribute("aria-hidden","true"),Vt.classList.add("ion-page-hidden"),de.ref.changeDetectorRef.detach()}})};let dr=(()=>{class E{get(b,G){const de=mi();return de?de.get(b,G):null}getBoolean(b,G){const de=mi();return!!de&&de.getBoolean(b,G)}getNumber(b,G){const de=mi();return de?de.getNumber(b,G):0}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const oi=new f.OlP("USERCONFIG"),mi=()=>{if("undefined"!=typeof window){const E=window.Ionic;if(null==E?void 0:E.config)return E.config}return null};let po=(()=>{class E{constructor(b,G){this.doc=b,this.backButton=new ve.xQ,this.keyboardDidShow=new ve.xQ,this.keyboardDidHide=new ve.xQ,this.pause=new ve.xQ,this.resume=new ve.xQ,this.resize=new ve.xQ,G.run(()=>{var de;let Kt;this.win=b.defaultView,this.backButton.subscribeWithPriority=function(Sn,Vt){return this.subscribe(Vn=>Vn.register(Sn,wi=>G.run(()=>Vt(wi))))},vi(this.pause,b,"pause"),vi(this.resume,b,"resume"),vi(this.backButton,b,"ionBackButton"),vi(this.resize,this.win,"resize"),vi(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),vi(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Sn=>{Kt=Sn}),(null===(de=this.win)||void 0===de?void 0:de.cordova)?b.addEventListener("deviceready",()=>{Kt("cordova")},{once:!0}):Kt("dom")})}is(b){return(0,wt.a)(this.win,b)}platforms(){return(0,wt.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(b){return Mr(this.win.location.href,b)}isLandscape(){return!this.isPortrait()}isPortrait(){var b,G;return null===(G=(b=this.win).matchMedia)||void 0===G?void 0:G.call(b,"(orientation: portrait)").matches}testUserAgent(b){const G=this.win.navigator;return!!((null==G?void 0:G.userAgent)&&G.userAgent.indexOf(b)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return E.\u0275fac=function(b){return new(b||E)(f.LFG(St.K0),f.LFG(f.R0b))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Mr=(E,X)=>{X=X.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const G=new RegExp("[\\?&]"+X+"=([^&#]*)").exec(E);return G?decodeURIComponent(G[1].replace(/\+/g," ")):null},vi=(E,X,b)=>{X&&X.addEventListener(b,G=>{E.next(null!=G?G.detail:void 0)})};let Qi=(()=>{class E{constructor(b,G,de,Kt){this.location=G,this.serializer=de,this.router=Kt,this.direction=Ui,this.animated=eo,this.guessDirection="forward",this.lastNavId=-1,Kt&&Kt.events.subscribe(Sn=>{if(Sn instanceof ue.OD){const Vt=Sn.restoredState?Sn.restoredState.navigationId:Sn.id;this.guessDirection=Vt<this.lastNavId?"back":"forward",this.guessAnimation=Sn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Sn.id:Vt}}),b.backButton.subscribeWithPriority(0,Sn=>{this.pop(),Sn()})}navigateForward(b,G={}){return this.setDirection("forward",G.animated,G.animationDirection,G.animation),this.navigate(b,G)}navigateBack(b,G={}){return this.setDirection("back",G.animated,G.animationDirection,G.animation),this.navigate(b,G)}navigateRoot(b,G={}){return this.setDirection("root",G.animated,G.animationDirection,G.animation),this.navigate(b,G)}back(b={animated:!0,animationDirection:"back"}){return this.setDirection("back",b.animated,b.animationDirection,b.animation),this.location.back()}pop(){return(0,H.__awaiter)(this,void 0,void 0,function*(){let b=this.topOutlet;for(;b&&!(yield b.pop());)b=b.parentOutlet})}setDirection(b,G,de,Kt){this.direction=b,this.animated=Ur(b,G,de),this.animationBuilder=Kt}setTopOutlet(b){this.topOutlet=b}consumeTransition(){let G,b="root";const de=this.animationBuilder;return"auto"===this.direction?(b=this.guessDirection,G=this.guessAnimation):(G=this.animated,b=this.direction),this.direction=Ui,this.animated=eo,this.animationBuilder=void 0,{direction:b,animation:G,animationBuilder:de}}navigate(b,G){if(Array.isArray(b))return this.router.navigate(b,G);{const de=this.serializer.parse(b.toString());return void 0!==G.queryParams&&(de.queryParams=Object.assign({},G.queryParams)),void 0!==G.fragment&&(de.fragment=G.fragment),this.router.navigateByUrl(de,G)}}}return E.\u0275fac=function(b){return new(b||E)(f.LFG(po),f.LFG(St.Ye),f.LFG(ue.Hx),f.LFG(ue.F0,8))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Ur=(E,X,b)=>{if(!1!==X){if(void 0!==b)return b;if("forward"===E||"back"===E)return E;if("root"===E&&!0===X)return"forward"}},Ui="auto",eo=void 0;let Mi=(()=>{class E{constructor(b,G,de,Kt,Sn,Vt,Vn,wi,zr,so,no,Wi,Li){this.parentContexts=b,this.location=G,this.resolver=de,this.config=Vt,this.navCtrl=Vn,this.parentOutlet=Li,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Pe.X(null),this.stackEvents=new f.vpe,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.nativeEl=zr.nativeElement,this.name=Kt||ue.eC,this.tabsPrefix="true"===Sn?Me(so,Wi):void 0,this.stackCtrl=new xn(this.tabsPrefix,this.nativeEl,so,Vn,no,wi),b.onChildOutletCreated(this.name,this)}set animation(b){this.nativeEl.animation=b}set animated(b){this.nativeEl.animated=b}set swipeGesture(b){this._swipeGesture=b,this.nativeEl.swipeHandler=b?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:G=>this.stackCtrl.endBackTransition(G)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const b=this.getContext();(null==b?void 0:b.route)&&this.activateWith(b.route,b.resolver||null)}new Promise(b=>(0,Ut.c)(this.nativeEl,b)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(b,G){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const G=this.getContext();this.activatedView.savedData=new Map(G.children.contexts);const de=this.activatedView.savedData.get("primary");if(de&&G.route&&(de.route=Object.assign({},G.route)),this.activatedView.savedExtras={},G.route){const Kt=G.route.snapshot;this.activatedView.savedExtras.queryParams=Kt.queryParams,this.activatedView.savedExtras.fragment=Kt.fragment}}const b=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,G){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;let de,Kt=this.stackCtrl.getExistingView(b);if(Kt){de=this.activated=Kt.ref;const Sn=Kt.savedData;Sn&&(this.getContext().children.contexts=Sn),this.updateActivatedRouteProxy(de.instance,b)}else{const Vn=(G=G||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),wi=this.parentContexts.getOrCreateContext(this.name).children,zr=new Pe.X(null),so=this.createActivatedRouteProxy(zr,b),no=new Fi(so,wi,this.location.injector);de=this.activated=this.location.createComponent(Vn,this.location.length,no),zr.next(de.instance),Kt=this.stackCtrl.createView(this.activated,b),this.proxyMap.set(de.instance,so),this.currentActivatedRoute$.next({component:de.instance,activatedRoute:b})}this.activatedView=Kt,this.stackCtrl.setActive(Kt).then(Sn=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(de.instance),this.stackEvents.emit(Sn)})}canGoBack(b=1,G){return this.stackCtrl.canGoBack(b,G)}pop(b=1,G){return this.stackCtrl.pop(b,G)}getLastUrl(b){const G=this.stackCtrl.getLastUrl(b);return G?G.url:void 0}getLastRouteView(b){return this.stackCtrl.getLastUrl(b)}getRootView(b){return this.stackCtrl.getRootUrl(b)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(b,G){const de=new ue.gz;return de._futureSnapshot=G._futureSnapshot,de._routerState=G._routerState,de.snapshot=G.snapshot,de.outlet=G.outlet,de.component=G.component,de._paramMap=this.proxyObservable(b,"paramMap"),de._queryParamMap=this.proxyObservable(b,"queryParamMap"),de.url=this.proxyObservable(b,"url"),de.params=this.proxyObservable(b,"params"),de.queryParams=this.proxyObservable(b,"queryParams"),de.fragment=this.proxyObservable(b,"fragment"),de.data=this.proxyObservable(b,"data"),de}proxyObservable(b,G){return b.pipe((0,At.h)(de=>!!de),(0,Rt.w)(de=>this.currentActivatedRoute$.pipe((0,At.h)(Kt=>null!==Kt&&Kt.component===de),(0,Rt.w)(Kt=>Kt&&Kt.activatedRoute[G]),function Tn(E,X){return b=>b.lift(new gn(E,X))}())))}updateActivatedRouteProxy(b,G){const de=this.proxyMap.get(b);if(!de)throw new Error("Could not find activated route proxy for view");de._futureSnapshot=G._futureSnapshot,de._routerState=G._routerState,de.snapshot=G.snapshot,de.outlet=G.outlet,de.component=G.component,this.currentActivatedRoute$.next({component:b,activatedRoute:G})}}return E.\u0275fac=function(b){return new(b||E)(f.Y36(ue.y6),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.$8M("tabs"),f.Y36(dr),f.Y36(Qi),f.Y36(St.Ye),f.Y36(f.SBq),f.Y36(ue.F0),f.Y36(f.R0b),f.Y36(ue.gz),f.Y36(E,12))},E.\u0275dir=f.lG2({type:E,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),E})();class Fi{constructor(X,b,G){this.route=X,this.childContexts=b,this.parent=G}get(X,b){return X===ue.gz?this.route:X===ue.y6?this.childContexts:this.parent.get(X,b)}}let To=(()=>{class E{constructor(b){this.navCtrl=b,this.ionTabsWillChange=new f.vpe,this.ionTabsDidChange=new f.vpe}onPageSelected(b){const G=b.enteringView.stackId;b.tabSwitch&&void 0!==G&&(this.ionTabsWillChange.emit({tab:G}),this.tabBar&&(this.tabBar.selectedTab=G),this.ionTabsDidChange.emit({tab:G}))}select(b){const G="string"==typeof b,de=G?b:b.detail.tab,Kt=this.outlet.getActiveStackId()===de,Sn=`${this.outlet.tabsPrefix}/${de}`;if(G||b.stopPropagation(),Kt){const Vt=this.outlet.getActiveStackId(),Vn=this.outlet.getLastRouteView(Vt);if((null==Vn?void 0:Vn.url)===Sn)return;const wi=this.outlet.getRootView(de);return this.navCtrl.navigateRoot(Sn,Object.assign(Object.assign({},wi&&Sn===wi.url&&wi.savedExtras),{animated:!0,animationDirection:"back"}))}{const Vt=this.outlet.getLastRouteView(de);return this.navCtrl.navigateRoot((null==Vt?void 0:Vt.url)||Sn,Object.assign(Object.assign({},null==Vt?void 0:Vt.savedExtras),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return E.\u0275fac=function(b){return new(b||E)(f.Y36(Qi))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ion-tabs"]],contentQueries:function(b,G,de){if(1&b&&f.Suo(de,pr,5),2&b){let Kt;f.iGM(Kt=f.CRH())&&(G.tabBar=Kt.first)}},viewQuery:function(b,G){if(1&b&&f.Gf(Bn,5,Mi),2&b){let de;f.iGM(de=f.CRH())&&(G.outlet=de.first)}},hostBindings:function(b,G){1&b&&f.NdJ("ionTabButtonClick",function(Kt){return G.select(Kt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:ar,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(b,G){1&b&&(f.F$t(yn),f.Hsn(0),f.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),f.NdJ("stackEvents",function(Kt){return G.onPageSelected(Kt)}),f.qZA()(),f.Hsn(4,1))},directives:[Mi],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),E})(),to=(()=>{class E{constructor(b,G,de){this.routerOutlet=b,this.navCtrl=G,this.config=de}onClick(b){var G;const de=this.defaultHref||this.config.get("backButtonDefaultHref");(null===(G=this.routerOutlet)||void 0===G?void 0:G.canGoBack())?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),b.preventDefault()):null!=de&&(this.navCtrl.navigateBack(de,{animation:this.routerAnimation}),b.preventDefault())}}return E.\u0275fac=function(b){return new(b||E)(f.Y36(Mi,8),f.Y36(Qi),f.Y36(dr))},E.\u0275dir=f.lG2({type:E,selectors:[["ion-back-button"]],hostBindings:function(b,G){1&b&&f.NdJ("click",function(Kt){return G.onClick(Kt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),E})(),oe=(()=>{class E{constructor(b,G,de,Kt,Sn){this.locationStrategy=b,this.navCtrl=G,this.elementRef=de,this.router=Kt,this.routerLink=Sn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateTargetUrlAndHref(){var b;if(null===(b=this.routerLink)||void 0===b?void 0:b.urlTree){const G=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=G}}onClick(b){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),b.preventDefault()}}return E.\u0275fac=function(b){return new(b||E)(f.Y36(St.S$),f.Y36(Qi),f.Y36(f.SBq),f.Y36(ue.F0),f.Y36(ue.rH,8))},E.\u0275dir=f.lG2({type:E,selectors:[["","routerLink",""]],hostBindings:function(b,G){1&b&&f.NdJ("click",function(Kt){return G.onClick(Kt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[f.TTD]}),E})();class si{constructor(X){this.ctrl=X}create(X){return this.ctrl.create(X||{})}dismiss(X,b,G){return this.ctrl.dismiss(X,b,G)}getTop(){return this.ctrl.getTop()}}let Gr=(()=>{class E extends si{constructor(){super(Nt.a)}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Hi=(()=>{class E extends si{constructor(b,G,de){super(Nt.m),this.angularDelegate=b,this.resolver=G,this.injector=de}create(b){return super.create(Object.assign(Object.assign({},b),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return E.\u0275fac=function(b){return new(b||E)(f.LFG(gr),f.LFG(f._Vd),f.LFG(f.zs3))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac}),E})(),zi=(()=>{class E extends si{constructor(b,G,de){super(Nt.c),this.angularDelegate=b,this.resolver=G,this.injector=de}create(b){return super.create(Object.assign(Object.assign({},b),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return E.\u0275fac=function(b){return new(b||E)(f.LFG(gr),f.LFG(f._Vd),f.LFG(f.zs3))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac}),E})(),ei=(()=>{class E extends si{constructor(){super(Nt.t)}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class ge{shouldDetach(X){return!1}shouldAttach(X){return!1}store(X,b){}retrieve(X){return null}shouldReuseRoute(X,b){if(X.routeConfig!==b.routeConfig)return!1;const G=X.params,de=b.params,Kt=Object.keys(G),Sn=Object.keys(de);if(Kt.length!==Sn.length)return!1;for(const Vt of Kt)if(de[Vt]!==G[Vt])return!1;return!0}}const Yt=(E,X,b)=>()=>{if(X.defaultView&&"undefined"!=typeof window){(E=>{const X=window,b=X.Ionic;b&&b.config&&"Object"!==b.config.constructor.name||(X.Ionic=X.Ionic||{},X.Ionic.config=Object.assign(Object.assign({},X.Ionic.config),E))})(Object.assign(Object.assign({},E),{_zoneGate:Kt=>b.run(Kt)}));const de="__zone_symbol__addEventListener"in X.body?"__zone_symbol__addEventListener":"addEventListener";return function yt(){var E=[];if("undefined"!=typeof window){var X=window;(!X.customElements||X.Element&&(!X.Element.prototype.closest||!X.Element.prototype.matches||!X.Element.prototype.remove||!X.Element.prototype.getRootNode))&&E.push(fe.e(6748).then(fe.t.bind(fe,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||X.NodeList&&!X.NodeList.prototype.forEach||!X.fetch||!function(){try{var G=new URL("b","http://a");return G.pathname="c%20d","http://a/c%20d"===G.href&&G.searchParams}catch(de){return!1}}()||"undefined"==typeof WeakMap)&&E.push(fe.e(2214).then(fe.t.bind(fe,4144,23)))}return Promise.all(E)}().then(()=>((E,X)=>"undefined"==typeof window?Promise.resolve():(0,rn.p)().then(()=>(Mt(),(0,rn.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),X))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Pr,jmp:Kt=>b.runOutsideAngular(Kt),ael(Kt,Sn,Vt,Vn){Kt[de](Sn,Vt,Vn)},rel(Kt,Sn,Vt,Vn){Kt.removeEventListener(Sn,Vt,Vn)}}))}};let vn=(()=>{class E{static forRoot(b){return{ngModule:E,providers:[{provide:oi,useValue:b},{provide:f.ip1,useFactory:Yt,multi:!0,deps:[oi,St.K0,f.R0b]}]}}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275mod=f.oAB({type:E}),E.\u0275inj=f.cJS({providers:[gr,Hi,zi],imports:[[St.ez]]}),E})()},6304:(wr,an,fe)=>{"use strict";fe.d(an,{c:()=>Pe});var f=fe(206);let j;const tt=ue=>ue.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Le=ue=>{if(void 0===j){const Qe=void 0!==ue.style.webkitAnimationName;j=void 0===ue.style.animationName&&Qe?"-webkit-":""}return j},we=(ue,Ge,Qe)=>{const ct=Ge.startsWith("animation")?Le(ue):"";ue.style.setProperty(ct+Ge,Qe)},_e=(ue,Ge)=>{const Qe=Ge.startsWith("animation")?Le(ue):"";ue.style.removeProperty(Qe+Ge)},x=[],ve=(ue=[],Ge)=>{if(void 0!==Ge){const Qe=Array.isArray(Ge)?Ge:[Ge];return[...ue,...Qe]}return ue},Pe=ue=>{let Ge,Qe,ct,wt,Ut,nt,Ye,Tt,At,Rt,St,on,We,rt=[],Nt=[],Et=[],rn=!1,ze={},ae=[],Be=[],Ke={},at=0,Tn=!1,gn=!1,yt=!0,Mt=!1,Ft=!0;const Bn=ue,yn=[],ar=[],Mn=[],er=[],Pr=[],or=[],Kn=[],Vr=[],cr=[],Fr=[],Lr="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Sr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Lr,Rr=()=>Fr,nr=(be,Fe)=>((Fe&&Fe.oneTimeCallback?ar:yn).push({c:be,o:Fe}),We),$t=()=>{if(Sr)Fr.forEach(be=>{be.cancel()}),Fr.length=0;else{const be=Mn.slice();(0,f.r)(()=>{be.forEach(Fe=>{_e(Fe,"animation-name"),_e(Fe,"animation-duration"),_e(Fe,"animation-timing-function"),_e(Fe,"animation-iteration-count"),_e(Fe,"animation-delay"),_e(Fe,"animation-play-state"),_e(Fe,"animation-fill-mode"),_e(Fe,"animation-direction")})})}},Qn=()=>{Pr.forEach(be=>{be&&be.parentNode&&be.parentNode.removeChild(be)}),Pr.length=0},st=()=>void 0!==Ut?Ut:Ye?Ye.getFill():"both",Ot=()=>void 0!==At?At:void 0!==nt?nt:Ye?Ye.getDirection():"normal",Pt=()=>Tn?"linear":void 0!==ct?ct:Ye?Ye.getEasing():"linear",Jt=()=>gn?0:void 0!==Rt?Rt:void 0!==Qe?Qe:Ye?Ye.getDuration():0,Fn=()=>void 0!==wt?wt:Ye?Ye.getIterations():1,Jn=()=>void 0!==St?St:void 0!==Ge?Ge:Ye?Ye.getDelay():0,tn=()=>{0!==at&&(at--,0===at&&((()=>{Qr(),Vr.forEach(It=>It()),cr.forEach(It=>It());const be=yt?1:0,Fe=ae,ut=Be,lt=Ke;Mn.forEach(It=>{const en=It.classList;Fe.forEach(Wt=>en.add(Wt)),ut.forEach(Wt=>en.remove(Wt));for(const Wt in lt)lt.hasOwnProperty(Wt)&&we(It,Wt,lt[Wt])}),yn.forEach(It=>It.c(be,We)),ar.forEach(It=>It.c(be,We)),ar.length=0,Ft=!0,yt&&(Mt=!0),yt=!0})(),Ye&&Ye.animationFinish()))},dn=(be=!0)=>{Qn();const Fe=(ue=>(ue.forEach(Ge=>{for(const Qe in Ge)if(Ge.hasOwnProperty(Qe)){const ct=Ge[Qe];if("easing"===Qe)Ge["animation-timing-function"]=ct,delete Ge[Qe];else{const wt=tt(Qe);wt!==Qe&&(Ge[wt]=ct,delete Ge[Qe])}}}),ue))(rt);Mn.forEach(ut=>{if(Fe.length>0){const lt=((ue=[])=>ue.map(Ge=>{const Qe=Ge.offset,ct=[];for(const wt in Ge)Ge.hasOwnProperty(wt)&&"offset"!==wt&&ct.push(`${wt}: ${Ge[wt]};`);return`${100*Qe}% { ${ct.join(" ")} }`}).join(" "))(Fe);on=void 0!==ue?ue:(ue=>{let Ge=x.indexOf(ue);return Ge<0&&(Ge=x.push(ue)-1),`ion-animation-${Ge}`})(lt);const It=((ue,Ge,Qe)=>{const ct=(ue=>{const Ge=ue.getRootNode();return Ge.head||Ge})(Qe),wt=Le(Qe),Ut=ct.querySelector("#"+ue);if(Ut)return Ut;const nt=(Qe.ownerDocument||document).createElement("style");return nt.id=ue,nt.textContent=`@${wt}keyframes ${ue} { ${Ge} } @${wt}keyframes ${ue}-alt { ${Ge} }`,ct.appendChild(nt),nt})(on,lt,ut);Pr.push(It),we(ut,"animation-duration",`${Jt()}ms`),we(ut,"animation-timing-function",Pt()),we(ut,"animation-delay",`${Jn()}ms`),we(ut,"animation-fill-mode",st()),we(ut,"animation-direction",Ot());const en=Fn()===1/0?"infinite":Fn().toString();we(ut,"animation-iteration-count",en),we(ut,"animation-play-state","paused"),be&&we(ut,"animation-name",`${It.id}-alt`),(0,f.r)(()=>{we(ut,"animation-name",It.id||null)})}})},An=(be=!0)=>{(()=>{or.forEach(lt=>lt()),Kn.forEach(lt=>lt());const be=Nt,Fe=Et,ut=ze;Mn.forEach(lt=>{const It=lt.classList;be.forEach(en=>It.add(en)),Fe.forEach(en=>It.remove(en));for(const en in ut)ut.hasOwnProperty(en)&&we(lt,en,ut[en])})})(),rt.length>0&&(Sr?(Mn.forEach(be=>{const Fe=be.animate(rt,{id:Bn,delay:Jn(),duration:Jt(),easing:Pt(),iterations:Fn(),fill:st(),direction:Ot()});Fe.pause(),Fr.push(Fe)}),Fr.length>0&&(Fr[0].onfinish=()=>{tn()})):dn(be)),rn=!0},In=be=>{if(be=Math.min(Math.max(be,0),.9999),Sr)Fr.forEach(Fe=>{Fe.currentTime=Fe.effect.getComputedTiming().delay+Jt()*be,Fe.pause()});else{const Fe=`-${Jt()*be}ms`;Mn.forEach(ut=>{rt.length>0&&(we(ut,"animation-delay",Fe),we(ut,"animation-play-state","paused"))})}},yr=be=>{Fr.forEach(Fe=>{Fe.effect.updateTiming({delay:Jn(),duration:Jt(),easing:Pt(),iterations:Fn(),fill:st(),direction:Ot()})}),void 0!==be&&In(be)},Nn=(be=!0,Fe)=>{(0,f.r)(()=>{Mn.forEach(ut=>{we(ut,"animation-name",on||null),we(ut,"animation-duration",`${Jt()}ms`),we(ut,"animation-timing-function",Pt()),we(ut,"animation-delay",void 0!==Fe?`-${Fe*Jt()}ms`:`${Jn()}ms`),we(ut,"animation-fill-mode",st()||null),we(ut,"animation-direction",Ot()||null);const lt=Fn()===1/0?"infinite":Fn().toString();we(ut,"animation-iteration-count",lt),be&&we(ut,"animation-name",`${on}-alt`),(0,f.r)(()=>{we(ut,"animation-name",on||null)})})})},lr=(be=!1,Fe=!0,ut)=>(be&&er.forEach(lt=>{lt.update(be,Fe,ut)}),Sr?yr(ut):Nn(Fe,ut),We),ci=()=>{rn&&(Sr?Fr.forEach(be=>{be.pause()}):Mn.forEach(be=>{we(be,"animation-play-state","paused")}))},_r=()=>{Tt=void 0,tn()},Qr=()=>{Tt&&clearTimeout(Tt)},Dn=be=>new Promise(Fe=>{be&&be.sync&&(gn=!0,nr(()=>gn=!1,{oneTimeCallback:!0})),rn||An(),Mt&&(Sr?(In(0),yr()):Nn(),Mt=!1),Ft&&(at=er.length+1,Ft=!1),nr(()=>Fe(),{oneTimeCallback:!0}),er.forEach(ut=>{ut.play()}),Sr?(Fr.forEach(be=>{be.play()}),(0===rt.length||0===Mn.length)&&tn()):(()=>{if(Qr(),(0,f.r)(()=>{Mn.forEach(be=>{rt.length>0&&we(be,"animation-play-state","running")})}),0===rt.length||0===Mn.length)tn();else{const be=Jn()||0,Fe=Jt()||0,ut=Fn()||1;isFinite(ut)&&(Tt=setTimeout(_r,be+Fe*ut+100)),((ue,Ge)=>{let Qe;const ct={passive:!0},Ut=nt=>{ue===nt.target&&(Qe&&Qe(),Qr(),(0,f.r)(()=>{Mn.forEach(be=>{_e(be,"animation-duration"),_e(be,"animation-delay"),_e(be,"animation-play-state")}),(0,f.r)(tn)}))};ue&&(ue.addEventListener("webkitAnimationEnd",Ut,ct),ue.addEventListener("animationend",Ut,ct),Qe=()=>{ue.removeEventListener("webkitAnimationEnd",Ut,ct),ue.removeEventListener("animationend",Ut,ct)})})(Mn[0])}})()}),gi=(be,Fe)=>{const ut=rt[0];return void 0===ut||void 0!==ut.offset&&0!==ut.offset?rt=[{offset:0,[be]:Fe},...rt]:ut[be]=Fe,We};return We={parentAnimation:Ye,elements:Mn,childAnimations:er,id:Bn,animationFinish:tn,from:gi,to:(be,Fe)=>{const ut=rt[rt.length-1];return void 0===ut||void 0!==ut.offset&&1!==ut.offset?rt=[...rt,{offset:1,[be]:Fe}]:ut[be]=Fe,We},fromTo:(be,Fe,ut)=>gi(be,Fe).to(be,ut),parent:be=>(Ye=be,We),play:Dn,pause:()=>(er.forEach(be=>{be.pause()}),ci(),We),stop:()=>{er.forEach(be=>{be.stop()}),rn&&($t(),rn=!1),Tn=!1,gn=!1,Ft=!0,At=void 0,Rt=void 0,St=void 0,at=0,Mt=!1,yt=!0},destroy:be=>(er.forEach(Fe=>{Fe.destroy(be)}),(be=>{$t(),be&&Qn()})(be),Mn.length=0,er.length=0,rt.length=0,yn.length=0,ar.length=0,rn=!1,Ft=!0,We),keyframes:be=>{const Fe=rt!==be;return rt=be,Fe&&(be=>{Sr?Rr().forEach(Fe=>{if(Fe.effect.setKeyframes)Fe.effect.setKeyframes(be);else{const ut=new KeyframeEffect(Fe.effect.target,be,Fe.effect.getTiming());Fe.effect=ut}}):dn()})(rt),We},addAnimation:be=>{if(null!=be)if(Array.isArray(be))for(const Fe of be)Fe.parent(We),er.push(Fe);else be.parent(We),er.push(be);return We},addElement:be=>{if(null!=be)if(1===be.nodeType)Mn.push(be);else if(be.length>=0)for(let Fe=0;Fe<be.length;Fe++)Mn.push(be[Fe]);else console.error("Invalid addElement value");return We},update:lr,fill:be=>(Ut=be,lr(!0),We),direction:be=>(nt=be,lr(!0),We),iterations:be=>(wt=be,lr(!0),We),duration:be=>(!Sr&&0===be&&(be=1),Qe=be,lr(!0),We),easing:be=>(ct=be,lr(!0),We),delay:be=>(Ge=be,lr(!0),We),getWebAnimations:Rr,getKeyframes:()=>rt,getFill:st,getDirection:Ot,getDelay:Jn,getIterations:Fn,getEasing:Pt,getDuration:Jt,afterAddRead:be=>(Vr.push(be),We),afterAddWrite:be=>(cr.push(be),We),afterClearStyles:(be=[])=>{for(const Fe of be)Ke[Fe]="";return We},afterStyles:(be={})=>(Ke=be,We),afterRemoveClass:be=>(Be=ve(Be,be),We),afterAddClass:be=>(ae=ve(ae,be),We),beforeAddRead:be=>(or.push(be),We),beforeAddWrite:be=>(Kn.push(be),We),beforeClearStyles:(be=[])=>{for(const Fe of be)ze[Fe]="";return We},beforeStyles:(be={})=>(ze=be,We),beforeRemoveClass:be=>(Et=ve(Et,be),We),beforeAddClass:be=>(Nt=ve(Nt,be),We),onFinish:nr,progressStart:(be=!1,Fe)=>(er.forEach(ut=>{ut.progressStart(be,Fe)}),ci(),Tn=be,rn||An(),lr(!1,!0,Fe),We),progressStep:be=>(er.forEach(Fe=>{Fe.progressStep(be)}),In(be),We),progressEnd:(be,Fe,ut)=>(Tn=!1,er.forEach(lt=>{lt.progressEnd(be,Fe,ut)}),void 0!==ut&&(Rt=ut),Mt=!1,yt=!0,0===be?(At="reverse"===Ot()?"normal":"reverse","reverse"===At&&(yt=!1),Sr?(lr(),In(1-Fe)):(St=(1-Fe)*Jt()*-1,lr(!1,!1))):1===be&&(Sr?(lr(),In(Fe)):(St=Fe*Jt()*-1,lr(!1,!1))),void 0!==be&&(nr(()=>{Rt=void 0,At=void 0,St=void 0},{oneTimeCallback:!0}),Ye||Dn()),We)}}},2733:(wr,an,fe)=>{"use strict";fe.d(an,{G:()=>Le});class j{constructor(_e,Dt,qe,x,Se){this.id=Dt,this.name=qe,this.disableScroll=Se,this.priority=1e6*x+Dt,this.ctrl=_e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const _e=this.ctrl.capture(this.name,this.id,this.priority);return _e&&this.disableScroll&&this.ctrl.disableScroll(this.id),_e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class H{constructor(_e,Dt,qe,x){this.id=Dt,this.disable=qe,this.disableScroll=x,this.ctrl=_e}block(){if(this.ctrl){if(this.disable)for(const _e of this.disable)this.ctrl.disableGesture(_e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const _e of this.disable)this.ctrl.enableGesture(_e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const tt="backdrop-no-scroll",Le=new class f{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(_e){return new j(this,this.newID(),_e.name,_e.priority||0,!!_e.disableScroll)}createBlocker(_e={}){return new H(this,this.newID(),_e.disable,!!_e.disableScroll)}start(_e,Dt,qe){return this.canStart(_e)?(this.requestedStart.set(Dt,qe),!0):(this.requestedStart.delete(Dt),!1)}capture(_e,Dt,qe){if(!this.start(_e,Dt,qe))return!1;const x=this.requestedStart;let Se=-1e4;if(x.forEach(xe=>{Se=Math.max(Se,xe)}),Se===qe){this.capturedId=Dt,x.clear();const xe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:_e}});return document.dispatchEvent(xe),!0}return x.delete(Dt),!1}release(_e){this.requestedStart.delete(_e),this.capturedId===_e&&(this.capturedId=void 0)}disableGesture(_e,Dt){let qe=this.disabledGestures.get(_e);void 0===qe&&(qe=new Set,this.disabledGestures.set(_e,qe)),qe.add(Dt)}enableGesture(_e,Dt){const qe=this.disabledGestures.get(_e);void 0!==qe&&qe.delete(Dt)}disableScroll(_e){this.disabledScroll.add(_e),1===this.disabledScroll.size&&document.body.classList.add(tt)}enableScroll(_e){this.disabledScroll.delete(_e),0===this.disabledScroll.size&&document.body.classList.remove(tt)}canStart(_e){return!(void 0!==this.capturedId||this.isDisabled(_e))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(_e){const Dt=this.disabledGestures.get(_e);return!!(Dt&&Dt.size>0)}newID(){return this.gestureId++,this.gestureId}}},527:(wr,an,fe)=>{"use strict";fe.r(an),fe.d(an,{MENU_BACK_BUTTON_PRIORITY:()=>Le,OVERLAY_BACK_BUTTON_PRIORITY:()=>tt,blockHardwareBackButton:()=>j,startHardwareBackButton:()=>H});var f=fe(5861);const j=()=>{document.addEventListener("backbutton",()=>{})},H=()=>{const we=document;let _e=!1;we.addEventListener("backbutton",()=>{if(_e)return;let Dt=0,qe=[];const x=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ce,ve){qe.push({priority:ce,handler:ve,id:Dt++})}}});we.dispatchEvent(x);const Se=function(){var ce=(0,f.Z)(function*(ve){try{if(ve&&ve.handler){const Pe=ve.handler(xe);null!=Pe&&(yield Pe)}}catch(Pe){console.error(Pe)}});return function(Pe){return ce.apply(this,arguments)}}(),xe=()=>{if(qe.length>0){let ce={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};qe.forEach(ve=>{ve.priority>=ce.priority&&(ce=ve)}),_e=!0,qe=qe.filter(ve=>ve.id!==ce.id),Se(ce).then(()=>_e=!1)}};xe()})},tt=100,Le=99},206:(wr,an,fe)=>{"use strict";fe.d(an,{a:()=>Le,b:()=>we,c:()=>H,d:()=>xe,e:()=>ce,f:()=>Se,g:()=>_e,h:()=>ct,i:()=>tt,j:()=>x,k:()=>ve,l:()=>qe,m:()=>Pe,n:()=>Qe,o:()=>wt,p:()=>Ge,q:()=>ue,r:()=>Dt,s:()=>Ut,t:()=>f});const f=(nt,rt=0)=>new Promise(Nt=>{j(nt,rt,Nt)}),j=(nt,rt=0,Nt)=>{let Et,rn;const Ye={passive:!0},ae=()=>{Et&&Et()},Be=Ke=>{(void 0===Ke||nt===Ke.target)&&(ae(),Nt(Ke))};return nt&&(nt.addEventListener("webkitTransitionEnd",Be,Ye),nt.addEventListener("transitionend",Be,Ye),rn=setTimeout(Be,rt+500),Et=()=>{rn&&(clearTimeout(rn),rn=void 0),nt.removeEventListener("webkitTransitionEnd",Be,Ye),nt.removeEventListener("transitionend",Be,Ye)}),ae},H=(nt,rt)=>{nt.componentOnReady?nt.componentOnReady().then(Nt=>rt(Nt)):Dt(()=>rt(nt))},tt=(nt,rt=[])=>{const Nt={};return rt.forEach(Et=>{nt.hasAttribute(Et)&&(null!==nt.getAttribute(Et)&&(Nt[Et]=nt.getAttribute(Et)),nt.removeAttribute(Et))}),Nt},Le=(nt,rt,Nt,Et)=>{if("undefined"!=typeof window){const rn=window,Ye=rn&&rn.Ionic&&rn.Ionic.config;if(Ye){const ze=Ye.get("_ael");if(ze)return ze(nt,rt,Nt,Et);if(Ye._ael)return Ye._ael(nt,rt,Nt,Et)}}return nt.addEventListener(rt,Nt,Et)},we=(nt,rt,Nt,Et)=>{if("undefined"!=typeof window){const rn=window,Ye=rn&&rn.Ionic&&rn.Ionic.config;if(Ye){const ze=Ye.get("_rel");if(ze)return ze(nt,rt,Nt,Et);if(Ye._rel)return Ye._rel(nt,rt,Nt,Et)}}return nt.removeEventListener(rt,Nt,Et)},_e=(nt,rt=nt)=>nt.shadowRoot||rt,Dt=nt=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(nt):"function"==typeof requestAnimationFrame?requestAnimationFrame(nt):setTimeout(nt),qe=nt=>!!nt.shadowRoot&&!!nt.attachShadow,x=nt=>{const rt=nt.closest("ion-item");return rt?rt.querySelector("ion-label"):null},Se=nt=>{if(nt.focus(),nt.classList.contains("ion-focusable")){const rt=nt.closest("ion-app");rt&&rt.setFocus([nt])}},xe=(nt,rt)=>{let Nt;const Et=nt.getAttribute("aria-labelledby"),rn=nt.id;let Ye=null!==Et&&""!==Et.trim()?Et:rt+"-lbl",ze=null!==Et&&""!==Et.trim()?document.getElementById(Et):x(nt);return ze?(null===Et&&(ze.id=Ye),Nt=ze.textContent,ze.setAttribute("aria-hidden","true")):""!==rn.trim()&&(ze=document.querySelector(`label[for="${rn}"]`),ze&&(""!==ze.id?Ye=ze.id:ze.id=Ye=`${rn}-lbl`,Nt=ze.textContent)),{label:ze,labelId:Ye,labelText:Nt}},ce=(nt,rt,Nt,Et,rn)=>{if(nt||qe(rt)){let Ye=rt.querySelector("input.aux-input");Ye||(Ye=rt.ownerDocument.createElement("input"),Ye.type="hidden",Ye.classList.add("aux-input"),rt.appendChild(Ye)),Ye.disabled=rn,Ye.name=Nt,Ye.value=Et||""}},ve=(nt,rt,Nt)=>Math.max(nt,Math.min(rt,Nt)),Pe=(nt,rt)=>{if(!nt){const Nt="ASSERT: "+rt;throw console.error(Nt),new Error(Nt)}},ue=nt=>nt.timeStamp||Date.now(),Ge=nt=>{if(nt){const rt=nt.changedTouches;if(rt&&rt.length>0){const Nt=rt[0];return{x:Nt.clientX,y:Nt.clientY}}if(void 0!==nt.pageX)return{x:nt.pageX,y:nt.pageY}}return{x:0,y:0}},Qe=nt=>{const rt="rtl"===document.dir;switch(nt){case"start":return rt;case"end":return!rt;default:throw new Error(`"${nt}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ct=(nt,rt)=>{const Nt=nt._original||nt;return{_original:nt,emit:wt(Nt.emit.bind(Nt),rt)}},wt=(nt,rt=0)=>{let Nt;return(...Et)=>{clearTimeout(Nt),Nt=setTimeout(nt,rt,...Et)}},Ut=(nt,rt)=>{if(null!=nt||(nt={}),null!=rt||(rt={}),nt===rt)return!0;const Nt=Object.keys(nt);if(Nt.length!==Object.keys(rt).length)return!1;for(const Et of Nt)if(!(Et in rt)||nt[Et]!==rt[Et])return!1;return!0}},1363:(wr,an,fe)=>{"use strict";fe.r(an),fe.d(an,{GESTURE_CONTROLLER:()=>f.G,createGesture:()=>qe});var f=fe(2733);const j=(ce,ve,Pe,ue)=>{const Ge=H(ce)?{capture:!!ue.capture,passive:!!ue.passive}:!!ue.capture;let Qe,ct;return ce.__zone_symbol__addEventListener?(Qe="__zone_symbol__addEventListener",ct="__zone_symbol__removeEventListener"):(Qe="addEventListener",ct="removeEventListener"),ce[Qe](ve,Pe,Ge),()=>{ce[ct](ve,Pe,Ge)}},H=ce=>{if(void 0===tt)try{const ve=Object.defineProperty({},"passive",{get:()=>{tt=!0}});ce.addEventListener("optsTest",()=>{},ve)}catch(ve){tt=!1}return!!tt};let tt;const _e=ce=>ce instanceof Document?ce:ce.ownerDocument,qe=ce=>{let ve=!1,Pe=!1,ue=!0,Ge=!1;const Qe=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ce),ct=Qe.canStart,wt=Qe.onWillStart,Ut=Qe.onStart,nt=Qe.onEnd,rt=Qe.notCaptured,Nt=Qe.onMove,Et=Qe.threshold,rn=Qe.passive,Ye=Qe.blurOnStart,ze={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ae=((ce,ve,Pe)=>{const ue=Pe*(Math.PI/180),Ge="x"===ce,Qe=Math.cos(ue),ct=ve*ve;let wt=0,Ut=0,nt=!1,rt=0;return{start(Nt,Et){wt=Nt,Ut=Et,rt=0,nt=!0},detect(Nt,Et){if(!nt)return!1;const rn=Nt-wt,Ye=Et-Ut,ze=rn*rn+Ye*Ye;if(ze<ct)return!1;const ae=Math.sqrt(ze),Be=(Ge?rn:Ye)/ae;return rt=Be>Qe?1:Be<-Qe?-1:0,nt=!1,!0},isGesture:()=>0!==rt,getDirection:()=>rt}})(Qe.direction,Qe.threshold,Qe.maxAngle),Be=f.G.createGesture({name:ce.gestureName,priority:ce.gesturePriority,disableScroll:ce.disableScroll}),Tn=()=>{!ve||(Ge=!1,Nt&&Nt(ze))},gn=()=>!(Be&&!Be.capture()||(ve=!0,ue=!1,ze.startX=ze.currentX,ze.startY=ze.currentY,ze.startTime=ze.currentTime,wt?wt(ze).then(At):At(),0)),At=()=>{Ye&&(()=>{if("undefined"!=typeof document){const Ft=document.activeElement;null!==Ft&&Ft.blur&&Ft.blur()}})(),Ut&&Ut(ze),ue=!0},Rt=()=>{ve=!1,Pe=!1,Ge=!1,ue=!0,Be.release()},St=Ft=>{const on=ve,We=ue;if(Rt(),We){if(x(ze,Ft),on)return void(nt&&nt(ze));rt&&rt(ze)}},yt=((ce,ve,Pe,ue,Ge)=>{let Qe,ct,wt,Ut,nt,rt,Nt,Et=0;const rn=Tt=>{Et=Date.now()+2e3,ve(Tt)&&(!ct&&Pe&&(ct=j(ce,"touchmove",Pe,Ge)),wt||(wt=j(Tt.target,"touchend",ze,Ge)),Ut||(Ut=j(Tt.target,"touchcancel",ze,Ge)))},Ye=Tt=>{Et>Date.now()||!ve(Tt)||(!rt&&Pe&&(rt=j(_e(ce),"mousemove",Pe,Ge)),Nt||(Nt=j(_e(ce),"mouseup",ae,Ge)))},ze=Tt=>{Be(),ue&&ue(Tt)},ae=Tt=>{Ke(),ue&&ue(Tt)},Be=()=>{ct&&ct(),wt&&wt(),Ut&&Ut(),ct=wt=Ut=void 0},Ke=()=>{rt&&rt(),Nt&&Nt(),rt=Nt=void 0},at=()=>{Be(),Ke()},Tn=(Tt=!0)=>{Tt?(Qe||(Qe=j(ce,"touchstart",rn,Ge)),nt||(nt=j(ce,"mousedown",Ye,Ge))):(Qe&&Qe(),nt&&nt(),Qe=nt=void 0,at())};return{enable:Tn,stop:at,destroy:()=>{Tn(!1),ue=Pe=ve=void 0}}})(Qe.el,Ft=>{const on=xe(Ft);return!(Pe||!ue||(Se(Ft,ze),ze.startX=ze.currentX,ze.startY=ze.currentY,ze.startTime=ze.currentTime=on,ze.velocityX=ze.velocityY=ze.deltaX=ze.deltaY=0,ze.event=Ft,ct&&!1===ct(ze))||(Be.release(),!Be.start()))&&(Pe=!0,0===Et?gn():(ae.start(ze.startX,ze.startY),!0))},Ft=>{ve?!Ge&&ue&&(Ge=!0,x(ze,Ft),requestAnimationFrame(Tn)):(x(ze,Ft),ae.detect(ze.currentX,ze.currentY)&&(!ae.isGesture()||!gn())&&Mt())},St,{capture:!1,passive:rn}),Mt=()=>{Rt(),yt.stop(),rt&&rt(ze)};return{enable(Ft=!0){Ft||(ve&&St(void 0),Rt()),yt.enable(Ft)},destroy(){Be.destroy(),yt.destroy()}}},x=(ce,ve)=>{if(!ve)return;const Pe=ce.currentX,ue=ce.currentY,Ge=ce.currentTime;Se(ve,ce);const Qe=ce.currentX,ct=ce.currentY,Ut=(ce.currentTime=xe(ve))-Ge;if(Ut>0&&Ut<100){const rt=(ct-ue)/Ut;ce.velocityX=(Qe-Pe)/Ut*.7+.3*ce.velocityX,ce.velocityY=.7*rt+.3*ce.velocityY}ce.deltaX=Qe-ce.startX,ce.deltaY=ct-ce.startY,ce.event=ve},Se=(ce,ve)=>{let Pe=0,ue=0;if(ce){const Ge=ce.changedTouches;if(Ge&&Ge.length>0){const Qe=Ge[0];Pe=Qe.clientX,ue=Qe.clientY}else void 0!==ce.pageX&&(Pe=ce.pageX,ue=ce.pageY)}ve.currentX=Pe,ve.currentY=ue},xe=ce=>ce.timeStamp||Date.now()},2361:(wr,an,fe)=>{"use strict";fe.d(an,{B:()=>gi,H:()=>Pr,a:()=>Mt,b:()=>dn,c:()=>fr,e:()=>Ue,f:()=>Dn,g:()=>Ft,h:()=>Mn,i:()=>it,j:()=>Fn,k:()=>cn,p:()=>ue,r:()=>yr,s:()=>ve});var f=fe(5861);let H,tt,Le,we=!1,_e=!1,Dt=!1,qe=!1,x=!1;const Se="undefined"!=typeof window?window:{},xe=Se.document||{head:{}},ce={$flags$:0,$resourcesUrl$:"",jmp:ne=>ne(),raf:ne=>requestAnimationFrame(ne),ael:(ne,Oe,be,Fe)=>ne.addEventListener(Oe,be,Fe),rel:(ne,Oe,be,Fe)=>ne.removeEventListener(Oe,be,Fe),ce:(ne,Oe)=>new CustomEvent(ne,Oe)},ve=ne=>{Object.assign(ce,ne)},ue=ne=>Promise.resolve(ne),Ge=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(ne){}return!1})(),Qe=(ne,Oe,be,Fe)=>{be&&be.map(([ut,lt,It])=>{const en=wt(ne,ut),Wt=ct(Oe,It),Bt=Ut(ut);ce.ael(en,lt,Wt,Bt),(Oe.$rmListeners$=Oe.$rmListeners$||[]).push(()=>ce.rel(en,lt,Wt,Bt))})},ct=(ne,Oe)=>be=>{try{256&ne.$flags$?ne.$lazyInstance$[Oe](be):(ne.$queuedListeners$=ne.$queuedListeners$||[]).push([Oe,be])}catch(Fe){Zn(Fe)}},wt=(ne,Oe)=>4&Oe?xe:8&Oe?Se:16&Oe?xe.body:ne,Ut=ne=>0!=(2&ne),rn="s-id",Ye="sty-id",Be="http://www.w3.org/1999/xlink",Tn=new WeakMap,gn=(ne,Oe,be)=>{let Fe=ci.get(ne);Ge&&be?(Fe=Fe||new CSSStyleSheet,Fe.replace(Oe)):Fe=Oe,ci.set(ne,Fe)},Tt=(ne,Oe,be,Fe)=>{let ut=Rt(Oe,be),lt=ci.get(ut);if(ne=11===ne.nodeType?ne:xe,lt)if("string"==typeof lt){let en,It=Tn.get(ne=ne.head||ne);It||Tn.set(ne,It=new Set),It.has(ut)||(ne.host&&(en=ne.querySelector(`[${Ye}="${ut}"]`))?en.innerHTML=lt:(en=xe.createElement("style"),en.innerHTML=lt,ne.insertBefore(en,ne.querySelector("link"))),It&&It.add(ut))}else ne.adoptedStyleSheets.includes(lt)||(ne.adoptedStyleSheets=[...ne.adoptedStyleSheets,lt]);return ut},Rt=(ne,Oe)=>"sc-"+(Oe&&32&ne.$flags$?ne.$tagName$+"-"+Oe:ne.$tagName$),St=ne=>ne.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Mt=ne=>bn.push(ne),Ft=ne=>In(ne).$modeName$,on={},ar=ne=>"object"==(ne=typeof ne)||"function"===ne,Mn=(ne,Oe,...be)=>{let Fe=null,ut=null,lt=null,It=!1,en=!1,Wt=[];const Bt=tr=>{for(let pr=0;pr<tr.length;pr++)Fe=tr[pr],Array.isArray(Fe)?Bt(Fe):null!=Fe&&"boolean"!=typeof Fe&&((It="function"!=typeof ne&&!ar(Fe))&&(Fe=String(Fe)),It&&en?Wt[Wt.length-1].$text$+=Fe:Wt.push(It?er(null,Fe):Fe),en=It)};if(Bt(be),Oe){Oe.key&&(ut=Oe.key),Oe.name&&(lt=Oe.name);{const tr=Oe.className||Oe.class;tr&&(Oe.class="object"!=typeof tr?tr:Object.keys(tr).filter(pr=>tr[pr]).join(" "))}}if("function"==typeof ne)return ne(null===Oe?{}:Oe,Wt,Kn);const On=er(ne,null);return On.$attrs$=Oe,Wt.length>0&&(On.$children$=Wt),On.$key$=ut,On.$name$=lt,On},er=(ne,Oe)=>({$flags$:0,$tag$:ne,$text$:Oe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Pr={},Kn={forEach:(ne,Oe)=>ne.map(Vr).forEach(Oe),map:(ne,Oe)=>ne.map(Vr).map(Oe).map(cr)},Vr=ne=>({vattrs:ne.$attrs$,vchildren:ne.$children$,vkey:ne.$key$,vname:ne.$name$,vtag:ne.$tag$,vtext:ne.$text$}),cr=ne=>{if("function"==typeof ne.vtag){const be=Object.assign({},ne.vattrs);return ne.vkey&&(be.key=ne.vkey),ne.vname&&(be.name=ne.vname),Mn(ne.vtag,be,...ne.vchildren||[])}const Oe=er(ne.vtag,ne.vtext);return Oe.$attrs$=ne.vattrs,Oe.$children$=ne.vchildren,Oe.$key$=ne.vkey,Oe.$name$=ne.vname,Oe},Fr=(ne,Oe,be,Fe,ut,lt)=>{if(be!==Fe){let It=lr(ne,Oe),en=Oe.toLowerCase();if("class"===Oe){const Wt=ne.classList,Bt=Sr(be),On=Sr(Fe);Wt.remove(...Bt.filter(tr=>tr&&!On.includes(tr))),Wt.add(...On.filter(tr=>tr&&!Bt.includes(tr)))}else if("style"===Oe){for(const Wt in be)(!Fe||null==Fe[Wt])&&(Wt.includes("-")?ne.style.removeProperty(Wt):ne.style[Wt]="");for(const Wt in Fe)(!be||Fe[Wt]!==be[Wt])&&(Wt.includes("-")?ne.style.setProperty(Wt,Fe[Wt]):ne.style[Wt]=Fe[Wt])}else if("key"!==Oe)if("ref"===Oe)Fe&&Fe(ne);else if(It||"o"!==Oe[0]||"n"!==Oe[1]){const Wt=ar(Fe);if((It||Wt&&null!==Fe)&&!ut)try{if(ne.tagName.includes("-"))ne[Oe]=Fe;else{let On=null==Fe?"":Fe;"list"===Oe?It=!1:(null==be||ne[Oe]!=On)&&(ne[Oe]=On)}}catch(On){}let Bt=!1;en!==(en=en.replace(/^xlink\:?/,""))&&(Oe=en,Bt=!0),null==Fe||!1===Fe?(!1!==Fe||""===ne.getAttribute(Oe))&&(Bt?ne.removeAttributeNS(Be,Oe):ne.removeAttribute(Oe)):(!It||4&lt||ut)&&!Wt&&(Fe=!0===Fe?"":Fe,Bt?ne.setAttributeNS(Be,Oe,Fe):ne.setAttribute(Oe,Fe))}else Oe="-"===Oe[2]?Oe.slice(3):lr(Se,en)?en.slice(2):en[2]+Oe.slice(3),be&&ce.rel(ne,Oe,be,!1),Fe&&ce.ael(ne,Oe,Fe,!1)}},Lr=/\s/,Sr=ne=>ne?ne.split(Lr):[],rr=(ne,Oe,be,Fe)=>{const ut=11===Oe.$elm$.nodeType&&Oe.$elm$.host?Oe.$elm$.host:Oe.$elm$,lt=ne&&ne.$attrs$||on,It=Oe.$attrs$||on;for(Fe in lt)Fe in It||Fr(ut,Fe,lt[Fe],void 0,be,Oe.$flags$);for(Fe in It)Fr(ut,Fe,lt[Fe],It[Fe],be,Oe.$flags$)},Rr=(ne,Oe,be,Fe)=>{let It,en,Wt,ut=Oe.$children$[be],lt=0;if(we||(Dt=!0,"slot"===ut.$tag$&&(H&&Fe.classList.add(H+"-s"),ut.$flags$|=ut.$children$?2:1)),null!==ut.$text$)It=ut.$elm$=xe.createTextNode(ut.$text$);else if(1&ut.$flags$)It=ut.$elm$=xe.createTextNode("");else{if(qe||(qe="svg"===ut.$tag$),It=ut.$elm$=xe.createElementNS(qe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ut.$flags$?"slot-fb":ut.$tag$),qe&&"foreignObject"===ut.$tag$&&(qe=!1),rr(null,ut,qe),(ne=>null!=ne)(H)&&It["s-si"]!==H&&It.classList.add(It["s-si"]=H),ut.$children$)for(lt=0;lt<ut.$children$.length;++lt)en=Rr(ne,ut,lt,It),en&&It.appendChild(en);"svg"===ut.$tag$?qe=!1:"foreignObject"===It.tagName&&(qe=!0)}return It["s-hn"]=Le,3&ut.$flags$&&(It["s-sr"]=!0,It["s-cr"]=tt,It["s-sn"]=ut.$name$||"",Wt=ne&&ne.$children$&&ne.$children$[be],Wt&&Wt.$tag$===ut.$tag$&&ne.$elm$&&fi(ne.$elm$,!1)),It},fi=(ne,Oe)=>{ce.$flags$|=1;const be=ne.childNodes;for(let Fe=be.length-1;Fe>=0;Fe--){const ut=be[Fe];ut["s-hn"]!==Le&&ut["s-ol"]&&(Qn(ut).insertBefore(ut,$t(ut)),ut["s-ol"].remove(),ut["s-ol"]=void 0,Dt=!0),Oe&&fi(ut,Oe)}ce.$flags$&=-2},Hr=(ne,Oe,be,Fe,ut,lt)=>{let en,It=ne["s-cr"]&&ne["s-cr"].parentNode||ne;for(It.shadowRoot&&It.tagName===Le&&(It=It.shadowRoot);ut<=lt;++ut)Fe[ut]&&(en=Rr(null,be,ut,ne),en&&(Fe[ut].$elm$=en,It.insertBefore(en,$t(Oe))))},Gn=(ne,Oe,be,Fe,ut)=>{for(;Oe<=be;++Oe)(Fe=ne[Oe])&&(ut=Fe.$elm$,kr(Fe),_e=!0,ut["s-ol"]?ut["s-ol"].remove():fi(ut,!0),ut.remove())},br=(ne,Oe)=>ne.$tag$===Oe.$tag$&&("slot"===ne.$tag$?ne.$name$===Oe.$name$:ne.$key$===Oe.$key$),$t=ne=>ne&&ne["s-ol"]||ne,Qn=ne=>(ne["s-ol"]?ne["s-ol"]:ne).parentNode,vr=(ne,Oe)=>{const be=Oe.$elm$=ne.$elm$,Fe=ne.$children$,ut=Oe.$children$,lt=Oe.$tag$,It=Oe.$text$;let en;null===It?(qe="svg"===lt||"foreignObject"!==lt&&qe,"slot"===lt||rr(ne,Oe,qe),null!==Fe&&null!==ut?((ne,Oe,be,Fe)=>{let lo,Wr,ut=0,lt=0,It=0,en=0,Wt=Oe.length-1,Bt=Oe[0],On=Oe[Wt],tr=Fe.length-1,pr=Fe[0],Ir=Fe[tr];for(;ut<=Wt&&lt<=tr;)if(null==Bt)Bt=Oe[++ut];else if(null==On)On=Oe[--Wt];else if(null==pr)pr=Fe[++lt];else if(null==Ir)Ir=Fe[--tr];else if(br(Bt,pr))vr(Bt,pr),Bt=Oe[++ut],pr=Fe[++lt];else if(br(On,Ir))vr(On,Ir),On=Oe[--Wt],Ir=Fe[--tr];else if(br(Bt,Ir))("slot"===Bt.$tag$||"slot"===Ir.$tag$)&&fi(Bt.$elm$.parentNode,!1),vr(Bt,Ir),ne.insertBefore(Bt.$elm$,On.$elm$.nextSibling),Bt=Oe[++ut],Ir=Fe[--tr];else if(br(On,pr))("slot"===Bt.$tag$||"slot"===Ir.$tag$)&&fi(On.$elm$.parentNode,!1),vr(On,pr),ne.insertBefore(On.$elm$,Bt.$elm$),On=Oe[--Wt],pr=Fe[++lt];else{for(It=-1,en=ut;en<=Wt;++en)if(Oe[en]&&null!==Oe[en].$key$&&Oe[en].$key$===pr.$key$){It=en;break}It>=0?(Wr=Oe[It],Wr.$tag$!==pr.$tag$?lo=Rr(Oe&&Oe[lt],be,It,ne):(vr(Wr,pr),Oe[It]=void 0,lo=Wr.$elm$),pr=Fe[++lt]):(lo=Rr(Oe&&Oe[lt],be,lt,ne),pr=Fe[++lt]),lo&&Qn(Bt.$elm$).insertBefore(lo,$t(Bt.$elm$))}ut>Wt?Hr(ne,null==Fe[tr+1]?null:Fe[tr+1].$elm$,be,Fe,lt,tr):lt>tr&&Gn(Oe,ut,Wt)})(be,Fe,Oe,ut):null!==ut?(null!==ne.$text$&&(be.textContent=""),Hr(be,null,Oe,ut,0,ut.length-1)):null!==Fe&&Gn(Fe,0,Fe.length-1),qe&&"svg"===lt&&(qe=!1)):(en=be["s-cr"])?en.parentNode.textContent=It:ne.$text$!==It&&(be.data=It)},Ei=ne=>{let be,Fe,ut,lt,It,en,Oe=ne.childNodes;for(Fe=0,ut=Oe.length;Fe<ut;Fe++)if(be=Oe[Fe],1===be.nodeType){if(be["s-sr"])for(It=be["s-sn"],be.hidden=!1,lt=0;lt<ut;lt++)if(en=Oe[lt].nodeType,Oe[lt]["s-hn"]!==be["s-hn"]||""!==It){if(1===en&&It===Oe[lt].getAttribute("slot")){be.hidden=!0;break}}else if(1===en||3===en&&""!==Oe[lt].textContent.trim()){be.hidden=!0;break}Ei(be)}},xr=[],Si=ne=>{let Oe,be,Fe,ut,lt,It,en=0,Wt=ne.childNodes,Bt=Wt.length;for(;en<Bt;en++){if(Oe=Wt[en],Oe["s-sr"]&&(be=Oe["s-cr"])&&be.parentNode)for(Fe=be.parentNode.childNodes,ut=Oe["s-sn"],It=Fe.length-1;It>=0;It--)be=Fe[It],!be["s-cn"]&&!be["s-nr"]&&be["s-hn"]!==Oe["s-hn"]&&(Or(be,ut)?(lt=xr.find(On=>On.$nodeToRelocate$===be),_e=!0,be["s-sn"]=be["s-sn"]||ut,lt?lt.$slotRefNode$=Oe:xr.push({$slotRefNode$:Oe,$nodeToRelocate$:be}),be["s-sr"]&&xr.map(On=>{Or(On.$nodeToRelocate$,be["s-sn"])&&(lt=xr.find(tr=>tr.$nodeToRelocate$===be),lt&&!On.$slotRefNode$&&(On.$slotRefNode$=lt.$slotRefNode$))})):xr.some(On=>On.$nodeToRelocate$===be)||xr.push({$nodeToRelocate$:be}));1===Oe.nodeType&&Si(Oe)}},Or=(ne,Oe)=>1===ne.nodeType?null===ne.getAttribute("slot")&&""===Oe||ne.getAttribute("slot")===Oe:ne["s-sn"]===Oe||""===Oe,kr=ne=>{ne.$attrs$&&ne.$attrs$.ref&&ne.$attrs$.ref(null),ne.$children$&&ne.$children$.map(kr)},it=ne=>In(ne).$hostElement$,Ue=(ne,Oe,be)=>{const Fe=it(ne);return{emit:ut=>bt(Fe,Oe,{bubbles:!!(4&be),composed:!!(2&be),cancelable:!!(1&be),detail:ut})}},bt=(ne,Oe,be)=>{const Fe=ce.ce(Oe,be);return ne.dispatchEvent(Fe),Fe},Ce=(ne,Oe)=>{Oe&&!ne.$onRenderResolve$&&Oe["s-p"]&&Oe["s-p"].push(new Promise(be=>ne.$onRenderResolve$=be))},Ae=(ne,Oe)=>{if(ne.$flags$|=16,!(4&ne.$flags$))return Ce(ne,ne.$ancestorComponent$),fr(()=>st(ne,Oe));ne.$flags$|=512},st=(ne,Oe)=>{const Fe=ne.$lazyInstance$;let ut;return Oe&&(ne.$flags$|=256,ne.$queuedListeners$&&(ne.$queuedListeners$.map(([lt,It])=>Cr(Fe,lt,It)),ne.$queuedListeners$=null),ut=Cr(Fe,"componentWillLoad")),ut=sr(ut,()=>Cr(Fe,"componentWillRender")),sr(ut,()=>Ot(ne,Fe,Oe))},Ot=function(){var ne=(0,f.Z)(function*(Oe,be,Fe){const ut=Oe.$hostElement$,It=ut["s-rc"];Fe&&(ne=>{const Oe=ne.$cmpMeta$,be=ne.$hostElement$,Fe=Oe.$flags$,lt=Tt(be.shadowRoot?be.shadowRoot:be.getRootNode(),Oe,ne.$modeName$);10&Fe&&(be["s-sc"]=lt,be.classList.add(lt+"-h"),2&Fe&&be.classList.add(lt+"-s"))})(Oe);Pt(Oe,be),It&&(It.map(Wt=>Wt()),ut["s-rc"]=void 0);{const Wt=ut["s-p"],Bt=()=>Jt(Oe);0===Wt.length?Bt():(Promise.all(Wt).then(Bt),Oe.$flags$|=4,Wt.length=0)}});return function(be,Fe,ut){return ne.apply(this,arguments)}}(),Pt=(ne,Oe,be)=>{try{Oe=Oe.render&&Oe.render(),ne.$flags$&=-17,ne.$flags$|=2,((ne,Oe)=>{const be=ne.$hostElement$,Fe=ne.$cmpMeta$,ut=ne.$vnode$||er(null,null),lt=(ne=>ne&&ne.$tag$===Pr)(Oe)?Oe:Mn(null,null,Oe);if(Le=be.tagName,Fe.$attrsToReflect$&&(lt.$attrs$=lt.$attrs$||{},Fe.$attrsToReflect$.map(([It,en])=>lt.$attrs$[en]=be[It])),lt.$tag$=null,lt.$flags$|=4,ne.$vnode$=lt,lt.$elm$=ut.$elm$=be.shadowRoot||be,H=be["s-sc"],tt=be["s-cr"],we=0!=(1&Fe.$flags$),_e=!1,vr(ut,lt),ce.$flags$|=1,Dt){Si(lt.$elm$);let It,en,Wt,Bt,On,tr,pr=0;for(;pr<xr.length;pr++)It=xr[pr],en=It.$nodeToRelocate$,en["s-ol"]||(Wt=xe.createTextNode(""),Wt["s-nr"]=en,en.parentNode.insertBefore(en["s-ol"]=Wt,en));for(pr=0;pr<xr.length;pr++)if(It=xr[pr],en=It.$nodeToRelocate$,It.$slotRefNode$){for(Bt=It.$slotRefNode$.parentNode,On=It.$slotRefNode$.nextSibling,Wt=en["s-ol"];Wt=Wt.previousSibling;)if(tr=Wt["s-nr"],tr&&tr["s-sn"]===en["s-sn"]&&Bt===tr.parentNode&&(tr=tr.nextSibling,!tr||!tr["s-nr"])){On=tr;break}(!On&&Bt!==en.parentNode||en.nextSibling!==On)&&en!==On&&(!en["s-hn"]&&en["s-ol"]&&(en["s-hn"]=en["s-ol"].parentNode.nodeName),Bt.insertBefore(en,On))}else 1===en.nodeType&&(en.hidden=!0)}_e&&Ei(lt.$elm$),ce.$flags$&=-2,xr.length=0})(ne,Oe)}catch(Fe){Zn(Fe,ne.$hostElement$)}return null},Jt=ne=>{const be=ne.$hostElement$,ut=ne.$lazyInstance$,lt=ne.$ancestorComponent$;Cr(ut,"componentDidRender"),64&ne.$flags$?Cr(ut,"componentDidUpdate"):(ne.$flags$|=64,ni(be),Cr(ut,"componentDidLoad"),ne.$onReadyResolve$(be),lt||Jn()),ne.$onInstanceResolve$(be),ne.$onRenderResolve$&&(ne.$onRenderResolve$(),ne.$onRenderResolve$=void 0),512&ne.$flags$&&zn(()=>Ae(ne,!1)),ne.$flags$&=-517},Fn=ne=>{{const Oe=In(ne),be=Oe.$hostElement$.isConnected;return be&&2==(18&Oe.$flags$)&&Ae(Oe,!1),be}},Jn=ne=>{ni(xe.documentElement),zn(()=>bt(Se,"appload",{detail:{namespace:"ionic"}}))},Cr=(ne,Oe,be)=>{if(ne&&ne[Oe])try{return ne[Oe](be)}catch(Fe){Zn(Fe)}},sr=(ne,Oe)=>ne&&ne.then?ne.then(Oe):Oe(),ni=ne=>ne.classList.add("hydrated"),dt=(ne,Oe,be,Fe,ut,lt,It)=>{let en,Wt,Bt,On;if(1===lt.nodeType){for(en=lt.getAttribute("c-id"),en&&(Wt=en.split("."),(Wt[0]===It||"0"===Wt[0])&&(Bt={$flags$:0,$hostId$:Wt[0],$nodeId$:Wt[1],$depth$:Wt[2],$index$:Wt[3],$tag$:lt.tagName.toLowerCase(),$elm$:lt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Oe.push(Bt),lt.removeAttribute("c-id"),ne.$children$||(ne.$children$=[]),ne.$children$[Bt.$index$]=Bt,ne=Bt,Fe&&"0"===Bt.$depth$&&(Fe[Bt.$index$]=Bt.$elm$))),On=lt.childNodes.length-1;On>=0;On--)dt(ne,Oe,be,Fe,ut,lt.childNodes[On],It);if(lt.shadowRoot)for(On=lt.shadowRoot.childNodes.length-1;On>=0;On--)dt(ne,Oe,be,Fe,ut,lt.shadowRoot.childNodes[On],It)}else if(8===lt.nodeType)Wt=lt.nodeValue.split("."),(Wt[1]===It||"0"===Wt[1])&&(en=Wt[0],Bt={$flags$:0,$hostId$:Wt[1],$nodeId$:Wt[2],$depth$:Wt[3],$index$:Wt[4],$elm$:lt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===en?(Bt.$elm$=lt.nextSibling,Bt.$elm$&&3===Bt.$elm$.nodeType&&(Bt.$text$=Bt.$elm$.textContent,Oe.push(Bt),lt.remove(),ne.$children$||(ne.$children$=[]),ne.$children$[Bt.$index$]=Bt,Fe&&"0"===Bt.$depth$&&(Fe[Bt.$index$]=Bt.$elm$))):Bt.$hostId$===It&&("s"===en?(Bt.$tag$="slot",lt["s-sn"]=Wt[5]?Bt.$name$=Wt[5]:"",lt["s-sr"]=!0,Fe&&(Bt.$elm$=xe.createElement(Bt.$tag$),Bt.$name$&&Bt.$elm$.setAttribute("name",Bt.$name$),lt.parentNode.insertBefore(Bt.$elm$,lt),lt.remove(),"0"===Bt.$depth$&&(Fe[Bt.$index$]=Bt.$elm$)),be.push(Bt),ne.$children$||(ne.$children$=[]),ne.$children$[Bt.$index$]=Bt):"r"===en&&(Fe?lt.remove():(ut["s-cr"]=lt,lt["s-cn"]=!0))));else if(ne&&"style"===ne.$tag$){const tr=er(null,lt.textContent);tr.$elm$=lt,tr.$index$="0",ne.$children$=[tr]}},ke=(ne,Oe)=>{if(1===ne.nodeType){let be=0;for(;be<ne.childNodes.length;be++)ke(ne.childNodes[be],Oe);if(ne.shadowRoot)for(be=0;be<ne.shadowRoot.childNodes.length;be++)ke(ne.shadowRoot.childNodes[be],Oe)}else if(8===ne.nodeType){const be=ne.nodeValue.split(".");"o"===be[0]&&(Oe.set(be[1]+"."+be[2],ne),ne.nodeValue="",ne["s-en"]=be[3])}},Er=(ne,Oe,be)=>{if(Oe.$members$){ne.watchers&&(Oe.$watchers$=ne.watchers);const Fe=Object.entries(Oe.$members$),ut=ne.prototype;if(Fe.map(([lt,[It]])=>{31&It||2&be&&32&It?Object.defineProperty(ut,lt,{get(){return((ne,Oe)=>In(this).$instanceValues$.get(Oe))(0,lt)},set(en){((ne,Oe,be,Fe)=>{const ut=In(ne),lt=ut.$hostElement$,It=ut.$instanceValues$.get(Oe),en=ut.$flags$,Wt=ut.$lazyInstance$;be=((ne,Oe)=>null==ne||ar(ne)?ne:4&Oe?"false"!==ne&&(""===ne||!!ne):2&Oe?parseFloat(ne):1&Oe?String(ne):ne)(be,Fe.$members$[Oe][0]);const Bt=Number.isNaN(It)&&Number.isNaN(be);if((!(8&en)||void 0===It)&&be!==It&&!Bt&&(ut.$instanceValues$.set(Oe,be),Wt)){if(Fe.$watchers$&&128&en){const tr=Fe.$watchers$[Oe];tr&&tr.map(pr=>{try{Wt[pr](be,It,Oe)}catch(Ir){Zn(Ir,lt)}})}2==(18&en)&&Ae(ut,!1)}})(this,lt,en,Oe)},configurable:!0,enumerable:!0}):1&be&&64&It&&Object.defineProperty(ut,lt,{value(...en){const Wt=In(this);return Wt.$onInstancePromise$.then(()=>Wt.$lazyInstance$[lt](...en))}})}),1&be){const lt=new Map;ut.attributeChangedCallback=function(It,en,Wt){ce.jmp(()=>{const Bt=lt.get(It);if(this.hasOwnProperty(Bt))Wt=this[Bt],delete this[Bt];else if(ut.hasOwnProperty(Bt)&&"number"==typeof this[Bt]&&this[Bt]==Wt)return;this[Bt]=(null!==Wt||"boolean"!=typeof this[Bt])&&Wt})},ne.observedAttributes=Fe.filter(([It,en])=>15&en[0]).map(([It,en])=>{const Wt=en[1]||It;return lt.set(Wt,It),512&en[0]&&Oe.$attrsToReflect$.push([It,Wt]),Wt})}}return ne},Ve=function(){var ne=(0,f.Z)(function*(Oe,be,Fe,ut,lt){if(0==(32&be.$flags$)){{if(be.$flags$|=32,(lt=Di(Fe)).then){const Bt=()=>{};lt=yield lt,Bt()}lt.isProxied||(Fe.$watchers$=lt.watchers,Er(lt,Fe,2),lt.isProxied=!0);const Wt=()=>{};be.$flags$|=8;try{new lt(be)}catch(Bt){Zn(Bt)}be.$flags$&=-9,be.$flags$|=128,Wt(),He(be.$lazyInstance$)}if(lt.style){let Wt=lt.style;"string"!=typeof Wt&&(Wt=Wt[be.$modeName$=(ne=>bn.map(Oe=>Oe(ne)).find(Oe=>!!Oe))(Oe)]);const Bt=Rt(Fe,be.$modeName$);if(!ci.has(Bt)){const On=()=>{};gn(Bt,Wt,!!(1&Fe.$flags$)),On()}}}const It=be.$ancestorComponent$,en=()=>Ae(be,!0);It&&It["s-rc"]?It["s-rc"].push(en):en()});return function(be,Fe,ut,lt,It){return ne.apply(this,arguments)}}(),He=ne=>{Cr(ne,"connectedCallback")},zt=ne=>{const Oe=ne["s-cr"]=xe.createComment("");Oe["s-cn"]=!0,ne.insertBefore(Oe,ne.firstChild)},dn=(ne,Oe={})=>{const Fe=[],ut=Oe.exclude||[],lt=Se.customElements,It=xe.head,en=It.querySelector("meta[charset]"),Wt=xe.createElement("style"),Bt=[],On=xe.querySelectorAll(`[${Ye}]`);let tr,pr=!0,Ir=0;for(Object.assign(ce,Oe),ce.$resourcesUrl$=new URL(Oe.resourcesUrl||"./",xe.baseURI).href,ce.$flags$|=2;Ir<On.length;Ir++)gn(On[Ir].getAttribute(Ye),St(On[Ir].innerHTML),!0);ne.map(lo=>{lo[1].map(Wr=>{const Zi={$flags$:Wr[0],$tagName$:Wr[1],$members$:Wr[2],$listeners$:Wr[3]};Zi.$members$=Wr[2],Zi.$listeners$=Wr[3],Zi.$attrsToReflect$=[],Zi.$watchers$={};const di=Zi.$tagName$,$i=class extends HTMLElement{constructor(Do){super(Do),Nn(Do=this,Zi),1&Zi.$flags$&&Do.attachShadow({mode:"open",delegatesFocus:!!(16&Zi.$flags$)})}connectedCallback(){tr&&(clearTimeout(tr),tr=null),pr?Bt.push(this):ce.jmp(()=>(ne=>{if(0==(1&ce.$flags$)){const Oe=In(ne),be=Oe.$cmpMeta$,Fe=()=>{};if(1&Oe.$flags$)Qe(ne,Oe,be.$listeners$),He(Oe.$lazyInstance$);else{let ut;if(Oe.$flags$|=1,ut=ne.getAttribute(rn),ut){if(1&be.$flags$){const lt=Tt(ne.shadowRoot,be,ne.getAttribute("s-mode"));ne.classList.remove(lt+"-h",lt+"-s")}((ne,Oe,be,Fe)=>{const lt=ne.shadowRoot,It=[],Wt=lt?[]:null,Bt=Fe.$vnode$=er(Oe,null);ce.$orgLocNodes$||ke(xe.body,ce.$orgLocNodes$=new Map),ne[rn]=be,ne.removeAttribute(rn),dt(Bt,It,[],Wt,ne,ne,be),It.map(On=>{const tr=On.$hostId$+"."+On.$nodeId$,pr=ce.$orgLocNodes$.get(tr),Ir=On.$elm$;pr&&""===pr["s-en"]&&pr.parentNode.insertBefore(Ir,pr.nextSibling),lt||(Ir["s-hn"]=Oe,pr&&(Ir["s-ol"]=pr,Ir["s-ol"]["s-nr"]=Ir)),ce.$orgLocNodes$.delete(tr)}),lt&&Wt.map(On=>{On&&lt.appendChild(On)})})(ne,be.$tagName$,ut,Oe)}ut||12&be.$flags$&&zt(ne);{let lt=ne;for(;lt=lt.parentNode||lt.host;)if(1===lt.nodeType&&lt.hasAttribute("s-id")&&lt["s-p"]||lt["s-p"]){Ce(Oe,Oe.$ancestorComponent$=lt);break}}be.$members$&&Object.entries(be.$members$).map(([lt,[It]])=>{if(31&It&&ne.hasOwnProperty(lt)){const en=ne[lt];delete ne[lt],ne[lt]=en}}),zn(()=>Ve(ne,Oe,be))}Fe()}})(this))}disconnectedCallback(){ce.jmp(()=>(ne=>{if(0==(1&ce.$flags$)){const Oe=In(this),be=Oe.$lazyInstance$;Oe.$rmListeners$&&(Oe.$rmListeners$.map(Fe=>Fe()),Oe.$rmListeners$=void 0),Cr(be,"disconnectedCallback")}})())}componentOnReady(){return In(this).$onReadyPromise$}};Zi.$lazyBundleId$=lo[0],!ut.includes(di)&&!lt.get(di)&&(Fe.push(di),lt.define(di,Er($i,Zi,1)))})}),Wt.innerHTML=Fe+"{visibility:hidden}.hydrated{visibility:inherit}",Wt.setAttribute("data-styles",""),It.insertBefore(Wt,en?en.nextSibling:It.firstChild),pr=!1,Bt.length?Bt.map(lo=>lo.connectedCallback()):ce.jmp(()=>tr=setTimeout(Jn,30))},cn=ne=>{const Oe=new URL(ne,ce.$resourcesUrl$);return Oe.origin!==Se.location.origin?Oe.href:Oe.pathname},An=new WeakMap,In=ne=>An.get(ne),yr=(ne,Oe)=>An.set(Oe.$lazyInstance$=ne,Oe),Nn=(ne,Oe)=>{const be={$flags$:0,$hostElement$:ne,$cmpMeta$:Oe,$instanceValues$:new Map};return be.$onInstancePromise$=new Promise(Fe=>be.$onInstanceResolve$=Fe),be.$onReadyPromise$=new Promise(Fe=>be.$onReadyResolve$=Fe),ne["s-p"]=[],ne["s-rc"]=[],Qe(ne,be,Oe.$listeners$),An.set(ne,be)},lr=(ne,Oe)=>Oe in ne,Zn=(ne,Oe)=>(0,console.error)(ne,Oe),ii=new Map,Di=(ne,Oe,be)=>{const Fe=ne.$tagName$.replace(/-/g,"_"),ut=ne.$lazyBundleId$,lt=ii.get(ut);return lt?lt[Fe]:fe(863)(`./${ut}.entry.js`).then(It=>(ii.set(ut,It),It[Fe]),Zn)},ci=new Map,bn=[],_r=[],Qr=[],Ai=(ne,Oe)=>be=>{ne.push(be),x||(x=!0,Oe&&4&ce.$flags$?zn($r):ce.raf($r))},Ki=ne=>{for(let Oe=0;Oe<ne.length;Oe++)try{ne[Oe](performance.now())}catch(be){Zn(be)}ne.length=0},$r=()=>{Ki(_r),Ki(Qr),(x=_r.length>0)&&ce.raf($r)},zn=ne=>ue().then(ne),Dn=Ai(_r,!1),fr=Ai(Qr,!0),gi={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5970:(wr,an,fe)=>{"use strict";fe.d(an,{m:()=>Se});var f=fe(5861),j=fe(527),H=fe(206),tt=fe(8686),Le=fe(6304);const we=xe=>(0,Le.c)().duration(xe?400:300),_e=xe=>{let ce,ve;const Pe=xe.width+8,ue=(0,Le.c)(),Ge=(0,Le.c)();xe.isEndSide?(ce=Pe+"px",ve="0px"):(ce=-Pe+"px",ve="0px"),ue.addElement(xe.menuInnerEl).fromTo("transform",`translateX(${ce})`,`translateX(${ve})`);const ct="ios"===(0,tt.b)(xe),wt=ct?.2:.25;return Ge.addElement(xe.backdropEl).fromTo("opacity",.01,wt),we(ct).addAnimation([ue,Ge])},Dt=xe=>{let ce,ve;const Pe=(0,tt.b)(xe),ue=xe.width;xe.isEndSide?(ce=-ue+"px",ve=ue+"px"):(ce=ue+"px",ve=-ue+"px");const Ge=(0,Le.c)().addElement(xe.menuInnerEl).fromTo("transform",`translateX(${ve})`,"translateX(0px)"),Qe=(0,Le.c)().addElement(xe.contentEl).fromTo("transform","translateX(0px)",`translateX(${ce})`),ct=(0,Le.c)().addElement(xe.backdropEl).fromTo("opacity",.01,.32);return we("ios"===Pe).addAnimation([Ge,Qe,ct])},qe=xe=>{const ce=(0,tt.b)(xe),ve=xe.width*(xe.isEndSide?-1:1)+"px",Pe=(0,Le.c)().addElement(xe.contentEl).fromTo("transform","translateX(0px)",`translateX(${ve})`);return we("ios"===ce).addAnimation(Pe)},Se=(()=>{const xe=new Map,ce=[],ve=function(){var At=(0,f.Z)(function*(Rt){const St=yield Ut(Rt);return!!St&&St.open()});return function(St){return At.apply(this,arguments)}}(),Pe=function(){var At=(0,f.Z)(function*(Rt){const St=yield void 0!==Rt?Ut(Rt):nt();return void 0!==St&&St.close()});return function(St){return At.apply(this,arguments)}}(),ue=function(){var At=(0,f.Z)(function*(Rt){const St=yield Ut(Rt);return!!St&&St.toggle()});return function(St){return At.apply(this,arguments)}}(),Ge=function(){var At=(0,f.Z)(function*(Rt,St){const yt=yield Ut(St);return yt&&(yt.disabled=!Rt),yt});return function(St,yt){return At.apply(this,arguments)}}(),Qe=function(){var At=(0,f.Z)(function*(Rt,St){const yt=yield Ut(St);return yt&&(yt.swipeGesture=Rt),yt});return function(St,yt){return At.apply(this,arguments)}}(),ct=function(){var At=(0,f.Z)(function*(Rt){if(null!=Rt){const St=yield Ut(Rt);return void 0!==St&&St.isOpen()}return void 0!==(yield nt())});return function(St){return At.apply(this,arguments)}}(),wt=function(){var At=(0,f.Z)(function*(Rt){const St=yield Ut(Rt);return!!St&&!St.disabled});return function(St){return At.apply(this,arguments)}}(),Ut=function(){var At=(0,f.Z)(function*(Rt){return yield Tt(),"start"===Rt||"end"===Rt?gn(Mt=>Mt.side===Rt&&!Mt.disabled)||gn(Mt=>Mt.side===Rt):null!=Rt?gn(yt=>yt.menuId===Rt):gn(yt=>!yt.disabled)||(ce.length>0?ce[0].el:void 0)});return function(St){return At.apply(this,arguments)}}(),nt=function(){var At=(0,f.Z)(function*(){return yield Tt(),Ke()});return function(){return At.apply(this,arguments)}}(),rt=function(){var At=(0,f.Z)(function*(){return yield Tt(),at()});return function(){return At.apply(this,arguments)}}(),Nt=function(){var At=(0,f.Z)(function*(){return yield Tt(),Tn()});return function(){return At.apply(this,arguments)}}(),Et=(At,Rt)=>{xe.set(At,Rt)},ze=At=>{const Rt=At.side;ce.filter(St=>St.side===Rt&&St!==At).forEach(St=>St.disabled=!0)},ae=function(){var At=(0,f.Z)(function*(Rt,St,yt){if(Tn())return!1;if(St){const Mt=yield nt();Mt&&Rt.el!==Mt&&(yield Mt.setOpen(!1,!1))}return Rt._setOpen(St,yt)});return function(St,yt,Mt){return At.apply(this,arguments)}}(),Ke=()=>gn(At=>At._isOpen),at=()=>ce.map(At=>At.el),Tn=()=>ce.some(At=>At.isAnimating),gn=At=>{const Rt=ce.find(At);if(void 0!==Rt)return Rt.el},Tt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(At=>new Promise(Rt=>(0,H.c)(At,Rt))));return Et("reveal",qe),Et("push",Dt),Et("overlay",_e),"undefined"!=typeof document&&document.addEventListener("ionBackButton",At=>{const Rt=Ke();Rt&&At.detail.register(j.MENU_BACK_BUTTON_PRIORITY,()=>Rt.close())}),{registerAnimation:Et,get:Ut,getMenus:rt,getOpen:nt,isEnabled:wt,swipeGesture:Qe,isAnimating:Nt,isOpen:ct,enable:Ge,toggle:ue,close:Pe,open:ve,_getOpenSync:Ke,_createAnimation:(At,Rt)=>{const St=xe.get(At);if(!St)throw new Error("animation not registered");return St(Rt)},_register:At=>{ce.indexOf(At)<0&&(At.disabled||ze(At),ce.push(At))},_unregister:At=>{const Rt=ce.indexOf(At);Rt>-1&&ce.splice(Rt,1)},_setOpen:ae,_setActiveMenu:ze}})()},358:(wr,an,fe)=>{"use strict";fe.d(an,{L:()=>tt,a:()=>Le,b:()=>we,c:()=>_e,d:()=>Dt,e:()=>Et,g:()=>ze,l:()=>rt,s:()=>rn,t:()=>Se});var f=fe(5861),j=fe(2361),H=fe(206);const tt="ionViewWillEnter",Le="ionViewDidEnter",we="ionViewWillLeave",_e="ionViewDidLeave",Dt="ionViewWillUnload",Se=ae=>new Promise((Be,Ke)=>{(0,j.c)(()=>{xe(ae),ce(ae).then(at=>{at.animation&&at.animation.destroy(),ve(ae),Be(at)},at=>{ve(ae),Ke(at)})})}),xe=ae=>{const Be=ae.enteringEl,Ke=ae.leavingEl;Ye(Be,Ke,ae.direction),ae.showGoBack?Be.classList.add("can-go-back"):Be.classList.remove("can-go-back"),rn(Be,!1),Be.style.setProperty("pointer-events","none"),Ke&&(rn(Ke,!1),Ke.style.setProperty("pointer-events","none"))},ce=function(){var ae=(0,f.Z)(function*(Be){const Ke=yield Pe(Be);return Ke&&j.B.isBrowser?ue(Ke,Be):Ge(Be)});return function(Ke){return ae.apply(this,arguments)}}(),ve=ae=>{const Be=ae.enteringEl,Ke=ae.leavingEl;Be.classList.remove("ion-page-invisible"),Be.style.removeProperty("pointer-events"),void 0!==Ke&&(Ke.classList.remove("ion-page-invisible"),Ke.style.removeProperty("pointer-events"))},Pe=function(){var ae=(0,f.Z)(function*(Be){return Be.leavingEl&&Be.animated&&0!==Be.duration?Be.animationBuilder?Be.animationBuilder:"ios"===Be.mode?(yield Promise.resolve().then(fe.bind(fe,5797))).iosTransitionAnimation:(yield Promise.resolve().then(fe.bind(fe,6409))).mdTransitionAnimation:void 0});return function(Ke){return ae.apply(this,arguments)}}(),ue=function(){var ae=(0,f.Z)(function*(Be,Ke){yield Qe(Ke,!0);const at=Be(Ke.baseEl,Ke);Ut(Ke.enteringEl,Ke.leavingEl);const Tn=yield wt(at,Ke);return Ke.progressCallback&&Ke.progressCallback(void 0),Tn&&nt(Ke.enteringEl,Ke.leavingEl),{hasCompleted:Tn,animation:at}});return function(Ke,at){return ae.apply(this,arguments)}}(),Ge=function(){var ae=(0,f.Z)(function*(Be){const Ke=Be.enteringEl,at=Be.leavingEl;return yield Qe(Be,!1),Ut(Ke,at),nt(Ke,at),{hasCompleted:!0}});return function(Ke){return ae.apply(this,arguments)}}(),Qe=function(){var ae=(0,f.Z)(function*(Be,Ke){const Tn=(void 0!==Be.deepWait?Be.deepWait:Ke)?[Et(Be.enteringEl),Et(Be.leavingEl)]:[Nt(Be.enteringEl),Nt(Be.leavingEl)];yield Promise.all(Tn),yield ct(Be.viewIsReady,Be.enteringEl)});return function(Ke,at){return ae.apply(this,arguments)}}(),ct=function(){var ae=(0,f.Z)(function*(Be,Ke){Be&&(yield Be(Ke))});return function(Ke,at){return ae.apply(this,arguments)}}(),wt=(ae,Be)=>{const Ke=Be.progressCallback,at=new Promise(Tn=>{ae.onFinish(gn=>Tn(1===gn))});return Ke?(ae.progressStart(!0),Ke(ae)):ae.play(),at},Ut=(ae,Be)=>{rt(Be,we),rt(ae,tt)},nt=(ae,Be)=>{rt(ae,Le),rt(Be,_e)},rt=(ae,Be)=>{if(ae){const Ke=new CustomEvent(Be,{bubbles:!1,cancelable:!1});ae.dispatchEvent(Ke)}},Nt=ae=>ae?new Promise(Be=>(0,H.c)(ae,Be)):Promise.resolve(),Et=function(){var ae=(0,f.Z)(function*(Be){const Ke=Be;if(Ke){if(null!=Ke.componentOnReady){if(null!=(yield Ke.componentOnReady()))return}else if(null!=Ke.__registerHost)return void(yield new Promise(Tn=>(0,H.r)(Tn)));yield Promise.all(Array.from(Ke.children).map(Et))}});return function(Ke){return ae.apply(this,arguments)}}(),rn=(ae,Be)=>{Be?(ae.setAttribute("aria-hidden","true"),ae.classList.add("ion-page-hidden")):(ae.hidden=!1,ae.removeAttribute("aria-hidden"),ae.classList.remove("ion-page-hidden"))},Ye=(ae,Be,Ke)=>{void 0!==ae&&(ae.style.zIndex="back"===Ke?"99":"101"),void 0!==Be&&(Be.style.zIndex="100")},ze=ae=>ae.classList.contains("ion-page")?ae:ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ae},8686:(wr,an,fe)=>{"use strict";fe.d(an,{a:()=>Se,b:()=>Tn,c:()=>H,g:()=>x,i:()=>gn});var f=fe(2361);class j{constructor(){this.m=new Map}reset(At){this.m=new Map(Object.entries(At))}get(At,Rt){const St=this.m.get(At);return void 0!==St?St:Rt}getBoolean(At,Rt=!1){const St=this.m.get(At);return void 0===St?Rt:"string"==typeof St?"true"===St:!!St}getNumber(At,Rt){const St=parseFloat(this.m.get(At));return isNaN(St)?void 0!==Rt?Rt:NaN:St}set(At,Rt){this.m.set(At,Rt)}}const H=new j,qe="ionic-persist-config",x=Tt=>xe(Tt),Se=(Tt,At)=>("string"==typeof Tt&&(At=Tt,Tt=void 0),x(Tt).includes(At)),xe=(Tt=window)=>{if(void 0===Tt)return[];Tt.Ionic=Tt.Ionic||{};let At=Tt.Ionic.platforms;return null==At&&(At=Tt.Ionic.platforms=ce(Tt),At.forEach(Rt=>Tt.document.documentElement.classList.add(`plt-${Rt}`))),At},ce=Tt=>{const At=H.get("platform");return Object.keys(Ke).filter(Rt=>{const St=At&&At[Rt];return"function"==typeof St?St(Tt):Ke[Rt](Tt)})},Pe=Tt=>!!(ae(Tt,/iPad/i)||ae(Tt,/Macintosh/i)&&nt(Tt)),Qe=Tt=>ae(Tt,/android|sink/i),nt=Tt=>Be(Tt,"(any-pointer:coarse)"),Nt=Tt=>Et(Tt)||rn(Tt),Et=Tt=>!!(Tt.cordova||Tt.phonegap||Tt.PhoneGap),rn=Tt=>{const At=Tt.Capacitor;return!(!At||!At.isNative)},ae=(Tt,At)=>At.test(Tt.navigator.userAgent),Be=(Tt,At)=>Tt.matchMedia&&Tt.matchMedia(At).matches,Ke={ipad:Pe,iphone:Tt=>ae(Tt,/iPhone/i),ios:Tt=>ae(Tt,/iPhone|iPod/i)||Pe(Tt),android:Qe,phablet:Tt=>{const At=Tt.innerWidth,Rt=Tt.innerHeight,St=Math.min(At,Rt),yt=Math.max(At,Rt);return St>390&&St<520&&yt>620&&yt<800},tablet:Tt=>{const At=Tt.innerWidth,Rt=Tt.innerHeight,St=Math.min(At,Rt),yt=Math.max(At,Rt);return Pe(Tt)||(Tt=>Qe(Tt)&&!ae(Tt,/mobile/i))(Tt)||St>460&&St<820&&yt>780&&yt<1400},cordova:Et,capacitor:rn,electron:Tt=>ae(Tt,/electron/i),pwa:Tt=>!!(Tt.matchMedia&&Tt.matchMedia("(display-mode: standalone)").matches||Tt.navigator.standalone),mobile:nt,mobileweb:Tt=>nt(Tt)&&!Nt(Tt),desktop:Tt=>!nt(Tt),hybrid:Nt};let at;const Tn=Tt=>Tt&&(0,f.g)(Tt)||at,gn=(Tt={})=>{if("undefined"==typeof window)return;const At=window.document,Rt=window,St=Rt.Ionic=Rt.Ionic||{},yt={};Tt._ael&&(yt.ael=Tt._ael),Tt._rel&&(yt.rel=Tt._rel),Tt._ce&&(yt.ce=Tt._ce),(0,f.s)(yt);const Mt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Tt=>{try{const At=Tt.sessionStorage.getItem(qe);return null!==At?JSON.parse(At):{}}catch(At){return{}}})(Rt)),{persistConfig:!1}),St.config),(Tt=>{const At={};return Tt.location.search.slice(1).split("&").map(Rt=>Rt.split("=")).map(([Rt,St])=>[decodeURIComponent(Rt),decodeURIComponent(St)]).filter(([Rt])=>((Tt,At)=>Tt.substr(0,At.length)===At)(Rt,"ionic:")).map(([Rt,St])=>[Rt.slice("ionic:".length),St]).forEach(([Rt,St])=>{At[Rt]=St}),At})(Rt)),Tt);H.reset(Mt),H.getBoolean("persistConfig")&&((Tt,At)=>{try{Tt.sessionStorage.setItem(qe,JSON.stringify(At))}catch(Rt){return}})(Rt,Mt),xe(Rt),St.config=H,St.mode=at=H.get("mode",At.documentElement.getAttribute("mode")||(Se(Rt,"ios")?"ios":"md")),H.set("mode",at),At.documentElement.setAttribute("mode",at),At.documentElement.classList.add(at),H.getBoolean("_testing")&&H.set("animated",!1);const Ft=We=>We.tagName&&We.tagName.startsWith("ION-"),on=We=>["ios","md"].includes(We);(0,f.a)(We=>{for(;We;){const Bn=We.mode||We.getAttribute("mode");if(Bn){if(on(Bn))return Bn;Ft(We)&&console.warn('Invalid ionic mode: "'+Bn+'", expected: "ios" or "md"')}We=We.parentElement}return at})}},5797:(wr,an,fe)=>{"use strict";fe.r(an),fe.d(an,{iosTransitionAnimation:()=>xe,shadow:()=>we});var f=fe(6304),j=fe(358);fe(2361);const Le=ce=>document.querySelector(`${ce}.ion-cloned-element`),we=ce=>ce.shadowRoot||ce,_e=ce=>{const ve="ION-TABS"===ce.tagName?ce:ce.querySelector("ion-tabs"),Pe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ve){const ue=ve.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ue?ue.querySelector(Pe):null}return ce.querySelector(Pe)},Dt=(ce,ve)=>{const Pe="ION-TABS"===ce.tagName?ce:ce.querySelector("ion-tabs");let ue=[];if(null!=Pe){const Ge=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ge&&(ue=Ge.querySelectorAll("ion-buttons"))}else ue=ce.querySelectorAll("ion-buttons");for(const Ge of ue){const Qe=Ge.closest("ion-header"),ct=Qe&&!Qe.classList.contains("header-collapse-condense-inactive"),wt=Ge.querySelector("ion-back-button"),Ut=Ge.classList.contains("buttons-collapse"),nt="start"===Ge.slot||""===Ge.slot;if(null!==wt&&nt&&(Ut&&ct&&ve||!Ut))return wt}return null},x=(ce,ve,Pe,ue,Ge,Qe)=>{const ct=ve?`calc(100% - ${Qe.right+4}px)`:Qe.left-4+"px",wt=ve?"7px":"-7px",Ut=ve?"-4px":"4px",nt=ve?"-4px":"4px",rt=ve?"right":"left",Nt=ve?"left":"right",Ye=Pe?[{offset:0,opacity:1,transform:`translate3d(${Ut}, ${Qe.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${wt}, ${Ge.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${wt}, ${Ge.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ut}, ${Qe.top-46}px, 0) scale(1)`}],Be=Pe?[{offset:0,opacity:1,transform:`translate3d(${nt}, ${Qe.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${nt}, ${Qe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${nt}, ${Qe.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${nt}, ${Qe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${nt}, ${Qe.top-46}px, 0) scale(1)`}],Ke=(0,f.c)(),at=(0,f.c)(),Tn=Le("ion-back-button"),gn=we(Tn).querySelector(".button-text"),Tt=we(Tn).querySelector("ion-icon");Tn.text=ue.text,Tn.mode=ue.mode,Tn.icon=ue.icon,Tn.color=ue.color,Tn.disabled=ue.disabled,Tn.style.setProperty("display","block"),Tn.style.setProperty("position","fixed"),at.addElement(Tt),Ke.addElement(gn),Ke.beforeStyles({"transform-origin":`${rt} center`}).beforeAddWrite(()=>{ue.style.setProperty("display","none"),Tn.style.setProperty(rt,ct)}).afterAddWrite(()=>{ue.style.setProperty("display",""),Tn.style.setProperty("display","none"),Tn.style.removeProperty(rt)}).keyframes(Ye),at.beforeStyles({"transform-origin":`${Nt} center`}).keyframes(Be),ce.addAnimation([Ke,at])},Se=(ce,ve,Pe,ue,Ge,Qe)=>{const ct=ve?`calc(100% - ${Ge.right}px)`:`${Ge.left}px`,wt=ve?"-18px":"18px",Ut=ve?"right":"left",Nt=Pe?[{offset:0,opacity:0,transform:`translate3d(${wt}, ${Qe.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ge.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ge.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${wt}, ${Qe.top-4}px, 0) scale(0.5)`}],Et=Le("ion-title"),rn=(0,f.c)();Et.innerText=ue.innerText,Et.size=ue.size,Et.color=ue.color,rn.addElement(Et),rn.beforeStyles({"transform-origin":`${Ut} center`,height:"46px",display:"",position:"relative",[Ut]:ct}).beforeAddWrite(()=>{ue.style.setProperty("display","none")}).afterAddWrite(()=>{ue.style.setProperty("display",""),Et.style.setProperty("display","none")}).keyframes(Nt),ce.addAnimation(rn)},xe=(ce,ve)=>{try{const Pe="cubic-bezier(0.32,0.72,0,1)",ue="opacity",Ge="transform",Qe="0%",wt="rtl"===ce.ownerDocument.dir,Ut=wt?"-99.5%":"99.5%",nt=wt?"33%":"-33%",rt=ve.enteringEl,Nt=ve.leavingEl,Et="back"===ve.direction,rn=rt.querySelector(":scope > ion-content"),Ye=rt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ze=rt.querySelectorAll(":scope > ion-header > ion-toolbar"),ae=(0,f.c)(),Be=(0,f.c)();if(ae.addElement(rt).duration(ve.duration||540).easing(ve.easing||Pe).fill("both").beforeRemoveClass("ion-page-invisible"),Nt&&ce){const gn=(0,f.c)();gn.addElement(ce),ae.addAnimation(gn)}if(rn||0!==ze.length||0!==Ye.length?(Be.addElement(rn),Be.addElement(Ye)):Be.addElement(rt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ae.addAnimation(Be),Et?Be.beforeClearStyles([ue]).fromTo("transform",`translateX(${nt})`,`translateX(${Qe})`).fromTo(ue,.8,1):Be.beforeClearStyles([ue]).fromTo("transform",`translateX(${Ut})`,`translateX(${Qe})`),rn){const gn=we(rn).querySelector(".transition-effect");if(gn){const Tt=gn.querySelector(".transition-cover"),At=gn.querySelector(".transition-shadow"),Rt=(0,f.c)(),St=(0,f.c)(),yt=(0,f.c)();Rt.addElement(gn).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),St.addElement(Tt).beforeClearStyles([ue]).fromTo(ue,0,.1),yt.addElement(At).beforeClearStyles([ue]).fromTo(ue,.03,.7),Rt.addAnimation([St,yt]),Be.addAnimation([Rt])}}const Ke=rt.querySelector("ion-header.header-collapse-condense"),{forward:at,backward:Tn}=((ce,ve,Pe,ue,Ge)=>{const Qe=Dt(ue,Pe),ct=_e(Ge),wt=_e(ue),Ut=Dt(Ge,Pe),nt=null!==Qe&&null!==ct&&!Pe,rt=null!==wt&&null!==Ut&&Pe;if(nt){const Nt=ct.getBoundingClientRect(),Et=Qe.getBoundingClientRect();Se(ce,ve,Pe,ct,Nt,Et),x(ce,ve,Pe,Qe,Nt,Et)}else if(rt){const Nt=wt.getBoundingClientRect(),Et=Ut.getBoundingClientRect();Se(ce,ve,Pe,wt,Nt,Et),x(ce,ve,Pe,Ut,Nt,Et)}return{forward:nt,backward:rt}})(ae,wt,Et,rt,Nt);if(ze.forEach(gn=>{const Tt=(0,f.c)();Tt.addElement(gn),ae.addAnimation(Tt);const At=(0,f.c)();At.addElement(gn.querySelector("ion-title"));const Rt=(0,f.c)(),St=Array.from(gn.querySelectorAll("ion-buttons,[menuToggle]")),yt=gn.closest("ion-header"),Mt=yt&&yt.classList.contains("header-collapse-condense-inactive");let Ft;Ft=St.filter(Et?ar=>{const Mn=ar.classList.contains("buttons-collapse");return Mn&&!Mt||!Mn}:ar=>!ar.classList.contains("buttons-collapse")),Rt.addElement(Ft);const on=(0,f.c)();on.addElement(gn.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const We=(0,f.c)();We.addElement(we(gn).querySelector(".toolbar-background"));const Bn=(0,f.c)(),yn=gn.querySelector("ion-back-button");if(yn&&Bn.addElement(yn),Tt.addAnimation([At,Rt,on,We,Bn]),Rt.fromTo(ue,.01,1),on.fromTo(ue,.01,1),Et)Mt||At.fromTo("transform",`translateX(${nt})`,`translateX(${Qe})`).fromTo(ue,.01,1),on.fromTo("transform",`translateX(${nt})`,`translateX(${Qe})`),Bn.fromTo(ue,.01,1);else if(Ke||At.fromTo("transform",`translateX(${Ut})`,`translateX(${Qe})`).fromTo(ue,.01,1),on.fromTo("transform",`translateX(${Ut})`,`translateX(${Qe})`),We.beforeClearStyles([ue,"transform"]),(null==yt?void 0:yt.translucent)?We.fromTo("transform",wt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):We.fromTo(ue,.01,"var(--opacity)"),at||Bn.fromTo(ue,.01,1),yn&&!at){const Mn=(0,f.c)();Mn.addElement(we(yn).querySelector(".button-text")).fromTo("transform",wt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Tt.addAnimation(Mn)}}),Nt){const gn=(0,f.c)(),Tt=Nt.querySelector(":scope > ion-content"),At=Nt.querySelectorAll(":scope > ion-header > ion-toolbar"),Rt=Nt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Tt||0!==At.length||0!==Rt.length?(gn.addElement(Tt),gn.addElement(Rt)):gn.addElement(Nt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ae.addAnimation(gn),Et){gn.beforeClearStyles([ue]).fromTo("transform",`translateX(${Qe})`,wt?"translateX(-100%)":"translateX(100%)");const St=(0,j.g)(Nt);ae.afterAddWrite(()=>{"normal"===ae.getDirection()&&St.style.setProperty("display","none")})}else gn.fromTo("transform",`translateX(${Qe})`,`translateX(${nt})`).fromTo(ue,1,.8);if(Tt){const St=we(Tt).querySelector(".transition-effect");if(St){const yt=St.querySelector(".transition-cover"),Mt=St.querySelector(".transition-shadow"),Ft=(0,f.c)(),on=(0,f.c)(),We=(0,f.c)();Ft.addElement(St).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),on.addElement(yt).beforeClearStyles([ue]).fromTo(ue,.1,0),We.addElement(Mt).beforeClearStyles([ue]).fromTo(ue,.7,.03),Ft.addAnimation([on,We]),gn.addAnimation([Ft])}}At.forEach(St=>{const yt=(0,f.c)();yt.addElement(St);const Mt=(0,f.c)();Mt.addElement(St.querySelector("ion-title"));const Ft=(0,f.c)(),on=St.querySelectorAll("ion-buttons,[menuToggle]"),We=St.closest("ion-header"),Bn=We&&We.classList.contains("header-collapse-condense-inactive"),yn=Array.from(on).filter(Kn=>{const Vr=Kn.classList.contains("buttons-collapse");return Vr&&!Bn||!Vr});Ft.addElement(yn);const ar=(0,f.c)(),Mn=St.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Mn.length>0&&ar.addElement(Mn);const er=(0,f.c)();er.addElement(we(St).querySelector(".toolbar-background"));const Pr=(0,f.c)(),or=St.querySelector("ion-back-button");if(or&&Pr.addElement(or),yt.addAnimation([Mt,Ft,ar,Pr,er]),ae.addAnimation(yt),Pr.fromTo(ue,.99,0),Ft.fromTo(ue,.99,0),ar.fromTo(ue,.99,0),Et){if(Bn||Mt.fromTo("transform",`translateX(${Qe})`,wt?"translateX(-100%)":"translateX(100%)").fromTo(ue,.99,0),ar.fromTo("transform",`translateX(${Qe})`,wt?"translateX(-100%)":"translateX(100%)"),er.beforeClearStyles([ue,"transform"]),(null==We?void 0:We.translucent)?er.fromTo("transform","translateX(0px)",wt?"translateX(-100%)":"translateX(100%)"):er.fromTo(ue,"var(--opacity)",0),or&&!Tn){const Vr=(0,f.c)();Vr.addElement(we(or).querySelector(".button-text")).fromTo("transform",`translateX(${Qe})`,`translateX(${(wt?-124:124)+"px"})`),yt.addAnimation(Vr)}}else Bn||Mt.fromTo("transform",`translateX(${Qe})`,`translateX(${nt})`).fromTo(ue,.99,0).afterClearStyles([Ge,ue]),ar.fromTo("transform",`translateX(${Qe})`,`translateX(${nt})`).afterClearStyles([Ge,ue]),Pr.afterClearStyles([ue]),Mt.afterClearStyles([ue]),Ft.afterClearStyles([ue])})}return ae}catch(Pe){throw Pe}}},6409:(wr,an,fe)=>{"use strict";fe.r(an),fe.d(an,{mdTransitionAnimation:()=>tt});var f=fe(6304),j=fe(358);fe(2361);const tt=(Le,we)=>{const qe="back"===we.direction,Se=we.leavingEl,xe=(0,j.g)(we.enteringEl),ce=xe.querySelector("ion-toolbar"),ve=(0,f.c)();if(ve.addElement(xe).fill("both").beforeRemoveClass("ion-page-invisible"),qe?ve.duration(we.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ve.duration(we.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ce){const Pe=(0,f.c)();Pe.addElement(ce),ve.addAnimation(Pe)}if(Se&&qe){ve.duration(we.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Pe=(0,f.c)();Pe.addElement((0,j.g)(Se)).onFinish(ue=>{1===ue&&Pe.elements.length>0&&Pe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ve.addAnimation(Pe)}return ve}},3986:(wr,an,fe)=>{"use strict";fe.d(an,{B:()=>St,a:()=>Dt,b:()=>qe,c:()=>ce,d:()=>ze,e:()=>Pe,f:()=>Be,g:()=>Tn,h:()=>we,i:()=>Tt,j:()=>ct,k:()=>rn,m:()=>Se,s:()=>Rt,t:()=>ve});var f=fe(5861),j=fe(8686),H=fe(527),tt=fe(206);let Le=0;const we=new WeakMap,_e=yt=>({create:Mt=>ue(yt,Mt),dismiss:(Mt,Ft,on)=>Nt(document,Mt,Ft,yt,on),getTop:()=>(0,f.Z)(function*(){return rn(document,yt)})()}),Dt=_e("ion-alert"),qe=_e("ion-action-sheet"),Se=_e("ion-modal"),ce=_e("ion-popover"),ve=_e("ion-toast"),Pe=yt=>{"undefined"!=typeof document&&rt(document);const Mt=Le++;yt.overlayIndex=Mt,yt.hasAttribute("id")||(yt.id=`ion-overlay-${Mt}`)},ue=(yt,Mt)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(yt).then(()=>{const Ft=document.createElement(yt);return Ft.classList.add("overlay-hidden"),Object.assign(Ft,Object.assign(Object.assign({},Mt),{hasController:!0})),Ke(document).appendChild(Ft),new Promise(on=>(0,tt.c)(Ft,on))}):Promise.resolve(),Ge='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',Qe="input:not([type=hidden]), textarea, button, select",ct=(yt,Mt)=>{let Ft=yt.querySelector(Ge);const on=Ft&&Ft.shadowRoot;on&&(Ft=on.querySelector(Qe)||Ft),Ft?(0,tt.f)(Ft):Mt.focus()},Ut=(yt,Mt)=>{const Ft=Array.from(yt.querySelectorAll(Ge));let on=Ft.length>0?Ft[Ft.length-1]:null;const We=on&&on.shadowRoot;We&&(on=We.querySelector(Qe)||on),on?on.focus():Mt.focus()},rt=yt=>{0===Le&&(Le=1,yt.addEventListener("focus",Mt=>{((yt,Mt)=>{const Ft=rn(Mt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),on=yt.target;Ft&&on&&!Ft.classList.contains("ion-disable-focus-trap")&&(Ft.shadowRoot?(()=>{if(Ft.contains(on))Ft.lastFocus=on;else{const yn=Ft.lastFocus;ct(Ft,Ft),yn===Mt.activeElement&&Ut(Ft,Ft),Ft.lastFocus=Mt.activeElement}})():(()=>{if(Ft===on)Ft.lastFocus=void 0;else{const yn=(0,tt.g)(Ft);if(!yn.contains(on))return;const ar=yn.querySelector(".ion-overlay-wrapper");if(!ar)return;if(ar.contains(on))Ft.lastFocus=on;else{const Mn=Ft.lastFocus;ct(ar,Ft),Mn===Mt.activeElement&&Ut(ar,Ft),Ft.lastFocus=Mt.activeElement}}})())})(Mt,yt)},!0),yt.addEventListener("ionBackButton",Mt=>{const Ft=rn(yt);Ft&&Ft.backdropDismiss&&Mt.detail.register(H.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ft.dismiss(void 0,St))}),yt.addEventListener("keyup",Mt=>{if("Escape"===Mt.key){const Ft=rn(yt);Ft&&Ft.backdropDismiss&&Ft.dismiss(void 0,St)}}))},Nt=(yt,Mt,Ft,on,We)=>{const Bn=rn(yt,on,We);return Bn?Bn.dismiss(Mt,Ft):Promise.reject("overlay does not exist")},rn=(yt,Mt,Ft)=>{const on=((yt,Mt)=>(void 0===Mt&&(Mt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(yt.querySelectorAll(Mt)).filter(Ft=>Ft.overlayIndex>0)))(yt,Mt).filter(We=>!(yt=>yt.classList.contains("overlay-hidden"))(We));return void 0===Ft?on[on.length-1]:on.find(We=>We.id===Ft)},Ye=(yt=!1)=>{const Ft=Ke(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Ft||(yt?Ft.setAttribute("aria-hidden","true"):Ft.removeAttribute("aria-hidden"))},ze=function(){var yt=(0,f.Z)(function*(Mt,Ft,on,We,Bn){var yn,ar;if(Mt.presented)return;Ye(!0),Mt.presented=!0,Mt.willPresent.emit(),null===(yn=Mt.willPresentShorthand)||void 0===yn||yn.emit();const Mn=(0,j.b)(Mt),er=Mt.enterAnimation?Mt.enterAnimation:j.c.get(Ft,"ios"===Mn?on:We);(yield at(Mt,er,Mt.el,Bn))&&(Mt.didPresent.emit(),null===(ar=Mt.didPresentShorthand)||void 0===ar||ar.emit()),"ION-TOAST"!==Mt.el.tagName&&ae(Mt.el),Mt.keyboardClose&&Mt.el.focus()});return function(Ft,on,We,Bn,yn){return yt.apply(this,arguments)}}(),ae=function(){var yt=(0,f.Z)(function*(Mt){let Ft=document.activeElement;if(!Ft)return;const on=Ft&&Ft.shadowRoot;on&&(Ft=on.querySelector(Qe)||Ft),yield Mt.onDidDismiss(),Ft.focus()});return function(Ft){return yt.apply(this,arguments)}}(),Be=function(){var yt=(0,f.Z)(function*(Mt,Ft,on,We,Bn,yn,ar){var Mn,er;if(!Mt.presented)return!1;Ye(!1),Mt.presented=!1;try{Mt.el.style.setProperty("pointer-events","none"),Mt.willDismiss.emit({data:Ft,role:on}),null===(Mn=Mt.willDismissShorthand)||void 0===Mn||Mn.emit({data:Ft,role:on});const Pr=(0,j.b)(Mt),or=Mt.leaveAnimation?Mt.leaveAnimation:j.c.get(We,"ios"===Pr?Bn:yn);"gesture"!==on&&(yield at(Mt,or,Mt.el,ar)),Mt.didDismiss.emit({data:Ft,role:on}),null===(er=Mt.didDismissShorthand)||void 0===er||er.emit({data:Ft,role:on}),we.delete(Mt),Mt.el.classList.add("overlay-hidden"),Mt.el.style.removeProperty("pointer-events")}catch(Pr){console.error(Pr)}return Mt.el.remove(),!0});return function(Ft,on,We,Bn,yn,ar,Mn){return yt.apply(this,arguments)}}(),Ke=yt=>yt.querySelector("ion-app")||yt.body,at=function(){var yt=(0,f.Z)(function*(Mt,Ft,on,We){on.classList.remove("overlay-hidden");const yn=Ft(Mt.el,We);(!Mt.animated||!j.c.getBoolean("animated",!0))&&yn.duration(0),Mt.keyboardClose&&yn.beforeAddWrite(()=>{const Mn=on.ownerDocument.activeElement;Mn&&Mn.matches("input,ion-input, ion-textarea")&&Mn.blur()});const ar=we.get(Mt)||[];return we.set(Mt,[...ar,yn]),yield yn.play(),!0});return function(Ft,on,We,Bn){return yt.apply(this,arguments)}}(),Tn=(yt,Mt)=>{let Ft;const on=new Promise(We=>Ft=We);return gn(yt,Mt,We=>{Ft(We.detail)}),on},gn=(yt,Mt,Ft)=>{const on=We=>{(0,tt.b)(yt,Mt,on),Ft(We)};(0,tt.a)(yt,Mt,on)},Tt=yt=>"cancel"===yt||yt===St,At=yt=>yt(),Rt=(yt,Mt)=>{if("function"==typeof yt)return j.c.get("_zoneGate",At)(()=>{try{return yt(Mt)}catch(on){throw on}})},St="backdrop"},6738:(wr,an,fe)=>{"use strict";fe.d(an,{H:()=>Fr,a:()=>Ft,b:()=>ke,c:()=>mt,d:()=>Xn,g:()=>Er,h:()=>Vr,r:()=>Qe});var f=fe(5861);let Le,we,H=0,tt=!1,_e=!1;const Dt="undefined"!=typeof window?window:{},qe=Dt.CSS,x=Dt.document||{head:{}},Se={$flags$:0,$resourcesUrl$:"",jmp:Ve=>Ve(),raf:Ve=>requestAnimationFrame(Ve),ael:(Ve,He,nn,zt)=>Ve.addEventListener(He,nn,zt),rel:(Ve,He,nn,zt)=>Ve.removeEventListener(He,nn,zt)},xe=(()=>(x.head.attachShadow+"").indexOf("[native")>-1)(),ce=Ve=>Promise.resolve(Ve),ve=(()=>{try{return new CSSStyleSheet,!0}catch(Ve){}return!1})(),Pe={},ue=new WeakMap,Ge=Ve=>ue.get(Ve),Qe=(Ve,He)=>ue.set(He.$lazyInstance$=Ve,He),wt=(Ve,He)=>He in Ve,Ut=Ve=>console.error(Ve),nt=new Map,Nt=new Map,Et=[],rn=[],Ye=[],ze=(Ve,He)=>nn=>{Ve.push(nn),tt||(tt=!0,He&&4&Se.$flags$?at(Ke):Se.raf(Ke))},Be=(Ve,He)=>{let nn=0,zt=0;for(;nn<Ve.length&&(zt=performance.now())<He;)try{Ve[nn++](zt)}catch(tn){Ut(tn)}nn===Ve.length?Ve.length=0:0!==nn&&Ve.splice(0,nn)},Ke=()=>{H++,(Ve=>{for(let He=0;He<Ve.length;He++)try{Ve[He](performance.now())}catch(nn){Ut(nn)}Ve.length=0})(Et);const Ve=2==(6&Se.$flags$)?performance.now()+10*Math.ceil(H*(1/22)):1/0;Be(rn,Ve),Be(Ye,Ve),rn.length>0&&(Ye.push(...rn),rn.length=0),(tt=Et.length+rn.length+Ye.length>0)?Se.raf(Ke):H=0},at=Ve=>ce().then(Ve),Tn=ze(Et,!1),gn=ze(rn,!0),Tt={},yt=Ve=>"object"==(Ve=typeof Ve)||"function"===Ve,Ft=()=>qe&&qe.supports&&qe.supports("color","var(--c)")?ce():fe.e(4952).then(fe.t.bind(fe,9723,23)).then(()=>(Se.$cssShim$=Dt.__cssshim)?Se.$cssShim$.i():0),Mn=new WeakMap,Kn=(Ve,He)=>"sc-"+Ve,Vr=(Ve,He,...nn)=>{let zt=null,tn=!1,dn=!1,cn=[];const An=yr=>{for(let Nn=0;Nn<yr.length;Nn++)zt=yr[Nn],Array.isArray(zt)?An(zt):null!=zt&&"boolean"!=typeof zt&&((tn="function"!=typeof Ve&&!yt(zt))&&(zt=String(zt)),tn&&dn?cn[cn.length-1].$text$+=zt:cn.push(tn?cr(null,zt):zt),dn=tn)};if(An(nn),He){const yr=He.className||He.class;yr&&(He.class="object"!=typeof yr?yr:Object.keys(yr).filter(Nn=>yr[Nn]).join(" "))}const In=cr(Ve,null);return In.$attrs$=He,cn.length>0&&(In.$children$=cn),In},cr=(Ve,He)=>({$flags$:0,$tag$:Ve,$text$:He,$elm$:null,$children$:null,$attrs$:null}),Fr={},Sr=(Ve,He,nn,zt,tn,dn)=>{if(nn!==zt){let cn=wt(Ve,He),An=He.toLowerCase();if("class"===He){const In=Ve.classList,yr=Rr(nn),Nn=Rr(zt);In.remove(...yr.filter(lr=>lr&&!Nn.includes(lr))),In.add(...Nn.filter(lr=>lr&&!yr.includes(lr)))}else if("style"===He){for(const In in nn)(!zt||null==zt[In])&&(In.includes("-")?Ve.style.removeProperty(In):Ve.style[In]="");for(const In in zt)(!nn||zt[In]!==nn[In])&&(In.includes("-")?Ve.style.setProperty(In,zt[In]):Ve.style[In]=zt[In])}else if("ref"===He)zt&&zt(Ve);else if(cn||"o"!==He[0]||"n"!==He[1]){const In=yt(zt);if((cn||In&&null!==zt)&&!tn)try{if(Ve.tagName.includes("-"))Ve[He]=zt;else{let yr=null==zt?"":zt;"list"===He?cn=!1:(null==nn||Ve[He]!=yr)&&(Ve[He]=yr)}}catch(yr){}null==zt||!1===zt?Ve.removeAttribute(He):(!cn||4&dn||tn)&&!In&&Ve.setAttribute(He,zt=!0===zt?"":zt)}else He="-"===He[2]?He.slice(3):wt(Dt,An)?An.slice(2):An[2]+He.slice(3),nn&&Se.rel(Ve,He,nn,!1),zt&&Se.ael(Ve,He,zt,!1)}},rr=/\s/,Rr=Ve=>Ve?Ve.split(rr):[],fi=(Ve,He,nn,zt)=>{const tn=11===He.$elm$.nodeType&&He.$elm$.host?He.$elm$.host:He.$elm$,dn=Ve&&Ve.$attrs$||Tt,cn=He.$attrs$||Tt;for(zt in dn)zt in cn||Sr(tn,zt,dn[zt],void 0,nn,He.$flags$);for(zt in cn)Sr(tn,zt,dn[zt],cn[zt],nn,He.$flags$)},Hr=(Ve,He,nn,zt)=>{let cn,An,tn=He.$children$[nn],dn=0;if(null!==tn.$text$)cn=tn.$elm$=x.createTextNode(tn.$text$);else{if(_e||(_e="svg"===tn.$tag$),cn=tn.$elm$=x.createElementNS(_e?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",tn.$tag$),_e&&"foreignObject"===tn.$tag$&&(_e=!1),fi(null,tn,_e),(Ve=>null!=Ve)(Le)&&cn["s-si"]!==Le&&cn.classList.add(cn["s-si"]=Le),tn.$children$)for(dn=0;dn<tn.$children$.length;++dn)An=Hr(Ve,tn,dn),An&&cn.appendChild(An);"svg"===tn.$tag$?_e=!1:"foreignObject"===cn.tagName&&(_e=!0)}return cn},Gn=(Ve,He,nn,zt,tn,dn)=>{let An,cn=Ve;for(cn.shadowRoot&&cn.tagName===we&&(cn=cn.shadowRoot);tn<=dn;++tn)zt[tn]&&(An=Hr(null,nn,tn),An&&(zt[tn].$elm$=An,cn.insertBefore(An,He)))},nr=(Ve,He,nn,zt,tn)=>{for(;He<=nn;++He)(zt=Ve[He])&&(tn=zt.$elm$,vr(zt),tn.remove())},$t=(Ve,He)=>Ve.$tag$===He.$tag$,Qn=(Ve,He)=>{const nn=He.$elm$=Ve.$elm$,zt=Ve.$children$,tn=He.$children$,dn=He.$tag$,cn=He.$text$;null===cn?(_e="svg"===dn||"foreignObject"!==dn&&_e,fi(Ve,He,_e),null!==zt&&null!==tn?((Ve,He,nn,zt)=>{let Zn,tn=0,dn=0,cn=He.length-1,An=He[0],In=He[cn],yr=zt.length-1,Nn=zt[0],lr=zt[yr];for(;tn<=cn&&dn<=yr;)null==An?An=He[++tn]:null==In?In=He[--cn]:null==Nn?Nn=zt[++dn]:null==lr?lr=zt[--yr]:$t(An,Nn)?(Qn(An,Nn),An=He[++tn],Nn=zt[++dn]):$t(In,lr)?(Qn(In,lr),In=He[--cn],lr=zt[--yr]):$t(An,lr)?(Qn(An,lr),Ve.insertBefore(An.$elm$,In.$elm$.nextSibling),An=He[++tn],lr=zt[--yr]):$t(In,Nn)?(Qn(In,Nn),Ve.insertBefore(In.$elm$,An.$elm$),In=He[--cn],Nn=zt[++dn]):(Zn=Hr(He&&He[dn],nn,dn),Nn=zt[++dn],Zn&&An.$elm$.parentNode.insertBefore(Zn,An.$elm$));tn>cn?Gn(Ve,null==zt[yr+1]?null:zt[yr+1].$elm$,nn,zt,dn,yr):dn>yr&&nr(He,tn,cn)})(nn,zt,He,tn):null!==tn?(null!==Ve.$text$&&(nn.textContent=""),Gn(nn,null,He,tn,0,tn.length-1)):null!==zt&&nr(zt,0,zt.length-1),_e&&"svg"===dn&&(_e=!1)):Ve.$text$!==cn&&(nn.data=cn)},vr=Ve=>{Ve.$attrs$&&Ve.$attrs$.ref&&Ve.$attrs$.ref(null),Ve.$children$&&Ve.$children$.forEach(vr)},xr=(Ve,He)=>{He&&!Ve.$onRenderResolve$&&He["s-p"].push(new Promise(nn=>Ve.$onRenderResolve$=nn))},Si=(Ve,He,nn,zt)=>{if(He.$flags$|=16,4&He.$flags$)return void(He.$flags$|=512);const cn=He.$lazyInstance$,An=()=>Or(Ve,He,nn,cn,zt);return xr(He,He.$ancestorComponent$),zt&&(He.$flags$|=256,He.$queuedListeners$&&(He.$queuedListeners$.forEach(([yr,Nn])=>bt(cn,yr,Nn)),He.$queuedListeners$=null)),Ce(void 0,()=>gn(An))},Or=(Ve,He,nn,zt,tn)=>{const cn=Ve["s-rc"];tn&&((Ve,He,nn)=>{const tn=((Ve,He,nn,zt)=>{let tn=Kn(He.$tagName$),dn=Nt.get(tn);if(Ve=11===Ve.nodeType?Ve:x,dn)if("string"==typeof dn){let An,cn=Mn.get(Ve=Ve.head||Ve);if(cn||Mn.set(Ve,cn=new Set),!cn.has(tn)){if(Se.$cssShim$){An=Se.$cssShim$.createHostStyle(zt,tn,dn,!!(10&He.$flags$));const In=An["s-sc"];In&&(tn=In,cn=null)}else An=x.createElement("style"),An.innerHTML=dn;Ve.insertBefore(An,Ve.querySelector("link")),cn&&cn.add(tn)}}else Ve.adoptedStyleSheets.includes(dn)||(Ve.adoptedStyleSheets=[...Ve.adoptedStyleSheets,dn]);return tn})(xe&&Ve.shadowRoot?Ve.shadowRoot:Ve.getRootNode(),He,0,Ve);10&He.$flags$&&(Ve["s-sc"]=tn,Ve.classList.add(tn+"-h"))})(Ve,nn);((Ve,He,nn,zt)=>{we=Ve.tagName;const tn=He.$vnode$||cr(null,null),dn=(Ve=>Ve&&Ve.$tag$===Fr)(zt)?zt:Vr(null,null,zt);dn.$tag$=null,dn.$flags$|=4,He.$vnode$=dn,dn.$elm$=tn.$elm$=Ve.shadowRoot||Ve,Le=Ve["s-sc"],Qn(tn,dn)})(Ve,He,0,kr(zt)),Se.$cssShim$&&Se.$cssShim$.updateHost(Ve),He.$flags$&=-17,He.$flags$|=2,cn&&(cn.forEach(In=>In()),Ve["s-rc"]=void 0);{const In=Ve["s-p"],yr=()=>Zr(Ve,He,nn);0===In.length?yr():(Promise.all(In).then(yr),He.$flags$|=4,In.length=0)}},kr=(Ve,He)=>{try{Ve=Ve.render()}catch(nn){Ut(nn)}return Ve},Zr=(Ve,He,nn)=>{const tn=He.$lazyInstance$,dn=He.$ancestorComponent$;64&He.$flags$||(He.$flags$|=64,Ae(Ve),bt(tn,"componentDidLoad"),He.$onReadyResolve$(Ve),dn||Ue()),He.$onInstanceResolve$(Ve),He.$onRenderResolve$&&(He.$onRenderResolve$(),He.$onRenderResolve$=void 0),512&He.$flags$&&at(()=>Si(Ve,He,nn,!1)),He.$flags$&=-517},Ue=Ve=>{Ae(x.documentElement),Se.$flags$|=2},bt=(Ve,He,nn)=>{if(Ve&&Ve[He])try{return Ve[He](nn)}catch(zt){Ut(zt)}},Ce=(Ve,He)=>Ve&&Ve.then?Ve.then(He):He(),Ae=Ve=>Ve.classList.add("hydrated"),sr=(Ve,He,nn)=>{if(He.$members$){const zt=Object.entries(He.$members$),tn=Ve.prototype;if(zt.forEach(([dn,[cn]])=>{31&cn||2&nn&&32&cn?Object.defineProperty(tn,dn,{get(){return((Ve,He)=>Ge(this).$instanceValues$.get(He))(0,dn)},set(An){((Ve,He,nn,zt)=>{const tn=Ge(Ve),dn=tn.$hostElement$,cn=tn.$instanceValues$.get(He),An=tn.$flags$,In=tn.$lazyInstance$;nn=((Ve,He)=>null==Ve||yt(Ve)?Ve:4&He?"false"!==Ve&&(""===Ve||!!Ve):2&He?parseFloat(Ve):1&He?String(Ve):Ve)(nn,zt.$members$[He][0]),nn!==cn&&(!(8&An)||void 0===cn)&&(tn.$instanceValues$.set(He,nn),In&&2==(18&An)&&Si(dn,tn,zt,!1))})(this,dn,An,He)},configurable:!0,enumerable:!0}):1&nn&&64&cn&&Object.defineProperty(tn,dn,{value(...An){const In=Ge(this);return In.$onInstancePromise$.then(()=>In.$lazyInstance$[dn](...An))}})}),1&nn){const dn=new Map;tn.attributeChangedCallback=function(cn,An,In){Se.jmp(()=>{const yr=dn.get(cn);this[yr]=(null!==In||"boolean"!=typeof this[yr])&&In})},Ve.observedAttributes=zt.filter(([cn,An])=>15&An[0]).map(([cn,An])=>{const In=An[1]||cn;return dn.set(In,cn),In})}}return Ve},ni=function(){var Ve=(0,f.Z)(function*(He,nn,zt,tn,dn){if(0==(32&nn.$flags$)){nn.$flags$|=32;{if(dn=((Ve,He,nn)=>{const zt=Ve.$tagName$.replace(/-/g,"_"),tn=Ve.$lazyBundleIds$,dn=nt.get(tn);return dn?dn[zt]:fe(5899)(`./${tn}.entry.js`).then(cn=>(nt.set(tn,cn),cn[zt]),Ut)})(zt),dn.then){const Nn=()=>{};dn=yield dn,Nn()}dn.isProxied||(sr(dn,zt,2),dn.isProxied=!0);const yr=()=>{};nn.$flags$|=8;try{new dn(nn)}catch(Nn){Ut(Nn)}nn.$flags$&=-9,yr()}const In=Kn(zt.$tagName$);if(!Nt.has(In)&&dn.style){const yr=()=>{};let Nn=dn.style;8&zt.$flags$&&(Nn=yield fe.e(5487).then(fe.bind(fe,5487)).then(lr=>lr.scopeCss(Nn,In,!1))),((Ve,He,nn)=>{let zt=Nt.get(Ve);ve&&nn?(zt=zt||new CSSStyleSheet,zt.replace(He)):zt=He,Nt.set(Ve,zt)})(In,Nn,!!(1&zt.$flags$)),yr()}}const cn=nn.$ancestorComponent$,An=()=>Si(He,nn,zt,!0);cn&&cn["s-rc"]?cn["s-rc"].push(An):An()});return function(nn,zt,tn,dn,cn){return Ve.apply(this,arguments)}}(),kt=(Ve,He)=>{if(0==(1&Se.$flags$)){const nn=()=>{},zt=Ge(Ve);if(He.$listeners$&&(zt.$rmListeners$=((Ve,He,nn)=>{He.$queuedListeners$=He.$queuedListeners$||[];const zt=nn.map(([tn,dn,cn])=>{const An=((Ve,He)=>32&He?x.body:Ve)(Ve,tn),In=((Ve,He)=>nn=>{256&Ve.$flags$?Ve.$lazyInstance$[He](nn):Ve.$queuedListeners$.push([He,nn])})(He,cn),yr=(Ve=>0!=(2&Ve))(tn);return Se.ael(An,dn,In,yr),()=>Se.rel(An,dn,In,yr)});return()=>zt.forEach(tn=>tn())})(Ve,zt,He.$listeners$)),!(1&zt.$flags$)){zt.$flags$|=1;{let tn=Ve;for(;tn=tn.parentNode||tn.host;)if(tn["s-p"]){xr(zt,zt.$ancestorComponent$=tn);break}}He.$members$&&Object.entries(He.$members$).forEach(([tn,[dn]])=>{if(31&dn&&Ve.hasOwnProperty(tn)){const cn=Ve[tn];delete Ve[tn],Ve[tn]=cn}}),at(()=>ni(Ve,zt,He))}nn()}},ke=(Ve,He={})=>{const zt=[],tn=He.exclude||[],dn=Dt.customElements,cn=x.head,An=cn.querySelector("meta[charset]"),In=x.createElement("style"),yr=[];let Nn,lr=!0;Object.assign(Se,He),Se.$resourcesUrl$=new URL(He.resourcesUrl||"./",x.baseURI).href,He.syncQueue&&(Se.$flags$|=4),Ve.forEach(Zn=>Zn[1].forEach(ii=>{const Di={$flags$:ii[0],$tagName$:ii[1],$members$:ii[2],$listeners$:ii[3]};Di.$members$=ii[2],Di.$listeners$=ii[3],!xe&&1&Di.$flags$&&(Di.$flags$|=8);const ci=Di.$tagName$,bn=class extends HTMLElement{constructor(_r){super(_r),(Ve=>{const He={$flags$:0,$hostElement$:Ve,$instanceValues$:new Map};He.$onInstancePromise$=new Promise(nn=>He.$onInstanceResolve$=nn),He.$onReadyPromise$=new Promise(nn=>He.$onReadyResolve$=nn),Ve["s-p"]=[],Ve["s-rc"]=[],ue.set(Ve,He)})(_r=this),1&Di.$flags$&&(xe?_r.attachShadow({mode:"open"}):"shadowRoot"in _r||(_r.shadowRoot=_r))}connectedCallback(){Nn&&(clearTimeout(Nn),Nn=null),lr?yr.push(this):Se.jmp(()=>kt(this,Di))}disconnectedCallback(){Se.jmp(()=>(Ve=>{if(0==(1&Se.$flags$)){const He=Ge(Ve),nn=He.$lazyInstance$;He.$rmListeners$&&(He.$rmListeners$(),He.$rmListeners$=void 0),Se.$cssShim$&&Se.$cssShim$.removeHost(Ve),bt(nn,"componentDidUnload")}})(this))}forceUpdate(){((Ve,He)=>{{const nn=Ge(Ve);nn.$hostElement$.isConnected&&2==(18&nn.$flags$)&&Si(Ve,nn,He,!1)}})(this,Di)}componentOnReady(){return Ge(this).$onReadyPromise$}};Di.$lazyBundleIds$=Zn[0],!tn.includes(ci)&&!dn.get(ci)&&(zt.push(ci),dn.define(ci,sr(bn,Di,1)))})),In.innerHTML=zt+"{visibility:hidden}.hydrated{visibility:inherit}",In.setAttribute("data-styles",""),cn.insertBefore(In,An?An.nextSibling:cn.firstChild),lr=!1,yr.length>0?yr.forEach(Zn=>Zn.connectedCallback()):Se.jmp(()=>Nn=setTimeout(Ue,30))},mt=(Ve,He,nn)=>{const zt=Er(Ve);return{emit:tn=>{const dn=new CustomEvent(He,{bubbles:!!(4&nn),composed:!!(2&nn),cancelable:!!(1&nn),detail:tn});return zt.dispatchEvent(dn),dn}}},Xn=(Ve,He)=>He in Pe?Pe[He]:"window"===He?Dt:"document"===He?x:"isServer"!==He&&"isPrerender"!==He&&("isClient"===He||("resourcesUrl"===He||"publicPath"===He?(Ve=>{const He=new URL(".",Se.$resourcesUrl$);return He.origin!==Dt.location.origin?He.href:He.pathname})():"queue"===He?{write:gn,read:Tn,tick:{then:nn=>at(nn)}}:void 0)),Er=Ve=>Ge(Ve).$hostElement$},4739:(wr,an,fe)=>{"use strict";var f=fe(2313),j=fe(2096),H=fe(501),tt=fe(9537);const Le=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"",loadChildren:()=>Promise.all([fe.e(8592),fe.e(5652)]).then(fe.bind(fe,5652)).then(ce=>ce.TabsPageModule)},{path:"add-items",loadChildren:()=>Promise.all([fe.e(3151),fe.e(9565)]).then(fe.bind(fe,9565)).then(ce=>ce.AddItemsPageModule)},{path:"login",loadChildren:()=>Promise.all([fe.e(8592),fe.e(4987)]).then(fe.bind(fe,4987)).then(ce=>ce.LoginPageModule)},{path:"detail/:id",loadChildren:()=>Promise.all([fe.e(8592),fe.e(5125)]).then(fe.bind(fe,6495)).then(ce=>ce.DetailPageModule)},{path:"loan-extension",loadChildren:()=>Promise.all([fe.e(3151),fe.e(8592)]).then(fe.bind(fe,9309)).then(ce=>ce.LoanExtensionPageModule)},{path:"donation-request",loadChildren:()=>Promise.all([fe.e(8592),fe.e(9853)]).then(fe.bind(fe,1852)).then(ce=>ce.DonationRequestPageModule)},{path:"donation-approval",loadChildren:()=>Promise.all([fe.e(8592),fe.e(2731)]).then(fe.bind(fe,5009)).then(ce=>ce.DonationApprovalPageModule)},{path:"donation-request-detail/:id",loadChildren:()=>Promise.all([fe.e(8592),fe.e(1012)]).then(fe.bind(fe,1326)).then(ce=>ce.DonationRequestDetailPageModule)},{path:"loan-extension-form/:id",loadChildren:()=>Promise.all([fe.e(8592),fe.e(3119)]).then(fe.bind(fe,1495)).then(ce=>ce.LoanExtensionFormPageModule)}];let we=(()=>{class ce{}return ce.\u0275fac=function(Pe){return new(Pe||ce)},ce.\u0275mod=j.oAB({type:ce}),ce.\u0275inj=j.cJS({imports:[[H.Bz.forRoot(Le,{preloadingStrategy:H.wm})],H.Bz]}),ce})();var _e=fe(4304);let Dt=(()=>{class ce{constructor(){_e.Z.initializeApp({apiKey:"AIzaSyDrI2IgmFzhcnWIA5Kt8x71kymUNRLRREw",authDomain:"msaassignment-31763.firebaseapp.com",projectId:"msaassignment-31763",storageBucket:"msaassignment-31763.appspot.com",messagingSenderId:"950335349545",appId:"1:950335349545:web:116b551f73e8d983a24d38"})}initializeApp(){this.platform.ready().then(()=>{})}}return ce.\u0275fac=function(Pe){return new(Pe||ce)},ce.\u0275cmp=j.Xpm({type:ce,selectors:[["app-root"]],decls:2,vars:0,template:function(Pe,ue){1&Pe&&(j.TgZ(0,"ion-app"),j._UZ(1,"ion-router-outlet"),j.qZA())},directives:[tt.dr,tt.jP],styles:[""]}),ce})(),qe=(()=>{class ce{}return ce.\u0275fac=function(Pe){return new(Pe||ce)},ce.\u0275mod=j.oAB({type:ce,bootstrap:[Dt]}),ce.\u0275inj=j.cJS({providers:[{provide:H.wN,useClass:tt.r4}],imports:[[f.b2,tt.Pc.forRoot(),we]]}),ce})();var Se=fe(6738);(0,j.G48)(),f.q6().bootstrapModule(qe).catch(ce=>console.log(ce)),window,(0,Se.a)().then(()=>{(0,Se.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[32,"keyup","handleBackdropKeyUp"]]]]]],undefined)})},4304:(wr,an,fe)=>{"use strict";fe.d(an,{Z:()=>f.default});var f=fe(8367),Le=(fe(5880),fe(6089),fe(9719),fe(3289)),we=fe(492),_e=fe(4003);fe(670),function qe(R){R.prototype.loadBundle=Le.u,R.prototype.namedQuery=Le.a}(Le.K);var x=fe(655),Se=fe(2461),xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ce=function(R){function M(W,se,me){var Ne=R.call(this,se)||this;return Object.setPrototypeOf(Ne,M.prototype),Ne.code=W,Ne.details=me,Ne}return(0,x.__extends)(M,R),M}(Error),ue=function(){function R(M,W){var se=this;this.auth=null,this.messaging=null,this.auth=M.getImmediate({optional:!0}),this.messaging=W.getImmediate({optional:!0}),this.auth||M.get().then(function(me){return se.auth=me},function(){}),this.messaging||W.get().then(function(me){return se.messaging=me},function(){})}return R.prototype.getAuthToken=function(){return(0,x.__awaiter)(this,void 0,void 0,function(){var M;return(0,x.__generator)(this,function(W){switch(W.label){case 0:if(!this.auth)return[2,void 0];W.label=1;case 1:return W.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(M=W.sent())?[2,M.accessToken]:[2,void 0];case 3:return W.sent(),[2,void 0];case 4:return[2]}})})},R.prototype.getInstanceIdToken=function(){return(0,x.__awaiter)(this,void 0,void 0,function(){return(0,x.__generator)(this,function(M){switch(M.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];M.label=1;case 1:return M.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,M.sent()];case 3:return M.sent(),[2,void 0];case 4:return[2]}})})},R.prototype.getContext=function(){return(0,x.__awaiter)(this,void 0,void 0,function(){var M,W;return(0,x.__generator)(this,function(se){switch(se.label){case 0:return[4,this.getAuthToken()];case 1:return M=se.sent(),[4,this.getInstanceIdToken()];case 2:return W=se.sent(),[2,{authToken:M,instanceIdToken:W}]}})})},R}();function ct(R,M){var W={};for(var se in R)R.hasOwnProperty(se)&&(W[se]=M(R[se]));return W}var wt=function(){function R(){}return R.prototype.encode=function(M){var W=this;if(null==M)return null;if(M instanceof Number&&(M=M.valueOf()),"number"==typeof M&&isFinite(M)||!0===M||!1===M||"[object String]"===Object.prototype.toString.call(M))return M;if(M instanceof Date)return M.toISOString();if(Array.isArray(M))return M.map(function(se){return W.encode(se)});if("function"==typeof M||"object"==typeof M)return ct(M,function(se){return W.encode(se)});throw new Error("Data cannot be encoded in JSON: "+M)},R.prototype.decode=function(M){var W=this;if(null==M)return M;if(M["@type"])switch(M["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var se=Number(M.value);if(isNaN(se))throw new Error("Data cannot be decoded from JSON: "+M);return se;default:throw new Error("Data cannot be decoded from JSON: "+M)}return Array.isArray(M)?M.map(function(me){return W.decode(me)}):"function"==typeof M||"object"==typeof M?ct(M,function(me){return W.decode(me)}):M},R}(),nt=function(){function R(M,W,se,me,Ne,_t){var xt=this;void 0===Ne&&(Ne="us-central1"),this.app_=M,this.appCheckProvider=me,this.fetchImpl=_t,this.serializer=new wt,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(xt.deleteService())}},this.contextProvider=new ue(W,se),this.cancelAllRequests=new Promise(function(mn){xt.deleteService=function(){return mn()}});try{var sn=new URL(Ne);this.customDomain=sn.origin,this.region="us-central1"}catch(mn){this.customDomain=null,this.region=Ne}}return Object.defineProperty(R.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),R.prototype._url=function(M){var W=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+W+"/"+this.region+"/"+M:null!==this.customDomain?this.customDomain+"/"+M:"https://"+this.region+"-"+W+".cloudfunctions.net/"+M},R.prototype.useEmulator=function(M,W){this.emulatorOrigin="http://"+M+":"+W},R.prototype.useFunctionsEmulator=function(M){this.emulatorOrigin=M},R.prototype.httpsCallable=function(M,W){var se=this;return function(me){return se.call(M,me,W||{})}},R.prototype.postJSON=function(M,W,se){return(0,x.__awaiter)(this,void 0,void 0,function(){var me,Ne,_t;return(0,x.__generator)(this,function(xt){switch(xt.label){case 0:return se["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(me=xt.sent())&&(se["X-Firebase-AppCheck"]=me),xt.label=2;case 2:return xt.trys.push([2,4,,5]),[4,this.fetchImpl(M,{method:"POST",body:JSON.stringify(W),headers:se})];case 3:return Ne=xt.sent(),[3,5];case 4:return xt.sent(),[2,{status:0,json:null}];case 5:_t=null,xt.label=6;case 6:return xt.trys.push([6,8,,9]),[4,Ne.json()];case 7:return _t=xt.sent(),[3,9];case 8:return xt.sent(),[3,9];case 9:return[2,{status:Ne.status,json:_t}]}})})},R.prototype.getAppCheckToken=function(){return(0,x.__awaiter)(this,void 0,void 0,function(){var M;return(0,x.__generator)(this,function(se){switch(se.label){case 0:return(M=this.appCheckProvider.getImmediate({optional:!0}))?[4,M.getToken()]:[3,2];case 1:return[2,se.sent().token];case 2:return[2,null]}})})},R.prototype.call=function(M,W,se){return(0,x.__awaiter)(this,void 0,void 0,function(){var me,Ne,_t,xt,mn,jn,ti,Br,oo,ki;return(0,x.__generator)(this,function(Fs){switch(Fs.label){case 0:return me=this._url(M),W=this.serializer.encode(W),Ne={data:W},_t={},[4,this.contextProvider.getContext()];case 1:return(xt=Fs.sent()).authToken&&(_t.Authorization="Bearer "+xt.authToken),xt.instanceIdToken&&(_t["Firebase-Instance-ID-Token"]=xt.instanceIdToken),mn=function Ut(R){var M,W=new Promise(function(se,me){M=setTimeout(function(){me(new ce("deadline-exceeded","deadline-exceeded"))},R)});return{timer:M,promise:W}}(se.timeout||7e4),jn=mn.timer,ti=mn.promise,[4,Promise.race([rt(jn,this.postJSON(me,Ne,_t)),ti,rt(jn,this.cancelAllRequests)])];case 2:if(!(Br=Fs.sent()))throw new ce("cancelled","Firebase Functions instance was deleted.");if(oo=function Pe(R,M,W){var se=function ve(R){if(R>=200&&R<300)return"ok";switch(R){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(R),me=se,Ne=void 0;try{var _t=M&&M.error;if(_t){var xt=_t.status;if("string"==typeof xt){if(!xe[xt])return new ce("internal","internal");se=xe[xt],me=xt}var sn=_t.message;"string"==typeof sn&&(me=sn),void 0!==(Ne=_t.details)&&(Ne=W.decode(Ne))}}catch(mn){}return"ok"===se?null:new ce(se,me,Ne)}(Br.status,Br.json,this.serializer),oo)throw oo;if(!Br.json)throw new ce("internal","Response is not valid JSON object.");if(void 0===(ki=Br.json.data)&&(ki=Br.json.result),void 0===ki)throw new ce("internal","Response is missing data field.");return[2,{data:this.serializer.decode(ki)}]}})})},R}();function rt(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W;return(0,x.__generator)(this,function(se){switch(se.label){case 0:return[4,M];case 1:return W=se.sent(),clearTimeout(R),[2,W]}})})}(function Et(R,M){var W={Functions:nt};R.INTERNAL.registerComponent(new Se.Component("functions",function se(me,Ne){var _t=Ne.instanceIdentifier,xt=me.getProvider("app").getImmediate(),sn=me.getProvider("auth-internal"),mn=me.getProvider("app-check-internal"),jn=me.getProvider("messaging");return new nt(xt,sn,jn,mn,_t,M)},"PUBLIC").setServiceProps(W).setMultipleInstances(!0))})(f.default,fetch.bind(self)),f.default.registerVersion("@firebase/functions","0.6.16");var St,ze=fe(2940),at="w:0.4.32",yt=((St={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',St["not-registered"]="Firebase Installation is not registered.",St["installation-not-found"]="Firebase Installation not found.",St["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',St["app-offline"]="Could not process request. Application offline.",St["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",St),Mt=new we.ErrorFactory("installations","Installations",yt);function Ft(R){return R instanceof we.FirebaseError&&R.code.includes("request-failed")}function on(R){return"https://firebaseinstallations.googleapis.com/v1/projects/"+R.projectId+"/installations"}function We(R){return{token:R.token,requestStatus:2,expiresIn:er(R.expiresIn),creationTime:Date.now()}}function Bn(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return[4,M.json()];case 1:return W=me.sent(),[2,Mt.create("request-failed",{requestName:R,serverCode:(se=W.error).code,serverMessage:se.message,serverStatus:se.status})]}})})}function yn(R){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey})}function ar(R,M){var W=M.refreshToken,se=yn(R);return se.append("Authorization",function Pr(R){return"FIS_v2 "+R}(W)),se}function Mn(R){return(0,x.__awaiter)(this,void 0,void 0,function(){var M;return(0,x.__generator)(this,function(W){switch(W.label){case 0:return[4,R()];case 1:return(M=W.sent()).status>=500&&M.status<600?[2,R()]:[2,M]}})})}function er(R){return Number(R.replace("s","000"))}function or(R,M){var W=M.fid;return(0,x.__awaiter)(this,void 0,void 0,function(){var se,me,_t,xt,sn;return(0,x.__generator)(this,function(jn){switch(jn.label){case 0:return se=on(R),me=yn(R),_t={method:"POST",headers:me,body:JSON.stringify({fid:W,authVersion:"FIS_v2",appId:R.appId,sdkVersion:at})},[4,Mn(function(){return fetch(se,_t)})];case 1:return(xt=jn.sent()).ok?[4,xt.json()]:[3,3];case 2:return[2,{fid:(sn=jn.sent()).fid||W,registrationStatus:2,refreshToken:sn.refreshToken,authToken:We(sn.authToken)}];case 3:return[4,Bn("Create Installation",xt)];case 4:throw jn.sent()}})})}function Kn(R){return new Promise(function(M){setTimeout(M,R)})}var cr=/^[cdef][\w-]{21}$/;function Lr(){try{var R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;var W=function Sr(R){return function Vr(R){return btoa(String.fromCharCode.apply(String,(0,x.__spreadArray)([],(0,x.__read)(R)))).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return cr.test(W)?W:""}catch(se){return""}}function rr(R){return R.appName+"!"+R.appId}var Rr=new Map;function fi(R,M){var W=rr(R);nr(W,M),function br(R,M){var W=Qn();W&&W.postMessage({key:R,fid:M}),vr()}(W,M)}function nr(R,M){var W,se,me=Rr.get(R);if(me)try{for(var Ne=(0,x.__values)(me),_t=Ne.next();!_t.done;_t=Ne.next())(0,_t.value)(M)}catch(sn){W={error:sn}}finally{try{_t&&!_t.done&&(se=Ne.return)&&se.call(Ne)}finally{if(W)throw W.error}}}var $t=null;function Qn(){return!$t&&"BroadcastChannel"in self&&(($t=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(R){nr(R.data.key,R.data.fid)}),$t}function vr(){0===Rr.size&&$t&&($t.close(),$t=null)}var Si="firebase-installations-store",Or=null;function kr(){return Or||(Or=(0,ze.openDb)("firebase-installations-database",1,function(R){0===R.oldVersion&&R.createObjectStore(Si)})),Or}function Zr(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se,me,Ne,_t;return(0,x.__generator)(this,function(xt){switch(xt.label){case 0:return W=rr(R),[4,kr()];case 1:return se=xt.sent(),me=se.transaction(Si,"readwrite"),[4,(Ne=me.objectStore(Si)).get(W)];case 2:return _t=xt.sent(),[4,Ne.put(M,W)];case 3:return xt.sent(),[4,me.complete];case 4:return xt.sent(),(!_t||_t.fid!==M.fid)&&fi(R,M.fid),[2,M]}})})}function it(R){return(0,x.__awaiter)(this,void 0,void 0,function(){var M,W,se;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return M=rr(R),[4,kr()];case 1:return W=me.sent(),[4,(se=W.transaction(Si,"readwrite")).objectStore(Si).delete(M)];case 2:return me.sent(),[4,se.complete];case 3:return me.sent(),[2]}})})}function Ue(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se,me,Ne,_t,xt;return(0,x.__generator)(this,function(sn){switch(sn.label){case 0:return W=rr(R),[4,kr()];case 1:return se=sn.sent(),me=se.transaction(Si,"readwrite"),[4,(Ne=me.objectStore(Si)).get(W)];case 2:return _t=sn.sent(),void 0!==(xt=M(_t))?[3,4]:[4,Ne.delete(W)];case 3:return sn.sent(),[3,6];case 4:return[4,Ne.put(xt,W)];case 5:sn.sent(),sn.label=6;case 6:return[4,me.complete];case 7:return sn.sent(),xt&&(!_t||_t.fid!==xt.fid)&&fi(R,xt.fid),[2,xt]}})})}function bt(R){return(0,x.__awaiter)(this,void 0,void 0,function(){var M,W,se;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return[4,Ue(R,function(Ne){var _t=function Ce(R){return Jt(R||{fid:Lr(),registrationStatus:0})}(Ne),xt=function Ae(R,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(Mt.create("app-offline"))};var se={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},me=function st(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return me.trys.push([0,2,,7]),[4,or(R,M)];case 1:return W=me.sent(),[2,Zr(R,W)];case 2:return Ft(se=me.sent())&&409===se.customData.serverCode?[4,it(R)]:[3,4];case 3:return me.sent(),[3,6];case 4:return[4,Zr(R,{fid:M.fid,registrationStatus:0})];case 5:me.sent(),me.label=6;case 6:throw se;case 7:return[2]}})})}(R,se);return{installationEntry:se,registrationPromise:me}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:Ot(R)}:{installationEntry:M}}(R,_t);return M=xt.registrationPromise,xt.installationEntry})];case 1:return""!==(W=me.sent()).fid?[3,3]:(se={},[4,M]);case 2:return[2,(se.installationEntry=me.sent(),se)];case 3:return[2,{installationEntry:W,registrationPromise:M}]}})})}function Ot(R){return(0,x.__awaiter)(this,void 0,void 0,function(){var M,W,se,me;return(0,x.__generator)(this,function(Ne){switch(Ne.label){case 0:return[4,Pt(R)];case 1:M=Ne.sent(),Ne.label=2;case 2:return 1!==M.registrationStatus?[3,5]:[4,Kn(100)];case 3:return Ne.sent(),[4,Pt(R)];case 4:return M=Ne.sent(),[3,2];case 5:return 0!==M.registrationStatus?[3,7]:[4,bt(R)];case 6:return W=Ne.sent(),se=W.installationEntry,(me=W.registrationPromise)?[2,me]:[2,se];case 7:return[2,M]}})})}function Pt(R){return Ue(R,function(M){if(!M)throw Mt.create("installation-not-found");return Jt(M)})}function Jt(R){return function Fn(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function Jn(R,M){var W=R.appConfig,se=R.platformLoggerProvider;return(0,x.__awaiter)(this,void 0,void 0,function(){var me,Ne,_t,sn,mn;return(0,x.__generator)(this,function(Br){switch(Br.label){case 0:return me=function Cr(R,M){var W=M.fid;return on(R)+"/"+W+"/authTokens:generate"}(W,M),Ne=ar(W,M),(_t=se.getImmediate({optional:!0}))&&Ne.append("x-firebase-client",_t.getPlatformInfoString()),sn={method:"POST",headers:Ne,body:JSON.stringify({installation:{sdkVersion:at}})},[4,Mn(function(){return fetch(me,sn)})];case 1:return(mn=Br.sent()).ok?[4,mn.json()]:[3,3];case 2:return[2,We(Br.sent())];case 3:return[4,Bn("Generate Auth Token",mn)];case 4:throw Br.sent()}})})}function sr(R,M){return void 0===M&&(M=!1),(0,x.__awaiter)(this,void 0,void 0,function(){var W,se,Ne;return(0,x.__generator)(this,function(_t){switch(_t.label){case 0:return[4,Ue(R.appConfig,function(xt){if(!ke(xt))throw Mt.create("not-registered");var sn=xt.authToken;if(!M&&function mt(R){return 2===R.requestStatus&&!function Lt(R){var M=Date.now();return M<R.creationTime||R.creationTime+R.expiresIn<M+36e5}(R)}(sn))return xt;if(1===sn.requestStatus)return W=function ni(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return[4,kt(R.appConfig)];case 1:W=me.sent(),me.label=2;case 2:return 1!==W.authToken.requestStatus?[3,5]:[4,Kn(100)];case 3:return me.sent(),[4,kt(R.appConfig)];case 4:return W=me.sent(),[3,2];case 5:return 0===(se=W.authToken).requestStatus?[2,sr(R,M)]:[2,se]}})})}(R,M),xt;if(!navigator.onLine)throw Mt.create("app-offline");var mn=function Xn(R){var M={requestStatus:1,requestTime:Date.now()};return(0,x.__assign)((0,x.__assign)({},R),{authToken:M})}(xt);return W=function dt(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se,me;return(0,x.__generator)(this,function(Ne){switch(Ne.label){case 0:return Ne.trys.push([0,3,,8]),[4,Jn(R,M)];case 1:return W=Ne.sent(),me=(0,x.__assign)((0,x.__assign)({},M),{authToken:W}),[4,Zr(R.appConfig,me)];case 2:return Ne.sent(),[2,W];case 3:return!Ft(se=Ne.sent())||401!==se.customData.serverCode&&404!==se.customData.serverCode?[3,5]:[4,it(R.appConfig)];case 4:return Ne.sent(),[3,7];case 5:return me=(0,x.__assign)((0,x.__assign)({},M),{authToken:{requestStatus:0}}),[4,Zr(R.appConfig,me)];case 6:Ne.sent(),Ne.label=7;case 7:throw se;case 8:return[2]}})})}(R,mn),mn})];case 1:return se=_t.sent(),W?[4,W]:[3,3];case 2:return Ne=_t.sent(),[3,4];case 3:Ne=se.authToken,_t.label=4;case 4:return[2,Ne]}})})}function kt(R){return Ue(R,function(M){if(!ke(M))throw Mt.create("not-registered");return function Er(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(M.authToken)?(0,x.__assign)((0,x.__assign)({},M),{authToken:{requestStatus:0}}):M})}function ke(R){return void 0!==R&&2===R.registrationStatus}function nn(R){return(0,x.__awaiter)(this,void 0,void 0,function(){var M;return(0,x.__generator)(this,function(W){switch(W.label){case 0:return[4,bt(R)];case 1:return(M=W.sent().registrationPromise)?[4,M]:[3,3];case 2:W.sent(),W.label=3;case 3:return[2]}})})}function zt(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se,me,Ne;return(0,x.__generator)(this,function(_t){switch(_t.label){case 0:return W=function tn(R,M){var W=M.fid;return on(R)+"/"+W}(R,M),se=ar(R,M),me={method:"DELETE",headers:se},[4,Mn(function(){return fetch(W,me)})];case 1:return(Ne=_t.sent()).ok?[3,3]:[4,Bn("Delete Installation",Ne)];case 2:throw _t.sent();case 3:return[2]}})})}function In(R){return Mt.create("missing-app-config-values",{valueName:R})}!function yr(R){R.INTERNAL.registerComponent(new Se.Component("installations",function(W){var se=W.getProvider("app").getImmediate(),me=function An(R){var M,W;if(!R||!R.options)throw In("App Configuration");if(!R.name)throw In("App Name");try{for(var me=(0,x.__values)(["projectId","apiKey","appId"]),Ne=me.next();!Ne.done;Ne=me.next()){var _t=Ne.value;if(!R.options[_t])throw In(_t)}}catch(xt){M={error:xt}}finally{try{Ne&&!Ne.done&&(W=me.return)&&W.call(me)}finally{if(M)throw M.error}}return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(se),_t={appConfig:me,platformLoggerProvider:W.getProvider("platform-logger")},xt={app:se,getId:function(){return function Ve(R){return(0,x.__awaiter)(this,void 0,void 0,function(){var M,W,se;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return[4,bt(R.appConfig)];case 1:return M=me.sent(),W=M.installationEntry,(se=M.registrationPromise)?se.catch(console.error):sr(R).catch(console.error),[2,W.fid]}})})}(_t)},getToken:function(sn){return function He(R,M){return void 0===M&&(M=!1),(0,x.__awaiter)(this,void 0,void 0,function(){return(0,x.__generator)(this,function(se){switch(se.label){case 0:return[4,nn(R.appConfig)];case 1:return se.sent(),[4,sr(R,M)];case 2:return[2,se.sent().token]}})})}(_t,sn)},delete:function(){return function dn(R){return(0,x.__awaiter)(this,void 0,void 0,function(){var M,W;return(0,x.__generator)(this,function(se){switch(se.label){case 0:return[4,Ue(M=R.appConfig,function(me){if(!me||0!==me.registrationStatus)return me})];case 1:if(!(W=se.sent()))return[3,6];if(1!==W.registrationStatus)return[3,2];throw Mt.create("delete-pending-registration");case 2:if(2!==W.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Mt.create("app-offline");case 3:return[4,zt(M,W)];case 4:return se.sent(),[4,it(M)];case 5:se.sent(),se.label=6;case 6:return[2]}})})}(_t)},onIdChange:function(sn){return function cn(R,M){var W=R.appConfig;return function Hr(R,M){Qn();var W=rr(R),se=Rr.get(W);se||Rr.set(W,se=new Set),se.add(M)}(W,M),function(){!function Gn(R,M){var W=rr(R),se=Rr.get(W);!se||(se.delete(M),0===se.size&&Rr.delete(W),vr())}(W,M)}}(_t,sn)}};return xt},"PUBLIC")),R.registerVersion("@firebase/installations","0.4.32")}(f.default);var Nn,lr=((Nn={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Nn["only-available-in-window"]="This method is available in a Window context.",Nn["only-available-in-sw"]="This method is available in a service worker context.",Nn["permission-default"]="The notification permission was not granted and dismissed instead.",Nn["permission-blocked"]="The notification permission was not granted and blocked instead.",Nn["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Nn["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Nn["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Nn["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Nn["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Nn["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Nn["token-update-no-token"]="FCM returned no token when updating the user to push.",Nn["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Nn["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Nn["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Nn["invalid-vapid-key"]="The public VAPID key must be a string.",Nn["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Nn),Zn=new we.ErrorFactory("messaging","Messaging",lr),ci="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_r="FCM_MSG",Ki="google.c.a.c_id",gi=(()=>{return(R=gi||(gi={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",gi;var R})();function ne(R){var M=new Uint8Array(R);return btoa(String.fromCharCode.apply(String,(0,x.__spreadArray)([],(0,x.__read)(M)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Oe(R){for(var W=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),se=atob(W),me=new Uint8Array(se.length),Ne=0;Ne<se.length;++Ne)me[Ne]=se.charCodeAt(Ne);return me}var be="fcm_token_details_db",ut="fcm_token_object_Store";function lt(R){return(0,x.__awaiter)(this,void 0,void 0,function(){var se,Ne=this;return(0,x.__generator)(this,function(_t){switch(_t.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!_t.sent().map(function(xt){return xt.name}).includes(be))return[2,null];_t.label=2;case 2:return se=null,[4,(0,ze.openDb)(be,5,function(xt){return(0,x.__awaiter)(Ne,void 0,void 0,function(){var sn,mn,jn,ti;return(0,x.__generator)(this,function(Br){switch(Br.label){case 0:return xt.oldVersion<2?[2]:xt.objectStoreNames.contains(ut)?[4,(sn=xt.transaction.objectStore(ut)).index("fcmSenderId").get(R)]:[2];case 1:return mn=Br.sent(),[4,sn.clear()];case 2:if(Br.sent(),!mn)return[2];if(2===xt.oldVersion){if(!(jn=mn).auth||!jn.p256dh||!jn.endpoint)return[2];se={token:jn.fcmToken,createTime:null!==(ti=jn.createTime)&&void 0!==ti?ti:Date.now(),subscriptionOptions:{auth:jn.auth,p256dh:jn.p256dh,endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:"string"==typeof jn.vapidKey?jn.vapidKey:ne(jn.vapidKey)}}}else(3===xt.oldVersion||4===xt.oldVersion)&&(se={token:(jn=mn).fcmToken,createTime:jn.createTime,subscriptionOptions:{auth:ne(jn.auth),p256dh:ne(jn.p256dh),endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:ne(jn.vapidKey)}});return[2]}})})})];case 3:return _t.sent().close(),[4,(0,ze.deleteDb)(be)];case 4:return _t.sent(),[4,(0,ze.deleteDb)("fcm_vapid_details_db")];case 5:return _t.sent(),[4,(0,ze.deleteDb)("undefined")];case 6:return _t.sent(),[2,It(se)?se:null]}})})}function It(R){if(!R||!R.subscriptionOptions)return!1;var M=R.subscriptionOptions;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}var Bt="firebase-messaging-store",On=null;function tr(){return On||(On=(0,ze.openDb)("firebase-messaging-database",1,function(R){0===R.oldVersion&&R.createObjectStore(Bt)})),On}function pr(R){return(0,x.__awaiter)(this,void 0,void 0,function(){var M,se,me;return(0,x.__generator)(this,function(Ne){switch(Ne.label){case 0:return M=Wr(R),[4,tr()];case 1:return[4,Ne.sent().transaction(Bt).objectStore(Bt).get(M)];case 2:return(se=Ne.sent())?[2,se]:[3,3];case 3:return[4,lt(R.appConfig.senderId)];case 4:return(me=Ne.sent())?[4,Ir(R,me)]:[3,6];case 5:return Ne.sent(),[2,me];case 6:return[2]}})})}function Ir(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se,me;return(0,x.__generator)(this,function(Ne){switch(Ne.label){case 0:return W=Wr(R),[4,tr()];case 1:return se=Ne.sent(),[4,(me=se.transaction(Bt,"readwrite")).objectStore(Bt).put(M,W)];case 2:return Ne.sent(),[4,me.complete];case 3:return Ne.sent(),[2,M]}})})}function lo(R){return(0,x.__awaiter)(this,void 0,void 0,function(){var M,W,se;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return M=Wr(R),[4,tr()];case 1:return W=me.sent(),[4,(se=W.transaction(Bt,"readwrite")).objectStore(Bt).delete(M)];case 2:return me.sent(),[4,se.complete];case 3:return me.sent(),[2]}})})}function Wr(R){return R.appConfig.appId}function Zi(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se,me,Ne,xt;return(0,x.__generator)(this,function(mn){switch(mn.label){case 0:return[4,rs(R)];case 1:W=mn.sent(),se=gr(M),me={method:"POST",headers:W,body:JSON.stringify(se)},mn.label=2;case 2:return mn.trys.push([2,5,,6]),[4,fetch(Do(R.appConfig),me)];case 3:return[4,mn.sent().json()];case 4:return Ne=mn.sent(),[3,6];case 5:throw xt=mn.sent(),Zn.create("token-subscribe-failed",{errorInfo:xt});case 6:if(Ne.error)throw Zn.create("token-subscribe-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw Zn.create("token-subscribe-no-token");return[2,Ne.token]}})})}function di(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se,me,Ne,xt;return(0,x.__generator)(this,function(mn){switch(mn.label){case 0:return[4,rs(R)];case 1:W=mn.sent(),se=gr(M.subscriptionOptions),me={method:"PATCH",headers:W,body:JSON.stringify(se)},mn.label=2;case 2:return mn.trys.push([2,5,,6]),[4,fetch(Do(R.appConfig)+"/"+M.token,me)];case 3:return[4,mn.sent().json()];case 4:return Ne=mn.sent(),[3,6];case 5:throw xt=mn.sent(),Zn.create("token-update-failed",{errorInfo:xt});case 6:if(Ne.error)throw Zn.create("token-update-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw Zn.create("token-update-no-token");return[2,Ne.token]}})})}function $i(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se,Ne,xt;return(0,x.__generator)(this,function(sn){switch(sn.label){case 0:return[4,rs(R)];case 1:W=sn.sent(),se={method:"DELETE",headers:W},sn.label=2;case 2:return sn.trys.push([2,5,,6]),[4,fetch(Do(R.appConfig)+"/"+M,se)];case 3:return[4,sn.sent().json()];case 4:if((Ne=sn.sent()).error)throw Zn.create("token-unsubscribe-failed",{errorInfo:Ne.error.message});return[3,6];case 5:throw xt=sn.sent(),Zn.create("token-unsubscribe-failed",{errorInfo:xt});case 6:return[2]}})})}function Do(R){return"https://fcmregistrations.googleapis.com/v1/projects/"+R.projectId+"/registrations"}function rs(R){var M=R.appConfig,W=R.installations;return(0,x.__awaiter)(this,void 0,void 0,function(){var se;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return[4,W.getToken()];case 1:return se=me.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":"FIS "+se})]}})})}function gr(R){var me=R.vapidKey,Ne={web:{endpoint:R.endpoint,auth:R.auth,p256dh:R.p256dh}};return me!==ci&&(Ne.web.applicationPubKey=me),Ne}function wo(R,M,W){return(0,x.__awaiter)(this,void 0,void 0,function(){var se,me,Ne,_t;return(0,x.__generator)(this,function(xt){switch(xt.label){case 0:if("granted"!==Notification.permission)throw Zn.create("permission-blocked");return[4,Yr(M,W)];case 1:return se=xt.sent(),[4,pr(R)];case 2:return me=xt.sent(),Ne={vapidKey:W,swScope:M.scope,endpoint:se.endpoint,auth:ne(se.getKey("auth")),p256dh:ne(se.getKey("p256dh"))},me?[3,3]:[2,Ar(R,Ne)];case 3:if(function ur(R,M){return M.vapidKey===R.vapidKey&&M.endpoint===R.endpoint&&M.auth===R.auth&&M.p256dh===R.p256dh}(me.subscriptionOptions,Ne))return[3,8];xt.label=4;case 4:return xt.trys.push([4,6,,7]),[4,$i(R,me.token)];case 5:return xt.sent(),[3,7];case 6:return _t=xt.sent(),console.warn(_t),[3,7];case 7:return[2,Ar(R,Ne)];case 8:return Date.now()>=me.createTime+6048e5?[2,Lo({token:me.token,createTime:Date.now(),subscriptionOptions:Ne},R,M)]:[2,me.token];case 9:return[2]}})})}function Xi(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return[4,pr(R)];case 1:return(W=me.sent())?[4,$i(R,W.token)]:[3,4];case 2:return me.sent(),[4,lo(R)];case 3:me.sent(),me.label=4;case 4:return[4,M.pushManager.getSubscription()];case 5:return(se=me.sent())?[2,se.unsubscribe()]:[2,!0]}})})}function Lo(R,M,W){return(0,x.__awaiter)(this,void 0,void 0,function(){var se,me,Ne;return(0,x.__generator)(this,function(_t){switch(_t.label){case 0:return _t.trys.push([0,3,,5]),[4,di(M,R)];case 1:return se=_t.sent(),me=(0,x.__assign)((0,x.__assign)({},R),{token:se,createTime:Date.now()}),[4,Ir(M,me)];case 2:return _t.sent(),[2,se];case 3:return Ne=_t.sent(),[4,Xi(M,W)];case 4:throw _t.sent(),Ne;case 5:return[2]}})})}function Ar(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return[4,Zi(R,M)];case 1:return W=me.sent(),se={token:W,createTime:Date.now(),subscriptionOptions:M},[4,Ir(R,se)];case 2:return me.sent(),[2,se.token]}})})}function Yr(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W;return(0,x.__generator)(this,function(se){switch(se.label){case 0:return[4,R.pushManager.getSubscription()];case 1:return(W=se.sent())?[2,W]:[2,R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Oe(M)})]}})})}function Me(R){return"object"==typeof R&&!!R&&Ki in R}function Je(R){return new Promise(function(M){setTimeout(M,R)})}var Ct=function(){function R(M){var W=this;this.firebaseDependencies=M,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(se){se.waitUntil(W.onPush(se))}),self.addEventListener("pushsubscriptionchange",function(se){se.waitUntil(W.onSubChange(se))}),self.addEventListener("notificationclick",function(se){se.waitUntil(W.onNotificationClick(se))})}return Object.defineProperty(R.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),R.prototype.setBackgroundMessageHandler=function(M){if(this.isOnBackgroundMessageUsed=!1,!M||"function"!=typeof M)throw Zn.create("invalid-bg-handler");this.bgMessageHandler=M},R.prototype.onBackgroundMessage=function(M){var W=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=M,function(){W.bgMessageHandler=null}},R.prototype.getToken=function(){var M,W;return(0,x.__awaiter)(this,void 0,void 0,function(){var se;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return this.vapidKey?[3,2]:[4,pr(this.firebaseDependencies)];case 1:se=me.sent(),this.vapidKey=null!==(W=null===(M=null==se?void 0:se.subscriptionOptions)||void 0===M?void 0:M.vapidKey)&&void 0!==W?W:ci,me.label=2;case 2:return[2,wo(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},R.prototype.deleteToken=function(){return Xi(this.firebaseDependencies,self.registration)},R.prototype.requestPermission=function(){throw Zn.create("only-available-in-window")},R.prototype.usePublicVapidKey=function(M){if(null!==this.vapidKey)throw Zn.create("use-vapid-key-after-get-token");if("string"!=typeof M||0===M.length)throw Zn.create("invalid-vapid-key");this.vapidKey=M},R.prototype.useServiceWorker=function(){throw Zn.create("only-available-in-window")},R.prototype.onMessage=function(){throw Zn.create("only-available-in-window")},R.prototype.onTokenRefresh=function(){throw Zn.create("only-available-in-window")},R.prototype.onPush=function(M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se,me,Ne;return(0,x.__generator)(this,function(_t){switch(_t.label){case 0:return W=function En(R){var M=R.data;if(!M)return null;try{return M.json()}catch(W){return null}}(M),W?[4,dr()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function Un(R){return R.some(function(M){return"visible"===M.visibilityState&&!M.url.startsWith("chrome-extension://")})}(se=_t.sent())?[2,mr(se,W)]:(me=!1,W.notification?[4,oi(jt(W))]:[3,3]);case 2:_t.sent(),me=!0,_t.label=3;case 3:return!0===me&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(Ne=function li(R){var M={from:R.from,collapseKey:R.collapse_key,messageId:R.fcm_message_id};return function bo(R,M){if(M.notification){R.notification={};var W=M.notification.title;W&&(R.notification.title=W);var se=M.notification.body;se&&(R.notification.body=se);var me=M.notification.image;me&&(R.notification.image=me)}}(M,R),function Z(R,M){!M.data||(R.data=M.data)}(M,R),function q(R,M){if(M.fcmOptions){R.fcmOptions={};var W=M.fcmOptions.link;W&&(R.fcmOptions.link=W);var se=M.fcmOptions.analytics_label;se&&(R.fcmOptions.analyticsLabel=se)}}(M,R),M}(W),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(Ne):this.bgMessageHandler.next(Ne)),[4,Je(1e3)]);case 4:return _t.sent(),[2]}})})},R.prototype.onSubChange=function(M){var W,se;return(0,x.__awaiter)(this,void 0,void 0,function(){var Ne;return(0,x.__generator)(this,function(_t){switch(_t.label){case 0:return M.newSubscription?[3,2]:[4,Xi(this.firebaseDependencies,self.registration)];case 1:case 5:return _t.sent(),[2];case 2:return[4,pr(this.firebaseDependencies)];case 3:return Ne=_t.sent(),[4,Xi(this.firebaseDependencies,self.registration)];case 4:return _t.sent(),[4,wo(this.firebaseDependencies,self.registration,null!==(se=null===(W=null==Ne?void 0:Ne.subscriptionOptions)||void 0===W?void 0:W.vapidKey)&&void 0!==se?se:ci)]}})})},R.prototype.onNotificationClick=function(M){var W,se;return(0,x.__awaiter)(this,void 0,void 0,function(){var me,Ne,_t,xt,sn;return(0,x.__generator)(this,function(mn){switch(mn.label){case 0:return(me=null===(se=null===(W=M.notification)||void 0===W?void 0:W.data)||void 0===se?void 0:se[_r])?M.action?[2]:(M.stopImmediatePropagation(),M.notification.close(),Ne=function mi(R){var M,W,se;return(null!==(W=null===(M=R.fcmOptions)||void 0===M?void 0:M.link)&&void 0!==W?W:null===(se=R.notification)||void 0===se?void 0:se.click_action)||(Me(R.data)?self.location.origin:null)}(me),Ne?(_t=new URL(Ne,self.location.href),xt=new URL(self.location.origin),_t.host!==xt.host?[2]:[4,xn(_t)]):[2]):[2];case 1:return(sn=mn.sent())?[3,4]:[4,self.clients.openWindow(Ne)];case 2:return sn=mn.sent(),[4,Je(3e3)];case 3:return mn.sent(),[3,6];case 4:return[4,sn.focus()];case 5:sn=mn.sent(),mn.label=6;case 6:return sn?(me.messageType=gi.NOTIFICATION_CLICKED,me.isFirebaseMessaging=!0,[2,sn.postMessage(me)]):[2]}})})},R}();function jt(R){var M,W=(0,x.__assign)({},R.notification);return W.data=((M={})[_r]=R,M),W}function xn(R){return(0,x.__awaiter)(this,void 0,void 0,function(){var M,W,se,me,Ne,_t,xt;return(0,x.__generator)(this,function(sn){switch(sn.label){case 0:return[4,dr()];case 1:M=sn.sent();try{for(W=(0,x.__values)(M),se=W.next();!se.done;se=W.next())if(me=se.value,Ne=new URL(me.url,self.location.href),R.host===Ne.host)return[2,me]}catch(mn){_t={error:mn}}finally{try{se&&!se.done&&(xt=W.return)&&xt.call(W)}finally{if(_t)throw _t.error}}return[2,null]}})})}function mr(R,M){var W,se;M.isFirebaseMessaging=!0,M.messageType=gi.PUSH_RECEIVED;try{for(var me=(0,x.__values)(R),Ne=me.next();!Ne.done;Ne=me.next())Ne.value.postMessage(M)}catch(xt){W={error:xt}}finally{try{Ne&&!Ne.done&&(se=me.return)&&se.call(me)}finally{if(W)throw W.error}}}function dr(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function oi(R){var M,W=R.actions,se=Notification.maxActions;return W&&se&&W.length>se&&console.warn("This browser only supports "+se+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(M=R.title)&&void 0!==M?M:"",R)}var po=function(){function R(M){var W=this;this.firebaseDependencies=M,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(se){return W.messageEventListener(se)})}return Object.defineProperty(R.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),R.prototype.messageEventListener=function(M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return(W=M.data).isFirebaseMessaging?(this.onMessageCallback&&W.messageType===gi.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function vi(R){return delete R.messageType,delete R.isFirebaseMessaging,R}(Object.assign({},W))):this.onMessageCallback.next(Object.assign({},W))),Me(se=W.data)&&"1"===se["google.c.a.e"]?[4,this.logEvent(W.messageType,se)]:[3,2]):[2];case 1:me.sent(),me.label=2;case 2:return[2]}})})},R.prototype.getVapidKey=function(){return this.vapidKey},R.prototype.getSwReg=function(){return this.swRegistration},R.prototype.getToken=function(M){return(0,x.__awaiter)(this,void 0,void 0,function(){return(0,x.__generator)(this,function(W){switch(W.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:W.sent(),W.label=2;case 2:if("granted"!==Notification.permission)throw Zn.create("permission-blocked");return[4,this.updateVapidKey(null==M?void 0:M.vapidKey)];case 3:return W.sent(),[4,this.updateSwReg(null==M?void 0:M.serviceWorkerRegistration)];case 4:return W.sent(),[2,wo(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},R.prototype.updateVapidKey=function(M){return(0,x.__awaiter)(this,void 0,void 0,function(){return(0,x.__generator)(this,function(W){return M?this.vapidKey=M:this.vapidKey||(this.vapidKey=ci),[2]})})},R.prototype.updateSwReg=function(M){return(0,x.__awaiter)(this,void 0,void 0,function(){return(0,x.__generator)(this,function(W){switch(W.label){case 0:return M||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:W.sent(),W.label=2;case 2:if(!M&&this.swRegistration)return[2];if(!(M instanceof ServiceWorkerRegistration))throw Zn.create("invalid-sw-registration");return this.swRegistration=M,[2]}})})},R.prototype.registerDefaultSw=function(){return(0,x.__awaiter)(this,void 0,void 0,function(){var M,W;return(0,x.__generator)(this,function(se){switch(se.label){case 0:return se.trys.push([0,2,,3]),M=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return M.swRegistration=se.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw W=se.sent(),Zn.create("failed-service-worker-registration",{browserErrorMessage:W.message});case 3:return[2]}})})},R.prototype.deleteToken=function(){return(0,x.__awaiter)(this,void 0,void 0,function(){return(0,x.__generator)(this,function(M){switch(M.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:M.sent(),M.label=2;case 2:return[2,Xi(this.firebaseDependencies,this.swRegistration)]}})})},R.prototype.requestPermission=function(){return(0,x.__awaiter)(this,void 0,void 0,function(){var M;return(0,x.__generator)(this,function(W){switch(W.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(M=W.sent()))return[2];throw Zn.create("denied"===M?"permission-blocked":"permission-default")}})})},R.prototype.usePublicVapidKey=function(M){if(null!==this.vapidKey)throw Zn.create("use-vapid-key-after-get-token");if("string"!=typeof M||0===M.length)throw Zn.create("invalid-vapid-key");this.vapidKey=M},R.prototype.useServiceWorker=function(M){if(!(M instanceof ServiceWorkerRegistration))throw Zn.create("invalid-sw-registration");if(this.swRegistration)throw Zn.create("use-sw-after-get-token");this.swRegistration=M},R.prototype.onMessage=function(M){var W=this;return this.onMessageCallback=M,function(){W.onMessageCallback=null}},R.prototype.setBackgroundMessageHandler=function(){throw Zn.create("only-available-in-sw")},R.prototype.onBackgroundMessage=function(){throw Zn.create("only-available-in-sw")},R.prototype.onTokenRefresh=function(){return function(){}},R.prototype.logEvent=function(M,W){return(0,x.__awaiter)(this,void 0,void 0,function(){var se;return(0,x.__generator)(this,function(Ne){switch(Ne.label){case 0:return se=function Mr(R){switch(R){case gi.NOTIFICATION_CLICKED:return"notification_open";case gi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(M),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return Ne.sent().logEvent(se,{message_id:W[Ki],message_name:W["google.c.a.c_l"],message_time:W["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},R}();function Ur(R){return Zn.create("missing-app-config-values",{valueName:R})}var Mi={isSupported:Fi};function Fi(){return self&&"ServiceWorkerGlobalScope"in self?function to(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}():function To(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}()}f.default.INTERNAL.registerComponent(new Se.Component("messaging",function eo(R){var M=R.getProvider("app").getImmediate(),W=function Qi(R){var M,W;if(!R||!R.options)throw Ur("App Configuration Object");if(!R.name)throw Ur("App Name");var me=R.options;try{for(var Ne=(0,x.__values)(["projectId","apiKey","appId","messagingSenderId"]),_t=Ne.next();!_t.done;_t=Ne.next()){var xt=_t.value;if(!me[xt])throw Ur(xt)}}catch(sn){M={error:sn}}finally{try{_t&&!_t.done&&(W=Ne.return)&&W.call(Ne)}finally{if(M)throw M.error}}return{appName:R.name,projectId:me.projectId,apiKey:me.apiKey,appId:me.appId,senderId:me.messagingSenderId}}(M),Ne={app:M,appConfig:W,installations:R.getProvider("installations").getImmediate(),analyticsProvider:R.getProvider("analytics-internal")};if(!Fi())throw Zn.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Ct(Ne):new po(Ne)},"PUBLIC").setServiceProps(Mi)),fe(1262);var Hi,K="0.4.18",Cn="FB-PERF-TRACE-MEASURE",Gr="@firebase/performance/config",Ti="@firebase/performance/configexpire",ji="Performance",zi=((Hi={})["trace started"]="Trace {$traceName} was started before.",Hi["trace stopped"]="Trace {$traceName} is not running.",Hi["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Hi["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Hi["no window"]="Window is not available.",Hi["no app id"]="App id is not available.",Hi["no project id"]="Project id is not available.",Hi["no api key"]="Api key is not available.",Hi["invalid cc log"]="Attempted to queue invalid cc event",Hi["FB not default"]="Performance can only start when Firebase app instance is the default one.",Hi["RC response not ok"]="RC response is not ok",Hi["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Hi["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Hi["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Hi["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Hi),ei=new we.ErrorFactory("performance",ji,zi),hi=new _e.Logger(ji);hi.logLevel=_e.LogLevel.INFO;var Y,$,B=function(){function R(M){if(this.window=M,!M)throw ei.create("no window");this.performance=M.performance,this.PerformanceObserver=M.PerformanceObserver,this.windowLocation=M.location,this.navigator=M.navigator,this.document=M.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=M.localStorage),M.perfMetrics&&M.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=M.perfMetrics.onFirstInputDelay)}return R.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},R.prototype.mark=function(M){!this.performance||!this.performance.mark||this.performance.mark(M)},R.prototype.measure=function(M,W,se){!this.performance||!this.performance.measure||this.performance.measure(M,W,se)},R.prototype.getEntriesByType=function(M){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(M):[]},R.prototype.getEntriesByName=function(M){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(M):[]},R.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},R.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,we.isIndexedDBAvailable)()||(hi.info("IndexedDB is not supported by current browswer"),!1):(hi.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},R.prototype.setupObserver=function(M,W){this.PerformanceObserver&&new this.PerformanceObserver(function(me){for(var Ne=0,_t=me.getEntries();Ne<_t.length;Ne++)W(_t[Ne])}).observe({entryTypes:[M]})},R.getInstance=function(){return void 0===Y&&(Y=new R($)),Y},R}();function Yt(R,M){var W=R.length-M.length;if(W<0||W>1)throw ei.create("invalid String merger input");for(var se=[],me=0;me<R.length;me++)se.push(R.charAt(me)),M.length>me&&se.push(M.charAt(me));return se.join("")}var Ln,E,vn=function(){function R(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Yt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Yt("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return R.prototype.getAppId=function(){var M=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!M)throw ei.create("no app id");return M},R.prototype.getProjectId=function(){var M=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!M)throw ei.create("no project id");return M},R.prototype.getApiKey=function(){var M=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!M)throw ei.create("no api key");return M},R.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},R.getInstance=function(){return void 0===Ln&&(Ln=new R),Ln},R}();function b(){return E}var de=(()=>{return(R=de||(de={}))[R.UNKNOWN=0]="UNKNOWN",R[R.VISIBLE=1]="VISIBLE",R[R.HIDDEN=2]="HIDDEN",de;var R})(),Kt=["firebase_","google_","ga_"],Sn=new RegExp("^[a-zA-Z]\\w*$");function zr(){switch(B.getInstance().document.visibilityState){case"visible":return de.VISIBLE;case"hidden":return de.HIDDEN;default:return de.UNKNOWN}}function so(){var M=B.getInstance().navigator.connection;switch(M&&M.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var mo="Could not fetch config, will use default configs";function vo(R){if(!R)return R;var M=vn.getInstance(),W=R.entries||{};return M.loggingEnabled=void 0===W.fpr_enabled||"true"===String(W.fpr_enabled),W.fpr_log_source&&(M.logSource=Number(W.fpr_log_source)),W.fpr_log_endpoint_url&&(M.logEndPointUrl=W.fpr_log_endpoint_url),W.fpr_log_transport_key&&(M.transportKey=W.fpr_log_transport_key),void 0!==W.fpr_vc_network_request_sampling_rate&&(M.networkRequestsSamplingRate=Number(W.fpr_vc_network_request_sampling_rate)),void 0!==W.fpr_vc_trace_sampling_rate&&(M.tracesSamplingRate=Number(W.fpr_vc_trace_sampling_rate)),M.logTraceAfterSampling=Vo(M.tracesSamplingRate),M.logNetworkAfterSampling=Vo(M.networkRequestsSamplingRate),R}function Vo(R){return Math.random()<=R}var $o,Js=1;function Is(){return Js=2,$o=$o||function is(){return function fo(){var R=B.getInstance().document;return new Promise(function(M){if(R&&"complete"!==R.readyState){var W=function(){"complete"===R.readyState&&(R.removeEventListener("readystatechange",W),M())};R.addEventListener("readystatechange",W)}else M()})}().then(function(){return function X(){var R=vn.getInstance().installationsService.getId();return R.then(function(M){E=M}),R}()}).then(function(R){return function Pi(R){var M=function Bo(){var R=B.getInstance().localStorage;if(R){var M=R.getItem(Ti);if(M&&function ks(R){return Number(R)>Date.now()}(M)){var W=R.getItem(Gr);if(W)try{return JSON.parse(W)}catch(me){return}}}}();return M?(vo(M),Promise.resolve()):function Qo(R){return function G(){var R=vn.getInstance().installationsService.getToken();return R.then(function(M){}),R}().then(function(M){var se="https://firebaseremoteconfig.googleapis.com/v1/projects/"+vn.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+vn.getInstance().getApiKey(),me=new Request(se,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+M},body:JSON.stringify({app_instance_id:R,app_instance_id_token:M,app_id:vn.getInstance().getAppId(),app_version:"0.4.18",sdk_version:"0.0.1"})});return fetch(me).then(function(Ne){if(Ne.ok)return Ne.json();throw ei.create("RC response not ok")})}).catch(function(){hi.info(mo)})}(R).then(vo).then(function(W){return function ko(R){var M=B.getInstance().localStorage;!R||!M||(M.setItem(Gr,JSON.stringify(R)),M.setItem(Ti,String(Date.now()+60*vn.getInstance().configTimeToLive*60*1e3)))}(W)},function(){})}(R)}).then(function(){return ca()},function(){return ca()})}()}function ca(){Js=3}var la,ro=3,Uo=[],Ps=!1;function qo(R){setTimeout(function(){if(0!==ro){if(!Uo.length)return qo(1e4);!function Ba(){var R=Uo.splice(0,1e3),M=R.map(function(se){return{source_extension_json_proto3:se.message,event_time_ms:String(se.eventTime)}});(function mu(R,M){return function io(R){var M=vn.getInstance().getFlTransportFullUrl();return fetch(M,{method:"POST",body:JSON.stringify(R)})}(R).then(function(W){return W.ok||hi.info("Call to Firebase backend failed."),W.json()}).then(function(W){var se=Number(W.nextRequestWaitMillis),me=1e4;isNaN(se)||(me=Math.max(se,me));var Ne=W.logResponseDetails;Array.isArray(Ne)&&Ne.length>0&&"RETRY_REQUEST_LATER"===Ne[0].responseAction&&(Uo=(0,x.__spreadArray)((0,x.__spreadArray)([],M),Uo),hi.info("Retry transport request later.")),ro=3,qo(me)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:vn.getInstance().logSource,log_event:M},R).catch(function(){Uo=(0,x.__spreadArray)((0,x.__spreadArray)([],R),Uo),ro--,hi.info("Tries left: "+ro+"."),qo(1e4)})}()}},R)}function jo(R){if(!R.eventTime||!R.message)throw ei.create("invalid cc log");Uo=(0,x.__spreadArray)((0,x.__spreadArray)([],Uo),[R])}function Da(R,M){la||(la=function Bi(R){return function(){for(var M=[],W=0;W<arguments.length;W++)M[W]=arguments[W];jo({message:R.apply(void 0,M),eventTime:Date.now()})}}(y)),la(R,M)}function Zs(R){var M=vn.getInstance();!M.instrumentationEnabled&&R.isAuto||!M.dataCollectionEnabled&&!R.isAuto||!B.getInstance().requiredApisAvailable()||R.isAuto&&zr()!==de.VISIBLE||(function La(){return 3===Js}()?zo(R):Is().then(function(){return zo(R)},function(){return zo(R)}))}function zo(R){if(b()){var M=vn.getInstance();!M.loggingEnabled||!M.logTraceAfterSampling||setTimeout(function(){return Da(R,1)},0)}}function y(R,M){return 0===M?function P(R){var M={url:R.url,http_method:R.httpMethod||0,http_response_code:200,response_payload_bytes:R.responsePayloadBytes,client_start_time_us:R.startTimeUs,time_to_response_initiated_us:R.timeToResponseInitiatedUs,time_to_response_completed_us:R.timeToResponseCompletedUs},W={application_info:Ie(),network_request_metric:M};return JSON.stringify(W)}(R):function te(R){var M={name:R.name,is_auto:R.isAuto,client_start_time_us:R.startTimeUs,duration_us:R.durationUs};0!==Object.keys(R.counters).length&&(M.counters=R.counters);var W=R.getAttributes();0!==Object.keys(W).length&&(M.custom_attributes=W);var se={application_info:Ie(),trace_metric:M};return JSON.stringify(se)}(R)}function Ie(){return{google_app_id:vn.getInstance().getAppId(),app_instance_id:b(),web_app_info:{sdk_version:"0.4.18",page_url:B.getInstance().getUrl(),service_worker_status:(R=B.getInstance().navigator,"serviceWorker"in R?R.serviceWorker.controller?2:3:1),visibility_state:zr(),effective_connection_type:so()},application_process_state:0};var R}var Hn=["_fp","_fcp","_fid"],Gi=function(){function R(M,W,se){void 0===W&&(W=!1),this.name=M,this.isAuto=W,this.state=1,this.customAttributes={},this.counters={},this.api=B.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=se||Cn+"-"+this.randomId+"-"+this.name,se&&this.calculateTraceMetrics())}return R.prototype.start=function(){if(1!==this.state)throw ei.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},R.prototype.stop=function(){if(2!==this.state)throw ei.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Zs(this)},R.prototype.record=function(M,W,se){if(M<=0)throw ei.create("nonpositive trace startTime",{traceName:this.name});if(W<=0)throw ei.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*W),this.startTimeUs=Math.floor(1e3*M),se&&se.attributes&&(this.customAttributes=(0,x.__assign)({},se.attributes)),se&&se.metrics)for(var me=0,Ne=Object.keys(se.metrics);me<Ne.length;me++){var _t=Ne[me];isNaN(Number(se.metrics[_t]))||(this.counters[_t]=Number(Math.floor(se.metrics[_t])))}Zs(this)},R.prototype.incrementMetric=function(M,W){void 0===W&&(W=1),this.putMetric(M,void 0===this.counters[M]?W:this.counters[M]+W)},R.prototype.putMetric=function(M,W){if(!function Ri(R,M){return!(0===R.length||R.length>100)&&(M&&M.startsWith("_wt_")&&Hn.indexOf(R)>-1||!R.startsWith("_"))}(M,this.name))throw ei.create("invalid custom metric name",{customMetricName:M});this.counters[M]=function ai(R){var M=Math.floor(R);return M<R&&hi.info("Metric value should be an Integer, setting the value as : "+M+"."),M}(W)},R.prototype.getMetric=function(M){return this.counters[M]||0},R.prototype.putAttribute=function(M,W){var se=function no(R){return!(0===R.length||R.length>40||Kt.some(function(W){return R.startsWith(W)})||!R.match(Sn))}(M),me=function Wi(R){return 0!==R.length&&R.length<=100}(W);if(se&&me)this.customAttributes[M]=W;else{if(!se)throw ei.create("invalid attribute name",{attributeName:M});if(!me)throw ei.create("invalid attribute value",{attributeValue:W})}},R.prototype.getAttribute=function(M){return this.customAttributes[M]},R.prototype.removeAttribute=function(M){void 0!==this.customAttributes[M]&&delete this.customAttributes[M]},R.prototype.getAttributes=function(){return(0,x.__assign)({},this.customAttributes)},R.prototype.setStartTime=function(M){this.startTimeUs=M},R.prototype.setDuration=function(M){this.durationUs=M},R.prototype.calculateTraceMetrics=function(){var M=this.api.getEntriesByName(this.traceMeasure),W=M&&M[0];W&&(this.durationUs=Math.floor(1e3*W.duration),this.startTimeUs=Math.floor(1e3*(W.startTime+this.api.getTimeOrigin())))},R.createOobTrace=function(M,W,se){var me=B.getInstance().getUrl();if(me){var Ne=new R("_wt_"+me,!0),_t=Math.floor(1e3*B.getInstance().getTimeOrigin());if(Ne.setStartTime(_t),M&&M[0]&&(Ne.setDuration(Math.floor(1e3*M[0].duration)),Ne.putMetric("domInteractive",Math.floor(1e3*M[0].domInteractive)),Ne.putMetric("domContentLoadedEventEnd",Math.floor(1e3*M[0].domContentLoadedEventEnd)),Ne.putMetric("loadEventEnd",Math.floor(1e3*M[0].loadEventEnd))),W){var mn=W.find(function(ti){return"first-paint"===ti.name});mn&&mn.startTime&&Ne.putMetric("_fp",Math.floor(1e3*mn.startTime));var jn=W.find(function(ti){return"first-contentful-paint"===ti.name});jn&&jn.startTime&&Ne.putMetric("_fcp",Math.floor(1e3*jn.startTime)),se&&Ne.putMetric("_fid",Math.floor(1e3*se))}Zs(Ne)}},R.createUserTimingTrace=function(M){Zs(new R(M,!1,M))},R}();function Eo(R){var M=R;if(M&&void 0!==M.responseStart){var W=B.getInstance().getTimeOrigin(),se=Math.floor(1e3*(M.startTime+W)),me=M.responseStart?Math.floor(1e3*(M.responseStart-M.startTime)):void 0,Ne=Math.floor(1e3*(M.responseEnd-M.startTime));!function ea(R){var M=vn.getInstance();if(M.instrumentationEnabled){var W=R.url,se=M.logEndPointUrl.split("?")[0],me=M.flTransportEndpointUrl.split("?")[0];W===se||W===me||!M.loggingEnabled||!M.logNetworkAfterSampling||setTimeout(function(){return Da(R,0)},0)}}({url:M.name&&M.name.split("?")[0],responsePayloadBytes:M.transferSize,startTimeUs:se,timeToResponseInitiatedUs:me,timeToResponseCompletedUs:Ne})}}function hs(){!b()||(setTimeout(function(){return function Hs(){var R=B.getInstance(),M=R.getEntriesByType("navigation"),W=R.getEntriesByType("paint");if(R.onFirstInputDelay){var se=setTimeout(function(){Gi.createOobTrace(M,W),se=void 0},5e3);R.onFirstInputDelay(function(me){se&&(clearTimeout(se),Gi.createOobTrace(M,W,me))})}else Gi.createOobTrace(M,W)}()},0),setTimeout(function(){return function fa(){for(var R=B.getInstance(),W=0,se=R.getEntriesByType("resource");W<se.length;W++)Eo(se[W]);R.setupObserver("resource",Eo)}()},0),setTimeout(function(){return function Nu(){for(var R=B.getInstance(),W=0,se=R.getEntriesByType("measure");W<se.length;W++)Gs(se[W]);R.setupObserver("measure",Gs)}()},0))}function Gs(R){var M=R.name;M.substring(0,Cn.length)!==Cn&&Gi.createUserTimingTrace(M)}var So=function(){function R(M){this.app=M,B.getInstance().requiredApisAvailable()&&(0,we.validateIndexedDBOpenable)().then(function(W){W&&(function Ds(){Ps||(qo(5500),Ps=!0)}(),Is().then(hs,hs))}).catch(function(W){hi.info("Environment doesn't support IndexedDB: "+W)})}return R.prototype.trace=function(M){return new Gi(M)},Object.defineProperty(R.prototype,"instrumentationEnabled",{get:function(){return vn.getInstance().instrumentationEnabled},set:function(M){vn.getInstance().instrumentationEnabled=M},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"dataCollectionEnabled",{get:function(){return vn.getInstance().dataCollectionEnabled},set:function(M){vn.getInstance().dataCollectionEnabled=M},enumerable:!1,configurable:!0}),R}();!function Qa(R){R.INTERNAL.registerComponent(new Se.Component("performance",function(W){return function(W,se){if("[DEFAULT]"!==W.name)throw ei.create("FB not default");if("undefined"==typeof window)throw ei.create("no window");return function ge(R){$=R}(window),vn.getInstance().firebaseAppInstance=W,vn.getInstance().installationsService=se,new So(W)}(W.getProvider("app").getImmediate(),W.getProvider("installations").getImmediate())},"PUBLIC")),R.registerVersion("@firebase/performance",K)}(f.default);var da="https://www.googletagmanager.com/gtag/js",xi=(()=>{return(R=xi||(xi={})).EVENT="event",R.SET="set",R.CONFIG="config",xi;var R})(),Ss=(()=>{return(R=Ss||(Ss={})).ADD_SHIPPING_INFO="add_shipping_info",R.ADD_PAYMENT_INFO="add_payment_info",R.ADD_TO_CART="add_to_cart",R.ADD_TO_WISHLIST="add_to_wishlist",R.BEGIN_CHECKOUT="begin_checkout",R.CHECKOUT_PROGRESS="checkout_progress",R.EXCEPTION="exception",R.GENERATE_LEAD="generate_lead",R.LOGIN="login",R.PAGE_VIEW="page_view",R.PURCHASE="purchase",R.REFUND="refund",R.REMOVE_FROM_CART="remove_from_cart",R.SCREEN_VIEW="screen_view",R.SEARCH="search",R.SELECT_CONTENT="select_content",R.SELECT_ITEM="select_item",R.SELECT_PROMOTION="select_promotion",R.SET_CHECKOUT_OPTION="set_checkout_option",R.SHARE="share",R.SIGN_UP="sign_up",R.TIMING_COMPLETE="timing_complete",R.VIEW_CART="view_cart",R.VIEW_ITEM="view_item",R.VIEW_ITEM_LIST="view_item_list",R.VIEW_PROMOTION="view_promotion",R.VIEW_SEARCH_RESULTS="view_search_results",Ss;var R})(),os=new _e.Logger("@firebase/analytics");function yu(R,M,W,se,me,Ne){return(0,x.__awaiter)(this,void 0,void 0,function(){var _t,xt,sn,mn;return(0,x.__generator)(this,function(jn){switch(jn.label){case 0:_t=se[me],jn.label=1;case 1:return jn.trys.push([1,7,,8]),_t?[4,M[_t]]:[3,3];case 2:return jn.sent(),[3,6];case 3:return[4,Promise.all(W)];case 4:return xt=jn.sent(),(sn=xt.find(function(ti){return ti.measurementId===me}))?[4,M[sn.appId]]:[3,6];case 5:jn.sent(),jn.label=6;case 6:return[3,8];case 7:return mn=jn.sent(),os.error(mn),[3,8];case 8:return R(xi.CONFIG,me,Ne),[2]}})})}function Ja(R,M,W,se,me){return(0,x.__awaiter)(this,void 0,void 0,function(){var Ne,_t,xt,sn,mn,jn,oo;return(0,x.__generator)(this,function(ki){switch(ki.label){case 0:return ki.trys.push([0,4,,5]),Ne=[],me&&me.send_to?(_t=me.send_to,Array.isArray(_t)||(_t=[_t]),[4,Promise.all(W)]):[3,2];case 1:for(xt=ki.sent(),sn=function(Ro){var Fs=xt.find(function(Ls){return Ls.measurementId===Ro}),cs=Fs&&M[Fs.appId];if(!cs)return Ne=[],"break";Ne.push(cs)},mn=0,jn=_t;mn<jn.length&&"break"!==sn(jn[mn]);mn++);ki.label=2;case 2:return 0===Ne.length&&(Ne=Object.values(M)),[4,Promise.all(Ne)];case 3:return ki.sent(),R(xi.EVENT,se,me||{}),[3,5];case 4:return oo=ki.sent(),os.error(oo),[3,5];case 5:return[2]}})})}var us,Dr=((us={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",us["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",us["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",us["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",us["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",us["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",us["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",us["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',us["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',us),uo=new we.ErrorFactory("analytics","Analytics",Dr),Ys=new(function(){function R(M,W){void 0===M&&(M={}),void 0===W&&(W=1e3),this.throttleMetadata=M,this.intervalMillis=W}return R.prototype.getThrottleMetadata=function(M){return this.throttleMetadata[M]},R.prototype.setThrottleMetadata=function(M,W){this.throttleMetadata[M]=W},R.prototype.deleteThrottleMetadata=function(M){delete this.throttleMetadata[M]},R}());function wu(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function bu(R){var M;return(0,x.__awaiter)(this,void 0,void 0,function(){var W,me,Ne,_t,xt,sn;return(0,x.__generator)(this,function(mn){switch(mn.label){case 0:return W=R.appId,me={method:"GET",headers:wu(R.apiKey)},Ne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",W),[4,fetch(Ne,me)];case 1:if(200===(_t=mn.sent()).status||304===_t.status)return[3,6];xt="",mn.label=2;case 2:return mn.trys.push([2,4,,5]),[4,_t.json()];case 3:return sn=mn.sent(),(null===(M=sn.error)||void 0===M?void 0:M.message)&&(xt=sn.error.message),[3,5];case 4:return mn.sent(),[3,5];case 5:throw uo.create("config-fetch-failed",{httpStatus:_t.status,responseMessage:xt});case 6:return[2,_t.json()]}})})}function ra(R,M,W,se){var me=M.throttleEndTimeMillis,Ne=M.backoffCount;return void 0===se&&(se=Ys),(0,x.__awaiter)(this,void 0,void 0,function(){var _t,xt,sn,mn,jn,ti,Br;return(0,x.__generator)(this,function(oo){switch(oo.label){case 0:_t=R.appId,xt=R.measurementId,oo.label=1;case 1:return oo.trys.push([1,3,,4]),[4,eu(W,me)];case 2:return oo.sent(),[3,4];case 3:if(sn=oo.sent(),xt)return os.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+xt+' provided in the "measurementId" field in the local Firebase config. ['+sn.message+"]"),[2,{appId:_t,measurementId:xt}];throw sn;case 4:return oo.trys.push([4,6,,7]),[4,bu(R)];case 5:return mn=oo.sent(),se.deleteThrottleMetadata(_t),[2,mn];case 6:if(!function tu(R){if(!(R instanceof we.FirebaseError&&R.customData))return!1;var M=Number(R.customData.httpStatus);return 429===M||500===M||503===M||504===M}(jn=oo.sent())){if(se.deleteThrottleMetadata(_t),xt)return os.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+xt+' provided in the "measurementId" field in the local Firebase config. ['+jn.message+"]"),[2,{appId:_t,measurementId:xt}];throw jn}return ti=503===Number(jn.customData.httpStatus)?(0,we.calculateBackoffMillis)(Ne,se.intervalMillis,30):(0,we.calculateBackoffMillis)(Ne,se.intervalMillis),Br={throttleEndTimeMillis:Date.now()+ti,backoffCount:Ne+1},se.setThrottleMetadata(_t,Br),os.debug("Calling attemptFetch again in "+ti+" millis"),[2,ra(R,Br,W,se)];case 7:return[2]}})})}function eu(R,M){return new Promise(function(W,se){var me=Math.max(M-Date.now(),0),Ne=setTimeout(W,me);R.addEventListener(function(){clearTimeout(Ne),se(uo.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}var ia=function(){function R(){this.listeners=[]}return R.prototype.addEventListener=function(M){this.listeners.push(M)},R.prototype.abort=function(){this.listeners.forEach(function(M){return M()})},R}();var ee,le,Ho={},N=[],A={},D="dataLayer",U="gtag",Xe=!1;function ir(R){if(Xe)throw uo.create("already-initialized");R.dataLayerName&&(D=R.dataLayerName),R.gtagName&&(U=R.gtagName)}function Nr(R,M){!function Oi(){var R=[];if((0,we.isBrowserExtension)()&&R.push("This is a browser extension environment."),(0,we.areCookiesEnabled)()||R.push("Cookies are not available."),R.length>0){var M=R.map(function(se,me){return"("+(me+1)+") "+se}).join(" "),W=uo.create("invalid-analytics-context",{errorInfo:M});os.warn(W.message)}}();var W=R.options.appId;if(!W)throw uo.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw uo.create("no-api-key");os.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+R.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ho[W])throw uo.create("already-exists",{id:W});if(!Xe){!function vu(R){var M=[];Array.isArray(window[R])?M=window[R]:window[R]=M}(D);var se=function _u(R,M,W,se,me){var Ne=function(){for(var _t=[],xt=0;xt<arguments.length;xt++)_t[xt]=arguments[xt];window[se].push(arguments)};return window[me]&&"function"==typeof window[me]&&(Ne=window[me]),window[me]=function zs(R,M,W,se){return function me(Ne,_t,xt){return(0,x.__awaiter)(this,void 0,void 0,function(){var sn;return(0,x.__generator)(this,function(mn){switch(mn.label){case 0:return mn.trys.push([0,6,,7]),Ne!==xi.EVENT?[3,2]:[4,Ja(R,M,W,_t,xt)];case 1:return mn.sent(),[3,5];case 2:return Ne!==xi.CONFIG?[3,4]:[4,yu(R,M,W,se,_t,xt)];case 3:return mn.sent(),[3,5];case 4:R(xi.SET,_t),mn.label=5;case 5:return[3,7];case 6:return sn=mn.sent(),os.error(sn),[3,7];case 7:return[2]}})})}}(Ne,R,M,W),{gtagCore:Ne,wrappedGtag:window[me]}}(Ho,N,A,D,U);le=se.wrappedGtag,ee=se.gtagCore,Xe=!0}Ho[W]=function ga(R,M,W,se,me,Ne){return(0,x.__awaiter)(this,void 0,void 0,function(){var _t,xt,sn,mn,jn,ti,Br;return(0,x.__generator)(this,function(oo){switch(oo.label){case 0:return _t=function Ju(R,M,W){return void 0===M&&(M=Ys),(0,x.__awaiter)(this,void 0,void 0,function(){var se,me,Ne,_t,xt,sn,mn=this;return(0,x.__generator)(this,function(jn){if(Ne=(se=R.options).apiKey,_t=se.measurementId,!(me=se.appId))throw uo.create("no-app-id");if(!Ne){if(_t)return[2,{measurementId:_t,appId:me}];throw uo.create("no-api-key")}return xt=M.getThrottleMetadata(me)||{backoffCount:0,throttleEndTimeMillis:Date.now()},sn=new ia,setTimeout(function(){return(0,x.__awaiter)(mn,void 0,void 0,function(){return(0,x.__generator)(this,function(ti){return sn.abort(),[2]})})},void 0!==W?W:6e4),[2,ra({appId:me,apiKey:Ne,measurementId:_t},xt,sn,M)]})})}(R),_t.then(function(ki){W[ki.measurementId]=ki.appId,R.options.measurementId&&ki.measurementId!==R.options.measurementId&&os.warn("The measurement ID in the local Firebase config ("+R.options.measurementId+") does not match the measurement ID fetched from the server ("+ki.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(ki){return os.error(ki)}),M.push(_t),xt=function Ao(){return(0,x.__awaiter)(this,void 0,void 0,function(){var R;return(0,x.__generator)(this,function(M){switch(M.label){case 0:return(0,we.isIndexedDBAvailable)()?[3,1]:(os.warn(uo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return M.trys.push([1,3,,4]),[4,(0,we.validateIndexedDBOpenable)()];case 2:return M.sent(),[3,4];case 3:return R=M.sent(),os.warn(uo.create("indexeddb-unavailable",{errorInfo:R}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(ki){if(ki)return se.getId()}),[4,Promise.all([_t,xt])];case 1:return sn=oo.sent(),mn=sn[0],jn=sn[1],function Ws(){for(var R=window.document.getElementsByTagName("script"),M=0,W=Object.values(R);M<W.length;M++){var se=W[M];if(se.src&&se.src.includes(da))return se}return null}()||function qs(R,M){var W=document.createElement("script");W.src=da+"?l="+R+"&id="+M,W.async=!0,document.head.appendChild(W)}(Ne,mn.measurementId),me("js",new Date),(Br={}).origin="firebase",Br.update=!0,ti=Br,null!=jn&&(ti.firebase_id=jn),me(xi.CONFIG,mn.measurementId,ti),[2,mn.measurementId]}})})}(R,N,A,M,ee,D);var _t={app:R,logEvent:function(xt,sn,mn){(function _s(R,M,W,se,me){return(0,x.__awaiter)(this,void 0,void 0,function(){var Ne,_t;return(0,x.__generator)(this,function(xt){switch(xt.label){case 0:return me&&me.global?(R(xi.EVENT,W,se),[2]):[3,1];case 1:return[4,M];case 2:Ne=xt.sent(),_t=(0,x.__assign)((0,x.__assign)({},se),{send_to:Ne}),R(xi.EVENT,W,_t),xt.label=3;case 3:return[2]}})})})(le,Ho[W],xt,sn,mn).catch(function(jn){return os.error(jn)})},setCurrentScreen:function(xt,sn){(function Pu(R,M,W,se){return(0,x.__awaiter)(this,void 0,void 0,function(){var me;return(0,x.__generator)(this,function(Ne){switch(Ne.label){case 0:return se&&se.global?(R(xi.SET,{screen_name:W}),[2,Promise.resolve()]):[3,1];case 1:return[4,M];case 2:me=Ne.sent(),R(xi.CONFIG,me,{update:!0,screen_name:W}),Ne.label=3;case 3:return[2]}})})})(le,Ho[W],xt,sn).catch(function(mn){return os.error(mn)})},setUserId:function(xt,sn){(function ha(R,M,W,se){return(0,x.__awaiter)(this,void 0,void 0,function(){var me;return(0,x.__generator)(this,function(Ne){switch(Ne.label){case 0:return se&&se.global?(R(xi.SET,{user_id:W}),[2,Promise.resolve()]):[3,1];case 1:return[4,M];case 2:me=Ne.sent(),R(xi.CONFIG,me,{update:!0,user_id:W}),Ne.label=3;case 3:return[2]}})})})(le,Ho[W],xt,sn).catch(function(mn){return os.error(mn)})},setUserProperties:function(xt,sn){(function ts(R,M,W,se){return(0,x.__awaiter)(this,void 0,void 0,function(){var me,Ne,_t,xt,sn;return(0,x.__generator)(this,function(mn){switch(mn.label){case 0:if(!se||!se.global)return[3,1];for(me={},Ne=0,_t=Object.keys(W);Ne<_t.length;Ne++)me["user_properties."+(xt=_t[Ne])]=W[xt];return R(xi.SET,me),[2,Promise.resolve()];case 1:return[4,M];case 2:sn=mn.sent(),R(xi.CONFIG,sn,{update:!0,user_properties:W}),mn.label=3;case 3:return[2]}})})})(le,Ho[W],xt,sn).catch(function(mn){return os.error(mn)})},setAnalyticsCollectionEnabled:function(xt){(function $a(R,M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W;return(0,x.__generator)(this,function(se){switch(se.label){case 0:return[4,R];case 1:return W=se.sent(),window["ga-disable-"+W]=!M,[2]}})})})(Ho[W],xt).catch(function(sn){return os.error(sn)})},INTERNAL:{delete:function(){return delete Ho[W],Promise.resolve()}}};return _t}var ps="analytics";function nu(){return(0,x.__awaiter)(this,void 0,void 0,function(){return(0,x.__generator)(this,function(M){switch(M.label){case 0:if((0,we.isBrowserExtension)())return[2,!1];if(!(0,we.areCookiesEnabled)())return[2,!1];if(!(0,we.isIndexedDBAvailable)())return[2,!1];M.label=1;case 1:return M.trys.push([1,3,,4]),[4,(0,we.validateIndexedDBOpenable)()];case 2:return[2,M.sent()];case 3:return M.sent(),[2,!1];case 4:return[2]}})})}!function Co(R){R.INTERNAL.registerComponent(new Se.Component(ps,function(W){return Nr(W.getProvider("app").getImmediate(),W.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:ir,EventName:Ss,isSupported:nu})),R.INTERNAL.registerComponent(new Se.Component("analytics-internal",function M(W){try{return{logEvent:W.getProvider(ps).getImmediate().logEvent}}catch(me){throw uo.create("interop-component-reg-failed",{reason:me})}},"PRIVATE")),R.registerVersion("@firebase/analytics","0.6.18")}(f.default);var Zo,Ua=function(){function R(M,W,se,me){this.client=M,this.storage=W,this.storageCache=se,this.logger=me}return R.prototype.isCachedDataFresh=function(M,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var se=Date.now()-W,me=se<=M;return this.logger.debug("Config fetch cache check. Cache age millis: "+se+". Cache max age millis (minimumFetchIntervalMillis setting): "+M+". Is cache hit: "+me+"."),me},R.prototype.fetch=function(M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se,me,Ne,_t;return(0,x.__generator)(this,function(xt){switch(xt.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return W=xt.sent(),se=W[0],(me=W[1])&&this.isCachedDataFresh(M.cacheMaxAgeMillis,se)?[2,me]:(M.eTag=me&&me.eTag,[4,this.client.fetch(M)]);case 2:return Ne=xt.sent(),_t=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===Ne.status&&_t.push(this.storage.setLastSuccessfulFetchResponse(Ne)),[4,Promise.all(_t)];case 3:return xt.sent(),[2,Ne]}})})},R}(),Fu=((Zo={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Zo["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Zo["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Zo["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Zo["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Zo["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Zo["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Zo["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Zo["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Zo["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Zo["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Zo["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Zo["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Zo),Mo=new we.ErrorFactory("remoteconfig","Remote Config",Fu);function Ta(R){return void 0===R&&(R=navigator),R.languages&&R.languages[0]||R.language}var Sa=function(){function R(M,W,se,me,Ne,_t){this.firebaseInstallations=M,this.sdkVersion=W,this.namespace=se,this.projectId=me,this.apiKey=Ne,this.appId=_t}return R.prototype.fetch=function(M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,Ne,_t,xt,sn,mn,jn,ti,Br,oo,ki,Ro,Fs,cs,Ls,Bs,ec;return(0,x.__generator)(this,function(Yo){switch(Yo.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:W=Yo.sent(),Ne=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",_t=Ne+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,xt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},sn={sdk_version:this.sdkVersion,app_instance_id:W[0],app_instance_id_token:W[1],app_id:this.appId,language_code:Ta()},mn={method:"POST",headers:xt,body:JSON.stringify(sn)},jn=fetch(_t,mn),ti=new Promise(function(ya,ls){M.signal.addEventListener(function(){var Vu=new Error("The operation was aborted.");Vu.name="AbortError",ls(Vu)})}),Yo.label=2;case 2:return Yo.trys.push([2,5,,6]),[4,Promise.race([jn,ti])];case 3:return Yo.sent(),[4,jn];case 4:return Br=Yo.sent(),[3,6];case 5:throw oo=Yo.sent(),ki="fetch-client-network","AbortError"===oo.name&&(ki="fetch-timeout"),Mo.create(ki,{originalErrorMessage:oo.message});case 6:if(Ro=Br.status,Fs=Br.headers.get("ETag")||void 0,200!==Br.status)return[3,11];Bs=void 0,Yo.label=7;case 7:return Yo.trys.push([7,9,,10]),[4,Br.json()];case 8:return Bs=Yo.sent(),[3,10];case 9:throw ec=Yo.sent(),Mo.create("fetch-client-parse",{originalErrorMessage:ec.message});case 10:cs=Bs.entries,Ls=Bs.state,Yo.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===Ls?Ro=500:"NO_CHANGE"===Ls?Ro=304:("NO_TEMPLATE"===Ls||"EMPTY_CONFIG"===Ls)&&(cs={}),304!==Ro&&200!==Ro)throw Mo.create("fetch-status",{httpStatus:Ro});return[2,{status:Ro,eTag:Fs,config:cs}]}})})},R}(),ru=function(){function R(){this.listeners=[]}return R.prototype.addEventListener=function(M){this.listeners.push(M)},R.prototype.abort=function(){this.listeners.forEach(function(M){return M()})},R}(),Hl=["1","true","t","yes","y","on"],gc=function(){function R(M,W){void 0===W&&(W=""),this._source=M,this._value=W}return R.prototype.asString=function(){return this._value},R.prototype.asBoolean=function(){return"static"!==this._source&&Hl.indexOf(this._value.toLowerCase())>=0},R.prototype.asNumber=function(){if("static"===this._source)return 0;var M=Number(this._value);return isNaN(M)&&(M=0),M},R.prototype.getSource=function(){return this._source},R}(),ms=function(){function R(M,W,se,me,Ne){this.app=M,this._client=W,this._storageCache=se,this._storage=me,this._logger=Ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return R.prototype.setLogLevel=function(M){switch(M){case"debug":this._logger.logLevel=_e.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=_e.LogLevel.SILENT;break;default:this._logger.logLevel=_e.LogLevel.ERROR}},Object.defineProperty(R.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),R.prototype.activate=function(){return(0,x.__awaiter)(this,void 0,void 0,function(){var M,W,se;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return M=me.sent(),se=M[1],(W=M[0])&&W.config&&W.eTag&&W.eTag!==se?[4,Promise.all([this._storageCache.setActiveConfig(W.config),this._storage.setActiveConfigEtag(W.eTag)])]:[2,!1];case 2:return me.sent(),[2,!0]}})})},R.prototype.ensureInitialized=function(){var M=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){M._isInitializationComplete=!0})),this._initializePromise},R.prototype.fetch=function(){return(0,x.__awaiter)(this,void 0,void 0,function(){var M,W,se,me=this;return(0,x.__generator)(this,function(Ne){switch(Ne.label){case 0:M=new ru,setTimeout(function(){return(0,x.__awaiter)(me,void 0,void 0,function(){return(0,x.__generator)(this,function(_t){return M.abort(),[2]})})},this.settings.fetchTimeoutMillis),Ne.label=1;case 1:return Ne.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:M})];case 2:return Ne.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return Ne.sent(),[3,6];case 4:return W=Ne.sent(),se=function ss(R,M){return R instanceof we.FirebaseError&&-1!==R.code.indexOf(M)}(W,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(se)];case 5:throw Ne.sent(),W;case 6:return[2]}})})},R.prototype.fetchAndActivate=function(){return(0,x.__awaiter)(this,void 0,void 0,function(){return(0,x.__generator)(this,function(M){switch(M.label){case 0:return[4,this.fetch()];case 1:return M.sent(),[2,this.activate()]}})})},R.prototype.getAll=function(){var M=this;return function Aa(R,M){return void 0===R&&(R={}),void 0===M&&(M={}),Object.keys((0,x.__assign)((0,x.__assign)({},R),M))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(W,se){return W[se]=M.getValue(se),W},{})},R.prototype.getBoolean=function(M){return this.getValue(M).asBoolean()},R.prototype.getNumber=function(M){return this.getValue(M).asNumber()},R.prototype.getString=function(M){return this.getValue(M).asString()},R.prototype.getValue=function(M){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+M+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var W=this._storageCache.getActiveConfig();return W&&void 0!==W[M]?new gc("remote",W[M]):this.defaultConfig&&void 0!==this.defaultConfig[M]?new gc("default",String(this.defaultConfig[M])):(this._logger.debug('Returning static value for key "'+M+'". Define a default or remote value if this is unintentional.'),new gc("static"))},R}();function ou(R,M){var W=R.target.error||void 0;return Mo.create(M,{originalErrorMessage:W&&W.message})}var ma="app_namespace_store",va=function(){function R(M,W,se,me){void 0===me&&(me=function Lu(){return new Promise(function(R,M){var W=indexedDB.open("firebase_remote_config",1);W.onerror=function(se){M(ou(se,"storage-open"))},W.onsuccess=function(se){R(se.target.result)},W.onupgradeneeded=function(se){0===se.oldVersion&&se.target.result.createObjectStore(ma,{keyPath:"compositeKey"})}})}()),this.appId=M,this.appName=W,this.namespace=se,this.openDbPromise=me}return R.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},R.prototype.setLastFetchStatus=function(M){return this.set("last_fetch_status",M)},R.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},R.prototype.setLastSuccessfulFetchTimestampMillis=function(M){return this.set("last_successful_fetch_timestamp_millis",M)},R.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},R.prototype.setLastSuccessfulFetchResponse=function(M){return this.set("last_successful_fetch_response",M)},R.prototype.getActiveConfig=function(){return this.get("active_config")},R.prototype.setActiveConfig=function(M){return this.set("active_config",M)},R.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},R.prototype.setActiveConfigEtag=function(M){return this.set("active_config_etag",M)},R.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},R.prototype.setThrottleMetadata=function(M){return this.set("throttle_metadata",M)},R.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},R.prototype.get=function(M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se=this;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return[4,this.openDbPromise];case 1:return W=me.sent(),[2,new Promise(function(Ne,_t){var sn=W.transaction([ma],"readonly").objectStore(ma),mn=se.createCompositeKey(M);try{var jn=sn.get(mn);jn.onerror=function(ti){_t(ou(ti,"storage-get"))},jn.onsuccess=function(ti){var Br=ti.target.result;Ne(Br?Br.value:void 0)}}catch(ti){_t(Mo.create("storage-get",{originalErrorMessage:ti&&ti.message}))}})]}})})},R.prototype.set=function(M,W){return(0,x.__awaiter)(this,void 0,void 0,function(){var se,me=this;return(0,x.__generator)(this,function(Ne){switch(Ne.label){case 0:return[4,this.openDbPromise];case 1:return se=Ne.sent(),[2,new Promise(function(_t,xt){var mn=se.transaction([ma],"readwrite").objectStore(ma),jn=me.createCompositeKey(M);try{var ti=mn.put({compositeKey:jn,value:W});ti.onerror=function(Br){xt(ou(Br,"storage-set"))},ti.onsuccess=function(){_t()}}catch(Br){xt(Mo.create("storage-set",{originalErrorMessage:Br&&Br.message}))}})]}})})},R.prototype.delete=function(M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W,se=this;return(0,x.__generator)(this,function(me){switch(me.label){case 0:return[4,this.openDbPromise];case 1:return W=me.sent(),[2,new Promise(function(Ne,_t){var sn=W.transaction([ma],"readwrite").objectStore(ma),mn=se.createCompositeKey(M);try{var jn=sn.delete(mn);jn.onerror=function(ti){_t(ou(ti,"storage-delete"))},jn.onsuccess=function(){Ne()}}catch(ti){_t(Mo.create("storage-delete",{originalErrorMessage:ti&&ti.message}))}})]}})})},R.prototype.createCompositeKey=function(M){return[this.appId,this.appName,this.namespace,M].join()},R}(),Eu=function(){function R(M){this.storage=M}return R.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},R.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},R.prototype.getActiveConfig=function(){return this.activeConfig},R.prototype.loadFromStorage=function(){return(0,x.__awaiter)(this,void 0,void 0,function(){var M,W,se,me,Ne,_t;return(0,x.__generator)(this,function(xt){switch(xt.label){case 0:return M=this.storage.getLastFetchStatus(),W=this.storage.getLastSuccessfulFetchTimestampMillis(),se=this.storage.getActiveConfig(),[4,M];case 1:return(me=xt.sent())&&(this.lastFetchStatus=me),[4,W];case 2:return(Ne=xt.sent())&&(this.lastSuccessfulFetchTimestampMillis=Ne),[4,se];case 3:return(_t=xt.sent())&&(this.activeConfig=_t),[2]}})})},R.prototype.setLastFetchStatus=function(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)},R.prototype.setLastSuccessfulFetchTimestampMillis=function(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)},R.prototype.setActiveConfig=function(M){return this.activeConfig=M,this.storage.setActiveConfig(M)},R}();function mc(R,M){return new Promise(function(W,se){var me=Math.max(M-Date.now(),0),Ne=setTimeout(W,me);R.addEventListener(function(){clearTimeout(Ne),se(Mo.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}var Zu=function(){function R(M,W){this.client=M,this.storage=W}return R.prototype.fetch=function(M){return(0,x.__awaiter)(this,void 0,void 0,function(){var W;return(0,x.__generator)(this,function(se){switch(se.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return W=se.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(M,W)]}})})},R.prototype.attemptFetch=function(M,W){var se=W.throttleEndTimeMillis,me=W.backoffCount;return(0,x.__awaiter)(this,void 0,void 0,function(){var Ne,_t,xt;return(0,x.__generator)(this,function(sn){switch(sn.label){case 0:return[4,mc(M.signal,se)];case 1:sn.sent(),sn.label=2;case 2:return sn.trys.push([2,5,,7]),[4,this.client.fetch(M)];case 3:return Ne=sn.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return sn.sent(),[2,Ne];case 5:if(!function Ha(R){if(!(R instanceof we.FirebaseError&&R.customData))return!1;var M=Number(R.customData.httpStatus);return 429===M||500===M||503===M||504===M}(_t=sn.sent()))throw _t;return xt={throttleEndTimeMillis:Date.now()+(0,we.calculateBackoffMillis)(me),backoffCount:me+1},[4,this.storage.setThrottleMetadata(xt)];case 6:return sn.sent(),[2,this.attemptFetch(M,xt)];case 7:return[2]}})})},R}(),Bu="@firebase/remote-config";!function Ma(R){R.INTERNAL.registerComponent(new Se.Component("remoteConfig",function M(W,se){var me=se.instanceIdentifier,Ne=W.getProvider("app").getImmediate(),_t=W.getProvider("installations").getImmediate();if("undefined"==typeof window)throw Mo.create("registration-window");var xt=Ne.options,sn=xt.projectId,mn=xt.apiKey,jn=xt.appId;if(!sn)throw Mo.create("registration-project-id");if(!mn)throw Mo.create("registration-api-key");if(!jn)throw Mo.create("registration-app-id");var ti=new va(jn,Ne.name,me=me||"firebase"),Br=new Eu(ti),oo=new _e.Logger(Bu);oo.logLevel=_e.LogLevel.ERROR;var ki=new Sa(_t,R.SDK_VERSION,me,sn,mn,jn),Ro=new Zu(ki,ti),Fs=new Ua(Ro,ti,Br,oo),cs=new ms(Ne,Fs,Br,ti,oo);return cs.ensureInitialized(),cs},"PUBLIC").setMultipleInstances(!0)),R.registerVersion(Bu,"0.1.43")}(f.default),fe(2106),f.default.registerVersion("firebase","8.10.1","app"),f.default.SDK_VERSION="8.10.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),f.default.registerVersion("firebase","8.10.1")},2940:function(wr,an){!function(fe){"use strict";function f(Ge){return Array.prototype.slice.call(Ge)}function j(Ge){return new Promise(function(Qe,ct){Ge.onsuccess=function(){Qe(Ge.result)},Ge.onerror=function(){ct(Ge.error)}})}function H(Ge,Qe,ct){var wt,Ut=new Promise(function(nt,rt){j(wt=Ge[Qe].apply(Ge,ct)).then(nt,rt)});return Ut.request=wt,Ut}function tt(Ge,Qe,ct){var wt=H(Ge,Qe,ct);return wt.then(function(Ut){if(Ut)return new x(Ut,wt.request)})}function Le(Ge,Qe,ct){ct.forEach(function(wt){Object.defineProperty(Ge.prototype,wt,{get:function(){return this[Qe][wt]},set:function(Ut){this[Qe][wt]=Ut}})})}function we(Ge,Qe,ct,wt){wt.forEach(function(Ut){Ut in ct.prototype&&(Ge.prototype[Ut]=function(){return H(this[Qe],Ut,arguments)})})}function _e(Ge,Qe,ct,wt){wt.forEach(function(Ut){Ut in ct.prototype&&(Ge.prototype[Ut]=function(){return this[Qe][Ut].apply(this[Qe],arguments)})})}function Dt(Ge,Qe,ct,wt){wt.forEach(function(Ut){Ut in ct.prototype&&(Ge.prototype[Ut]=function(){return tt(this[Qe],Ut,arguments)})})}function qe(Ge){this._index=Ge}function x(Ge,Qe){this._cursor=Ge,this._request=Qe}function Se(Ge){this._store=Ge}function xe(Ge){this._tx=Ge,this.complete=new Promise(function(Qe,ct){Ge.oncomplete=function(){Qe()},Ge.onerror=function(){ct(Ge.error)},Ge.onabort=function(){ct(Ge.error)}})}function ce(Ge,Qe,ct){this._db=Ge,this.oldVersion=Qe,this.transaction=new xe(ct)}function ve(Ge){this._db=Ge}Le(qe,"_index",["name","keyPath","multiEntry","unique"]),we(qe,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Dt(qe,"_index",IDBIndex,["openCursor","openKeyCursor"]),Le(x,"_cursor",["direction","key","primaryKey","value"]),we(x,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ge){Ge in IDBCursor.prototype&&(x.prototype[Ge]=function(){var Qe=this,ct=arguments;return Promise.resolve().then(function(){return Qe._cursor[Ge].apply(Qe._cursor,ct),j(Qe._request).then(function(wt){if(wt)return new x(wt,Qe._request)})})})}),Se.prototype.createIndex=function(){return new qe(this._store.createIndex.apply(this._store,arguments))},Se.prototype.index=function(){return new qe(this._store.index.apply(this._store,arguments))},Le(Se,"_store",["name","keyPath","indexNames","autoIncrement"]),we(Se,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Dt(Se,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),_e(Se,"_store",IDBObjectStore,["deleteIndex"]),xe.prototype.objectStore=function(){return new Se(this._tx.objectStore.apply(this._tx,arguments))},Le(xe,"_tx",["objectStoreNames","mode"]),_e(xe,"_tx",IDBTransaction,["abort"]),ce.prototype.createObjectStore=function(){return new Se(this._db.createObjectStore.apply(this._db,arguments))},Le(ce,"_db",["name","version","objectStoreNames"]),_e(ce,"_db",IDBDatabase,["deleteObjectStore","close"]),ve.prototype.transaction=function(){return new xe(this._db.transaction.apply(this._db,arguments))},Le(ve,"_db",["name","version","objectStoreNames"]),_e(ve,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ge){[Se,qe].forEach(function(Qe){Ge in Qe.prototype&&(Qe.prototype[Ge.replace("open","iterate")]=function(){var ct=f(arguments),wt=ct[ct.length-1],Ut=this._store||this._index,nt=Ut[Ge].apply(Ut,ct.slice(0,-1));nt.onsuccess=function(){wt(nt.result)}})})}),[qe,Se].forEach(function(Ge){Ge.prototype.getAll||(Ge.prototype.getAll=function(Qe,ct){var wt=this,Ut=[];return new Promise(function(nt){wt.iterateCursor(Qe,function(rt){rt?(Ut.push(rt.value),void 0===ct||Ut.length!=ct?rt.continue():nt(Ut)):nt(Ut)})})})}),fe.openDb=function Pe(Ge,Qe,ct){var wt=H(indexedDB,"open",[Ge,Qe]),Ut=wt.request;return Ut&&(Ut.onupgradeneeded=function(nt){ct&&ct(new ce(Ut.result,nt.oldVersion,Ut.transaction))}),wt.then(function(nt){return new ve(nt)})},fe.deleteDb=function ue(Ge){return H(indexedDB,"deleteDatabase",[Ge])},Object.defineProperty(fe,"__esModule",{value:!0})}(an)},591:(wr,an,fe)=>{"use strict";fe.d(an,{X:()=>H});var f=fe(5529),j=fe(5279);class H extends f.xQ{constructor(Le){super(),this._value=Le}get value(){return this.getValue()}_subscribe(Le){const we=super._subscribe(Le);return we&&!we.closed&&Le.next(this._value),we}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new j.N;return this._value}next(Le){super.next(this._value=Le)}}},2916:(wr,an,fe)=>{"use strict";fe.d(an,{y:()=>Se});var f=fe(3489),H=fe(7668),tt=fe(3292),we=fe(3821),_e=fe(5379);var x=fe(2830);let Se=(()=>{class ce{constructor(Pe){this._isScalar=!1,Pe&&(this._subscribe=Pe)}lift(Pe){const ue=new ce;return ue.source=this,ue.operator=Pe,ue}subscribe(Pe,ue,Ge){const{operator:Qe}=this,ct=function Le(ce,ve,Pe){if(ce){if(ce instanceof f.L)return ce;if(ce[H.b])return ce[H.b]()}return ce||ve||Pe?new f.L(ce,ve,Pe):new f.L(tt.c)}(Pe,ue,Ge);if(ct.add(Qe?Qe.call(ct,this.source):this.source||x.v.useDeprecatedSynchronousErrorHandling&&!ct.syncErrorThrowable?this._subscribe(ct):this._trySubscribe(ct)),x.v.useDeprecatedSynchronousErrorHandling&&ct.syncErrorThrowable&&(ct.syncErrorThrowable=!1,ct.syncErrorThrown))throw ct.syncErrorValue;return ct}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(ue){x.v.useDeprecatedSynchronousErrorHandling&&(Pe.syncErrorThrown=!0,Pe.syncErrorValue=ue),function j(ce){for(;ce;){const{closed:ve,destination:Pe,isStopped:ue}=ce;if(ve||ue)return!1;ce=Pe&&Pe instanceof f.L?Pe:null}return!0}(Pe)?Pe.error(ue):console.warn(ue)}}forEach(Pe,ue){return new(ue=xe(ue))((Ge,Qe)=>{let ct;ct=this.subscribe(wt=>{try{Pe(wt)}catch(Ut){Qe(Ut),ct&&ct.unsubscribe()}},Qe,Ge)})}_subscribe(Pe){const{source:ue}=this;return ue&&ue.subscribe(Pe)}[we.L](){return this}pipe(...Pe){return 0===Pe.length?this:function qe(ce){return 0===ce.length?_e.y:1===ce.length?ce[0]:function(Pe){return ce.reduce((ue,Ge)=>Ge(ue),Pe)}}(Pe)(this)}toPromise(Pe){return new(Pe=xe(Pe))((ue,Ge)=>{let Qe;this.subscribe(ct=>Qe=ct,ct=>Ge(ct),()=>ue(Qe))})}}return ce.create=ve=>new ce(ve),ce})();function xe(ce){if(ce||(ce=x.v.Promise||Promise),!ce)throw new Error("no Promise impl found");return ce}},3292:(wr,an,fe)=>{"use strict";fe.d(an,{c:()=>H});var f=fe(2830),j=fe(2782);const H={closed:!0,next(tt){},error(tt){if(f.v.useDeprecatedSynchronousErrorHandling)throw tt;(0,j.z)(tt)},complete(){}}},5529:(wr,an,fe)=>{"use strict";fe.d(an,{xQ:()=>Dt,Yc:()=>_e});var f=fe(2916),j=fe(3489),H=fe(2654),tt=fe(5279);class Le extends H.w{constructor(Se,xe){super(),this.subject=Se,this.subscriber=xe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Se=this.subject,xe=Se.observers;if(this.subject=null,!xe||0===xe.length||Se.isStopped||Se.closed)return;const ce=xe.indexOf(this.subscriber);-1!==ce&&xe.splice(ce,1)}}var we=fe(7668);class _e extends j.L{constructor(Se){super(Se),this.destination=Se}}let Dt=(()=>{class x extends f.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[we.b](){return new _e(this)}lift(xe){const ce=new qe(this,this);return ce.operator=xe,ce}next(xe){if(this.closed)throw new tt.N;if(!this.isStopped){const{observers:ce}=this,ve=ce.length,Pe=ce.slice();for(let ue=0;ue<ve;ue++)Pe[ue].next(xe)}}error(xe){if(this.closed)throw new tt.N;this.hasError=!0,this.thrownError=xe,this.isStopped=!0;const{observers:ce}=this,ve=ce.length,Pe=ce.slice();for(let ue=0;ue<ve;ue++)Pe[ue].error(xe);this.observers.length=0}complete(){if(this.closed)throw new tt.N;this.isStopped=!0;const{observers:xe}=this,ce=xe.length,ve=xe.slice();for(let Pe=0;Pe<ce;Pe++)ve[Pe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(xe){if(this.closed)throw new tt.N;return super._trySubscribe(xe)}_subscribe(xe){if(this.closed)throw new tt.N;return this.hasError?(xe.error(this.thrownError),H.w.EMPTY):this.isStopped?(xe.complete(),H.w.EMPTY):(this.observers.push(xe),new Le(this,xe))}asObservable(){const xe=new f.y;return xe.source=this,xe}}return x.create=(Se,xe)=>new qe(Se,xe),x})();class qe extends Dt{constructor(Se,xe){super(),this.destination=Se,this.source=xe}next(Se){const{destination:xe}=this;xe&&xe.next&&xe.next(Se)}error(Se){const{destination:xe}=this;xe&&xe.error&&this.destination.error(Se)}complete(){const{destination:Se}=this;Se&&Se.complete&&this.destination.complete()}_subscribe(Se){const{source:xe}=this;return xe?this.source.subscribe(Se):H.w.EMPTY}}},3489:(wr,an,fe)=>{"use strict";fe.d(an,{L:()=>_e});var f=fe(7043),j=fe(3292),H=fe(2654),tt=fe(7668),Le=fe(2830),we=fe(2782);class _e extends H.w{constructor(x,Se,xe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=j.c;break;case 1:if(!x){this.destination=j.c;break}if("object"==typeof x){x instanceof _e?(this.syncErrorThrowable=x.syncErrorThrowable,this.destination=x,x.add(this)):(this.syncErrorThrowable=!0,this.destination=new Dt(this,x));break}default:this.syncErrorThrowable=!0,this.destination=new Dt(this,x,Se,xe)}}[tt.b](){return this}static create(x,Se,xe){const ce=new _e(x,Se,xe);return ce.syncErrorThrowable=!1,ce}next(x){this.isStopped||this._next(x)}error(x){this.isStopped||(this.isStopped=!0,this._error(x))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(x){this.destination.next(x)}_error(x){this.destination.error(x),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:x}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=x,this}}class Dt extends _e{constructor(x,Se,xe,ce){super(),this._parentSubscriber=x;let ve,Pe=this;(0,f.m)(Se)?ve=Se:Se&&(ve=Se.next,xe=Se.error,ce=Se.complete,Se!==j.c&&(Pe=Object.create(Se),(0,f.m)(Pe.unsubscribe)&&this.add(Pe.unsubscribe.bind(Pe)),Pe.unsubscribe=this.unsubscribe.bind(this))),this._context=Pe,this._next=ve,this._error=xe,this._complete=ce}next(x){if(!this.isStopped&&this._next){const{_parentSubscriber:Se}=this;Le.v.useDeprecatedSynchronousErrorHandling&&Se.syncErrorThrowable?this.__tryOrSetError(Se,this._next,x)&&this.unsubscribe():this.__tryOrUnsub(this._next,x)}}error(x){if(!this.isStopped){const{_parentSubscriber:Se}=this,{useDeprecatedSynchronousErrorHandling:xe}=Le.v;if(this._error)xe&&Se.syncErrorThrowable?(this.__tryOrSetError(Se,this._error,x),this.unsubscribe()):(this.__tryOrUnsub(this._error,x),this.unsubscribe());else if(Se.syncErrorThrowable)xe?(Se.syncErrorValue=x,Se.syncErrorThrown=!0):(0,we.z)(x),this.unsubscribe();else{if(this.unsubscribe(),xe)throw x;(0,we.z)(x)}}}complete(){if(!this.isStopped){const{_parentSubscriber:x}=this;if(this._complete){const Se=()=>this._complete.call(this._context);Le.v.useDeprecatedSynchronousErrorHandling&&x.syncErrorThrowable?(this.__tryOrSetError(x,Se),this.unsubscribe()):(this.__tryOrUnsub(Se),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(x,Se){try{x.call(this._context,Se)}catch(xe){if(this.unsubscribe(),Le.v.useDeprecatedSynchronousErrorHandling)throw xe;(0,we.z)(xe)}}__tryOrSetError(x,Se,xe){if(!Le.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Se.call(this._context,xe)}catch(ce){return Le.v.useDeprecatedSynchronousErrorHandling?(x.syncErrorValue=ce,x.syncErrorThrown=!0,!0):((0,we.z)(ce),!0)}return!1}_unsubscribe(){const{_parentSubscriber:x}=this;this._context=null,this._parentSubscriber=null,x.unsubscribe()}}},2654:(wr,an,fe)=>{"use strict";fe.d(an,{w:()=>we});var f=fe(6688),j=fe(7830),H=fe(7043);const Le=(()=>{function Dt(qe){return Error.call(this),this.message=qe?`${qe.length} errors occurred during unsubscription:\n${qe.map((x,Se)=>`${Se+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=qe,this}return Dt.prototype=Object.create(Error.prototype),Dt})();class we{constructor(qe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,qe&&(this._ctorUnsubscribe=!0,this._unsubscribe=qe)}unsubscribe(){let qe;if(this.closed)return;let{_parentOrParents:x,_ctorUnsubscribe:Se,_unsubscribe:xe,_subscriptions:ce}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,x instanceof we)x.remove(this);else if(null!==x)for(let ve=0;ve<x.length;++ve)x[ve].remove(this);if((0,H.m)(xe)){Se&&(this._unsubscribe=void 0);try{xe.call(this)}catch(ve){qe=ve instanceof Le?_e(ve.errors):[ve]}}if((0,f.k)(ce)){let ve=-1,Pe=ce.length;for(;++ve<Pe;){const ue=ce[ve];if((0,j.K)(ue))try{ue.unsubscribe()}catch(Ge){qe=qe||[],Ge instanceof Le?qe=qe.concat(_e(Ge.errors)):qe.push(Ge)}}}if(qe)throw new Le(qe)}add(qe){let x=qe;if(!qe)return we.EMPTY;switch(typeof qe){case"function":x=new we(qe);case"object":if(x===this||x.closed||"function"!=typeof x.unsubscribe)return x;if(this.closed)return x.unsubscribe(),x;if(!(x instanceof we)){const ce=x;x=new we,x._subscriptions=[ce]}break;default:throw new Error("unrecognized teardown "+qe+" added to Subscription.")}let{_parentOrParents:Se}=x;if(null===Se)x._parentOrParents=this;else if(Se instanceof we){if(Se===this)return x;x._parentOrParents=[Se,this]}else{if(-1!==Se.indexOf(this))return x;Se.push(this)}const xe=this._subscriptions;return null===xe?this._subscriptions=[x]:xe.push(x),x}remove(qe){const x=this._subscriptions;if(x){const Se=x.indexOf(qe);-1!==Se&&x.splice(Se,1)}}}var Dt;function _e(Dt){return Dt.reduce((qe,x)=>qe.concat(x instanceof Le?x.errors:x),[])}we.EMPTY=((Dt=new we).closed=!0,Dt)},2830:(wr,an,fe)=>{"use strict";fe.d(an,{v:()=>j});let f=!1;const j={Promise:void 0,set useDeprecatedSynchronousErrorHandling(H){if(H){const tt=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+tt.stack)}else f&&console.log("RxJS: Back to a better error behavior. Thank you. <3");f=H},get useDeprecatedSynchronousErrorHandling(){return f}}},1177:(wr,an,fe)=>{"use strict";fe.d(an,{IY:()=>tt,Ds:()=>we,ft:()=>Dt});var f=fe(3489),j=fe(2916),H=fe(9249);class tt extends f.L{constructor(x){super(),this.parent=x}_next(x){this.parent.notifyNext(x)}_error(x){this.parent.notifyError(x),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class we extends f.L{notifyNext(x){this.destination.next(x)}notifyError(x){this.destination.error(x)}notifyComplete(){this.destination.complete()}}function Dt(qe,x){if(x.closed)return;if(qe instanceof j.y)return qe.subscribe(x);let Se;try{Se=(0,H.s)(qe)(x)}catch(xe){x.error(xe)}return Se}},1762:(wr,an,fe)=>{"use strict";fe.d(an,{c:()=>Le,N:()=>we});var f=fe(5529),j=fe(2916),H=fe(2654),tt=fe(4327);class Le extends j.y{constructor(Se,xe){super(),this.source=Se,this.subjectFactory=xe,this._refCount=0,this._isComplete=!1}_subscribe(Se){return this.getSubject().subscribe(Se)}getSubject(){const Se=this._subject;return(!Se||Se.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Se=this._connection;return Se||(this._isComplete=!1,Se=this._connection=new H.w,Se.add(this.source.subscribe(new _e(this.getSubject(),this))),Se.closed&&(this._connection=null,Se=H.w.EMPTY)),Se}refCount(){return(0,tt.x)()(this)}}const we=(()=>{const x=Le.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:x._subscribe},_isComplete:{value:x._isComplete,writable:!0},getSubject:{value:x.getSubject},connect:{value:x.connect},refCount:{value:x.refCount}}})();class _e extends f.Yc{constructor(Se,xe){super(Se),this.connectable=xe}_error(Se){this._unsubscribe(),super._error(Se)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Se=this.connectable;if(Se){this.connectable=null;const xe=Se._connection;Se._refCount=0,Se._subject=null,Se._connection=null,xe&&xe.unsubscribe()}}}},5254:(wr,an,fe)=>{"use strict";fe.d(an,{D:()=>Pe});var f=fe(2916),j=fe(9249),H=fe(2654),tt=fe(3821),_e=fe(6454),Dt=fe(5430),Se=fe(8955),xe=fe(8515);function Pe(ue,Ge){return Ge?function ve(ue,Ge){if(null!=ue){if(function x(ue){return ue&&"function"==typeof ue[tt.L]}(ue))return function Le(ue,Ge){return new f.y(Qe=>{const ct=new H.w;return ct.add(Ge.schedule(()=>{const wt=ue[tt.L]();ct.add(wt.subscribe({next(Ut){ct.add(Ge.schedule(()=>Qe.next(Ut)))},error(Ut){ct.add(Ge.schedule(()=>Qe.error(Ut)))},complete(){ct.add(Ge.schedule(()=>Qe.complete()))}}))})),ct})}(ue,Ge);if((0,Se.t)(ue))return function we(ue,Ge){return new f.y(Qe=>{const ct=new H.w;return ct.add(Ge.schedule(()=>ue.then(wt=>{ct.add(Ge.schedule(()=>{Qe.next(wt),ct.add(Ge.schedule(()=>Qe.complete()))}))},wt=>{ct.add(Ge.schedule(()=>Qe.error(wt)))}))),ct})}(ue,Ge);if((0,xe.z)(ue))return(0,_e.r)(ue,Ge);if(function ce(ue){return ue&&"function"==typeof ue[Dt.hZ]}(ue)||"string"==typeof ue)return function qe(ue,Ge){if(!ue)throw new Error("Iterable cannot be null");return new f.y(Qe=>{const ct=new H.w;let wt;return ct.add(()=>{wt&&"function"==typeof wt.return&&wt.return()}),ct.add(Ge.schedule(()=>{wt=ue[Dt.hZ](),ct.add(Ge.schedule(function(){if(Qe.closed)return;let Ut,nt;try{const rt=wt.next();Ut=rt.value,nt=rt.done}catch(rt){return void Qe.error(rt)}nt?Qe.complete():(Qe.next(Ut),this.schedule())}))})),ct})}(ue,Ge)}throw new TypeError((null!==ue&&typeof ue||ue)+" is not observable")}(ue,Ge):ue instanceof f.y?ue:new f.y((0,j.s)(ue))}},3009:(wr,an,fe)=>{"use strict";fe.d(an,{n:()=>tt});var f=fe(2916),j=fe(3650),H=fe(6454);function tt(Le,we){return we?(0,H.r)(Le,we):new f.y((0,j.V)(Le))}},2198:(wr,an,fe)=>{"use strict";fe.d(an,{h:()=>j});var f=fe(3489);function j(Le,we){return function(Dt){return Dt.lift(new H(Le,we))}}class H{constructor(we,_e){this.predicate=we,this.thisArg=_e}call(we,_e){return _e.subscribe(new tt(we,this.predicate,this.thisArg))}}class tt extends f.L{constructor(we,_e,Dt){super(we),this.predicate=_e,this.thisArg=Dt,this.count=0}_next(we){let _e;try{_e=this.predicate.call(this.thisArg,we,this.count++)}catch(Dt){return void this.destination.error(Dt)}_e&&this.destination.next(we)}}},4850:(wr,an,fe)=>{"use strict";fe.d(an,{U:()=>j});var f=fe(3489);function j(Le,we){return function(Dt){if("function"!=typeof Le)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Dt.lift(new H(Le,we))}}class H{constructor(we,_e){this.project=we,this.thisArg=_e}call(we,_e){return _e.subscribe(new tt(we,this.project,this.thisArg))}}class tt extends f.L{constructor(we,_e,Dt){super(we),this.project=_e,this.count=0,this.thisArg=Dt||this}_next(we){let _e;try{_e=this.project.call(this.thisArg,we,this.count++)}catch(Dt){return void this.destination.error(Dt)}this.destination.next(_e)}}},9146:(wr,an,fe)=>{"use strict";fe.d(an,{J:()=>H});var f=fe(1709),j=fe(5379);function H(tt=Number.POSITIVE_INFINITY){return(0,f.zg)(j.y,tt)}},1709:(wr,an,fe)=>{"use strict";fe.d(an,{zg:()=>tt});var f=fe(4850),j=fe(5254),H=fe(1177);function tt(Dt,qe,x=Number.POSITIVE_INFINITY){return"function"==typeof qe?Se=>Se.pipe(tt((xe,ce)=>(0,j.D)(Dt(xe,ce)).pipe((0,f.U)((ve,Pe)=>qe(xe,ve,ce,Pe))),x)):("number"==typeof qe&&(x=qe),Se=>Se.lift(new Le(Dt,x)))}class Le{constructor(qe,x=Number.POSITIVE_INFINITY){this.project=qe,this.concurrent=x}call(qe,x){return x.subscribe(new we(qe,this.project,this.concurrent))}}class we extends H.Ds{constructor(qe,x,Se=Number.POSITIVE_INFINITY){super(qe),this.project=x,this.concurrent=Se,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(qe){this.active<this.concurrent?this._tryNext(qe):this.buffer.push(qe)}_tryNext(qe){let x;const Se=this.index++;try{x=this.project(qe,Se)}catch(xe){return void this.destination.error(xe)}this.active++,this._innerSub(x)}_innerSub(qe){const x=new H.IY(this),Se=this.destination;Se.add(x);const xe=(0,H.ft)(qe,x);xe!==x&&Se.add(xe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(qe){this.destination.next(qe)}notifyComplete(){const qe=this.buffer;this.active--,qe.length>0?this._next(qe.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4327:(wr,an,fe)=>{"use strict";fe.d(an,{x:()=>j});var f=fe(3489);function j(){return function(we){return we.lift(new H(we))}}class H{constructor(we){this.connectable=we}call(we,_e){const{connectable:Dt}=this;Dt._refCount++;const qe=new tt(we,Dt),x=_e.subscribe(qe);return qe.closed||(qe.connection=Dt.connect()),x}}class tt extends f.L{constructor(we,_e){super(we),this.connectable=_e}_unsubscribe(){const{connectable:we}=this;if(!we)return void(this.connection=null);this.connectable=null;const _e=we._refCount;if(_e<=0)return void(this.connection=null);if(we._refCount=_e-1,_e>1)return void(this.connection=null);const{connection:Dt}=this,qe=we._connection;this.connection=null,qe&&(!Dt||qe===Dt)&&qe.unsubscribe()}}},7545:(wr,an,fe)=>{"use strict";fe.d(an,{w:()=>tt});var f=fe(4850),j=fe(5254),H=fe(1177);function tt(_e,Dt){return"function"==typeof Dt?qe=>qe.pipe(tt((x,Se)=>(0,j.D)(_e(x,Se)).pipe((0,f.U)((xe,ce)=>Dt(x,xe,Se,ce))))):qe=>qe.lift(new Le(_e))}class Le{constructor(Dt){this.project=Dt}call(Dt,qe){return qe.subscribe(new we(Dt,this.project))}}class we extends H.Ds{constructor(Dt,qe){super(Dt),this.project=qe,this.index=0}_next(Dt){let qe;const x=this.index++;try{qe=this.project(Dt,x)}catch(Se){return void this.destination.error(Se)}this._innerSub(qe)}_innerSub(Dt){const qe=this.innerSubscription;qe&&qe.unsubscribe();const x=new H.IY(this),Se=this.destination;Se.add(x),this.innerSubscription=(0,H.ft)(Dt,x),this.innerSubscription!==x&&Se.add(this.innerSubscription)}_complete(){const{innerSubscription:Dt}=this;(!Dt||Dt.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Dt){this.destination.next(Dt)}}},6454:(wr,an,fe)=>{"use strict";fe.d(an,{r:()=>H});var f=fe(2916),j=fe(2654);function H(tt,Le){return new f.y(we=>{const _e=new j.w;let Dt=0;return _e.add(Le.schedule(function(){Dt!==tt.length?(we.next(tt[Dt++]),we.closed||_e.add(this.schedule())):we.complete()})),_e})}},5430:(wr,an,fe)=>{"use strict";fe.d(an,{hZ:()=>j});const j=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(wr,an,fe)=>{"use strict";fe.d(an,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(wr,an,fe)=>{"use strict";fe.d(an,{b:()=>f});const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(wr,an,fe)=>{"use strict";fe.d(an,{N:()=>j});const j=(()=>{function H(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return H.prototype=Object.create(Error.prototype),H})()},2782:(wr,an,fe)=>{"use strict";function f(j){setTimeout(()=>{throw j},0)}fe.d(an,{z:()=>f})},5379:(wr,an,fe)=>{"use strict";function f(j){return j}fe.d(an,{y:()=>f})},6688:(wr,an,fe)=>{"use strict";fe.d(an,{k:()=>f});const f=Array.isArray||(j=>j&&"number"==typeof j.length)},8515:(wr,an,fe)=>{"use strict";fe.d(an,{z:()=>f});const f=j=>j&&"number"==typeof j.length&&"function"!=typeof j},7043:(wr,an,fe)=>{"use strict";function f(j){return"function"==typeof j}fe.d(an,{m:()=>f})},7830:(wr,an,fe)=>{"use strict";function f(j){return null!==j&&"object"==typeof j}fe.d(an,{K:()=>f})},8955:(wr,an,fe)=>{"use strict";function f(j){return!!j&&"function"!=typeof j.subscribe&&"function"==typeof j.then}fe.d(an,{t:()=>f})},2866:(wr,an,fe)=>{"use strict";function f(j){return j&&"function"==typeof j.schedule}fe.d(an,{K:()=>f})},9249:(wr,an,fe)=>{"use strict";fe.d(an,{s:()=>Se});var f=fe(3650),j=fe(2782),tt=fe(5430),we=fe(3821),Dt=fe(8515),qe=fe(8955),x=fe(7830);const Se=xe=>{if(xe&&"function"==typeof xe[we.L])return(xe=>ce=>{const ve=xe[we.L]();if("function"!=typeof ve.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ve.subscribe(ce)})(xe);if((0,Dt.z)(xe))return(0,f.V)(xe);if((0,qe.t)(xe))return(xe=>ce=>(xe.then(ve=>{ce.closed||(ce.next(ve),ce.complete())},ve=>ce.error(ve)).then(null,j.z),ce))(xe);if(xe&&"function"==typeof xe[tt.hZ])return(xe=>ce=>{const ve=xe[tt.hZ]();for(;;){let Pe;try{Pe=ve.next()}catch(ue){return ce.error(ue),ce}if(Pe.done){ce.complete();break}if(ce.next(Pe.value),ce.closed)break}return"function"==typeof ve.return&&ce.add(()=>{ve.return&&ve.return()}),ce})(xe);{const ve=`You provided ${(0,x.K)(xe)?"an invalid object":`'${xe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ve)}}},3650:(wr,an,fe)=>{"use strict";fe.d(an,{V:()=>f});const f=j=>H=>{for(let tt=0,Le=j.length;tt<Le&&!H.closed;tt++)H.next(j[tt]);H.complete()}},863:(wr,an,fe)=>{var f={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[8372,8592,8372],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function j(H){if(!fe.o(f,H))return Promise.resolve().then(()=>{var we=new Error("Cannot find module '"+H+"'");throw we.code="MODULE_NOT_FOUND",we});var tt=f[H],Le=tt[0];return Promise.all(tt.slice(1).map(fe.e)).then(()=>fe(Le))}j.keys=()=>Object.keys(f),j.id=863,wr.exports=j},5899:(wr,an,fe)=>{var f={"./pwa-action-sheet.entry.js":[2987,2987],"./pwa-camera-modal-instance.entry.js":[3527,3527],"./pwa-camera-modal.entry.js":[7839,7839],"./pwa-camera.entry.js":[7943,7943],"./pwa-toast.entry.js":[3822,3822]};function j(H){if(!fe.o(f,H))return Promise.resolve().then(()=>{var we=new Error("Cannot find module '"+H+"'");throw we.code="MODULE_NOT_FOUND",we});var tt=f[H],Le=tt[0];return fe.e(tt[1]).then(()=>fe(Le))}j.keys=()=>Object.keys(f),j.id=5899,wr.exports=j},655:(wr,an,fe)=>{"use strict";fe.r(an),fe.d(an,{__extends:()=>j,__assign:()=>H,__rest:()=>tt,__decorate:()=>Le,__param:()=>we,__metadata:()=>_e,__awaiter:()=>Dt,__generator:()=>qe,__createBinding:()=>x,__exportStar:()=>Se,__values:()=>xe,__read:()=>ce,__spread:()=>ve,__spreadArrays:()=>Pe,__spreadArray:()=>ue,__await:()=>Ge,__asyncGenerator:()=>Qe,__asyncDelegator:()=>ct,__asyncValues:()=>wt,__makeTemplateObject:()=>Ut,__importStar:()=>rt,__importDefault:()=>Nt,__classPrivateFieldGet:()=>Et,__classPrivateFieldSet:()=>rn});var f=function(Ye,ze){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,Be){ae.__proto__=Be}||function(ae,Be){for(var Ke in Be)Object.prototype.hasOwnProperty.call(Be,Ke)&&(ae[Ke]=Be[Ke])})(Ye,ze)};function j(Ye,ze){if("function"!=typeof ze&&null!==ze)throw new TypeError("Class extends value "+String(ze)+" is not a constructor or null");function ae(){this.constructor=Ye}f(Ye,ze),Ye.prototype=null===ze?Object.create(ze):(ae.prototype=ze.prototype,new ae)}var H=function(){return H=Object.assign||function(ze){for(var ae,Be=1,Ke=arguments.length;Be<Ke;Be++)for(var at in ae=arguments[Be])Object.prototype.hasOwnProperty.call(ae,at)&&(ze[at]=ae[at]);return ze},H.apply(this,arguments)};function tt(Ye,ze){var ae={};for(var Be in Ye)Object.prototype.hasOwnProperty.call(Ye,Be)&&ze.indexOf(Be)<0&&(ae[Be]=Ye[Be]);if(null!=Ye&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Be=Object.getOwnPropertySymbols(Ye);Ke<Be.length;Ke++)ze.indexOf(Be[Ke])<0&&Object.prototype.propertyIsEnumerable.call(Ye,Be[Ke])&&(ae[Be[Ke]]=Ye[Be[Ke]])}return ae}function Le(Ye,ze,ae,Be){var Tn,Ke=arguments.length,at=Ke<3?ze:null===Be?Be=Object.getOwnPropertyDescriptor(ze,ae):Be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)at=Reflect.decorate(Ye,ze,ae,Be);else for(var gn=Ye.length-1;gn>=0;gn--)(Tn=Ye[gn])&&(at=(Ke<3?Tn(at):Ke>3?Tn(ze,ae,at):Tn(ze,ae))||at);return Ke>3&&at&&Object.defineProperty(ze,ae,at),at}function we(Ye,ze){return function(ae,Be){ze(ae,Be,Ye)}}function _e(Ye,ze){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Ye,ze)}function Dt(Ye,ze,ae,Be){return new(ae||(ae=Promise))(function(at,Tn){function gn(Rt){try{At(Be.next(Rt))}catch(St){Tn(St)}}function Tt(Rt){try{At(Be.throw(Rt))}catch(St){Tn(St)}}function At(Rt){Rt.done?at(Rt.value):function Ke(at){return at instanceof ae?at:new ae(function(Tn){Tn(at)})}(Rt.value).then(gn,Tt)}At((Be=Be.apply(Ye,ze||[])).next())})}function qe(Ye,ze){var Be,Ke,at,Tn,ae={label:0,sent:function(){if(1&at[0])throw at[1];return at[1]},trys:[],ops:[]};return Tn={next:gn(0),throw:gn(1),return:gn(2)},"function"==typeof Symbol&&(Tn[Symbol.iterator]=function(){return this}),Tn;function gn(At){return function(Rt){return function Tt(At){if(Be)throw new TypeError("Generator is already executing.");for(;ae;)try{if(Be=1,Ke&&(at=2&At[0]?Ke.return:At[0]?Ke.throw||((at=Ke.return)&&at.call(Ke),0):Ke.next)&&!(at=at.call(Ke,At[1])).done)return at;switch(Ke=0,at&&(At=[2&At[0],at.value]),At[0]){case 0:case 1:at=At;break;case 4:return ae.label++,{value:At[1],done:!1};case 5:ae.label++,Ke=At[1],At=[0];continue;case 7:At=ae.ops.pop(),ae.trys.pop();continue;default:if(!(at=(at=ae.trys).length>0&&at[at.length-1])&&(6===At[0]||2===At[0])){ae=0;continue}if(3===At[0]&&(!at||At[1]>at[0]&&At[1]<at[3])){ae.label=At[1];break}if(6===At[0]&&ae.label<at[1]){ae.label=at[1],at=At;break}if(at&&ae.label<at[2]){ae.label=at[2],ae.ops.push(At);break}at[2]&&ae.ops.pop(),ae.trys.pop();continue}At=ze.call(Ye,ae)}catch(Rt){At=[6,Rt],Ke=0}finally{Be=at=0}if(5&At[0])throw At[1];return{value:At[0]?At[1]:void 0,done:!0}}([At,Rt])}}}var x=Object.create?function(Ye,ze,ae,Be){void 0===Be&&(Be=ae),Object.defineProperty(Ye,Be,{enumerable:!0,get:function(){return ze[ae]}})}:function(Ye,ze,ae,Be){void 0===Be&&(Be=ae),Ye[Be]=ze[ae]};function Se(Ye,ze){for(var ae in Ye)"default"!==ae&&!Object.prototype.hasOwnProperty.call(ze,ae)&&x(ze,Ye,ae)}function xe(Ye){var ze="function"==typeof Symbol&&Symbol.iterator,ae=ze&&Ye[ze],Be=0;if(ae)return ae.call(Ye);if(Ye&&"number"==typeof Ye.length)return{next:function(){return Ye&&Be>=Ye.length&&(Ye=void 0),{value:Ye&&Ye[Be++],done:!Ye}}};throw new TypeError(ze?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(Ye,ze){var ae="function"==typeof Symbol&&Ye[Symbol.iterator];if(!ae)return Ye;var Ke,Tn,Be=ae.call(Ye),at=[];try{for(;(void 0===ze||ze-- >0)&&!(Ke=Be.next()).done;)at.push(Ke.value)}catch(gn){Tn={error:gn}}finally{try{Ke&&!Ke.done&&(ae=Be.return)&&ae.call(Be)}finally{if(Tn)throw Tn.error}}return at}function ve(){for(var Ye=[],ze=0;ze<arguments.length;ze++)Ye=Ye.concat(ce(arguments[ze]));return Ye}function Pe(){for(var Ye=0,ze=0,ae=arguments.length;ze<ae;ze++)Ye+=arguments[ze].length;var Be=Array(Ye),Ke=0;for(ze=0;ze<ae;ze++)for(var at=arguments[ze],Tn=0,gn=at.length;Tn<gn;Tn++,Ke++)Be[Ke]=at[Tn];return Be}function ue(Ye,ze,ae){if(ae||2===arguments.length)for(var at,Be=0,Ke=ze.length;Be<Ke;Be++)(at||!(Be in ze))&&(at||(at=Array.prototype.slice.call(ze,0,Be)),at[Be]=ze[Be]);return Ye.concat(at||Array.prototype.slice.call(ze))}function Ge(Ye){return this instanceof Ge?(this.v=Ye,this):new Ge(Ye)}function Qe(Ye,ze,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Be=ae.apply(Ye,ze||[]),at=[];return Ke={},Tn("next"),Tn("throw"),Tn("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function Tn(yt){Be[yt]&&(Ke[yt]=function(Mt){return new Promise(function(Ft,on){at.push([yt,Mt,Ft,on])>1||gn(yt,Mt)})})}function gn(yt,Mt){try{!function Tt(yt){yt.value instanceof Ge?Promise.resolve(yt.value.v).then(At,Rt):St(at[0][2],yt)}(Be[yt](Mt))}catch(Ft){St(at[0][3],Ft)}}function At(yt){gn("next",yt)}function Rt(yt){gn("throw",yt)}function St(yt,Mt){yt(Mt),at.shift(),at.length&&gn(at[0][0],at[0][1])}}function ct(Ye){var ze,ae;return ze={},Be("next"),Be("throw",function(Ke){throw Ke}),Be("return"),ze[Symbol.iterator]=function(){return this},ze;function Be(Ke,at){ze[Ke]=Ye[Ke]?function(Tn){return(ae=!ae)?{value:Ge(Ye[Ke](Tn)),done:"return"===Ke}:at?at(Tn):Tn}:at}}function wt(Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ze=Ye[Symbol.asyncIterator];return ze?ze.call(Ye):(Ye=xe(Ye),ae={},Be("next"),Be("throw"),Be("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function Be(at){ae[at]=Ye[at]&&function(Tn){return new Promise(function(gn,Tt){!function Ke(at,Tn,gn,Tt){Promise.resolve(Tt).then(function(At){at({value:At,done:gn})},Tn)}(gn,Tt,(Tn=Ye[at](Tn)).done,Tn.value)})}}}function Ut(Ye,ze){return Object.defineProperty?Object.defineProperty(Ye,"raw",{value:ze}):Ye.raw=ze,Ye}var nt=Object.create?function(Ye,ze){Object.defineProperty(Ye,"default",{enumerable:!0,value:ze})}:function(Ye,ze){Ye.default=ze};function rt(Ye){if(Ye&&Ye.__esModule)return Ye;var ze={};if(null!=Ye)for(var ae in Ye)"default"!==ae&&Object.prototype.hasOwnProperty.call(Ye,ae)&&x(ze,Ye,ae);return nt(ze,Ye),ze}function Nt(Ye){return Ye&&Ye.__esModule?Ye:{default:Ye}}function Et(Ye,ze,ae,Be){if("a"===ae&&!Be)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof ze?Ye!==ze||!Be:!ze.has(Ye))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===ae?Be:"a"===ae?Be.call(Ye):Be?Be.value:ze.get(Ye)}function rn(Ye,ze,ae,Be,Ke){if("m"===Be)throw new TypeError("Private method is not writable");if("a"===Be&&!Ke)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof ze?Ye!==ze||!Ke:!ze.has(Ye))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Be?Ke.call(Ye,ae):Ke?Ke.value=ae:ze.set(Ye,ae),ae}},9808:(wr,an,fe)=>{"use strict";fe.d(an,{mr:()=>ct,ez:()=>Un,K0:()=>_e,uU:()=>Xi,Do:()=>Ut,V_:()=>x,Ye:()=>nt,S$:()=>Ge,sg:()=>Dn,O5:()=>ne,tP:()=>tr,b0:()=>wt,lw:()=>Dt,EM:()=>Ui,JF:()=>to,w_:()=>we,bD:()=>mr,q:()=>H,Mx:()=>Ai,HT:()=>Le});var f=fe(2096);let j=null;function H(){return j}function Le(z){j||(j=z)}class we{}const _e=new f.OlP("DocumentToken");let Dt=(()=>{class z{historyGo(K){throw new Error("Not implemented")}}return z.\u0275fac=function(K){return new(K||z)},z.\u0275prov=f.Yz7({token:z,factory:function(){return function qe(){return(0,f.LFG)(Se)}()},providedIn:"platform"}),z})();const x=new f.OlP("Location Initialized");let Se=(()=>{class z extends Dt{constructor(K){super(),this._doc=K,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(K){const Ee=H().getGlobalEventTarget(this._doc,"window");return Ee.addEventListener("popstate",K,!1),()=>Ee.removeEventListener("popstate",K)}onHashChange(K){const Ee=H().getGlobalEventTarget(this._doc,"window");return Ee.addEventListener("hashchange",K,!1),()=>Ee.removeEventListener("hashchange",K)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(K){this.location.pathname=K}pushState(K,Ee,ht){xe()?this._history.pushState(K,Ee,ht):this.location.hash=ht}replaceState(K,Ee,ht){xe()?this._history.replaceState(K,Ee,ht):this.location.hash=ht}forward(){this._history.forward()}back(){this._history.back()}historyGo(K=0){this._history.go(K)}getState(){return this._history.state}}return z.\u0275fac=function(K){return new(K||z)(f.LFG(_e))},z.\u0275prov=f.Yz7({token:z,factory:function(){return function ce(){return new Se((0,f.LFG)(_e))}()},providedIn:"platform"}),z})();function xe(){return!!window.history.pushState}function ve(z,oe){if(0==z.length)return oe;if(0==oe.length)return z;let K=0;return z.endsWith("/")&&K++,oe.startsWith("/")&&K++,2==K?z+oe.substring(1):1==K?z+oe:z+"/"+oe}function Pe(z){const oe=z.match(/#|\?|$/),K=oe&&oe.index||z.length;return z.slice(0,K-("/"===z[K-1]?1:0))+z.slice(K)}function ue(z){return z&&"?"!==z[0]?"?"+z:z}let Ge=(()=>{class z{historyGo(K){throw new Error("Not implemented")}}return z.\u0275fac=function(K){return new(K||z)},z.\u0275prov=f.Yz7({token:z,factory:function(){return function Qe(z){const oe=(0,f.LFG)(_e).location;return new wt((0,f.LFG)(Dt),oe&&oe.origin||"")}()},providedIn:"root"}),z})();const ct=new f.OlP("appBaseHref");let wt=(()=>{class z extends Ge{constructor(K,Ee){if(super(),this._platformLocation=K,this._removeListenerFns=[],null==Ee&&(Ee=this._platformLocation.getBaseHrefFromDOM()),null==Ee)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Ee}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}prepareExternalUrl(K){return ve(this._baseHref,K)}path(K=!1){const Ee=this._platformLocation.pathname+ue(this._platformLocation.search),ht=this._platformLocation.hash;return ht&&K?`${Ee}${ht}`:Ee}pushState(K,Ee,ht,Ht){const Cn=this.prepareExternalUrl(ht+ue(Ht));this._platformLocation.pushState(K,Ee,Cn)}replaceState(K,Ee,ht,Ht){const Cn=this.prepareExternalUrl(ht+ue(Ht));this._platformLocation.replaceState(K,Ee,Cn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(K=0){var Ee,ht;null===(ht=(Ee=this._platformLocation).historyGo)||void 0===ht||ht.call(Ee,K)}}return z.\u0275fac=function(K){return new(K||z)(f.LFG(Dt),f.LFG(ct,8))},z.\u0275prov=f.Yz7({token:z,factory:z.\u0275fac}),z})(),Ut=(()=>{class z extends Ge{constructor(K,Ee){super(),this._platformLocation=K,this._baseHref="",this._removeListenerFns=[],null!=Ee&&(this._baseHref=Ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}path(K=!1){let Ee=this._platformLocation.hash;return null==Ee&&(Ee="#"),Ee.length>0?Ee.substring(1):Ee}prepareExternalUrl(K){const Ee=ve(this._baseHref,K);return Ee.length>0?"#"+Ee:Ee}pushState(K,Ee,ht,Ht){let Cn=this.prepareExternalUrl(ht+ue(Ht));0==Cn.length&&(Cn=this._platformLocation.pathname),this._platformLocation.pushState(K,Ee,Cn)}replaceState(K,Ee,ht,Ht){let Cn=this.prepareExternalUrl(ht+ue(Ht));0==Cn.length&&(Cn=this._platformLocation.pathname),this._platformLocation.replaceState(K,Ee,Cn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(K=0){var Ee,ht;null===(ht=(Ee=this._platformLocation).historyGo)||void 0===ht||ht.call(Ee,K)}}return z.\u0275fac=function(K){return new(K||z)(f.LFG(Dt),f.LFG(ct,8))},z.\u0275prov=f.Yz7({token:z,factory:z.\u0275fac}),z})(),nt=(()=>{class z{constructor(K,Ee){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=K;const ht=this._platformStrategy.getBaseHref();this._platformLocation=Ee,this._baseHref=Pe(Et(ht)),this._platformStrategy.onPopState(Ht=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ht.state,type:Ht.type})})}path(K=!1){return this.normalize(this._platformStrategy.path(K))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(K,Ee=""){return this.path()==this.normalize(K+ue(Ee))}normalize(K){return z.stripTrailingSlash(function Nt(z,oe){return z&&oe.startsWith(z)?oe.substring(z.length):oe}(this._baseHref,Et(K)))}prepareExternalUrl(K){return K&&"/"!==K[0]&&(K="/"+K),this._platformStrategy.prepareExternalUrl(K)}go(K,Ee="",ht=null){this._platformStrategy.pushState(ht,"",K,Ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(K+ue(Ee)),ht)}replaceState(K,Ee="",ht=null){this._platformStrategy.replaceState(ht,"",K,Ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(K+ue(Ee)),ht)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(K=0){var Ee,ht;null===(ht=(Ee=this._platformStrategy).historyGo)||void 0===ht||ht.call(Ee,K)}onUrlChange(K){this._urlChangeListeners.push(K),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ee=>{this._notifyUrlChangeListeners(Ee.url,Ee.state)}))}_notifyUrlChangeListeners(K="",Ee){this._urlChangeListeners.forEach(ht=>ht(K,Ee))}subscribe(K,Ee,ht){return this._subject.subscribe({next:K,error:Ee,complete:ht})}}return z.normalizeQueryParams=ue,z.joinWithSlash=ve,z.stripTrailingSlash=Pe,z.\u0275fac=function(K){return new(K||z)(f.LFG(Ge),f.LFG(Dt))},z.\u0275prov=f.Yz7({token:z,factory:function(){return function rt(){return new nt((0,f.LFG)(Ge),(0,f.LFG)(Dt))}()},providedIn:"root"}),z})();function Et(z){return z.replace(/\/index.html$/,"")}var ae=(()=>((ae=ae||{})[ae.Format=0]="Format",ae[ae.Standalone=1]="Standalone",ae))(),Be=(()=>((Be=Be||{})[Be.Narrow=0]="Narrow",Be[Be.Abbreviated=1]="Abbreviated",Be[Be.Wide=2]="Wide",Be[Be.Short=3]="Short",Be))(),Ke=(()=>((Ke=Ke||{})[Ke.Short=0]="Short",Ke[Ke.Medium=1]="Medium",Ke[Ke.Long=2]="Long",Ke[Ke.Full=3]="Full",Ke))(),at=(()=>((at=at||{})[at.Decimal=0]="Decimal",at[at.Group=1]="Group",at[at.List=2]="List",at[at.PercentSign=3]="PercentSign",at[at.PlusSign=4]="PlusSign",at[at.MinusSign=5]="MinusSign",at[at.Exponential=6]="Exponential",at[at.SuperscriptingExponent=7]="SuperscriptingExponent",at[at.PerMille=8]="PerMille",at[at.Infinity=9]="Infinity",at[at.NaN=10]="NaN",at[at.TimeSeparator=11]="TimeSeparator",at[at.CurrencyDecimal=12]="CurrencyDecimal",at[at.CurrencyGroup=13]="CurrencyGroup",at))();function Ft(z,oe){return Lr((0,f.cg1)(z)[f.wAp.DateFormat],oe)}function on(z,oe){return Lr((0,f.cg1)(z)[f.wAp.TimeFormat],oe)}function We(z,oe){return Lr((0,f.cg1)(z)[f.wAp.DateTimeFormat],oe)}function Bn(z,oe){const K=(0,f.cg1)(z),Ee=K[f.wAp.NumberSymbols][oe];if(void 0===Ee){if(oe===at.CurrencyDecimal)return K[f.wAp.NumberSymbols][at.Decimal];if(oe===at.CurrencyGroup)return K[f.wAp.NumberSymbols][at.Group]}return Ee}function Kn(z){if(!z[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${z[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Lr(z,oe){for(let K=oe;K>-1;K--)if(void 0!==z[K])return z[K];throw new Error("Locale data API: locale data undefined")}function Sr(z){const[oe,K]=z.split(":");return{hours:+oe,minutes:+K}}const Hr=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gn={},nr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var br=(()=>((br=br||{})[br.Short=0]="Short",br[br.ShortGMT=1]="ShortGMT",br[br.Long=2]="Long",br[br.Extended=3]="Extended",br))(),$t=(()=>(($t=$t||{})[$t.FullYear=0]="FullYear",$t[$t.Month=1]="Month",$t[$t.Date=2]="Date",$t[$t.Hours=3]="Hours",$t[$t.Minutes=4]="Minutes",$t[$t.Seconds=5]="Seconds",$t[$t.FractionalSeconds=6]="FractionalSeconds",$t[$t.Day=7]="Day",$t))(),Qn=(()=>((Qn=Qn||{})[Qn.DayPeriods=0]="DayPeriods",Qn[Qn.Days=1]="Days",Qn[Qn.Months=2]="Months",Qn[Qn.Eras=3]="Eras",Qn))();function vr(z,oe,K,Ee){let ht=function dt(z){if(mt(z))return z;if("number"==typeof z&&!isNaN(z))return new Date(z);if("string"==typeof z){if(z=z.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(z)){const[ht,Ht=1,Cn=1]=z.split("-").map($n=>+$n);return Ei(ht,Ht-1,Cn)}const K=parseFloat(z);if(!isNaN(z-K))return new Date(K);let Ee;if(Ee=z.match(Hr))return function ke(z){const oe=new Date(0);let K=0,Ee=0;const ht=z[8]?oe.setUTCFullYear:oe.setFullYear,Ht=z[8]?oe.setUTCHours:oe.setHours;z[9]&&(K=Number(z[9]+z[10]),Ee=Number(z[9]+z[11])),ht.call(oe,Number(z[1]),Number(z[2])-1,Number(z[3]));const Cn=Number(z[4]||0)-K,$n=Number(z[5]||0)-Ee,yi=Number(z[6]||0),si=Math.floor(1e3*parseFloat("0."+(z[7]||0)));return Ht.call(oe,Cn,$n,yi,si),oe}(Ee)}const oe=new Date(z);if(!mt(oe))throw new Error(`Unable to convert "${z}" into a date`);return oe}(z);oe=xr(K,oe)||oe;let $n,Cn=[];for(;oe;){if($n=nr.exec(oe),!$n){Cn.push(oe);break}{Cn=Cn.concat($n.slice(1));const jr=Cn.pop();if(!jr)break;oe=jr}}let yi=ht.getTimezoneOffset();Ee&&(yi=sr(Ee,yi),ht=function kt(z,oe,K){const Ee=K?-1:1,ht=z.getTimezoneOffset();return function ni(z,oe){return(z=new Date(z.getTime())).setMinutes(z.getMinutes()+oe),z}(z,Ee*(sr(oe,ht)-ht))}(ht,Ee,!0));let si="";return Cn.forEach(jr=>{const Gr=function Cr(z){if(Jn[z])return Jn[z];let oe;switch(z){case"G":case"GG":case"GGG":oe=Ue(Qn.Eras,Be.Abbreviated);break;case"GGGG":oe=Ue(Qn.Eras,Be.Wide);break;case"GGGGG":oe=Ue(Qn.Eras,Be.Narrow);break;case"y":oe=Zr($t.FullYear,1,0,!1,!0);break;case"yy":oe=Zr($t.FullYear,2,0,!0,!0);break;case"yyy":oe=Zr($t.FullYear,3,0,!1,!0);break;case"yyyy":oe=Zr($t.FullYear,4,0,!1,!0);break;case"Y":oe=Fn(1);break;case"YY":oe=Fn(2,!0);break;case"YYY":oe=Fn(3);break;case"YYYY":oe=Fn(4);break;case"M":case"L":oe=Zr($t.Month,1,1);break;case"MM":case"LL":oe=Zr($t.Month,2,1);break;case"MMM":oe=Ue(Qn.Months,Be.Abbreviated);break;case"MMMM":oe=Ue(Qn.Months,Be.Wide);break;case"MMMMM":oe=Ue(Qn.Months,Be.Narrow);break;case"LLL":oe=Ue(Qn.Months,Be.Abbreviated,ae.Standalone);break;case"LLLL":oe=Ue(Qn.Months,Be.Wide,ae.Standalone);break;case"LLLLL":oe=Ue(Qn.Months,Be.Narrow,ae.Standalone);break;case"w":oe=Jt(1);break;case"ww":oe=Jt(2);break;case"W":oe=Jt(1,!0);break;case"d":oe=Zr($t.Date,1);break;case"dd":oe=Zr($t.Date,2);break;case"c":case"cc":oe=Zr($t.Day,1);break;case"ccc":oe=Ue(Qn.Days,Be.Abbreviated,ae.Standalone);break;case"cccc":oe=Ue(Qn.Days,Be.Wide,ae.Standalone);break;case"ccccc":oe=Ue(Qn.Days,Be.Narrow,ae.Standalone);break;case"cccccc":oe=Ue(Qn.Days,Be.Short,ae.Standalone);break;case"E":case"EE":case"EEE":oe=Ue(Qn.Days,Be.Abbreviated);break;case"EEEE":oe=Ue(Qn.Days,Be.Wide);break;case"EEEEE":oe=Ue(Qn.Days,Be.Narrow);break;case"EEEEEE":oe=Ue(Qn.Days,Be.Short);break;case"a":case"aa":case"aaa":oe=Ue(Qn.DayPeriods,Be.Abbreviated);break;case"aaaa":oe=Ue(Qn.DayPeriods,Be.Wide);break;case"aaaaa":oe=Ue(Qn.DayPeriods,Be.Narrow);break;case"b":case"bb":case"bbb":oe=Ue(Qn.DayPeriods,Be.Abbreviated,ae.Standalone,!0);break;case"bbbb":oe=Ue(Qn.DayPeriods,Be.Wide,ae.Standalone,!0);break;case"bbbbb":oe=Ue(Qn.DayPeriods,Be.Narrow,ae.Standalone,!0);break;case"B":case"BB":case"BBB":oe=Ue(Qn.DayPeriods,Be.Abbreviated,ae.Format,!0);break;case"BBBB":oe=Ue(Qn.DayPeriods,Be.Wide,ae.Format,!0);break;case"BBBBB":oe=Ue(Qn.DayPeriods,Be.Narrow,ae.Format,!0);break;case"h":oe=Zr($t.Hours,1,-12);break;case"hh":oe=Zr($t.Hours,2,-12);break;case"H":oe=Zr($t.Hours,1);break;case"HH":oe=Zr($t.Hours,2);break;case"m":oe=Zr($t.Minutes,1);break;case"mm":oe=Zr($t.Minutes,2);break;case"s":oe=Zr($t.Seconds,1);break;case"ss":oe=Zr($t.Seconds,2);break;case"S":oe=Zr($t.FractionalSeconds,1);break;case"SS":oe=Zr($t.FractionalSeconds,2);break;case"SSS":oe=Zr($t.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":oe=Ce(br.Short);break;case"ZZZZZ":oe=Ce(br.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":oe=Ce(br.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":oe=Ce(br.Long);break;default:return null}return Jn[z]=oe,oe}(jr);si+=Gr?Gr(ht,K,yi):"''"===jr?"'":jr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),si}function Ei(z,oe,K){const Ee=new Date(0);return Ee.setFullYear(z,oe,K),Ee.setHours(0,0,0),Ee}function xr(z,oe){const K=function gn(z){return(0,f.cg1)(z)[f.wAp.LocaleId]}(z);if(Gn[K]=Gn[K]||{},Gn[K][oe])return Gn[K][oe];let Ee="";switch(oe){case"shortDate":Ee=Ft(z,Ke.Short);break;case"mediumDate":Ee=Ft(z,Ke.Medium);break;case"longDate":Ee=Ft(z,Ke.Long);break;case"fullDate":Ee=Ft(z,Ke.Full);break;case"shortTime":Ee=on(z,Ke.Short);break;case"mediumTime":Ee=on(z,Ke.Medium);break;case"longTime":Ee=on(z,Ke.Long);break;case"fullTime":Ee=on(z,Ke.Full);break;case"short":const ht=xr(z,"shortTime"),Ht=xr(z,"shortDate");Ee=Si(We(z,Ke.Short),[ht,Ht]);break;case"medium":const Cn=xr(z,"mediumTime"),$n=xr(z,"mediumDate");Ee=Si(We(z,Ke.Medium),[Cn,$n]);break;case"long":const yi=xr(z,"longTime"),si=xr(z,"longDate");Ee=Si(We(z,Ke.Long),[yi,si]);break;case"full":const jr=xr(z,"fullTime"),Gr=xr(z,"fullDate");Ee=Si(We(z,Ke.Full),[jr,Gr])}return Ee&&(Gn[K][oe]=Ee),Ee}function Si(z,oe){return oe&&(z=z.replace(/\{([^}]+)}/g,function(K,Ee){return null!=oe&&Ee in oe?oe[Ee]:K})),z}function Or(z,oe,K="-",Ee,ht){let Ht="";(z<0||ht&&z<=0)&&(ht?z=1-z:(z=-z,Ht=K));let Cn=String(z);for(;Cn.length<oe;)Cn="0"+Cn;return Ee&&(Cn=Cn.substr(Cn.length-oe)),Ht+Cn}function Zr(z,oe,K=0,Ee=!1,ht=!1){return function(Ht,Cn){let $n=function it(z,oe){switch(z){case $t.FullYear:return oe.getFullYear();case $t.Month:return oe.getMonth();case $t.Date:return oe.getDate();case $t.Hours:return oe.getHours();case $t.Minutes:return oe.getMinutes();case $t.Seconds:return oe.getSeconds();case $t.FractionalSeconds:return oe.getMilliseconds();case $t.Day:return oe.getDay();default:throw new Error(`Unknown DateType value "${z}".`)}}(z,Ht);if((K>0||$n>-K)&&($n+=K),z===$t.Hours)0===$n&&-12===K&&($n=12);else if(z===$t.FractionalSeconds)return function kr(z,oe){return Or(z,3).substr(0,oe)}($n,oe);const yi=Bn(Cn,at.MinusSign);return Or($n,oe,yi,Ee,ht)}}function Ue(z,oe,K=ae.Format,Ee=!1){return function(ht,Ht){return function bt(z,oe,K,Ee,ht,Ht){switch(K){case Qn.Months:return function Rt(z,oe,K){const Ee=(0,f.cg1)(z),Ht=Lr([Ee[f.wAp.MonthsFormat],Ee[f.wAp.MonthsStandalone]],oe);return Lr(Ht,K)}(oe,ht,Ee)[z.getMonth()];case Qn.Days:return function At(z,oe,K){const Ee=(0,f.cg1)(z),Ht=Lr([Ee[f.wAp.DaysFormat],Ee[f.wAp.DaysStandalone]],oe);return Lr(Ht,K)}(oe,ht,Ee)[z.getDay()];case Qn.DayPeriods:const Cn=z.getHours(),$n=z.getMinutes();if(Ht){const si=function Vr(z){const oe=(0,f.cg1)(z);return Kn(oe),(oe[f.wAp.ExtraData][2]||[]).map(Ee=>"string"==typeof Ee?Sr(Ee):[Sr(Ee[0]),Sr(Ee[1])])}(oe),jr=function cr(z,oe,K){const Ee=(0,f.cg1)(z);Kn(Ee);const Ht=Lr([Ee[f.wAp.ExtraData][0],Ee[f.wAp.ExtraData][1]],oe)||[];return Lr(Ht,K)||[]}(oe,ht,Ee),Gr=si.findIndex(Ti=>{if(Array.isArray(Ti)){const[_i,ji]=Ti,Hi=Cn>=_i.hours&&$n>=_i.minutes,zi=Cn<ji.hours||Cn===ji.hours&&$n<ji.minutes;if(_i.hours<ji.hours){if(Hi&&zi)return!0}else if(Hi||zi)return!0}else if(Ti.hours===Cn&&Ti.minutes===$n)return!0;return!1});if(-1!==Gr)return jr[Gr]}return function Tt(z,oe,K){const Ee=(0,f.cg1)(z),Ht=Lr([Ee[f.wAp.DayPeriodsFormat],Ee[f.wAp.DayPeriodsStandalone]],oe);return Lr(Ht,K)}(oe,ht,Ee)[Cn<12?0:1];case Qn.Eras:return function St(z,oe){return Lr((0,f.cg1)(z)[f.wAp.Eras],oe)}(oe,Ee)[z.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${K}`)}}(ht,Ht,z,oe,K,Ee)}}function Ce(z){return function(oe,K,Ee){const ht=-1*Ee,Ht=Bn(K,at.MinusSign),Cn=ht>0?Math.floor(ht/60):Math.ceil(ht/60);switch(z){case br.Short:return(ht>=0?"+":"")+Or(Cn,2,Ht)+Or(Math.abs(ht%60),2,Ht);case br.ShortGMT:return"GMT"+(ht>=0?"+":"")+Or(Cn,1,Ht);case br.Long:return"GMT"+(ht>=0?"+":"")+Or(Cn,2,Ht)+":"+Or(Math.abs(ht%60),2,Ht);case br.Extended:return 0===Ee?"Z":(ht>=0?"+":"")+Or(Cn,2,Ht)+":"+Or(Math.abs(ht%60),2,Ht);default:throw new Error(`Unknown zone width "${z}"`)}}}function Pt(z){return Ei(z.getFullYear(),z.getMonth(),z.getDate()+(4-z.getDay()))}function Jt(z,oe=!1){return function(K,Ee){let ht;if(oe){const Ht=new Date(K.getFullYear(),K.getMonth(),1).getDay()-1,Cn=K.getDate();ht=1+Math.floor((Cn+Ht)/7)}else{const Ht=Pt(K),Cn=function Ot(z){const oe=Ei(z,0,1).getDay();return Ei(z,0,1+(oe<=4?4:11)-oe)}(Ht.getFullYear()),$n=Ht.getTime()-Cn.getTime();ht=1+Math.round($n/6048e5)}return Or(ht,z,Bn(Ee,at.MinusSign))}}function Fn(z,oe=!1){return function(K,Ee){return Or(Pt(K).getFullYear(),z,Bn(Ee,at.MinusSign),oe)}}const Jn={};function sr(z,oe){z=z.replace(/:/g,"");const K=Date.parse("Jan 01, 1970 00:00:00 "+z)/6e4;return isNaN(K)?oe:K}function mt(z){return z instanceof Date&&!isNaN(z.valueOf())}function Ai(z,oe){oe=encodeURIComponent(oe);for(const K of z.split(";")){const Ee=K.indexOf("="),[ht,Ht]=-1==Ee?[K,""]:[K.slice(0,Ee),K.slice(Ee+1)];if(ht.trim()===oe)return decodeURIComponent(Ht)}return null}class zn{constructor(oe,K,Ee,ht){this.$implicit=oe,this.ngForOf=K,this.index=Ee,this.count=ht}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dn=(()=>{class z{constructor(K,Ee,ht){this._viewContainer=K,this._template=Ee,this._differs=ht,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(K){this._ngForOf=K,this._ngForOfDirty=!0}set ngForTrackBy(K){this._trackByFn=K}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(K){K&&(this._template=K)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const K=this._ngForOf;!this._differ&&K&&(this._differ=this._differs.find(K).create(this.ngForTrackBy))}if(this._differ){const K=this._differ.diff(this._ngForOf);K&&this._applyChanges(K)}}_applyChanges(K){const Ee=this._viewContainer;K.forEachOperation((ht,Ht,Cn)=>{if(null==ht.previousIndex)Ee.createEmbeddedView(this._template,new zn(ht.item,this._ngForOf,-1,-1),null===Cn?void 0:Cn);else if(null==Cn)Ee.remove(null===Ht?void 0:Ht);else if(null!==Ht){const $n=Ee.get(Ht);Ee.move($n,Cn),fr($n,ht)}});for(let ht=0,Ht=Ee.length;ht<Ht;ht++){const $n=Ee.get(ht).context;$n.index=ht,$n.count=Ht,$n.ngForOf=this._ngForOf}K.forEachIdentityChange(ht=>{fr(Ee.get(ht.currentIndex),ht)})}static ngTemplateContextGuard(K,Ee){return!0}}return z.\u0275fac=function(K){return new(K||z)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},z.\u0275dir=f.lG2({type:z,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),z})();function fr(z,oe){z.context.$implicit=oe.item}let ne=(()=>{class z{constructor(K,Ee){this._viewContainer=K,this._context=new Oe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ee}set ngIf(K){this._context.$implicit=this._context.ngIf=K,this._updateView()}set ngIfThen(K){be("ngIfThen",K),this._thenTemplateRef=K,this._thenViewRef=null,this._updateView()}set ngIfElse(K){be("ngIfElse",K),this._elseTemplateRef=K,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(K,Ee){return!0}}return z.\u0275fac=function(K){return new(K||z)(f.Y36(f.s_b),f.Y36(f.Rgc))},z.\u0275dir=f.lG2({type:z,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),z})();class Oe{constructor(){this.$implicit=null,this.ngIf=null}}function be(z,oe){if(oe&&!oe.createEmbeddedView)throw new Error(`${z} must be a TemplateRef, but received '${(0,f.AaK)(oe)}'.`)}let tr=(()=>{class z{constructor(K){this._viewContainerRef=K,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(K){if(K.ngTemplateOutlet){const Ee=this._viewContainerRef;this._viewRef&&Ee.remove(Ee.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?Ee.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&K.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return z.\u0275fac=function(K){return new(K||z)(f.Y36(f.s_b))},z.\u0275dir=f.lG2({type:z,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[f.TTD]}),z})();const wo=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Xi=(()=>{class z{constructor(K,Ee){this.locale=K,this.defaultTimezone=Ee}transform(K,Ee="mediumDate",ht,Ht){var Cn;if(null==K||""===K||K!=K)return null;try{return vr(K,Ee,Ht||this.locale,null!==(Cn=null!=ht?ht:this.defaultTimezone)&&void 0!==Cn?Cn:void 0)}catch($n){throw function Ir(z,oe){return new f.vHH(2100,"")}()}}}return z.\u0275fac=function(K){return new(K||z)(f.Y36(f.soG,16),f.Y36(wo,24))},z.\u0275pipe=f.Yjl({name:"date",type:z,pure:!0}),z})(),Un=(()=>{class z{}return z.\u0275fac=function(K){return new(K||z)},z.\u0275mod=f.oAB({type:z}),z.\u0275inj=f.cJS({}),z})();const mr="browser";let Ui=(()=>{class z{}return z.\u0275prov=(0,f.Yz7)({token:z,providedIn:"root",factory:()=>new eo((0,f.LFG)(_e),window)}),z})();class eo{constructor(oe,K){this.document=oe,this.window=K,this.offset=()=>[0,0]}setOffset(oe){this.offset=Array.isArray(oe)?()=>oe:oe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(oe){this.supportsScrolling()&&this.window.scrollTo(oe[0],oe[1])}scrollToAnchor(oe){if(!this.supportsScrolling())return;const K=function Fi(z,oe){const K=z.getElementById(oe)||z.getElementsByName(oe)[0];if(K)return K;if("function"==typeof z.createTreeWalker&&z.body&&(z.body.createShadowRoot||z.body.attachShadow)){const Ee=z.createTreeWalker(z.body,NodeFilter.SHOW_ELEMENT);let ht=Ee.currentNode;for(;ht;){const Ht=ht.shadowRoot;if(Ht){const Cn=Ht.getElementById(oe)||Ht.querySelector(`[name="${oe}"]`);if(Cn)return Cn}ht=Ee.nextNode()}}return null}(this.document,oe);K&&(this.scrollToElement(K),K.focus())}setHistoryScrollRestoration(oe){if(this.supportScrollRestoration()){const K=this.window.history;K&&K.scrollRestoration&&(K.scrollRestoration=oe)}}scrollToElement(oe){const K=oe.getBoundingClientRect(),Ee=K.left+this.window.pageXOffset,ht=K.top+this.window.pageYOffset,Ht=this.offset();this.window.scrollTo(Ee-Ht[0],ht-Ht[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const oe=Mi(this.window.history)||Mi(Object.getPrototypeOf(this.window.history));return!(!oe||!oe.writable&&!oe.set)}catch(oe){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(oe){return!1}}}function Mi(z){return Object.getOwnPropertyDescriptor(z,"scrollRestoration")}class to{}},2096:(wr,an,fe)=>{"use strict";fe.d(an,{deG:()=>Xe,tb:()=>R_,AFp:()=>T_,ip1:()=>D_,CZH:()=>_m,hGG:()=>zE,z2F:()=>Tm,sBO:()=>RE,Sil:()=>fE,_Vd:()=>qp,EJc:()=>cE,SBq:()=>ep,qLn:()=>fu,vpe:()=>jl,tBr:()=>Br,XFs:()=>Gn,OlP:()=>le,zs3:()=>Ku,ZZ4:()=>Om,aQg:()=>km,soG:()=>bm,YKP:()=>By,h0i:()=>rh,PXZ:()=>CE,R0b:()=>hl,FiY:()=>oo,Lbi:()=>M_,g9A:()=>A_,Qsj:()=>ob,FYo:()=>Ny,JOm:()=>hu,q3G:()=>go,tp0:()=>Ro,Rgc:()=>ip,dDg:()=>N_,GfV:()=>Py,s_b:()=>Yp,ifc:()=>kr,eFA:()=>L_,G48:()=>ME,Gpc:()=>ct,_c5:()=>qE,VLi:()=>wE,c2e:()=>x_,zSh:()=>pf,wAp:()=>pi,vHH:()=>rt,EiD:()=>Ec,mCW:()=>ju,qzn:()=>Ra,JVY:()=>Wc,pB0:()=>wl,eBb:()=>Cf,L6k:()=>Yc,LAX:()=>Kc,cg1:()=>Xg,kL8:()=>iy,yhl:()=>ql,dqk:()=>Ce,sIi:()=>Vf,CqO:()=>cv,QGY:()=>jg,F4k:()=>uv,RDi:()=>ht,AaK:()=>ue,z3N:()=>wa,qOj:()=>_d,TTD:()=>mi,_Bn:()=>xy,xp6:()=>Wn,uIk:()=>Ll,ekj:()=>zg,Suo:()=>i_,Xpm:()=>dt,lG2:()=>nn,Yz7:()=>Pr,cJS:()=>Kn,oAB:()=>Er,Yjl:()=>zt,Y36:()=>Yh,_UZ:()=>Bg,GkF:()=>Ug,qZA:()=>Lp,TgZ:()=>Fp,EpF:()=>av,n5z:()=>eu,LFG:()=>me,$8M:()=>ia,$Z:()=>sv,NdJ:()=>Hg,CRH:()=>o_,oxw:()=>hv,ALo:()=>Ky,xi3:()=>Xy,Hsn:()=>gv,F$t:()=>pv,Q6J:()=>Fg,DdM:()=>jy,VKq:()=>Hy,iGM:()=>n_,CHM:()=>wi,LSH:()=>uu,YNc:()=>C,_uU:()=>Vv,Oqu:()=>Yg,hij:()=>Vp,AsE:()=>Kg,Gf:()=>r_});var f=fe(2916),j=fe(2866),H=fe(9146),tt=fe(3009),we=fe(5529),_e=fe(2654),Dt=fe(1762);class x{constructor(r,s){this.subjectFactory=r,this.selector=s}call(r,s){const{selector:d}=this,g=this.subjectFactory(),_=d(g).subscribe(r);return _.add(s.subscribe(g)),_}}var Se=fe(4327);function xe(){return new we.xQ}function ve(n){for(let r in n)if(n[r]===ve)return r;throw Error("Could not find renamed property on target object.")}function Pe(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ge(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Qe=ve({__forward_ref__:ve});function ct(n){return n.__forward_ref__=ct,n.toString=function(){return ue(this())},n}function wt(n){return Ut(n)?n():n}function Ut(n){return"function"==typeof n&&n.hasOwnProperty(Qe)&&n.__forward_ref__===ct}class rt extends Error{constructor(r,s){super(function Nt(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function Et(n){return"string"==typeof n?n:null==n?"":String(n)}function rn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Et(n)}function Be(n,r){const s=r?` in ${r}`:"";throw new rt(-201,`No provider for ${rn(n)} found${s}`)}function Bn(n,r){null==n&&function yn(n,r,s,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${s} ${d} ${r} <=Actual]`))}(r,n,null,"!=")}function Pr(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vr(n){return cr(n,rr)||cr(n,fi)}function cr(n,r){return n.hasOwnProperty(r)?n[r]:null}function Sr(n){return n&&(n.hasOwnProperty(Rr)||n.hasOwnProperty(Hr))?n[Rr]:null}const rr=ve({\u0275prov:ve}),Rr=ve({\u0275inj:ve}),fi=ve({ngInjectableDef:ve}),Hr=ve({ngInjectorDef:ve});var Gn=(()=>((Gn=Gn||{})[Gn.Default=0]="Default",Gn[Gn.Host=1]="Host",Gn[Gn.Self=2]="Self",Gn[Gn.SkipSelf=4]="SkipSelf",Gn[Gn.Optional=8]="Optional",Gn))();let nr;function $t(n){const r=nr;return nr=n,r}function Qn(n,r,s){const d=Vr(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:s&Gn.Optional?null:void 0!==r?r:void Be(ue(n),"Injector")}function Ei(n){return{toString:n}.toString()}var xr=(()=>((xr=xr||{})[xr.OnPush=0]="OnPush",xr[xr.Default=1]="Default",xr))(),kr=(()=>{return(n=kr||(kr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",kr;var n})();const Zr="undefined"!=typeof globalThis&&globalThis,it="undefined"!=typeof window&&window,Ue="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce=Zr||"undefined"!=typeof global&&global||it||Ue,Ot={},Pt=[],Jt=ve({\u0275cmp:ve}),Fn=ve({\u0275dir:ve}),Jn=ve({\u0275pipe:ve}),Cr=ve({\u0275mod:ve}),sr=ve({\u0275fac:ve}),ni=ve({__NG_ELEMENT_ID__:ve});let kt=0;function dt(n){return Ei(()=>{const s={},d={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===xr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Pt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||kr.Emulated,id:"c",styles:n.styles||Pt,_:null,setInput:null,schemas:n.schemas||null,tView:null},g=n.directives,_=n.features,T=n.pipes;return d.id+=kt++,d.inputs=He(n.inputs,s),d.outputs=He(n.outputs),_&&_.forEach(k=>k(d)),d.directiveDefs=g?()=>("function"==typeof g?g():g).map(mt):null,d.pipeDefs=T?()=>("function"==typeof T?T():T).map(Lt):null,d})}function mt(n){return tn(n)||function dn(n){return n[Fn]||null}(n)}function Lt(n){return function cn(n){return n[Jn]||null}(n)}const Xn={};function Er(n){return Ei(()=>{const r={type:n.type,bootstrap:n.bootstrap||Pt,declarations:n.declarations||Pt,imports:n.imports||Pt,exports:n.exports||Pt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Xn[n.id]=n.type),r})}function He(n,r){if(null==n)return Ot;const s={};for(const d in n)if(n.hasOwnProperty(d)){let g=n[d],_=g;Array.isArray(g)&&(_=g[1],g=g[0]),s[g]=d,r&&(r[g]=_)}return s}const nn=dt;function zt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function tn(n){return n[Jt]||null}function An(n,r){const s=n[Cr]||null;if(!s&&!0===r)throw new Error(`Type ${ue(n)} does not have '\u0275mod' property.`);return s}function pr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ir(n){return Array.isArray(n)&&!0===n[1]}function lo(n){return 0!=(8&n.flags)}function Wr(n){return 2==(2&n.flags)}function Zi(n){return 1==(1&n.flags)}function di(n){return null!==n.template}function $i(n){return 0!=(512&n[2])}function dr(n,r){return n.hasOwnProperty(sr)?n[sr]:null}class oi{constructor(r,s,d){this.previousValue=r,this.currentValue=s,this.firstChange=d}isFirstChange(){return this.firstChange}}function mi(){return po}function po(n){return n.type.prototype.ngOnChanges&&(n.setInput=vi),Mr}function Mr(){const n=Ur(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===Ot)n.previous=r;else for(let d in r)s[d]=r[d];n.current=null,this.ngOnChanges(r)}}function vi(n,r,s,d){const g=Ur(n)||function Ui(n,r){return n[Qi]=r}(n,{previous:Ot,current:null}),_=g.current||(g.current={}),T=g.previous,k=this.declaredInputs[s],V=T[k];_[k]=new oi(V&&V.currentValue,r,T===Ot),n[d]=r}mi.ngInherit=!0;const Qi="__ngSimpleChanges__";function Ur(n){return n[Qi]||null}const z="math";let Ee;function ht(n){Ee=n}function $n(n){return!!n.listen}const yi={createRenderer:(n,r)=>function Ht(){return void 0!==Ee?Ee:"undefined"!=typeof document?document:void 0}()};function jr(n){for(;Array.isArray(n);)n=n[0];return n}function _i(n,r){return jr(r[n])}function ji(n,r){return jr(r[n.index])}function zi(n,r){return n.data[r]}function hi(n,r){const s=r[n];return pr(s)?s:s[0]}function Y(n){return 4==(4&n[2])}function $(n){return 128==(128&n[2])}function ge(n,r){return null==r?null:n[r]}function Yt(n){n[18]=0}function Ln(n,r){n[5]+=r;let s=n,d=n[3];for(;null!==d&&(1===r&&1===s[5]||-1===r&&0===s[5]);)d[5]+=r,s=d,d=d[3]}const vn={lFrame:Uo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function de(){return vn.bindingsEnabled}function Vt(){return vn.lFrame.lView}function Vn(){return vn.lFrame.tView}function wi(n){return vn.lFrame.contextLView=n,n[8]}function zr(){let n=so();for(;null!==n&&64===n.type;)n=n.parent;return n}function so(){return vn.lFrame.currentTNode}function Wi(n,r){const s=vn.lFrame;s.currentTNode=n,s.isParent=r}function Li(){return vn.lFrame.isParent}function _n(){vn.lFrame.isParent=!1}function Bo(){return vn.isInCheckNoChangesMode}function ko(n){vn.isInCheckNoChangesMode=n}function mo(){const n=vn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function ks(){return vn.lFrame.bindingIndex++}function Vo(n){const r=vn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Is(n,r){const s=vn.lFrame;s.bindingIndex=s.bindingRootIndex=n,is(r)}function is(n){vn.lFrame.currentDirectiveIndex=n}function ca(){return vn.lFrame.currentQueryIndex}function Po(n){vn.lFrame.currentQueryIndex=n}function Ns(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Ia(n,r,s){if(s&Gn.SkipSelf){let g=r,_=n;for(;!(g=g.parent,null!==g||s&Gn.Host||(g=Ns(_),null===g||(_=_[15],10&g.type))););if(null===g)return!1;r=g,n=_}const d=vn.lFrame=ro();return d.currentTNode=r,d.lView=n,!0}function Jo(n){const r=ro(),s=n[1];vn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ro(){const n=vn.lFrame,r=null===n?null:n.child;return null===r?Uo(n):r}function Uo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ps(){const n=vn.lFrame;return vn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ds=Ps;function qo(){const n=Ps();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function io(){return vn.lFrame.selectedIndex}function jo(n){vn.lFrame.selectedIndex=n}function Bi(){const n=vn.lFrame;return zi(n.tView,n.selectedIndex)}function P(n,r){for(let s=r.directiveStart,d=r.directiveEnd;s<d;s++){const _=n.data[s].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:k,ngAfterViewInit:V,ngAfterViewChecked:re,ngOnDestroy:pe}=_;T&&(n.contentHooks||(n.contentHooks=[])).push(-s,T),k&&((n.contentHooks||(n.contentHooks=[])).push(s,k),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,k)),V&&(n.viewHooks||(n.viewHooks=[])).push(-s,V),re&&((n.viewHooks||(n.viewHooks=[])).push(s,re),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,re)),null!=pe&&(n.destroyHooks||(n.destroyHooks=[])).push(s,pe)}}function te(n,r,s){Gt(n,r,3,s)}function Ie(n,r,s,d){(3&n[2])===s&&Gt(n,r,s,d)}function ft(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Gt(n,r,s,d){const _=null!=d?d:-1,T=r.length-1;let k=0;for(let V=void 0!==d?65535&n[18]:0;V<T;V++)if("number"==typeof r[V+1]){if(k=r[V],null!=d&&k>=d)break}else r[V]<0&&(n[18]+=65536),(k<_||-1==_)&&(Hn(n,s,r,V),n[18]=(4294901760&n[18])+V+2),V++}function Hn(n,r,s,d){const g=s[d]<0,_=s[d+1],k=n[g?-s[d]:s[d]];if(g){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{_.call(k)}finally{}}}else try{_.call(k)}finally{}}class ai{constructor(r,s,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=d}}function So(n,r,s){const d=$n(n);let g=0;for(;g<s.length;){const _=s[g];if("number"==typeof _){if(0!==_)break;g++;const T=s[g++],k=s[g++],V=s[g++];d?n.setAttribute(r,k,V,T):r.setAttributeNS(T,k,V)}else{const T=_,k=s[++g];Qa(T)?d&&n.setProperty(r,T,k):d?n.setAttribute(r,T,k):r.setAttribute(T,k),g++}}return g}function ao(n){return 3===n||4===n||6===n}function Qa(n){return 64===n.charCodeAt(0)}function Ts(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?s=g:0===s||Va(n,s,g,null,-1===s||2===s?r[++d]:null)}}return n}function Va(n,r,s,d,g){let _=0,T=n.length;if(-1===r)T=-1;else for(;_<n.length;){const k=n[_++];if("number"==typeof k){if(k===r){T=-1;break}if(k>r){T=_-1;break}}}for(;_<n.length;){const k=n[_];if("number"==typeof k)break;if(k===s){if(null===d)return void(null!==g&&(n[_+1]=g));if(d===n[_+1])return void(n[_+2]=g)}_++,null!==d&&_++,null!==g&&_++}-1!==T&&(n.splice(T,0,r),_=T+1),n.splice(_++,0,s),null!==d&&n.splice(_++,0,d),null!==g&&n.splice(_++,0,g)}function ta(n){return-1!==n}function Wo(n){return 32767&n}function xi(n,r){let s=function da(n){return n>>16}(n),d=r;for(;s>0;)d=d[15],s--;return d}let Ss=!0;function _s(n){const r=Ss;return Ss=n,r}let $a=0;function qs(n,r){const s=yu(n,r);if(-1!==s)return s;const d=r[1];d.firstCreatePass&&(n.injectorIndex=r.length,vu(d.data,n),vu(r,null),vu(d.blueprint,null));const g=Ja(n,r),_=n.injectorIndex;if(ta(g)){const T=Wo(g),k=xi(g,r),V=k[1].data;for(let re=0;re<8;re++)r[_+re]=k[T+re]|V[T+re]}return r[_+8]=g,_}function vu(n,r){n.push(0,0,0,0,0,0,0,0,r)}function yu(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Ja(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,d=null,g=r;for(;null!==g;){const _=g[1],T=_.type;if(d=2===T?_.declTNode:1===T?g[6]:null,null===d)return-1;if(s++,g=g[15],-1!==d.injectorIndex)return d.injectorIndex|s<<16}return-1}function zs(n,r,s){!function os(n,r,s){let d;"string"==typeof s?d=s.charCodeAt(0)||0:s.hasOwnProperty(ni)&&(d=s[ni]),null==d&&(d=s[ni]=$a++);const g=255&d;r.data[n+(g>>5)]|=1<<g}(n,r,s)}function Ws(n,r,s){if(s&Gn.Optional)return n;Be(r,"NodeInjector")}function us(n,r,s,d){if(s&Gn.Optional&&void 0===d&&(d=null),0==(s&(Gn.Self|Gn.Host))){const g=n[9],_=$t(void 0);try{return g?g.get(r,d,s&Gn.Optional):Qn(r,d,s&Gn.Optional)}finally{$t(_)}}return Ws(d,r,s)}function Dr(n,r,s,d=Gn.Default,g){if(null!==n){const _=function wu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(ni)?n[ni]:void 0;return"number"==typeof r?r>=0?255&r:na:r}(s);if("function"==typeof _){if(!Ia(r,n,d))return d&Gn.Host?Ws(g,s,d):us(r,s,d,g);try{const T=_(d);if(null!=T||d&Gn.Optional)return T;Be(s)}finally{Ds()}}else if("number"==typeof _){let T=null,k=yu(n,r),V=-1,re=d&Gn.Host?r[16][6]:null;for((-1===k||d&Gn.SkipSelf)&&(V=-1===k?Ja(n,r):r[k+8],-1!==V&&Ju(d,!1)?(T=r[1],k=Wo(V),r=xi(V,r)):k=-1);-1!==k;){const pe=r[1];if(bu(_,k,pe.data)){const $e=Za(k,r,s,T,d,re);if($e!==uo)return $e}V=r[k+8],-1!==V&&Ju(d,r[1].data[k+8]===re)&&bu(_,k,r)?(T=pe,k=Wo(V),r=xi(V,r)):k=-1}}}return us(r,s,d,g)}const uo={};function na(){return new ra(zr(),Vt())}function Za(n,r,s,d,g,_){const T=r[1],k=T.data[n+8],pe=pa(k,T,s,null==d?Wr(k)&&Ss:d!=T&&0!=(3&k.type),g&Gn.Host&&_===k);return null!==pe?Ys(r,T,pe,k):uo}function pa(n,r,s,d,g){const _=n.providerIndexes,T=r.data,k=1048575&_,V=n.directiveStart,pe=_>>20,vt=g?k+pe:n.directiveEnd;for(let qt=d?k:k+pe;qt<vt;qt++){const wn=T[qt];if(qt<V&&s===wn||qt>=V&&wn.type===s)return qt}if(g){const qt=T[V];if(qt&&di(qt)&&qt.type===s)return V}return null}function Ys(n,r,s,d){let g=n[s];const _=r.data;if(function Gi(n){return n instanceof ai}(g)){const T=g;T.resolving&&function Ye(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new rt(-200,`Circular dependency in DI detected for ${n}${s}`)}(rn(_[s]));const k=_s(T.canSeeViewProviders);T.resolving=!0;const V=T.injectImpl?$t(T.injectImpl):null;Ia(n,d,Gn.Default);try{g=n[s]=T.factory(void 0,_,n,d),r.firstCreatePass&&s>=d.directiveStart&&function y(n,r,s){const{ngOnChanges:d,ngOnInit:g,ngDoCheck:_}=r.type.prototype;if(d){const T=po(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,T),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,T)}g&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,g),_&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,_))}(s,_[s],r)}finally{null!==V&&$t(V),_s(k),T.resolving=!1,Ds()}}return g}function bu(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Ju(n,r){return!(n&Gn.Self||n&Gn.Host&&r)}class ra{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,d){return Dr(this._tNode,this._lView,r,d,s)}}function eu(n){return Ei(()=>{const r=n.prototype.constructor,s=r[sr]||tu(r),d=Object.prototype;let g=Object.getPrototypeOf(n.prototype).constructor;for(;g&&g!==d;){const _=g[sr]||tu(g);if(_&&_!==s)return _;g=Object.getPrototypeOf(g)}return _=>new _})}function tu(n){return Ut(n)?()=>{const r=tu(wt(n));return r&&r()}:dr(n)}function ia(n){return function _u(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const d=s.length;let g=0;for(;g<d;){const _=s[g];if(ao(_))break;if(0===_)g+=2;else if("number"==typeof _)for(g++;g<d&&"string"==typeof s[g];)g++;else{if(_===r)return s[g+1];g+=2}}}return null}(zr(),n)}const ga="__parameters__";function D(n,r,s){return Ei(()=>{const d=function A(n){return function(...s){if(n){const d=n(...s);for(const g in d)this[g]=d[g]}}}(r);function g(..._){if(this instanceof g)return d.apply(this,_),this;const T=new g(..._);return k.annotation=T,k;function k(V,re,pe){const $e=V.hasOwnProperty(ga)?V[ga]:Object.defineProperty(V,ga,{value:[]})[ga];for(;$e.length<=pe;)$e.push(null);return($e[pe]=$e[pe]||[]).push(T),V}}return s&&(g.prototype=Object.create(s.prototype)),g.prototype.ngMetadataName=n,g.annotationCls=g,g})}class le{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Pr({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xe=new le("AnalyzeForEntryComponents");function Mo(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let d=n[s];Array.isArray(d)?(r===n&&(r=n.slice(0,s)),Mo(d,r)):r!==n&&r.push(d)}return r}function ss(n,r){n.forEach(s=>Array.isArray(s)?ss(s,r):r(s))}function Ta(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Sa(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ru(n,r){const s=[];for(let d=0;d<n;d++)s.push(r);return s}function gs(n,r,s){let d=Aa(n,r);return d>=0?n[1|d]=s:(d=~d,function Bc(n,r,s,d){let g=n.length;if(g==r)n.push(s,d);else if(1===g)n.push(d,n[0]),n[0]=s;else{for(g--,n.push(n[g-1],n[g]);g>r;)n[g]=n[g-2],g--;n[r]=s,n[r+1]=d}}(n,d,r,s)),d}function ms(n,r){const s=Aa(n,r);if(s>=0)return n[1|s]}function Aa(n,r){return function ma(n,r,s){let d=0,g=n.length>>s;for(;g!==d;){const _=d+(g-d>>1),T=n[_<<s];if(r===T)return _<<s;T>r?g=_:d=_+1}return~(g<<s)}(n,r,1)}const Cu={},Ma="__NG_DI_FLAG__",Ks="ngTempTokenPath",vc=/\n/gm,$c="__source",R=ve({provide:String,useValue:ve});let M;function W(n){const r=M;return M=n,r}function se(n,r=Gn.Default){if(void 0===M)throw new rt(203,"");return null===M?Qn(n,void 0,r):M.get(n,r&Gn.Optional?null:void 0,r)}function me(n,r=Gn.Default){return(function br(){return nr}()||se)(wt(n),r)}const _t=me;function xt(n){const r=[];for(let s=0;s<n.length;s++){const d=wt(n[s]);if(Array.isArray(d)){if(0===d.length)throw new rt(900,"");let g,_=Gn.Default;for(let T=0;T<d.length;T++){const k=d[T],V=mn(k);"number"==typeof V?-1===V?g=k.token:_|=V:g=k}r.push(me(g,_))}else r.push(me(d))}return r}function sn(n,r){return n[Ma]=r,n.prototype[Ma]=r,n}function mn(n){return n[Ma]}const Br=sn(D("Inject",n=>({token:n})),-1),oo=sn(D("Optional"),8),Ro=sn(D("SkipSelf"),4);let yc;function vs(n){var r;return(null===(r=function jc(){if(void 0===yc&&(yc=null,Ce.trustedTypes))try{yc=Ce.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return yc}())||void 0===r?void 0:r.createHTML(n))||n}class As{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class nc extends As{getTypeName(){return"HTML"}}class qc extends As{getTypeName(){return"Style"}}class bf extends As{getTypeName(){return"Script"}}class zc extends As{getTypeName(){return"URL"}}class Ef extends As{getTypeName(){return"ResourceURL"}}function wa(n){return n instanceof As?n.changingThisBreaksApplicationSecurity:n}function Ra(n,r){const s=ql(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function ql(n){return n instanceof As&&n.getTypeName()||null}function Wc(n){return new nc(n)}function Yc(n){return new qc(n)}function Cf(n){return new bf(n)}function Kc(n){return new zc(n)}function wl(n){return new Ef(n)}class zl{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(vs(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class bl{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const d=this.inertDocument.createElement("body");s.appendChild(d)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=vs(r),s;const d=this.inertDocument.createElement("body");return d.innerHTML=vs(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(r){const s=r.attributes;for(let g=s.length-1;0<g;g--){const T=s.item(g).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&r.removeAttribute(T)}let d=r.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const wc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ju(n){return(n=String(n)).match(wc)||n.match(rc)?n:"unsafe:"+n}function ws(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Tu(...n){const r={};for(const s of n)for(const d in s)s.hasOwnProperty(d)&&(r[d]=!0);return r}const Su=ws("area,br,col,hr,img,wbr"),au=ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xc=ws("rp,rt"),Qc=Tu(Su,Tu(au,ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tu(Xc,ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tu(Xc,au)),bc=ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Oa=ws("srcset"),Jc=Tu(bc,Oa,ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ws("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zc=ws("script,style,template");class Gu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,d=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?d=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,d&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let g=this.checkClobberedElement(s,s.nextSibling);if(g){s=g;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Qc.hasOwnProperty(s))return this.sanitizedSomething=!0,!Zc.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const d=r.attributes;for(let g=0;g<d.length;g++){const _=d.item(g),T=_.name,k=T.toLowerCase();if(!Jc.hasOwnProperty(k)){this.sanitizedSomething=!0;continue}let V=_.value;bc[k]&&(V=ju(V)),Oa[k]&&(n=V,V=(n=String(n)).split(",").map(r=>ju(r.trim())).join(", ")),this.buf.push(" ",T,'="',Ga(V),'"')}var n;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Qc.hasOwnProperty(s)&&!Su.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Ga(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const el=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yl=/([^\#-~ |!])/g;function Ga(n){return n.replace(/&/g,"&amp;").replace(el,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Yl,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qa;function Ec(n,r){let s=null;try{qa=qa||function If(n){const r=new bl(n);return function _c(){try{return!!(new window.DOMParser).parseFromString(vs(""),"text/html")}catch(n){return!1}}()?new zl(r):r}(n);let d=r?String(r):"";s=qa.getInertBodyElement(d);let g=5,_=d;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,d=_,_=s.innerHTML,s=qa.getInertBodyElement(d)}while(d!==_);return vs((new Gu).sanitizeChildren(Ms(s)||s))}finally{if(s){const d=Ms(s)||s;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Ms(n){return"content"in n&&function Cc(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var go=(()=>((go=go||{})[go.NONE=0]="NONE",go[go.HTML=1]="HTML",go[go.STYLE=2]="STYLE",go[go.SCRIPT=3]="SCRIPT",go[go.URL=4]="URL",go[go.RESOURCE_URL=5]="RESOURCE_URL",go))();function uu(n){const r=function Dc(){const n=Vt();return n&&n[12]}();return r?r.sanitize(go.URL,n)||"":Ra(n,"URL")?wa(n):ju(Et(n))}const zu="__ngContext__";function ho(n,r){n[zu]=r}function Dl(n){const r=function Tc(n){return n[zu]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function lu(n){return n.ngOriginalError}function Yf(n,...r){n.error(...r)}class fu{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),d=function Ql(n){return n&&n.ngErrorLogger||Yf}(r);d(this._console,"ERROR",r),s&&d(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&lu(r);for(;s&&lu(s);)s=lu(s);return s||null}}const bs=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ce))();function Ya(n){return n instanceof Function?n():n}var hu=(()=>((hu=hu||{})[hu.Important=1]="Important",hu[hu.DashCase=2]="DashCase",hu))();function Mu(n,r){return undefined(n,r)}function Na(n){const r=n[3];return Ir(r)?r[3]:r}function Ml(n){return ba(n[13])}function sc(n){return ba(n[4])}function ba(n){for(;null!==n&&!Ir(n);)n=n[4];return n}function Pa(n,r,s,d,g){if(null!=d){let _,T=!1;Ir(d)?_=d:pr(d)&&(T=!0,d=d[0]);const k=jr(d);0===n&&null!==s?null==g?af(r,s,k):cc(r,s,k,g||null,!0):1===n&&null!==s?cc(r,s,k,g||null,!0):2===n?function kn(n,r,s){const d=h(n,r);d&&function c(n,r,s,d){$n(n)?n.removeChild(r,s,d):r.removeChild(s)}(n,d,r,s)}(r,k,T):3===n&&r.destroyNode(k),null!=_&&function es(n,r,s,d,g){const _=s[7];_!==jr(s)&&Pa(r,n,d,_,g);for(let k=10;k<s.length;k++){const V=s[k];Xr(V[1],V,n,r,d,_)}}(r,n,_,s,g)}}function xl(n,r,s){if($n(n))return n.createElement(r,s);{const d=null!==s?function K(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":r===z?"http://www.w3.org/1998/MathML/":null}(s):null;return null===d?n.createElement(r):n.createElementNS(d,r)}}function sf(n,r){const s=n[9],d=s.indexOf(r),g=r[3];1024&r[2]&&(r[2]&=-1025,Ln(g,-1)),s.splice(d,1)}function pu(n,r){if(n.length<=10)return;const s=10+r,d=n[s];if(d){const g=d[17];null!==g&&g!==n&&sf(g,d),r>0&&(n[s-1][4]=d[4]);const _=Sa(n,10+r);!function Af(n,r){Xr(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(d[1],d);const T=_[19];null!==T&&T.detachView(_[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Wu(n,r){if(!(256&r[2])){const s=r[11];$n(s)&&s.destroyNode&&Xr(n,r,s,3,null,null),function of(n){let r=n[13];if(!r)return kl(n[1],n);for(;r;){let s=null;if(pr(r))s=r[13];else{const d=r[10];d&&(s=d)}if(!s){for(;r&&!r[4]&&r!==n;)pr(r)&&kl(r[1],r),r=r[3];null===r&&(r=n),pr(r)&&kl(r[1],r),s=r&&r[4]}r=s}}(r)}}function kl(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Ji(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let d=0;d<s.length;d+=2){const g=r[s[d]];if(!(g instanceof ai)){const _=s[d+1];if(Array.isArray(_))for(let T=0;T<_.length;T+=2){const k=g[_[T]],V=_[T+1];try{V.call(k)}finally{}}else try{_.call(g)}finally{}}}}(n,r),function xf(n,r){const s=n.cleanup,d=r[7];let g=-1;if(null!==s)for(let _=0;_<s.length-1;_+=2)if("string"==typeof s[_]){const T=s[_+1],k="function"==typeof T?T(r):jr(r[T]),V=d[g=s[_+2]],re=s[_+3];"boolean"==typeof re?k.removeEventListener(s[_],V,re):re>=0?d[g=re]():d[g=-re].unsubscribe(),_+=2}else{const T=d[g=s[_+1]];s[_].call(T)}if(null!==d){for(let _=g+1;_<d.length;_++)d[_]();r[7]=null}}(n,r),1===r[1].type&&$n(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&Ir(r[3])){s!==r[3]&&sf(s,r);const d=r[19];null!==d&&d.detachView(n)}}}function uc(n,r,s){return function kc(n,r,s){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return s[0];if(2&d.flags){const g=n.data[d.directiveStart].encapsulation;if(g===kr.None||g===kr.Emulated)return null}return ji(d,s)}(n,r.parent,s)}function cc(n,r,s,d,g){$n(n)?n.insertBefore(r,s,d,g):r.insertBefore(s,d,g)}function af(n,r,s){$n(n)?n.appendChild(r,s):r.appendChild(s)}function l(n,r,s,d,g){null!==d?cc(n,r,s,d,g):af(n,r,s)}function h(n,r){return $n(n)?n.parentNode(r):r.parentNode}function I(n,r,s){return J(n,r,s)}let J=function F(n,r,s){return 40&n.type?ji(n,s):null};function je(n,r,s,d){const g=uc(n,d,r),_=r[11],k=I(d.parent||r[6],d,r);if(null!=g)if(Array.isArray(s))for(let V=0;V<s.length;V++)l(_,g,s[V],k,!1);else l(_,g,s,k,!1)}function Ze(n,r){if(null!==r){const s=r.type;if(3&s)return ji(r,n);if(4&s)return hn(-1,n[r.index]);if(8&s){const d=r.child;if(null!==d)return Ze(n,d);{const g=n[r.index];return Ir(g)?hn(-1,g):jr(g)}}if(32&s)return Mu(r,n)()||jr(n[r.index]);{const d=Xt(n,r);return null!==d?Array.isArray(d)?d[0]:Ze(Na(n[16]),d):Ze(n,r.next)}}return null}function Xt(n,r){return null!==r?n[16][6].projection[r.projection]:null}function hn(n,r){const s=10+n+1;if(s<r.length){const d=r[s],g=d[1].firstChild;if(null!==g)return Ze(d,g)}return r[7]}function qn(n,r,s,d,g,_,T){for(;null!=s;){const k=d[s.index],V=s.type;if(T&&0===r&&(k&&ho(jr(k),d),s.flags|=4),64!=(64&s.flags))if(8&V)qn(n,r,s.child,d,g,_,!1),Pa(r,n,g,k,_);else if(32&V){const re=Mu(s,d);let pe;for(;pe=re();)Pa(r,n,g,pe,_);Pa(r,n,g,k,_)}else 16&V?bi(n,r,d,s,g,_):Pa(r,n,g,k,_);s=T?s.projectionNext:s.next}}function Xr(n,r,s,d,g,_){qn(s,d,n.firstChild,r,g,_,!1)}function bi(n,r,s,d,g,_){const T=s[16],V=T[6].projection[d.projection];if(Array.isArray(V))for(let re=0;re<V.length;re++)Pa(r,n,g,V[re],_);else qn(n,r,V,T[3],g,_,!0)}function ol(n,r,s){$n(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Nc(n,r,s){$n(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function sl(n,r,s){let d=n.length;for(;;){const g=n.indexOf(r,s);if(-1===g)return g;if(0===g||n.charCodeAt(g-1)<=32){const _=r.length;if(g+_===d||n.charCodeAt(g+_)<=32)return g}s=g+1}}const o="ng-template";function t(n,r,s){let d=0;for(;d<n.length;){let g=n[d++];if(s&&"class"===g){if(g=n[d],-1!==sl(g.toLowerCase(),r,0))return!0}else if(1===g){for(;d<n.length&&"string"==typeof(g=n[d++]);)if(g.toLowerCase()===r)return!0;return!1}}return!1}function i(n){return 4===n.type&&n.value!==o}function u(n,r,s){return r===(4!==n.type||s?n.value:o)}function p(n,r,s){let d=4;const g=n.attrs||[],_=function he(n){for(let r=0;r<n.length;r++)if(ao(n[r]))return r;return n.length}(g);let T=!1;for(let k=0;k<r.length;k++){const V=r[k];if("number"!=typeof V){if(!T)if(4&d){if(d=2|1&d,""!==V&&!u(n,V,s)||""===V&&1===r.length){if(w(d))return!1;T=!0}}else{const re=8&d?V:r[++k];if(8&d&&null!==n.attrs){if(!t(n.attrs,re,s)){if(w(d))return!1;T=!0}continue}const $e=S(8&d?"class":V,g,i(n),s);if(-1===$e){if(w(d))return!1;T=!0;continue}if(""!==re){let vt;vt=$e>_?"":g[$e+1].toLowerCase();const qt=8&d?vt:null;if(qt&&-1!==sl(qt,re,0)||2&d&&re!==vt){if(w(d))return!1;T=!0}}}}else{if(!T&&!w(d)&&!w(V))return!1;if(T&&w(V))continue;T=!1,d=V|1&d}}return w(d)||T}function w(n){return 0==(1&n)}function S(n,r,s,d){if(null===r)return-1;let g=0;if(d||!s){let _=!1;for(;g<r.length;){const T=r[g];if(T===n)return g;if(3===T||6===T)_=!0;else{if(1===T||2===T){let k=r[++g];for(;"string"==typeof k;)k=r[++g];continue}if(4===T)break;if(0===T){g+=4;continue}}g+=_?1:2}return-1}return function Te(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const d=n[s];if("number"==typeof d)return-1;if(d===r)return s;s++}return-1}(r,n)}function O(n,r,s=!1){for(let d=0;d<r.length;d++)if(p(n,r[d],s))return!0;return!1}function et(n,r){e:for(let s=0;s<r.length;s++){const d=r[s];if(n.length===d.length){for(let g=0;g<n.length;g++)if(n[g]!==d[g])continue e;return!0}}return!1}function pt(n,r){return n?":not("+r.trim()+")":r}function Zt(n){let r=n[0],s=1,d=2,g="",_=!1;for(;s<n.length;){let T=n[s];if("string"==typeof T)if(2&d){const k=n[++s];g+="["+T+(k.length>0?'="'+k+'"':"")+"]"}else 8&d?g+="."+T:4&d&&(g+=" "+T);else""!==g&&!w(T)&&(r+=pt(_,g),g=""),d=T,_=_||!w(d);s++}return""!==g&&(r+=pt(_,g)),r}const fn={};function Wn(n){Kr(Vn(),Vt(),io()+n,Bo())}function Kr(n,r,s,d){if(!d)if(3==(3&r[2])){const _=n.preOrderCheckHooks;null!==_&&te(r,_,s)}else{const _=n.preOrderHooks;null!==_&&Ie(r,_,0,s)}jo(s)}function qi(n,r){return n<<17|r<<2}function Ii(n){return n>>17&32767}function uf(n){return 2|n}function Ka(n){return(131068&n)>>2}function Nl(n,r){return-131069&n|r<<2}function sh(n){return 1|n}function cd(n,r){const s=n.contentQueries;if(null!==s)for(let d=0;d<s.length;d+=2){const g=s[d],_=s[d+1];if(-1!==_){const T=n.data[_];Po(g),T.contentQueries(2,r[_],_)}}}function kf(n,r,s,d,g,_,T,k,V,re){const pe=r.blueprint.slice();return pe[0]=g,pe[2]=140|d,Yt(pe),pe[3]=pe[15]=n,pe[8]=s,pe[10]=T||n&&n[10],pe[11]=k||n&&n[11],pe[12]=V||n&&n[12]||null,pe[9]=re||n&&n[9]||null,pe[6]=_,pe[16]=2==r.type?n[16]:pe,pe}function ul(n,r,s,d,g){let _=n.data[r];if(null===_)_=function ld(n,r,s,d,g){const _=so(),T=Li(),V=n.data[r]=function df(n,r,s,d,g,_){return{type:s,index:d,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?_:_&&_.parent,s,r,d,g);return null===n.firstChild&&(n.firstChild=V),null!==_&&(T?null==_.child&&null!==V.parent&&(_.child=V):null===_.next&&(_.next=V)),V}(n,r,s,d,g),function Js(){return vn.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=s,_.value=d,_.attrs=g;const T=function no(){const n=vn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();_.injectorIndex=null===T?-1:T.injectorIndex}return Wi(_,!0),_}function Nf(n,r,s,d){if(0===s)return-1;const g=r.length;for(let _=0;_<s;_++)r.push(d),n.blueprint.push(d),n.data.push(null);return g}function fd(n,r,s){Jo(r);try{const d=n.viewQuery;null!==d&&cl(1,d,s);const g=n.template;null!==g&&fh(n,r,g,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&cd(n,r),n.staticViewQueries&&cl(2,n.viewQuery,s);const _=n.components;null!==_&&function gp(n,r){for(let s=0;s<r.length;s++)Eh(n,r[s])}(r,_)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{r[2]&=-5,qo()}}function lf(n,r,s,d){const g=r[2];if(256==(256&g))return;Jo(r);const _=Bo();try{Yt(r),function vo(n){return vn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&fh(n,r,s,2,d);const T=3==(3&g);if(!_)if(T){const re=n.preOrderCheckHooks;null!==re&&te(r,re,null)}else{const re=n.preOrderHooks;null!==re&&Ie(r,re,0,null),ft(r,0)}if(function _g(n){for(let r=Ml(n);null!==r;r=sc(r)){if(!r[2])continue;const s=r[9];for(let d=0;d<s.length;d++){const g=s[d],_=g[3];0==(1024&g[2])&&Ln(_,1),g[2]|=1024}}}(r),function yg(n){for(let r=Ml(n);null!==r;r=sc(r))for(let s=10;s<r.length;s++){const d=r[s],g=d[1];$(d)&&lf(g,d,g.template,d[8])}}(r),null!==n.contentQueries&&cd(n,r),!_)if(T){const re=n.contentCheckHooks;null!==re&&te(r,re)}else{const re=n.contentHooks;null!==re&&Ie(r,re,1),ft(r,1)}!function fg(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let d=0;d<s.length;d++){const g=s[d];if(g<0)jo(~g);else{const _=g,T=s[++d],k=s[++d];Is(T,_),k(2,r[_])}}}finally{jo(-1)}}(n,r);const k=n.components;null!==k&&function pp(n,r){for(let s=0;s<r.length;s++)xu(n,r[s])}(r,k);const V=n.viewQuery;if(null!==V&&cl(2,V,d),!_)if(T){const re=n.viewCheckHooks;null!==re&&te(r,re)}else{const re=n.viewHooks;null!==re&&Ie(r,re,2),ft(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),_||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,Ln(r[3],-1))}finally{qo()}}function lh(n,r,s,d){const g=r[10],_=!Bo(),T=Y(r);try{_&&!T&&g.begin&&g.begin(),T&&fd(n,r,d),lf(n,r,s,d)}finally{_&&!T&&g.end&&g.end()}}function fh(n,r,s,d,g){const _=io(),T=2&d;try{jo(-1),T&&r.length>20&&Kr(n,r,20,Bo()),s(d,g)}finally{jo(_)}}function dh(n,r,s){if(lo(r)){const g=r.directiveEnd;for(let _=r.directiveStart;_<g;_++){const T=n.data[_];T.contentQueries&&T.contentQueries(1,s[_],_)}}}function dd(n,r,s){!de()||(function gg(n,r,s,d){const g=s.directiveStart,_=s.directiveEnd;n.firstCreatePass||qs(s,r),ho(d,r);const T=s.initialInputs;for(let k=g;k<_;k++){const V=n.data[k],re=di(V);re&&bh(r,s,V);const pe=Ys(r,n,k,s);ho(pe,r),null!==T&&Ep(0,k-g,pe,V,0,T),re&&(hi(s.index,r)[8]=pe)}}(n,r,s,ji(s,r)),128==(128&s.flags)&&function _h(n,r,s){const d=s.directiveStart,g=s.directiveEnd,T=s.index,k=function La(){return vn.lFrame.currentDirectiveIndex}();try{jo(T);for(let V=d;V<g;V++){const re=n.data[V],pe=r[V];is(V),(null!==re.hostBindings||0!==re.hostVars||null!==re.hostAttrs)&&wh(re,pe)}}finally{jo(-1),is(k)}}(n,r,s))}function xd(n,r,s=ji){const d=r.localNames;if(null!==d){let g=r.index+1;for(let _=0;_<d.length;_+=2){const T=d[_+1],k=-1===T?s(r,n):n[T];n[g++]=k}}}function Od(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=ff(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function ff(n,r,s,d,g,_,T,k,V,re){const pe=20+d,$e=pe+g,vt=function mp(n,r){const s=[];for(let d=0;d<r;d++)s.push(d<n?null:fn);return s}(pe,$e),qt="function"==typeof re?re():re;return vt[1]={type:n,blueprint:vt,template:s,queries:null,viewQuery:k,declTNode:r,data:vt.slice().fill(null,pe),bindingStartIndex:pe,expandoStartIndex:$e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:V,consts:qt,incompleteFirstPass:!1}}function hh(n,r,s,d){const g=Sh(r);null===s?g.push(d):(g.push(s),n.firstCreatePass&&Ud(n).push(d,g.length-1))}function yp(n,r,s){for(let d in n)if(n.hasOwnProperty(d)){const g=n[d];(s=null===s?{}:s).hasOwnProperty(d)?s[d].push(r,g):s[d]=[r,g]}return s}function kd(n,r,s,d){let g=!1;if(de()){const _=function Pf(n,r,s){const d=n.directiveRegistry;let g=null;if(d)for(let _=0;_<d.length;_++){const T=d[_];O(s,T.selectors,!1)&&(g||(g=[]),zs(qs(s,r),n,T.type),di(T)?(Nd(n,s),g.unshift(T)):g.push(T))}return g}(n,r,s),T=null===d?null:{"":-1};if(null!==_){g=!0,Fd(s,n.data.length,_.length);for(let pe=0;pe<_.length;pe++){const $e=_[pe];$e.providersResolver&&$e.providersResolver($e)}let k=!1,V=!1,re=Nf(n,r,_.length,null);for(let pe=0;pe<_.length;pe++){const $e=_[pe];s.mergedAttrs=Ts(s.mergedAttrs,$e.hostAttrs),bp(n,s,r,re,$e),Pd(re,$e,T),null!==$e.contentQueries&&(s.flags|=8),(null!==$e.hostBindings||null!==$e.hostAttrs||0!==$e.hostVars)&&(s.flags|=128);const vt=$e.type.prototype;!k&&(vt.ngOnChanges||vt.ngOnInit||vt.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),k=!0),!V&&(vt.ngOnChanges||vt.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),V=!0),re++}!function _p(n,r){const d=r.directiveEnd,g=n.data,_=r.attrs,T=[];let k=null,V=null;for(let re=r.directiveStart;re<d;re++){const pe=g[re],$e=pe.inputs,vt=null===_||i(r)?null:vg($e,_);T.push(vt),k=yp($e,re,k),V=yp(pe.outputs,re,V)}null!==k&&(k.hasOwnProperty("class")&&(r.flags|=16),k.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=T,r.inputs=k,r.outputs=V}(n,s)}T&&function mg(n,r,s){if(r){const d=n.localNames=[];for(let g=0;g<r.length;g+=2){const _=s[r[g+1]];if(null==_)throw new rt(-301,!1);d.push(r[g],_)}}}(s,d,T)}return s.mergedAttrs=Ts(s.mergedAttrs,s.attrs),g}function yh(n,r,s,d,g,_){const T=_.hostBindings;if(T){let k=n.hostBindingOpCodes;null===k&&(k=n.hostBindingOpCodes=[]);const V=~r.index;(function pg(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(k)!=V&&k.push(V),k.push(d,g,T)}}function wh(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Nd(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Pd(n,r,s){if(s){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)s[r.exportAs[d]]=n;di(r)&&(s[""]=n)}}function Fd(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function bp(n,r,s,d,g){n.data[d]=g;const _=g.factory||(g.factory=dr(g.type)),T=new ai(_,di(g),null);n.blueprint[d]=T,s[d]=T,yh(n,r,0,d,Nf(n,s,g.hostVars,fn),g)}function bh(n,r,s){const d=ji(r,n),g=Od(s),_=n[10],T=Fl(n,kf(n,g,null,s.onPush?64:16,d,r,_,_.createRenderer(d,s),null,null));n[r.index]=T}function Yu(n,r,s,d,g,_){const T=ji(n,r);!function Ld(n,r,s,d,g,_,T){if(null==_)$n(n)?n.removeAttribute(r,g,s):r.removeAttribute(g);else{const k=null==T?Et(_):T(_,d||"",g);$n(n)?n.setAttribute(r,g,k,s):s?r.setAttributeNS(s,g,k):r.setAttribute(g,k)}}(r[11],T,_,n.value,s,d,g)}function Ep(n,r,s,d,g,_){const T=_[r];if(null!==T){const k=d.setInput;for(let V=0;V<T.length;){const re=T[V++],pe=T[V++],$e=T[V++];null!==k?d.setInput(s,$e,re,pe):s[pe]=$e}}}function vg(n,r){let s=null,d=0;for(;d<r.length;){const g=r[d];if(0!==g)if(5!==g){if("number"==typeof g)break;n.hasOwnProperty(g)&&(null===s&&(s=[]),s.push(g,n[g],r[d+1])),d+=2}else d+=2;else d+=4}return s}function pd(n,r,s,d){return new Array(n,!0,!1,r,null,0,d,s,null,null)}function xu(n,r){const s=hi(r,n);if($(s)){const d=s[1];80&s[2]?lf(d,s,d.template,s[8]):s[5]>0&&gd(s)}}function gd(n){for(let d=Ml(n);null!==d;d=sc(d))for(let g=10;g<d.length;g++){const _=d[g];if(1024&_[2]){const T=_[1];lf(T,_,T.template,_[8])}else _[5]>0&&gd(_)}const s=n[1].components;if(null!==s)for(let d=0;d<s.length;d++){const g=hi(s[d],n);$(g)&&g[5]>0&&gd(g)}}function Eh(n,r){const s=hi(r,n),d=s[1];(function Ch(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(d,s),fd(d,s,s[8])}function Fl(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function md(n){for(;n;){n[2]|=64;const r=Na(n);if($i(n)&&!r)return n;n=r}return null}function Bd(n,r,s){const d=r[10];d.begin&&d.begin();try{lf(n,r,n.template,s)}catch(g){throw Hd(r,g),g}finally{d.end&&d.end()}}function Vd(n){!function Dh(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],d=Dl(s),g=d[1];lh(g,d,g.template,s)}}(n[8])}function cl(n,r,s){Po(0),r(n,s)}const Cp=(()=>Promise.resolve(null))();function Sh(n){return n[7]||(n[7]=[])}function Ud(n){return n.cleanup||(n.cleanup=[])}function Hd(n,r){const s=n[9],d=s?s.get(fu,null):null;d&&d.handleError(r)}function Ah(n,r,s,d,g){for(let _=0;_<s.length;){const T=s[_++],k=s[_++],V=r[T],re=n.data[T];null!==re.setInput?re.setInput(V,g,d,k):V[k]=g}}function Fa(n,r,s){const d=_i(r,n);!function Rl(n,r,s){$n(n)?n.setValue(r,s):r.textContent=s}(n[11],d,s)}function hf(n,r,s){let d=s?n.styles:null,g=s?n.classes:null,_=0;if(null!==r)for(let T=0;T<r.length;T++){const k=r[T];"number"==typeof k?_=k:1==_?g=Ge(g,k):2==_&&(d=Ge(d,k+": "+r[++T]+";"))}s?n.styles=d:n.stylesWithoutHost=d,s?n.classes=g:n.classesWithoutHost=g}const Rh=new le("INJECTOR",-1);class vd{get(r,s=Cu){if(s===Cu){const d=new Error(`NullInjectorError: No provider for ${ue(r)}!`);throw d.name="NullInjectorError",d}return s}}const pf=new le("Set Injector scope."),Ff={},Ip={};let Gd;function xh(){return void 0===Gd&&(Gd=new vd),Gd}function Us(n,r=null,s=null,d){const g=Dp(n,r,s,d);return g._resolveInjectorDefTypes(),g}function Dp(n,r=null,s=null,d){return new Tp(n,s,r||xh(),d)}class Tp{constructor(r,s,d,g=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];s&&ss(s,k=>this.processProvider(k,r,s)),ss([r],k=>this.processInjectorType(k,[],_)),this.records.set(Rh,gf(void 0,this));const T=this.records.get(pf);this.scope=null!=T?T.value:null,this.source=g||("object"==typeof r?null:ue(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=Cu,d=Gn.Default){this.assertNotDestroyed();const g=W(this),_=$t(void 0);try{if(!(d&Gn.SkipSelf)){let k=this.records.get(r);if(void 0===k){const V=function Ap(n){return"function"==typeof n||"object"==typeof n&&n instanceof le}(r)&&Vr(r);k=V&&this.injectableDefInScope(V)?gf(Oh(r),Ff):null,this.records.set(r,k)}if(null!=k)return this.hydrate(r,k)}return(d&Gn.Self?xh():this.parent).get(r,s=d&Gn.Optional&&s===Cu?null:s)}catch(T){if("NullInjectorError"===T.name){if((T[Ks]=T[Ks]||[]).unshift(ue(r)),g)throw T;return function jn(n,r,s,d){const g=n[Ks];throw r[$c]&&g.unshift(r[$c]),n.message=function ti(n,r,s,d=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let g=ue(r);if(Array.isArray(r))g=r.map(ue).join(" -> ");else if("object"==typeof r){let _=[];for(let T in r)if(r.hasOwnProperty(T)){let k=r[T];_.push(T+":"+("string"==typeof k?JSON.stringify(k):ue(k)))}g=`{${_.join(", ")}}`}return`${s}${d?"("+d+")":""}[${g}]: ${n.replace(vc,"\n  ")}`}("\n"+n.message,g,s,d),n.ngTokenPath=g,n[Ks]=null,n}(T,r,"R3InjectorError",this.source)}throw T}finally{$t(_),W(g)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((d,g)=>r.push(ue(g))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new rt(205,!1)}processInjectorType(r,s,d){if(!(r=wt(r)))return!1;let g=Sr(r);const _=null==g&&r.ngModule||void 0,T=void 0===_?r:_,k=-1!==d.indexOf(T);if(void 0!==_&&(g=Sr(_)),null==g)return!1;if(null!=g.imports&&!k){let pe;d.push(T);try{ss(g.imports,$e=>{this.processInjectorType($e,s,d)&&(void 0===pe&&(pe=[]),pe.push($e))})}finally{}if(void 0!==pe)for(let $e=0;$e<pe.length;$e++){const{ngModule:vt,providers:qt}=pe[$e];ss(qt,wn=>this.processProvider(wn,vt,qt||Pt))}}this.injectorDefTypes.add(T);const V=dr(T)||(()=>new T);this.records.set(T,gf(V,Ff));const re=g.providers;if(null!=re&&!k){const pe=r;ss(re,$e=>this.processProvider($e,pe,re))}return void 0!==_&&void 0!==r.providers}processProvider(r,s,d){let g=Lf(r=wt(r))?r:wt(r&&r.provide);const _=function Eg(n,r,s){return Sp(n)?gf(void 0,n.useValue):gf(qd(n),Ff)}(r);if(Lf(r)||!0!==r.multi)this.records.get(g);else{let T=this.records.get(g);T||(T=gf(void 0,Ff,!0),T.factory=()=>xt(T.multi),this.records.set(g,T)),g=r,T.multi.push(r)}this.records.set(g,_)}hydrate(r,s){return s.value===Ff&&(s.value=Ip,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Cg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=wt(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Oh(n){const r=Vr(n),s=null!==r?r.factory:dr(n);if(null!==s)return s;if(n instanceof le)throw new rt(204,!1);if(n instanceof Function)return function bg(n){const r=n.length;if(r>0)throw ru(r,"?"),new rt(204,!1);const s=function Fr(n){const r=n&&(n[rr]||n[fi]);if(r){const s=function Lr(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new rt(204,!1)}function qd(n,r,s){let d;if(Lf(n)){const g=wt(n);return dr(g)||Oh(g)}if(Sp(n))d=()=>wt(n.useValue);else if(function Nh(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...xt(n.deps||[]));else if(function kh(n){return!(!n||!n.useExisting)}(n))d=()=>me(wt(n.useExisting));else{const g=wt(n&&(n.useClass||n.provide));if(!function Fc(n){return!!n.deps}(n))return dr(g)||Oh(g);d=()=>new g(...xt(n.deps))}return d}function gf(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Sp(n){return null!==n&&"object"==typeof n&&R in n}function Lf(n){return"function"==typeof n}let Ku=(()=>{class n{static create(s,d){var g;if(Array.isArray(s))return Us({name:""},d,s,"");{const _=null!==(g=s.name)&&void 0!==g?g:"";return Us({name:_},s.parent,s.providers,_)}}}return n.THROW_IF_NOT_FOUND=Cu,n.NULL=new vd,n.\u0275prov=Pr({token:n,providedIn:"any",factory:()=>me(Rh)}),n.__NG_ELEMENT_ID__=-1,n})();function Op(n,r){P(Dl(n)[1],zr())}function _d(n){let r=function Qd(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const d=[n];for(;r;){let g;if(di(n))g=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new rt(903,"");g=r.\u0275dir}if(g){if(s){d.push(g);const T=n;T.inputs=wd(n.inputs),T.declaredInputs=wd(n.declaredInputs),T.outputs=wd(n.outputs);const k=g.hostBindings;k&&Mg(n,k);const V=g.viewQuery,re=g.contentQueries;if(V&&Uh(n,V),re&&Ag(n,re),Pe(n.inputs,g.inputs),Pe(n.declaredInputs,g.declaredInputs),Pe(n.outputs,g.outputs),di(g)&&g.data.animation){const pe=n.data;pe.animation=(pe.animation||[]).concat(g.data.animation)}}const _=g.features;if(_)for(let T=0;T<_.length;T++){const k=_[T];k&&k.ngInherit&&k(n),k===_d&&(s=!1)}}r=Object.getPrototypeOf(r)}!function $h(n){let r=0,s=null;for(let d=n.length-1;d>=0;d--){const g=n[d];g.hostVars=r+=g.hostVars,g.hostAttrs=Ts(g.hostAttrs,s=Ts(s,g.hostAttrs))}}(d)}function wd(n){return n===Ot?{}:n===Pt?[]:n}function Uh(n,r){const s=n.viewQuery;n.viewQuery=s?(d,g)=>{r(d,g),s(d,g)}:r}function Ag(n,r){const s=n.contentQueries;n.contentQueries=s?(d,g,_)=>{r(d,g,_),s(d,g,_)}:r}function Mg(n,r){const s=n.hostBindings;n.hostBindings=s?(d,g)=>{r(d,g),s(d,g)}:r}let bd=null;function yf(){if(!bd){const n=Ce.Symbol;if(n&&n.iterator)bd=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const d=r[s];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(bd=d)}}}return bd}function Vf(n){return!!$f(n)&&(Array.isArray(n)||!(n instanceof Map)&&yf()in n)}function $f(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Qu(n,r,s){return n[r]=s}function Ea(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Tr(n,r,s,d){const g=Ea(n,r,s);return Ea(n,r+1,d)||g}function Ll(n,r,s,d){const g=Vt();return Ea(g,ks(),r)&&(Vn(),Yu(Bi(),g,n,r,s,d)),Ll}function Gf(n,r,s,d,g,_){const k=Tr(n,function Qo(){return vn.lFrame.bindingIndex}(),s,g);return Vo(2),k?r+Et(s)+d+Et(g)+_:fn}function C(n,r,s,d,g,_,T,k){const V=Vt(),re=Vn(),pe=n+20,$e=re.firstCreatePass?function m(n,r,s,d,g,_,T,k,V){const re=r.consts,pe=ul(r,n,4,T||null,ge(re,k));kd(r,s,pe,ge(re,V)),P(r,pe);const $e=pe.tViews=ff(2,pe,d,g,_,r.directiveRegistry,r.pipeRegistry,null,r.schemas,re);return null!==r.queries&&(r.queries.template(r,pe),$e.queries=r.queries.embeddedTView(pe)),pe}(pe,re,V,r,s,d,g,_,T):re.data[pe];Wi($e,!1);const vt=V[11].createComment("");je(re,V,vt,$e),ho(vt,V),Fl(V,V[pe]=pd(vt,V,vt,$e)),Zi($e)&&dd(re,V,$e),null!=T&&xd(V,$e,k)}function Yh(n,r=Gn.Default){const s=Vt();return null===s?me(n,r):Dr(zr(),s,wt(n),r)}function sv(){throw new Error("invalid")}function Fg(n,r,s){const d=Vt();return Ea(d,ks(),r)&&function gu(n,r,s,d,g,_,T,k){const V=ji(r,s);let pe,re=r.inputs;!k&&null!=re&&(pe=re[d])?(Ah(n,s,pe,d,g),Wr(r)&&function ph(n,r){const s=hi(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(d=function dg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),g=null!=T?T(g,r.value||"",d):g,$n(_)?_.setProperty(V,d,g):Qa(d)||(V.setProperty?V.setProperty(d,g):V[d]=g))}(Vn(),Bi(),d,n,r,d[11],s,!1),Fg}function Lg(n,r,s,d,g){const T=g?"class":"style";Ah(n,s,r.inputs[T],T,d)}function Fp(n,r,s,d){const g=Vt(),_=Vn(),T=20+n,k=g[11],V=g[T]=xl(k,r,function ea(){return vn.lFrame.currentNamespace}()),re=_.firstCreatePass?function h0(n,r,s,d,g,_,T){const k=r.consts,re=ul(r,n,2,g,ge(k,_));return kd(r,s,re,ge(k,T)),null!==re.attrs&&hf(re,re.attrs,!1),null!==re.mergedAttrs&&hf(re,re.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,re),re}(T,_,g,0,r,s,d):_.data[T];Wi(re,!0);const pe=re.mergedAttrs;null!==pe&&So(k,V,pe);const $e=re.classes;null!==$e&&Nc(k,V,$e);const vt=re.styles;return null!==vt&&ol(k,V,vt),64!=(64&re.flags)&&je(_,g,V,re),0===function X(){return vn.lFrame.elementDepthCount}()&&ho(V,g),function b(){vn.lFrame.elementDepthCount++}(),Zi(re)&&(dd(_,g,re),dh(_,re,g)),null!==d&&xd(g,re),Fp}function Lp(){let n=zr();Li()?_n():(n=n.parent,Wi(n,!1));const r=n;!function G(){vn.lFrame.elementDepthCount--}();const s=Vn();return s.firstCreatePass&&(P(s,n),lo(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function fa(n){return 0!=(16&n.flags)}(r)&&Lg(s,r,Vt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Hs(n){return 0!=(32&n.flags)}(r)&&Lg(s,r,Vt(),r.stylesWithoutHost,!1),Lp}function Bg(n,r,s,d){return Fp(n,r,s,d),Lp(),Bg}function Vg(n,r,s){const d=Vt(),g=Vn(),_=n+20,T=g.firstCreatePass?function p0(n,r,s,d,g){const _=r.consts,T=ge(_,d),k=ul(r,n,8,"ng-container",T);return null!==T&&hf(k,T,!0),kd(r,s,k,ge(_,g)),null!==r.queries&&r.queries.elementStart(r,k),k}(_,g,d,r,s):g.data[_];Wi(T,!0);const k=d[_]=d[11].createComment("");return je(g,d,k,T),ho(k,d),Zi(T)&&(dd(g,d,T),dh(g,T,d)),null!=s&&xd(d,T),Vg}function $g(){let n=zr();const r=Vn();return Li()?_n():(n=n.parent,Wi(n,!1)),r.firstCreatePass&&(P(r,n),lo(n)&&r.queries.elementEnd(n)),$g}function Ug(n,r,s){return Vg(n,r,s),$g(),Ug}function av(){return Vt()}function jg(n){return!!n&&"function"==typeof n.then}function uv(n){return!!n&&"function"==typeof n.subscribe}const cv=uv;function Hg(n,r,s,d){const g=Vt(),_=Vn(),T=zr();return function fv(n,r,s,d,g,_,T,k){const V=Zi(d),pe=n.firstCreatePass&&Ud(n),$e=r[8],vt=Sh(r);let qt=!0;if(3&d.type||k){const hr=ji(d,r),qr=k?k(hr):hr,Rn=vt.length,ui=k?_o=>k(jr(_o[d.index])):d.index;if($n(s)){let _o=null;if(!k&&V&&(_o=function g0(n,r,s,d){const g=n.cleanup;if(null!=g)for(let _=0;_<g.length-1;_+=2){const T=g[_];if(T===s&&g[_+1]===d){const k=r[7],V=g[_+2];return k.length>V?k[V]:null}"string"==typeof T&&(_+=2)}return null}(n,r,g,d.index)),null!==_o)(_o.__ngLastListenerFn__||_o).__ngNextListenerFn__=_,_o.__ngLastListenerFn__=_,qt=!1;else{_=Gg(d,r,$e,_,!1);const Xo=s.listen(qr,g,_);vt.push(_,Xo),pe&&pe.push(g,ui,Rn,Rn+1)}}else _=Gg(d,r,$e,_,!0),qr.addEventListener(g,_,T),vt.push(_),pe&&pe.push(g,ui,Rn,T)}else _=Gg(d,r,$e,_,!1);const wn=d.outputs;let Yn;if(qt&&null!==wn&&(Yn=wn[g])){const hr=Yn.length;if(hr)for(let qr=0;qr<hr;qr+=2){const hc=r[Yn[qr]][Yn[qr+1]].subscribe(_),Dd=vt.length;vt.push(_,hc),pe&&pe.push(g,d.index,Dd,-(Dd+1))}}}(_,g,g[11],T,n,r,!!s,d),Hg}function dv(n,r,s,d){try{return!1!==s(d)}catch(g){return Hd(n,g),!1}}function Gg(n,r,s,d,g){return function _(T){if(T===Function)return d;const k=2&n.flags?hi(n.index,r):r;0==(32&r[2])&&md(k);let V=dv(r,0,d,T),re=_.__ngNextListenerFn__;for(;re;)V=dv(r,0,re,T)&&V,re=re.__ngNextListenerFn__;return g&&!1===V&&(T.preventDefault(),T.returnValue=!1),V}}function hv(n=1){return function Ba(n){return(vn.lFrame.contextLView=function mu(n,r){for(;n>0;)r=r[15],n--;return r}(n,vn.lFrame.contextLView))[8]}(n)}function m0(n,r){let s=null;const d=function Q(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let g=0;g<r.length;g++){const _=r[g];if("*"!==_){if(null===d?O(n,_,!0):et(d,_))return g}else s=g}return s}function pv(n){const r=Vt()[16][6];if(!r.projection){const d=r.projection=ru(n?n.length:1,null),g=d.slice();let _=r.child;for(;null!==_;){const T=n?m0(_,n):0;null!==T&&(g[T]?g[T].projectionNext=_:d[T]=_,g[T]=_),_=_.next}}}function gv(n,r=0,s){const d=Vt(),g=Vn(),_=ul(g,20+n,16,null,s||null);null===_.projection&&(_.projection=r),_n(),64!=(64&_.flags)&&function Jr(n,r,s){bi(r[11],0,r,s,uc(n,s,r),I(s.parent||r[6],s,r))}(g,d,_)}function Dv(n,r,s,d,g){const _=n[s+1],T=null===r;let k=d?Ii(_):Ka(_),V=!1;for(;0!==k&&(!1===V||T);){const pe=n[k+1];_0(n[k],r)&&(V=!0,n[k+1]=d?sh(pe):uf(pe)),k=d?Ii(pe):Ka(pe)}V&&(n[s+1]=d?uf(_):sh(_))}function _0(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Aa(n,r)>=0}function zg(n,r){return function fl(n,r,s,d){const g=Vt(),_=Vn(),T=Vo(2);_.firstUpdatePass&&function Nv(n,r,s,d){const g=n.data;if(null===g[s+1]){const _=g[io()],T=function kv(n,r){return r>=n.expandoStartIndex}(n,s);(function Bv(n,r){return 0!=(n.flags&(r?16:32))})(_,d)&&null===r&&!T&&(r=!1),r=function A0(n,r,s,d){const g=function fo(n){const r=vn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let _=d?r.residualClasses:r.residualStyles;if(null===g)0===(d?r.classBindings:r.styleBindings)&&(s=Kh(s=Wg(null,n,r,s,d),r.attrs,d),_=null);else{const T=r.directiveStylingLast;if(-1===T||n[T]!==g)if(s=Wg(g,n,r,s,d),null===_){let V=function M0(n,r,s){const d=s?r.classBindings:r.styleBindings;if(0!==Ka(d))return n[Ii(d)]}(n,r,d);void 0!==V&&Array.isArray(V)&&(V=Wg(null,n,r,V[1],d),V=Kh(V,r.attrs,d),function R0(n,r,s,d){n[Ii(s?r.classBindings:r.styleBindings)]=d}(n,r,d,V))}else _=function x0(n,r,s){let d;const g=r.directiveEnd;for(let _=1+r.directiveStylingLast;_<g;_++)d=Kh(d,n[_].hostAttrs,s);return Kh(d,r.attrs,s)}(n,r,d)}return void 0!==_&&(d?r.residualClasses=_:r.residualStyles=_),s}(g,_,r,d),function v0(n,r,s,d,g,_){let T=_?r.classBindings:r.styleBindings,k=Ii(T),V=Ka(T);n[d]=s;let pe,re=!1;if(Array.isArray(s)){const $e=s;pe=$e[1],(null===pe||Aa($e,pe)>0)&&(re=!0)}else pe=s;if(g)if(0!==V){const vt=Ii(n[k+1]);n[d+1]=qi(vt,k),0!==vt&&(n[vt+1]=Nl(n[vt+1],d)),n[k+1]=function $s(n,r){return 131071&n|r<<17}(n[k+1],d)}else n[d+1]=qi(k,0),0!==k&&(n[k+1]=Nl(n[k+1],d)),k=d;else n[d+1]=qi(V,0),0===k?k=d:n[V+1]=Nl(n[V+1],d),V=d;re&&(n[d+1]=uf(n[d+1])),Dv(n,pe,d,!0),Dv(n,pe,d,!1),function y0(n,r,s,d,g){const _=g?n.residualClasses:n.residualStyles;null!=_&&"string"==typeof r&&Aa(_,r)>=0&&(s[d+1]=sh(s[d+1]))}(r,pe,n,d,_),T=qi(k,V),_?r.classBindings=T:r.styleBindings=T}(g,_,r,s,T,d)}}(_,n,T,d),r!==fn&&Ea(g,T,r)&&function Fv(n,r,s,d,g,_,T,k){if(!(3&r.type))return;const V=n.data,re=V[k+1];Bp(function td(n){return 1==(1&n)}(re)?Lv(V,r,s,g,Ka(re),T):void 0)||(Bp(_)||function Io(n){return 2==(2&n)}(re)&&(_=Lv(V,null,s,g,k,T)),function xs(n,r,s,d,g){const _=$n(n);if(r)g?_?n.addClass(s,d):s.classList.add(d):_?n.removeClass(s,d):s.classList.remove(d);else{let T=-1===d.indexOf("-")?void 0:hu.DashCase;if(null==g)_?n.removeStyle(s,d,T):s.style.removeProperty(d);else{const k="string"==typeof g&&g.endsWith("!important");k&&(g=g.slice(0,-10),T|=hu.Important),_?n.setStyle(s,d,g,T):s.style.setProperty(d,g,k?"important":"")}}}(d,T,_i(io(),s),g,_))}(_,_.data[io()],g,g[11],n,g[T+1]=function N0(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ue(wa(n)))),n}(r,s),d,T)}(n,r,null,!0),zg}function Wg(n,r,s,d,g){let _=null;const T=s.directiveEnd;let k=s.directiveStylingLast;for(-1===k?k=s.directiveStart:k++;k<T&&(_=r[k],d=Kh(d,_.hostAttrs,g),_!==n);)k++;return null!==n&&(s.directiveStylingLast=k),d}function Kh(n,r,s){const d=s?1:2;let g=-1;if(null!==r)for(let _=0;_<r.length;_++){const T=r[_];"number"==typeof T?g=T:g===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),gs(n,T,!!s||r[++_]))}return void 0===n?null:n}function Lv(n,r,s,d,g,_){const T=null===r;let k;for(;g>0;){const V=n[g],re=Array.isArray(V),pe=re?V[1]:V,$e=null===pe;let vt=s[g+1];vt===fn&&(vt=$e?Pt:void 0);let qt=$e?ms(vt,d):pe===d?vt:void 0;if(re&&!Bp(qt)&&(qt=ms(V,d)),Bp(qt)&&(k=qt,T))return k;const wn=n[g+1];g=T?Ii(wn):Ka(wn)}if(null!==r){let V=_?r.residualClasses:r.residualStyles;null!=V&&(k=ms(V,d))}return k}function Bp(n){return void 0!==n}function Vv(n,r=""){const s=Vt(),d=Vn(),g=n+20,_=d.firstCreatePass?ul(d,g,1,r,null):d.data[g],T=s[g]=function ac(n,r){return $n(n)?n.createText(r):n.createTextNode(r)}(s[11],r);je(d,s,T,_),Wi(_,!1)}function Yg(n){return Vp("",n,""),Yg}function Vp(n,r,s){const d=Vt(),g=function Hf(n,r,s,d){return Ea(n,ks(),s)?r+Et(s)+d:fn}(d,n,r,s);return g!==fn&&Fa(d,io(),g),Vp}function Kg(n,r,s,d,g){const _=Vt(),T=Gf(_,n,r,s,d,g);return T!==fn&&Fa(_,io(),T),Kg}const Cd=void 0;var ew=["en",[["a","p"],["AM","PM"],Cd],[["AM","PM"],Cd,Cd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cd,"{1} 'at' {0}",Cd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Z0(n){const s=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===d?1:5}];let eh={};function Xg(n){const r=function tw(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=oy(r);if(s)return s;const d=r.split("-")[0];if(s=oy(d),s)return s;if("en"===d)return ew;throw new Error(`Missing locale data for the locale "${n}".`)}function iy(n){return Xg(n)[pi.PluralCase]}function oy(n){return n in eh||(eh[n]=Ce.ng&&Ce.ng.common&&Ce.ng.common.locales&&Ce.ng.common.locales[n]),eh[n]}var pi=(()=>((pi=pi||{})[pi.LocaleId=0]="LocaleId",pi[pi.DayPeriodsFormat=1]="DayPeriodsFormat",pi[pi.DayPeriodsStandalone=2]="DayPeriodsStandalone",pi[pi.DaysFormat=3]="DaysFormat",pi[pi.DaysStandalone=4]="DaysStandalone",pi[pi.MonthsFormat=5]="MonthsFormat",pi[pi.MonthsStandalone=6]="MonthsStandalone",pi[pi.Eras=7]="Eras",pi[pi.FirstDayOfWeek=8]="FirstDayOfWeek",pi[pi.WeekendRange=9]="WeekendRange",pi[pi.DateFormat=10]="DateFormat",pi[pi.TimeFormat=11]="TimeFormat",pi[pi.DateTimeFormat=12]="DateTimeFormat",pi[pi.NumberSymbols=13]="NumberSymbols",pi[pi.NumberFormats=14]="NumberFormats",pi[pi.CurrencyCode=15]="CurrencyCode",pi[pi.CurrencySymbol=16]="CurrencySymbol",pi[pi.CurrencyName=17]="CurrencyName",pi[pi.Currencies=18]="Currencies",pi[pi.Directionality=19]="Directionality",pi[pi.PluralCase=20]="PluralCase",pi[pi.ExtraData=21]="ExtraData",pi))();const $p="en-US";let sy=$p;function Zg(n,r,s,d,g){if(n=wt(n),Array.isArray(n))for(let _=0;_<n.length;_++)Zg(n[_],r,s,d,g);else{const _=Vn(),T=Vt();let k=Lf(n)?n:wt(n.provide),V=qd(n);const re=zr(),pe=1048575&re.providerIndexes,$e=re.directiveStart,vt=re.providerIndexes>>20;if(Lf(n)||!n.multi){const qt=new ai(V,g,Yh),wn=tm(k,r,g?pe:pe+vt,$e);-1===wn?(zs(qs(re,T),_,k),em(_,n,r.length),r.push(k),re.directiveStart++,re.directiveEnd++,g&&(re.providerIndexes+=1048576),s.push(qt),T.push(qt)):(s[wn]=qt,T[wn]=qt)}else{const qt=tm(k,r,pe+vt,$e),wn=tm(k,r,pe,pe+vt),Yn=qt>=0&&s[qt],hr=wn>=0&&s[wn];if(g&&!hr||!g&&!Yn){zs(qs(re,T),_,k);const qr=function Zw(n,r,s,d,g){const _=new ai(n,s,Yh);return _.multi=[],_.index=r,_.componentProviders=0,Ry(_,g,d&&!s),_}(g?Jw:Qw,s.length,g,d,V);!g&&hr&&(s[wn].providerFactory=qr),em(_,n,r.length,0),r.push(k),re.directiveStart++,re.directiveEnd++,g&&(re.providerIndexes+=1048576),s.push(qr),T.push(qr)}else em(_,n,qt>-1?qt:wn,Ry(s[g?wn:qt],V,!g&&d));!g&&d&&hr&&s[wn].componentProviders++}}}function em(n,r,s,d){const g=Lf(r),_=function Ph(n){return!!n.useClass}(r);if(g||_){const V=(_?wt(r.useClass):r).prototype.ngOnDestroy;if(V){const re=n.destroyHooks||(n.destroyHooks=[]);if(!g&&r.multi){const pe=re.indexOf(s);-1===pe?re.push(s,[d,V]):re[pe+1].push(d,V)}else re.push(s,V)}}}function Ry(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function tm(n,r,s,d){for(let g=s;g<d;g++)if(r[g]===n)return g;return-1}function Qw(n,r,s,d){return nm(this.multi,[])}function Jw(n,r,s,d){const g=this.multi;let _;if(this.providerFactory){const T=this.providerFactory.componentProviders,k=Ys(s,s[1],this.providerFactory.index,d);_=k.slice(0,T),nm(g,_);for(let V=T;V<k.length;V++)_.push(k[V])}else _=[],nm(g,_);return _}function nm(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function xy(n,r=[]){return s=>{s.providersResolver=(d,g)=>function Xw(n,r,s){const d=Vn();if(d.firstCreatePass){const g=di(n);Zg(s,d.data,d.blueprint,g,!0),Zg(r,d.data,d.blueprint,g,!1)}}(d,g?g(n):n,r)}}class Oy{}class nb{resolveComponentFactory(r){throw function tb(n){const r=Error(`No component factory found for ${ue(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let qp=(()=>{class n{}return n.NULL=new nb,n})();function rb(){return nh(zr(),Vt())}function nh(n,r){return new ep(ji(n,r))}let ep=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=rb,n})();function ib(n){return n instanceof ep?n.nativeElement:n}class Ny{}let ob=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function ab(){const n=Vt(),s=hi(zr().index,n);return function sb(n){return n[11]}(pr(s)?s:n)}(),n})(),ub=(()=>{class n{}return n.\u0275prov=Pr({token:n,providedIn:"root",factory:()=>null}),n})();class Py{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const cb=new Py("13.2.7"),rm={};function zp(n,r,s,d,g=!1){for(;null!==s;){const _=r[s.index];if(null!==_&&d.push(jr(_)),Ir(_))for(let k=10;k<_.length;k++){const V=_[k],re=V[1].firstChild;null!==re&&zp(V[1],V,re,d)}const T=s.type;if(8&T)zp(n,r,s.child,d);else if(32&T){const k=Mu(s,r);let V;for(;V=k();)d.push(V)}else if(16&T){const k=Xt(r,s);if(Array.isArray(k))d.push(...k);else{const V=Na(r[16]);zp(V[1],V,k,d,!0)}}s=g?s.projectionNext:s.next}return d}class tp{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return zp(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Ir(r)){const s=r[8],d=s?s.indexOf(this):-1;d>-1&&(pu(r,d),Sa(s,d))}this._attachedToViewContainer=!1}Wu(this._lView[1],this._lView)}onDestroy(r){hh(this._lView[1],this._lView,null,r)}markForCheck(){md(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Bd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Th(n,r,s){ko(!0);try{Bd(n,r,s)}finally{ko(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new rt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rf(n,r){Xr(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new rt(902,"");this._appRef=r}}class lb extends tp{constructor(r){super(r),this._view=r}detectChanges(){Vd(this._view)}checkNoChanges(){!function wg(n){ko(!0);try{Vd(n)}finally{ko(!1)}}(this._view)}get context(){return null}}class Fy extends qp{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=tn(r);return new im(s,this.ngModule)}}function Ly(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class im extends Oy{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Qt(n){return n.map(Zt).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Ly(this.componentDef.inputs)}get outputs(){return Ly(this.componentDef.outputs)}create(r,s,d,g){const _=(g=g||this.ngModule)?function db(n,r){return{get:(s,d,g)=>{const _=n.get(s,rm,g);return _!==rm||d===rm?_:r.get(s,d,g)}}}(r,g.injector):r,T=_.get(Ny,yi),k=_.get(ub,null),V=T.createRenderer(null,this.componentDef),re=this.componentDef.selectors[0][0]||"div",pe=d?function vp(n,r,s){if($n(n))return n.selectRootElement(r,s===kr.ShadowDom);let d="string"==typeof r?n.querySelector(r):r;return d.textContent="",d}(V,d,this.componentDef.encapsulation):xl(T.createRenderer(null,this.componentDef),re,function fb(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?z:null}(re)),$e=this.componentDef.onPush?576:528,vt=function Xd(n,r){return{components:[],scheduler:n||bs,clean:Cp,playerHandler:r||null,flags:0}}(),qt=ff(0,null,null,1,0,null,null,null,null,null),wn=kf(null,qt,vt,$e,null,null,T,V,k,_);let Yn,hr;Jo(wn);try{const qr=function vf(n,r,s,d,g,_){const T=s[1];s[20]=n;const V=ul(T,20,2,"#host",null),re=V.mergedAttrs=r.hostAttrs;null!==re&&(hf(V,re,!0),null!==n&&(So(g,n,re),null!==V.classes&&Nc(g,n,V.classes),null!==V.styles&&ol(g,n,V.styles)));const pe=d.createRenderer(n,r),$e=kf(s,Od(r),null,r.onPush?64:16,s[20],V,d,pe,_||null,null);return T.firstCreatePass&&(zs(qs(V,s),T,r.type),Nd(T,V),Fd(V,s.length,1)),Fl(s,$e),s[20]=$e}(pe,this.componentDef,wn,T,V);if(pe)if(d)So(V,pe,["ng-version",cb.full]);else{const{attrs:Rn,classes:ui}=function ln(n){const r=[],s=[];let d=1,g=2;for(;d<n.length;){let _=n[d];if("string"==typeof _)2===g?""!==_&&r.push(_,n[++d]):8===g&&s.push(_);else{if(!w(g))break;g=_}d++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Rn&&So(V,pe,Rn),ui&&ui.length>0&&Nc(V,pe,ui.join(" "))}if(hr=zi(qt,20),void 0!==s){const Rn=hr.projection=[];for(let ui=0;ui<this.ngContentSelectors.length;ui++){const _o=s[ui];Rn.push(null!=_o?Array.from(_o):null)}}Yn=function Kd(n,r,s,d,g){const _=s[1],T=function vh(n,r,s){const d=zr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),bp(n,d,r,Nf(n,r,1,null),s));const g=Ys(r,n,d.directiveStart,d);ho(g,r);const _=ji(d,r);return _&&ho(_,r),g}(_,s,r);if(d.components.push(T),n[8]=T,g&&g.forEach(V=>V(T,r)),r.contentQueries){const V=zr();r.contentQueries(1,T,V.directiveStart)}const k=zr();return!_.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(jo(k.index),yh(s[1],k,0,k.directiveStart,k.directiveEnd,r),wh(r,T)),T}(qr,this.componentDef,wn,vt,[Op]),fd(qt,wn,null)}finally{qo()}return new pb(this.componentType,Yn,nh(hr,wn),wn,hr)}}class pb extends class eb{}{constructor(r,s,d,g,_){super(),this.location=d,this._rootLView=g,this._tNode=_,this.instance=s,this.hostView=this.changeDetectorRef=new lb(g),this.componentType=r}get injector(){return new ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class rh{}class By{}const ih=new Map;class Uy extends rh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fy(this);const d=An(r);this._bootstrapComponents=Ya(d.bootstrap),this._r3Injector=Dp(r,s,[{provide:rh,useValue:this},{provide:qp,useValue:this.componentFactoryResolver}],ue(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=Ku.THROW_IF_NOT_FOUND,d=Gn.Default){return r===Ku||r===rh||r===Rh?this:this._r3Injector.get(r,s,d)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class om extends By{constructor(r){super(),this.moduleType=r,null!==An(r)&&function mb(n){const r=new Set;!function s(d){const g=An(d,!0),_=g.id;null!==_&&(function Vy(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${ue(r)} vs ${ue(r.name)}`)}(_,ih.get(_),d),ih.set(_,d));const T=Ya(g.imports);for(const k of T)r.has(k)||(r.add(k),s(k))}(n)}(r)}create(r){return new Uy(this.moduleType,r)}}function jy(n,r,s){const d=mo()+n,g=Vt();return g[d]===fn?Qu(g,d,s?r.call(s):r()):function Uf(n,r){return n[r]}(g,d)}function Hy(n,r,s,d){return function Gy(n,r,s,d,g,_){const T=r+s;return Ea(n,T,g)?Qu(n,T+1,_?d.call(_,g):d(g)):np(n,T+1)}(Vt(),mo(),n,r,s,d)}function np(n,r){const s=n[r];return s===fn?void 0:s}function Ky(n,r){const s=Vn();let d;const g=n+20;s.firstCreatePass?(d=function Db(n,r){if(r)for(let s=r.length-1;s>=0;s--){const d=r[s];if(n===d.name)return d}}(r,s.pipeRegistry),s.data[g]=d,d.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(g,d.onDestroy)):d=s.data[g];const _=d.factory||(d.factory=dr(d.type)),T=$t(Yh);try{const k=_s(!1),V=_();return _s(k),function L(n,r,s,d){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=d}(s,Vt(),g,V),V}finally{$t(T)}}function Xy(n,r,s,d){const g=n+20,_=Vt(),T=function ei(n,r){return n[r]}(_,g);return function rp(n,r){return n[1].data[r].pure}(_,g)?function qy(n,r,s,d,g,_,T){const k=r+s;return Tr(n,k,g,_)?Qu(n,k+2,T?d.call(T,g,_):d(g,_)):np(n,k+2)}(_,mo(),r,T.transform,s,d,T):T.transform(s,d)}function sm(n){return r=>{setTimeout(n,void 0,r)}}const jl=class Rb extends we.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,d){var g,_,T;let k=r,V=s||(()=>null),re=d;if(r&&"object"==typeof r){const $e=r;k=null===(g=$e.next)||void 0===g?void 0:g.bind($e),V=null===(_=$e.error)||void 0===_?void 0:_.bind($e),re=null===(T=$e.complete)||void 0===T?void 0:T.bind($e)}this.__isAsync&&(V=sm(V),k&&(k=sm(k)),re&&(re=sm(re)));const pe=super.subscribe({next:k,error:V,complete:re});return r instanceof _e.w&&r.add(pe),pe}};function xb(){return this._results[yf()]()}class am{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=yf(),d=am.prototype;d[s]||(d[s]=xb)}get changes(){return this._changes||(this._changes=new jl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const d=this;d.dirty=!1;const g=Mo(r);(this._changesDetected=!function Fu(n,r,s){if(n.length!==r.length)return!1;for(let d=0;d<n.length;d++){let g=n[d],_=r[d];if(s&&(g=s(g),_=s(_)),_!==g)return!1}return!0}(d._results,g,s))&&(d._results=g,d.length=g.length,d.last=g[this.length-1],d.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ip=(()=>{class n{}return n.__NG_ELEMENT_ID__=Nb,n})();const Ob=ip,kb=class extends Ob{constructor(r,s,d){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=d}createEmbeddedView(r){const s=this._declarationTContainer.tViews,d=kf(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(s)),fd(s,d,r),new tp(d)}};function Nb(){return Wp(zr(),Vt())}function Wp(n,r){return 4&n.type?new kb(r,n,nh(n,r)):null}let Yp=(()=>{class n{}return n.__NG_ELEMENT_ID__=Pb,n})();function Pb(){return Zy(zr(),Vt())}const Fb=Yp,Qy=class extends Fb{constructor(r,s,d){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=d}get element(){return nh(this._hostTNode,this._hostLView)}get injector(){return new ra(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ja(this._hostTNode,this._hostLView);if(ta(r)){const s=xi(r,this._hostLView),d=Wo(r);return new ra(s[1].data[d+8],s)}return new ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Jy(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,d){const g=r.createEmbeddedView(s||{});return this.insert(g,d),g}createComponent(r,s,d,g,_){const T=r&&!function Ua(n){return"function"==typeof n}(r);let k;if(T)k=s;else{const $e=s||{};k=$e.index,d=$e.injector,g=$e.projectableNodes,_=$e.ngModuleRef}const V=T?r:new im(tn(r)),re=d||this.parentInjector;if(!_&&null==V.ngModule){const vt=(T?re:this.parentInjector).get(rh,null);vt&&(_=vt)}const pe=V.create(re,g,void 0,_);return this.insert(pe.hostView,k),pe}insert(r,s){const d=r._lView,g=d[1];if(function B(n){return Ir(n[3])}(d)){const pe=this.indexOf(r);if(-1!==pe)this.detach(pe);else{const $e=d[3],vt=new Qy($e,$e[6],$e[3]);vt.detach(vt.indexOf(r))}}const _=this._adjustIndex(s),T=this._lContainer;!function Ol(n,r,s,d){const g=10+d,_=s.length;d>0&&(s[g-1][4]=r),d<_-10?(r[4]=s[g],Ta(s,10+d,r)):(s.push(r),r[4]=null),r[3]=s;const T=r[17];null!==T&&s!==T&&function Zf(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(T,r);const k=r[19];null!==k&&k.insertView(n),r[2]|=128}(g,d,T,_);const k=hn(_,T),V=d[11],re=h(V,T[7]);return null!==re&&function Mf(n,r,s,d,g,_){d[0]=g,d[6]=r,Xr(n,d,s,1,g,_)}(g,T[6],V,d,re,k),r.attachToViewContainerRef(),Ta(um(T),_,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Jy(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),d=pu(this._lContainer,s);d&&(Sa(um(this._lContainer),s),Wu(d[1],d))}detach(r){const s=this._adjustIndex(r,-1),d=pu(this._lContainer,s);return d&&null!=Sa(um(this._lContainer),s)?new tp(d):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function Jy(n){return n[8]}function um(n){return n[8]||(n[8]=[])}function Zy(n,r){let s;const d=r[n.index];if(Ir(d))s=d;else{let g;if(8&n.type)g=jr(d);else{const _=r[11];g=_.createComment("");const T=ji(n,r);cc(_,h(_,T),g,function v(n,r){return $n(n)?n.nextSibling(r):r.nextSibling}(_,T),!1)}r[n.index]=s=pd(d,r,g,n),Fl(r,s)}return new Qy(s,n,r)}class cm{constructor(r){this.queryList=r,this.matches=null}clone(){return new cm(this.queryList)}setDirty(){this.queryList.setDirty()}}class lm{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const d=null!==r.contentQueries?r.contentQueries[0]:s.length,g=[];for(let _=0;_<d;_++){const T=s.getByIndex(_);g.push(this.queries[T.indexInDeclarationView].clone())}return new lm(g)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==u_(r,s).matches&&this.queries[s].setDirty()}}class e_{constructor(r,s,d=null){this.predicate=r,this.flags=s,this.read=d}}class fm{constructor(r=[]){this.queries=r}elementStart(r,s){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let d=0;d<this.length;d++){const g=null!==s?s.length:0,_=this.getByIndex(d).embeddedTView(r,g);_&&(_.indexInDeclarationView=d,null!==s?s.push(_):s=[_])}return null!==s?new fm(s):null}template(r,s){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class dm{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new dm(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==s;)d=d.parent;return s===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const d=this.metadata.predicate;if(Array.isArray(d))for(let g=0;g<d.length;g++){const _=d[g];this.matchTNodeWithReadOption(r,s,Vb(s,_)),this.matchTNodeWithReadOption(r,s,pa(s,r,_,!1,!1))}else d===ip?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,pa(s,r,d,!1,!1))}matchTNodeWithReadOption(r,s,d){if(null!==d){const g=this.metadata.read;if(null!==g)if(g===ep||g===Yp||g===ip&&4&s.type)this.addMatch(s.index,-2);else{const _=pa(s,r,g,!1,!1);null!==_&&this.addMatch(s.index,_)}else this.addMatch(s.index,d)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Vb(n,r){const s=n.localNames;if(null!==s)for(let d=0;d<s.length;d+=2)if(s[d]===r)return s[d+1];return null}function Ub(n,r,s,d){return-1===s?function $b(n,r){return 11&n.type?nh(n,r):4&n.type?Wp(n,r):null}(r,n):-2===s?function jb(n,r,s){return s===ep?nh(r,n):s===ip?Wp(r,n):s===Yp?Zy(r,n):void 0}(n,r,d):Ys(n,n[1],s,r)}function t_(n,r,s,d){const g=r[19].queries[d];if(null===g.matches){const _=n.data,T=s.matches,k=[];for(let V=0;V<T.length;V+=2){const re=T[V];k.push(re<0?null:Ub(r,_[re],T[V+1],s.metadata.read))}g.matches=k}return g.matches}function hm(n,r,s,d){const g=n.queries.getByIndex(s),_=g.matches;if(null!==_){const T=t_(n,r,g,s);for(let k=0;k<_.length;k+=2){const V=_[k];if(V>0)d.push(T[k/2]);else{const re=_[k+1],pe=r[-V];for(let $e=10;$e<pe.length;$e++){const vt=pe[$e];vt[17]===vt[3]&&hm(vt[1],vt,re,d)}if(null!==pe[9]){const $e=pe[9];for(let vt=0;vt<$e.length;vt++){const qt=$e[vt];hm(qt[1],qt,re,d)}}}}}return d}function n_(n){const r=Vt(),s=Vn(),d=ca();Po(d+1);const g=u_(s,d);if(n.dirty&&Y(r)===(2==(2&g.metadata.flags))){if(null===g.matches)n.reset([]);else{const _=g.crossesNgTemplate?hm(s,r,d,[]):t_(s,r,g,d);n.reset(_,ib),n.notifyOnChanges()}return!0}return!1}function r_(n,r,s){const d=Vn();d.firstCreatePass&&(a_(d,new e_(n,r,s),-1),2==(2&r)&&(d.staticViewQueries=!0)),s_(d,Vt(),r)}function i_(n,r,s,d){const g=Vn();if(g.firstCreatePass){const _=zr();a_(g,new e_(r,s,d),_.index),function Gb(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(g,n),2==(2&s)&&(g.staticContentQueries=!0)}s_(g,Vt(),s)}function o_(){return function Hb(n,r){return n[19].queries[r].queryList}(Vt(),ca())}function s_(n,r,s){const d=new am(4==(4&s));hh(n,r,d,d.destroy),null===r[19]&&(r[19]=new lm),r[19].queries.push(new cm(d))}function a_(n,r,s){null===n.queries&&(n.queries=new fm),n.queries.track(new dm(r,s))}function u_(n,r){return n.queries.getByIndex(r)}function Qp(...n){}const D_=new le("Application Initializer");let _m=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Qp,this.reject=Qp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,g)=>{this.resolve=d,this.reject=g})}runInitializers(){if(this.initialized)return;const s=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const _=this.appInits[g]();if(jg(_))s.push(_);else if(cv(_)){const T=new Promise((k,V)=>{_.subscribe({complete:k,error:V})});s.push(T)}}Promise.all(s).then(()=>{d()}).catch(g=>{this.reject(g)}),0===s.length&&d(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(me(D_,8))},n.\u0275prov=Pr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const T_=new le("AppId",{providedIn:"root",factory:function S_(){return`${wm()}${wm()}${wm()}`}});function wm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const A_=new le("Platform Initializer"),M_=new le("Platform ID"),R_=new le("appBootstrapListener");let x_=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Pr({token:n,factory:n.\u0275fac}),n})();const bm=new le("LocaleId",{providedIn:"root",factory:()=>_t(bm,Gn.Optional|Gn.SkipSelf)||function uE(){return"undefined"!=typeof $localize&&$localize.locale||$p}()}),cE=new le("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class lE{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let fE=(()=>{class n{compileModuleSync(s){return new om(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const d=this.compileModuleSync(s),_=Ya(An(s).declarations).reduce((T,k)=>{const V=tn(k);return V&&T.push(new im(V)),T},[]);return new lE(d,_)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Pr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hE=(()=>Promise.resolve(0))();function Em(n){"undefined"==typeof Zone?hE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class hl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jl(!1),this.onMicrotaskEmpty=new jl(!1),this.onStable=new jl(!1),this.onError=new jl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!d&&s,g.shouldCoalesceRunChangeDetection=d,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function pE(){let n=Ce.requestAnimationFrame,r=Ce.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const d=r[Zone.__symbol__("OriginalDelegate")];d&&(r=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function vE(n){const r=()=>{!function mE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ce,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Im(n),n.isCheckStableRunning=!0,Cm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Im(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,d,g,_,T,k)=>{try{return O_(n),s.invokeTask(g,_,T,k)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||n.shouldCoalesceRunChangeDetection)&&r(),k_(n)}},onInvoke:(s,d,g,_,T,k,V)=>{try{return O_(n),s.invoke(g,_,T,k,V)}finally{n.shouldCoalesceRunChangeDetection&&r(),k_(n)}},onHasTask:(s,d,g,_)=>{s.hasTask(g,_),d===g&&("microTask"==_.change?(n._hasPendingMicrotasks=_.microTask,Im(n),Cm(n)):"macroTask"==_.change&&(n.hasPendingMacrotasks=_.macroTask))},onHandleError:(s,d,g,_)=>(s.handleError(g,_),n.runOutsideAngular(()=>n.onError.emit(_)),!1)})}(g)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(hl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,d){return this._inner.run(r,s,d)}runTask(r,s,d,g){const _=this._inner,T=_.scheduleEventTask("NgZoneEvent: "+g,r,gE,Qp,Qp);try{return _.runTask(T,s,d)}finally{_.cancelTask(T)}}runGuarded(r,s,d){return this._inner.runGuarded(r,s,d)}runOutsideAngular(r){return this._outer.run(r)}}const gE={};function Cm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Im(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function O_(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function k_(n){n._nesting--,Cm(n)}class yE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jl,this.onMicrotaskEmpty=new jl,this.onStable=new jl,this.onError=new jl}run(r,s,d){return r.apply(s,d)}runGuarded(r,s,d){return r.apply(s,d)}runOutsideAngular(r){return r()}runTask(r,s,d,g){return r.apply(s,d)}}let N_=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hl.assertNotInAngularZone(),Em(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Em(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(s)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,d,g){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==_),s(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:s,timeoutId:_,updateCb:g})}whenStable(s,d,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,d,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,d,g){return[]}}return n.\u0275fac=function(s){return new(s||n)(me(hl))},n.\u0275prov=Pr({token:n,factory:n.\u0275fac}),n})(),P_=(()=>{class n{constructor(){this._applications=new Map,Dm.addToWindow(this)}registerApplication(s,d){this._applications.set(s,d)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,d=!0){return Dm.findTestabilityInTree(this,s,d)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Pr({token:n,factory:n.\u0275fac}),n})();class _E{addToWindow(r){}findTestabilityInTree(r,s,d){return null}}function wE(n){Dm=n}let pl,Dm=new _E;const F_=new le("AllowMultipleToken");class CE{constructor(r,s){this.name=r,this.token=s}}function L_(n,r,s=[]){const d=`Platform: ${r}`,g=new le(d);return(_=[])=>{let T=B_();if(!T||T.injector.get(F_,!1))if(n)n(s.concat(_).concat({provide:g,useValue:!0}));else{const k=s.concat(_).concat({provide:g,useValue:!0},{provide:pf,useValue:"platform"});!function IE(n){if(pl&&!pl.destroyed&&!pl.injector.get(F_,!1))throw new rt(400,"");pl=n.get(V_);const r=n.get(A_,null);r&&r.forEach(s=>s())}(Ku.create({providers:k,name:d}))}return function DE(n){const r=B_();if(!r)throw new rt(401,"");return r}()}}function B_(){return pl&&!pl.destroyed?pl:null}let V_=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,d){const k=function TE(n,r){let s;return s="noop"===n?new yE:("zone.js"===n?void 0:n)||new hl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),V=[{provide:hl,useValue:k}];return k.run(()=>{const re=Ku.create({providers:V,parent:this.injector,name:s.moduleType.name}),pe=s.create(re),$e=pe.injector.get(fu,null);if(!$e)throw new rt(402,"");return k.runOutsideAngular(()=>{const vt=k.onError.subscribe({next:qt=>{$e.handleError(qt)}});pe.onDestroy(()=>{Sm(this._modules,pe),vt.unsubscribe()})}),function SE(n,r,s){try{const d=s();return jg(d)?d.catch(g=>{throw r.runOutsideAngular(()=>n.handleError(g)),g}):d}catch(d){throw r.runOutsideAngular(()=>n.handleError(d)),d}}($e,k,()=>{const vt=pe.injector.get(_m);return vt.runInitializers(),vt.donePromise.then(()=>(function ow(n){Bn(n,"Expected localeId to be defined"),"string"==typeof n&&(sy=n.toLowerCase().replace(/_/g,"-"))}(pe.injector.get(bm,$p)||$p),this._moduleDoBootstrap(pe),pe))})})}bootstrapModule(s,d=[]){const g=$_({},d);return function bE(n,r,s){const d=new om(s);return Promise.resolve(d)}(0,0,s).then(_=>this.bootstrapModuleFactory(_,g))}_moduleDoBootstrap(s){const d=s.injector.get(Tm);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(g=>d.bootstrap(g));else{if(!s.instance.ngDoBootstrap)throw new rt(403,"");s.instance.ngDoBootstrap(d)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new rt(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(me(Ku))},n.\u0275prov=Pr({token:n,factory:n.\u0275fac}),n})();function $_(n,r){return Array.isArray(r)?r.reduce($_,n):Object.assign(Object.assign({},n),r)}let Tm=(()=>{class n{constructor(s,d,g,_,T){this._zone=s,this._injector=d,this._exceptionHandler=g,this._componentFactoryResolver=_,this._initStatus=T,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const k=new f.y(re=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{re.next(this._stable),re.complete()})}),V=new f.y(re=>{let pe;this._zone.runOutsideAngular(()=>{pe=this._zone.onStable.subscribe(()=>{hl.assertNotInAngularZone(),Em(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,re.next(!0))})})});const $e=this._zone.onUnstable.subscribe(()=>{hl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{re.next(!1)}))});return()=>{pe.unsubscribe(),$e.unsubscribe()}});this.isStable=function Le(...n){let r=Number.POSITIVE_INFINITY,s=null,d=n[n.length-1];return(0,j.K)(d)?(s=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(r=n.pop())):"number"==typeof d&&(r=n.pop()),null===s&&1===n.length&&n[0]instanceof f.y?n[0]:(0,H.J)(r)((0,tt.n)(n,s))}(k,V.pipe(function ce(){return n=>(0,Se.x)()(function qe(n,r){return function(d){let g;if(g="function"==typeof n?n:function(){return n},"function"==typeof r)return d.lift(new x(g,r));const _=Object.create(d,Dt.N);return _.source=d,_.subjectFactory=g,_}}(xe)(n))}()))}bootstrap(s,d){if(!this._initStatus.done)throw new rt(405,"");let g;g=s instanceof Oy?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(g.componentType);const _=function EE(n){return n.isBoundToModule}(g)?void 0:this._injector.get(rh),k=g.create(Ku.NULL,[],d||g.selector,_),V=k.location.nativeElement,re=k.injector.get(N_,null),pe=re&&k.injector.get(P_);return re&&pe&&pe.registerApplication(V,re),k.onDestroy(()=>{this.detachView(k.hostView),Sm(this.components,k),pe&&pe.unregisterApplication(V)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new rt(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const d=s;this._views.push(d),d.attachToAppRef(this)}detachView(s){const d=s;Sm(this._views,d),d.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(R_,[]).concat(this._bootstrapListeners).forEach(g=>g(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(me(hl),me(Ku),me(fu),me(qp),me(_m))},n.\u0275prov=Pr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sm(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let j_=!0;function ME(){j_=!1}let RE=(()=>{class n{}return n.__NG_ELEMENT_ID__=xE,n})();function xE(n){return function OE(n,r,s){if(Wr(n)&&!s){const d=hi(n.index,r);return new tp(d,d)}return 47&n.type?new tp(r[16],r):null}(zr(),Vt(),16==(16&n))}class W_{constructor(){}supports(r){return Vf(r)}create(r){return new BE(r)}}const LE=(n,r)=>r;class BE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||LE}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,d=this._removalsHead,g=0,_=null;for(;s||d;){const T=!d||s&&s.currentIndex<K_(d,g,_)?s:d,k=K_(T,g,_),V=T.currentIndex;if(T===d)g--,d=d._nextRemoved;else if(s=s._next,null==T.previousIndex)g++;else{_||(_=[]);const re=k-g,pe=V-g;if(re!=pe){for(let vt=0;vt<re;vt++){const qt=vt<_.length?_[vt]:_[vt]=0,wn=qt+vt;pe<=wn&&wn<re&&(_[vt]=qt+1)}_[T.previousIndex]=pe-re}}k!==V&&r(T,k,V)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Vf(r))throw new rt(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let g,_,T,s=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let k=0;k<this.length;k++)_=r[k],T=this._trackByFn(k,_),null!==s&&Object.is(s.trackById,T)?(d&&(s=this._verifyReinsertion(s,_,T,k)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,T,k),d=!0),s=s._next}else g=0,function Gh(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[yf()]();let d;for(;!(d=s.next()).done;)r(d.value)}}(r,k=>{T=this._trackByFn(g,k),null!==s&&Object.is(s.trackById,T)?(d&&(s=this._verifyReinsertion(s,k,T,g)),Object.is(s.item,k)||this._addIdentityChange(s,k)):(s=this._mismatch(s,k,T,g),d=!0),s=s._next,g++}),this.length=g;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,d,g){let _;return null===r?_=this._itTail:(_=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,_,g)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,g))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,_,g)):r=this._addAfter(new VE(s,d),_,g),r}_verifyReinsertion(r,s,d,g){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?r=this._reinsertAfter(_,r._prev,g):r.currentIndex!=g&&(r.currentIndex=g,this._addToMoves(r,g)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const g=r._prevRemoved,_=r._nextRemoved;return null===g?this._removalsHead=_:g._nextRemoved=_,null===_?this._removalsTail=g:_._prevRemoved=g,this._insertAfter(r,s,d),this._addToMoves(r,d),r}_moveAfter(r,s,d){return this._unlink(r),this._insertAfter(r,s,d),this._addToMoves(r,d),r}_addAfter(r,s,d){return this._insertAfter(r,s,d),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,d){const g=null===s?this._itHead:s._next;return r._next=g,r._prev=s,null===g?this._itTail=r:g._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Y_),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,d=r._next;return null===s?this._itHead=d:s._next=d,null===d?this._itTail=s:d._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Y_),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class VE{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $E{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===s||s<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const s=r._prevDup,d=r._nextDup;return null===s?this._head=d:s._nextDup=d,null===d?this._tail=s:d._prevDup=s,null===this._head}}class Y_{constructor(){this.map=new Map}put(r){const s=r.trackById;let d=this.map.get(s);d||(d=new $E,this.map.set(s,d)),d.add(r)}get(r,s){const g=this.map.get(r);return g?g.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function K_(n,r,s){const d=n.previousIndex;if(null===d)return d;let g=0;return s&&d<s.length&&(g=s[d]),d+r+g}class X_{constructor(){}supports(r){return r instanceof Map||$f(r)}create(){return new UE}}class UE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||$f(r)))throw new rt(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,g)=>{if(s&&s.key===g)this._maybeAddToChanges(s,d),this._appendAfter=s,s=s._next;else{const _=this._getOrCreateRecordForKey(g,d);s=this._insertBeforeOrAppend(s,_)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let d=s;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const d=r._prev;return s._next=r,s._prev=d,r._prev=s,d&&(d._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const g=this._records.get(r);this._maybeAddToChanges(g,s);const _=g._prev,T=g._next;return _&&(_._next=T),T&&(T._prev=_),g._next=null,g._prev=null,g}const d=new jE(r);return this._records.set(r,d),d.currentValue=s,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(d=>s(r[d],d))}}class jE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Q_(){return new Om([new W_])}let Om=(()=>{class n{constructor(s){this.factories=s}static create(s,d){if(null!=d){const g=d.factories.slice();s=s.concat(g)}return new n(s)}static extend(s){return{provide:n,useFactory:d=>n.create(s,d||Q_()),deps:[[n,new Ro,new oo]]}}find(s){const d=this.factories.find(g=>g.supports(s));if(null!=d)return d;throw new rt(901,"")}}return n.\u0275prov=Pr({token:n,providedIn:"root",factory:Q_}),n})();function J_(){return new km([new X_])}let km=(()=>{class n{constructor(s){this.factories=s}static create(s,d){if(d){const g=d.factories.slice();s=s.concat(g)}return new n(s)}static extend(s){return{provide:n,useFactory:d=>n.create(s,d||J_()),deps:[[n,new Ro,new oo]]}}find(s){const d=this.factories.find(_=>_.supports(s));if(d)return d;throw new rt(901,"")}}return n.\u0275prov=Pr({token:n,providedIn:"root",factory:J_}),n})();const qE=L_(null,"core",[{provide:M_,useValue:"unknown"},{provide:V_,deps:[Ku]},{provide:P_,deps:[]},{provide:x_,deps:[]}]);let zE=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(me(Tm))},n.\u0275mod=Er({type:n}),n.\u0275inj=Kn({}),n})()},4182:(wr,an,fe)=>{"use strict";fe.d(an,{NI:()=>zn,u:()=>Me,cw:()=>Dn,sg:()=>Ar,u5:()=>ji,JU:()=>xe,a5:()=>Vr,JJ:()=>rr,JL:()=>Rr,On:()=>tr,UX:()=>Hi,kI:()=>Nt,_Y:()=>pr});var f=fe(2096),j=fe(9808),H=fe(2916),tt=fe(6688),Le=fe(4850),we=fe(7830),_e=fe(5254);function qe(Y,$){return new H.y(B=>{const ge=Y.length;if(0===ge)return void B.complete();const Yt=new Array(ge);let Ln=0,vn=0;for(let E=0;E<ge;E++){const X=(0,_e.D)(Y[E]);let b=!1;B.add(X.subscribe({next:G=>{b||(b=!0,vn++),Yt[E]=G},error:G=>B.error(G),complete:()=>{Ln++,(Ln===ge||!b)&&(vn===ge&&B.next($?$.reduce((G,de,Kt)=>(G[de]=Yt[Kt],G),{}):Yt),B.complete())}}))}})}let x=(()=>{class Y{constructor(B,ge){this._renderer=B,this._elementRef=ge,this.onChange=Yt=>{},this.onTouched=()=>{}}setProperty(B,ge){this._renderer.setProperty(this._elementRef.nativeElement,B,ge)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}}return Y.\u0275fac=function(B){return new(B||Y)(f.Y36(f.Qsj),f.Y36(f.SBq))},Y.\u0275dir=f.lG2({type:Y}),Y})(),Se=(()=>{class Y extends x{}return Y.\u0275fac=function(){let $;return function(ge){return($||($=f.n5z(Y)))(ge||Y)}}(),Y.\u0275dir=f.lG2({type:Y,features:[f.qOj]}),Y})();const xe=new f.OlP("NgValueAccessor"),Pe={provide:xe,useExisting:(0,f.Gpc)(()=>Qe),multi:!0},Ge=new f.OlP("CompositionEventMode");let Qe=(()=>{class Y extends x{constructor(B,ge,Yt){super(B,ge),this._compositionMode=Yt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ue(){const Y=(0,j.q)()?(0,j.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(B){this.setProperty("value",null==B?"":B)}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}}return Y.\u0275fac=function(B){return new(B||Y)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Ge,8))},Y.\u0275dir=f.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(B,ge){1&B&&f.NdJ("input",function(Ln){return ge._handleInput(Ln.target.value)})("blur",function(){return ge.onTouched()})("compositionstart",function(){return ge._compositionStart()})("compositionend",function(Ln){return ge._compositionEnd(Ln.target.value)})},features:[f._Bn([Pe]),f.qOj]}),Y})();function ct(Y){return null==Y||0===Y.length}function wt(Y){return null!=Y&&"number"==typeof Y.length}const Ut=new f.OlP("NgValidators"),nt=new f.OlP("NgAsyncValidators"),rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nt{static min($){return function Et(Y){return $=>{if(ct($.value)||ct(Y))return null;const B=parseFloat($.value);return!isNaN(B)&&B<Y?{min:{min:Y,actual:$.value}}:null}}($)}static max($){return function rn(Y){return $=>{if(ct($.value)||ct(Y))return null;const B=parseFloat($.value);return!isNaN(B)&&B>Y?{max:{max:Y,actual:$.value}}:null}}($)}static required($){return function Ye(Y){return ct(Y.value)?{required:!0}:null}($)}static requiredTrue($){return function ze(Y){return!0===Y.value?null:{required:!0}}($)}static email($){return function ae(Y){return ct(Y.value)||rt.test(Y.value)?null:{email:!0}}($)}static minLength($){return function Be(Y){return $=>ct($.value)||!wt($.value)?null:$.value.length<Y?{minlength:{requiredLength:Y,actualLength:$.value.length}}:null}($)}static maxLength($){return function Ke(Y){return $=>wt($.value)&&$.value.length>Y?{maxlength:{requiredLength:Y,actualLength:$.value.length}}:null}($)}static pattern($){return function at(Y){if(!Y)return Tn;let $,B;return"string"==typeof Y?(B="","^"!==Y.charAt(0)&&(B+="^"),B+=Y,"$"!==Y.charAt(Y.length-1)&&(B+="$"),$=new RegExp(B)):(B=Y.toString(),$=Y),ge=>{if(ct(ge.value))return null;const Yt=ge.value;return $.test(Yt)?null:{pattern:{requiredPattern:B,actualValue:Yt}}}}($)}static nullValidator($){return null}static compose($){return Mt($)}static composeAsync($){return on($)}}function Tn(Y){return null}function gn(Y){return null!=Y}function Tt(Y){const $=(0,f.QGY)(Y)?(0,_e.D)(Y):Y;return(0,f.CqO)($),$}function At(Y){let $={};return Y.forEach(B=>{$=null!=B?Object.assign(Object.assign({},$),B):$}),0===Object.keys($).length?null:$}function Rt(Y,$){return $.map(B=>B(Y))}function yt(Y){return Y.map($=>function St(Y){return!Y.validate}($)?$:B=>$.validate(B))}function Mt(Y){if(!Y)return null;const $=Y.filter(gn);return 0==$.length?null:function(B){return At(Rt(B,$))}}function Ft(Y){return null!=Y?Mt(yt(Y)):null}function on(Y){if(!Y)return null;const $=Y.filter(gn);return 0==$.length?null:function(B){return function Dt(...Y){if(1===Y.length){const $=Y[0];if((0,tt.k)($))return qe($,null);if((0,we.K)($)&&Object.getPrototypeOf($)===Object.prototype){const B=Object.keys($);return qe(B.map(ge=>$[ge]),B)}}if("function"==typeof Y[Y.length-1]){const $=Y.pop();return qe(Y=1===Y.length&&(0,tt.k)(Y[0])?Y[0]:Y,null).pipe((0,Le.U)(B=>$(...B)))}return qe(Y,null)}(Rt(B,$).map(Tt)).pipe((0,Le.U)(At))}}function We(Y){return null!=Y?on(yt(Y)):null}function Bn(Y,$){return null===Y?[$]:Array.isArray(Y)?[...Y,$]:[Y,$]}function yn(Y){return Y._rawValidators}function ar(Y){return Y._rawAsyncValidators}function Mn(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function er(Y,$){return Array.isArray(Y)?Y.includes($):Y===$}function Pr(Y,$){const B=Mn($);return Mn(Y).forEach(Yt=>{er(B,Yt)||B.push(Yt)}),B}function or(Y,$){return Mn($).filter(B=>!er(Y,B))}class Kn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators($){this._rawValidators=$||[],this._composedValidatorFn=Ft(this._rawValidators)}_setAsyncValidators($){this._rawAsyncValidators=$||[],this._composedAsyncValidatorFn=We(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy($){this._onDestroyCallbacks.push($)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach($=>$()),this._onDestroyCallbacks=[]}reset($){this.control&&this.control.reset($)}hasError($,B){return!!this.control&&this.control.hasError($,B)}getError($,B){return this.control?this.control.getError($,B):null}}class Vr extends Kn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cr extends Kn{get formDirective(){return null}get path(){return null}}class Fr{constructor($){this._cd=$}is($){var B,ge,Yt;return"submitted"===$?!!(null===(B=this._cd)||void 0===B?void 0:B.submitted):!!(null===(Yt=null===(ge=this._cd)||void 0===ge?void 0:ge.control)||void 0===Yt?void 0:Yt[$])}}let rr=(()=>{class Y extends Fr{constructor(B){super(B)}}return Y.\u0275fac=function(B){return new(B||Y)(f.Y36(Vr,2))},Y.\u0275dir=f.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(B,ge){2&B&&f.ekj("ng-untouched",ge.is("untouched"))("ng-touched",ge.is("touched"))("ng-pristine",ge.is("pristine"))("ng-dirty",ge.is("dirty"))("ng-valid",ge.is("valid"))("ng-invalid",ge.is("invalid"))("ng-pending",ge.is("pending"))},features:[f.qOj]}),Y})(),Rr=(()=>{class Y extends Fr{constructor(B){super(B)}}return Y.\u0275fac=function(B){return new(B||Y)(f.Y36(cr,10))},Y.\u0275dir=f.lG2({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(B,ge){2&B&&f.ekj("ng-untouched",ge.is("untouched"))("ng-touched",ge.is("touched"))("ng-pristine",ge.is("pristine"))("ng-dirty",ge.is("dirty"))("ng-valid",ge.is("valid"))("ng-invalid",ge.is("invalid"))("ng-pending",ge.is("pending"))("ng-submitted",ge.is("submitted"))},features:[f.qOj]}),Y})();function bt(Y,$){return[...$.path,Y]}function Ce(Y,$){Pt(Y,$),$.valueAccessor.writeValue(Y.value),function Fn(Y,$){$.valueAccessor.registerOnChange(B=>{Y._pendingValue=B,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&Cr(Y,$)})}(Y,$),function sr(Y,$){const B=(ge,Yt)=>{$.valueAccessor.writeValue(ge),Yt&&$.viewToModelUpdate(ge)};Y.registerOnChange(B),$._registerOnDestroy(()=>{Y._unregisterOnChange(B)})}(Y,$),function Jn(Y,$){$.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&Cr(Y,$),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,$),function Ot(Y,$){if($.valueAccessor.setDisabledState){const B=ge=>{$.valueAccessor.setDisabledState(ge)};Y.registerOnDisabledChange(B),$._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(B)})}}(Y,$)}function Ae(Y,$,B=!0){const ge=()=>{};$.valueAccessor&&($.valueAccessor.registerOnChange(ge),$.valueAccessor.registerOnTouched(ge)),Jt(Y,$),Y&&($._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function st(Y,$){Y.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange($)})}function Pt(Y,$){const B=yn(Y);null!==$.validator?Y.setValidators(Bn(B,$.validator)):"function"==typeof B&&Y.setValidators([B]);const ge=ar(Y);null!==$.asyncValidator?Y.setAsyncValidators(Bn(ge,$.asyncValidator)):"function"==typeof ge&&Y.setAsyncValidators([ge]);const Yt=()=>Y.updateValueAndValidity();st($._rawValidators,Yt),st($._rawAsyncValidators,Yt)}function Jt(Y,$){let B=!1;if(null!==Y){if(null!==$.validator){const Yt=yn(Y);if(Array.isArray(Yt)&&Yt.length>0){const Ln=Yt.filter(vn=>vn!==$.validator);Ln.length!==Yt.length&&(B=!0,Y.setValidators(Ln))}}if(null!==$.asyncValidator){const Yt=ar(Y);if(Array.isArray(Yt)&&Yt.length>0){const Ln=Yt.filter(vn=>vn!==$.asyncValidator);Ln.length!==Yt.length&&(B=!0,Y.setAsyncValidators(Ln))}}}const ge=()=>{};return st($._rawValidators,ge),st($._rawAsyncValidators,ge),B}function Cr(Y,$){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),$.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function Xn(Y,$){if(!Y.hasOwnProperty("model"))return!1;const B=Y.model;return!!B.isFirstChange()||!Object.is($,B.currentValue)}function He(Y,$){if(!$)return null;let B,ge,Yt;return Array.isArray($),$.forEach(Ln=>{Ln.constructor===Qe?B=Ln:function Er(Y){return Object.getPrototypeOf(Y.constructor)===Se}(Ln)?ge=Ln:Yt=Ln}),Yt||ge||B||null}function nn(Y,$){const B=Y.indexOf($);B>-1&&Y.splice(B,1)}const dn="VALID",cn="INVALID",An="PENDING",In="DISABLED";function Nn(Y){return(Di(Y)?Y.validators:Y)||null}function lr(Y){return Array.isArray(Y)?Ft(Y):Y||null}function Zn(Y,$){return(Di($)?$.asyncValidators:Y)||null}function ii(Y){return Array.isArray(Y)?We(Y):Y||null}function Di(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}const ci=Y=>Y instanceof zn,bn=Y=>Y instanceof Dn;function Qr(Y){return ci(Y)?Y.value:Y.getRawValue()}function Ai(Y,$){const B=bn(Y),ge=Y.controls;if(!(B?Object.keys(ge):ge).length)throw new f.vHH(1e3,"");if(!ge[$])throw new f.vHH(1001,"")}function Ki(Y,$){bn(Y),Y._forEachChild((ge,Yt)=>{if(void 0===$[Yt])throw new f.vHH(1002,"")})}class $r{constructor($,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=$,this._rawAsyncValidators=B,this._composedValidatorFn=lr(this._rawValidators),this._composedAsyncValidatorFn=ii(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator($){this._rawValidators=this._composedValidatorFn=$}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($){this._rawAsyncValidators=this._composedAsyncValidatorFn=$}get parent(){return this._parent}get valid(){return this.status===dn}get invalid(){return this.status===cn}get pending(){return this.status==An}get disabled(){return this.status===In}get enabled(){return this.status!==In}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($){this._rawValidators=$,this._composedValidatorFn=lr($)}setAsyncValidators($){this._rawAsyncValidators=$,this._composedAsyncValidatorFn=ii($)}addValidators($){this.setValidators(Pr($,this._rawValidators))}addAsyncValidators($){this.setAsyncValidators(Pr($,this._rawAsyncValidators))}removeValidators($){this.setValidators(or($,this._rawValidators))}removeAsyncValidators($){this.setAsyncValidators(or($,this._rawAsyncValidators))}hasValidator($){return er(this._rawValidators,$)}hasAsyncValidator($){return er(this._rawAsyncValidators,$)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($={}){this.touched=!0,this._parent&&!$.onlySelf&&this._parent.markAsTouched($)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild($=>$.markAllAsTouched())}markAsUntouched($={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(B=>{B.markAsUntouched({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}markAsDirty($={}){this.pristine=!1,this._parent&&!$.onlySelf&&this._parent.markAsDirty($)}markAsPristine($={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(B=>{B.markAsPristine({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}markAsPending($={}){this.status=An,!1!==$.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!$.onlySelf&&this._parent.markAsPending($)}disable($={}){const B=this._parentMarkedDirty($.onlySelf);this.status=In,this.errors=null,this._forEachChild(ge=>{ge.disable(Object.assign(Object.assign({},$),{onlySelf:!0}))}),this._updateValue(),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},$),{skipPristineCheck:B})),this._onDisabledChange.forEach(ge=>ge(!0))}enable($={}){const B=this._parentMarkedDirty($.onlySelf);this.status=dn,this._forEachChild(ge=>{ge.enable(Object.assign(Object.assign({},$),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},$),{skipPristineCheck:B})),this._onDisabledChange.forEach(ge=>ge(!1))}_updateAncestors($){this._parent&&!$.onlySelf&&(this._parent.updateValueAndValidity($),$.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent($){this._parent=$}updateValueAndValidity($={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dn||this.status===An)&&this._runAsyncValidator($.emitEvent)),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$.onlySelf&&this._parent.updateValueAndValidity($)}_updateTreeValidity($={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity($)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?In:dn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($){if(this.asyncValidator){this.status=An,this._hasOwnPendingAsyncValidator=!0;const B=Tt(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(ge=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ge,{emitEvent:$})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors($,B={}){this.errors=$,this._updateControlsErrors(!1!==B.emitEvent)}get($){return function yr(Y,$,B){if(null==$||(Array.isArray($)||($=$.split(B)),Array.isArray($)&&0===$.length))return null;let ge=Y;return $.forEach(Yt=>{ge=bn(ge)?ge.controls.hasOwnProperty(Yt)?ge.controls[Yt]:null:(Y=>Y instanceof fr)(ge)&&ge.at(Yt)||null}),ge}(this,$,".")}getError($,B){const ge=B?this.get(B):this;return ge&&ge.errors?ge.errors[$]:null}hasError($,B){return!!this.getError($,B)}get root(){let $=this;for(;$._parent;)$=$._parent;return $}_updateControlsErrors($){this.status=this._calculateStatus(),$&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors($)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?In:this.errors?cn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(An)?An:this._anyControlsHaveStatus(cn)?cn:dn}_anyControlsHaveStatus($){return this._anyControls(B=>B.status===$)}_anyControlsDirty(){return this._anyControls($=>$.dirty)}_anyControlsTouched(){return this._anyControls($=>$.touched)}_updatePristine($={}){this.pristine=!this._anyControlsDirty(),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}_updateTouched($={}){this.touched=this._anyControlsTouched(),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}_isBoxedValue($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}_registerOnCollectionChange($){this._onCollectionChange=$}_setUpdateStrategy($){Di($)&&null!=$.updateOn&&(this._updateOn=$.updateOn)}_parentMarkedDirty($){return!$&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class zn extends $r{constructor($=null,B,ge){super(Nn(B),Zn(ge,B)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState($),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Di(B)&&B.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue($)?$.value:$)}setValue($,B={}){this.value=this._pendingValue=$,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(ge=>ge(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue($,B={}){this.setValue($,B)}reset($=this.defaultValue,B={}){this._applyFormState($),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls($){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($){this._onChange.push($)}_unregisterOnChange($){nn(this._onChange,$)}registerOnDisabledChange($){this._onDisabledChange.push($)}_unregisterOnDisabledChange($){nn(this._onDisabledChange,$)}_forEachChild($){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($){this._isBoxedValue($)?(this.value=this._pendingValue=$.value,$.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$}}class Dn extends $r{constructor($,B,ge){super(Nn(B),Zn(ge,B)),this.controls=$,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($,B){return this.controls[$]?this.controls[$]:(this.controls[$]=B,B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange),B)}addControl($,B,ge={}){this.registerControl($,B),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}removeControl($,B={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}setControl($,B,ge={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],B&&this.registerControl($,B),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}contains($){return this.controls.hasOwnProperty($)&&this.controls[$].enabled}setValue($,B={}){Ki(this,$),Object.keys($).forEach(ge=>{Ai(this,ge),this.controls[ge].setValue($[ge],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue($,B={}){null!=$&&(Object.keys($).forEach(ge=>{this.controls[ge]&&this.controls[ge].patchValue($[ge],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset($={},B={}){this._forEachChild((ge,Yt)=>{ge.reset($[Yt],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this._reduceChildren({},($,B,ge)=>($[ge]=Qr(B),$))}_syncPendingControls(){let $=this._reduceChildren(!1,(B,ge)=>!!ge._syncPendingControls()||B);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){Object.keys(this.controls).forEach(B=>{const ge=this.controls[B];ge&&$(ge,B)})}_setUpControls(){this._forEachChild($=>{$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($){for(const B of Object.keys(this.controls)){const ge=this.controls[B];if(this.contains(B)&&$(ge))return!0}return!1}_reduceValue(){return this._reduceChildren({},($,B,ge)=>((B.enabled||this.disabled)&&($[ge]=B.value),$))}_reduceChildren($,B){let ge=$;return this._forEachChild((Yt,Ln)=>{ge=B(ge,Yt,Ln)}),ge}_allControlsDisabled(){for(const $ of Object.keys(this.controls))if(this.controls[$].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class fr extends $r{constructor($,B,ge){super(Nn(B),Zn(ge,B)),this.controls=$,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at($){return this.controls[$]}push($,B={}){this.controls.push($),this._registerControl($),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}insert($,B,ge={}){this.controls.splice($,0,B),this._registerControl(B),this.updateValueAndValidity({emitEvent:ge.emitEvent})}removeAt($,B={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),this.controls.splice($,1),this.updateValueAndValidity({emitEvent:B.emitEvent})}setControl($,B,ge={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),this.controls.splice($,1),B&&(this.controls.splice($,0,B),this._registerControl(B)),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue($,B={}){Ki(this,$),$.forEach((ge,Yt)=>{Ai(this,Yt),this.at(Yt).setValue(ge,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue($,B={}){null!=$&&($.forEach((ge,Yt)=>{this.at(Yt)&&this.at(Yt).patchValue(ge,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset($=[],B={}){this._forEachChild((ge,Yt)=>{ge.reset($[Yt],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this.controls.map($=>Qr($))}clear($={}){this.controls.length<1||(this._forEachChild(B=>B._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:$.emitEvent}))}_syncPendingControls(){let $=this.controls.reduce((B,ge)=>!!ge._syncPendingControls()||B,!1);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){this.controls.forEach((B,ge)=>{$(B,ge)})}_updateValue(){this.value=this.controls.filter($=>$.enabled||this.disabled).map($=>$.value)}_anyControls($){return this.controls.some(B=>B.enabled&&$(B))}_setUpControls(){this._forEachChild($=>this._registerControl($))}_allControlsDisabled(){for(const $ of this.controls)if($.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl($){$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)}}const Bt={provide:Vr,useExisting:(0,f.Gpc)(()=>tr)},On=(()=>Promise.resolve(null))();let tr=(()=>{class Y extends Vr{constructor(B,ge,Yt,Ln,vn){super(),this._changeDetectorRef=vn,this.control=new zn,this._registered=!1,this.update=new f.vpe,this._parent=B,this._setValidators(ge),this._setAsyncValidators(Yt),this.valueAccessor=He(0,Ln)}ngOnChanges(B){if(this._checkForErrors(),!this._registered||"name"in B){if(this._registered&&(this._checkName(),this.formDirective)){const ge=B.name.previousValue;this.formDirective.removeControl({name:ge,path:this._getPath(ge)})}this._setUpControl()}"isDisabled"in B&&this._updateDisabled(B),Xn(B,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ce(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(B){On.then(()=>{var ge;this.control.setValue(B,{emitViewToModelChange:!1}),null===(ge=this._changeDetectorRef)||void 0===ge||ge.markForCheck()})}_updateDisabled(B){const ge=B.isDisabled.currentValue,Yt=""===ge||ge&&"false"!==ge;On.then(()=>{var Ln;Yt&&!this.control.disabled?this.control.disable():!Yt&&this.control.disabled&&this.control.enable(),null===(Ln=this._changeDetectorRef)||void 0===Ln||Ln.markForCheck()})}_getPath(B){return this._parent?bt(B,this._parent):[B]}}return Y.\u0275fac=function(B){return new(B||Y)(f.Y36(cr,9),f.Y36(Ut,10),f.Y36(nt,10),f.Y36(xe,10),f.Y36(f.sBO,8))},Y.\u0275dir=f.lG2({type:Y,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([Bt]),f.qOj,f.TTD]}),Y})(),pr=(()=>{class Y{}return Y.\u0275fac=function(B){return new(B||Y)},Y.\u0275dir=f.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Y})(),di=(()=>{class Y{}return Y.\u0275fac=function(B){return new(B||Y)},Y.\u0275mod=f.oAB({type:Y}),Y.\u0275inj=f.cJS({}),Y})();const Oo=new f.OlP("NgModelWithFormControlWarning"),Lo={provide:cr,useExisting:(0,f.Gpc)(()=>Ar)};let Ar=(()=>{class Y extends cr{constructor(B,ge){super(),this.validators=B,this.asyncValidators=ge,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(B),this._setAsyncValidators(ge)}ngOnChanges(B){this._checkFormPresent(),B.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(B){const ge=this.form.get(B.path);return Ce(ge,B),ge.updateValueAndValidity({emitEvent:!1}),this.directives.push(B),ge}getControl(B){return this.form.get(B.path)}removeControl(B){Ae(B.control||null,B,!1),nn(this.directives,B)}addFormGroup(B){this._setUpFormContainer(B)}removeFormGroup(B){this._cleanUpFormContainer(B)}getFormGroup(B){return this.form.get(B.path)}addFormArray(B){this._setUpFormContainer(B)}removeFormArray(B){this._cleanUpFormContainer(B)}getFormArray(B){return this.form.get(B.path)}updateModel(B,ge){this.form.get(B.path).setValue(ge)}onSubmit(B){return this.submitted=!0,function Ve(Y,$){Y._syncPendingControls(),$.forEach(B=>{const ge=B.control;"submit"===ge.updateOn&&ge._pendingChange&&(B.viewToModelUpdate(ge._pendingValue),ge._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(B),!1}onReset(){this.resetForm()}resetForm(B){this.form.reset(B),this.submitted=!1}_updateDomValue(){this.directives.forEach(B=>{const ge=B.control,Yt=this.form.get(B.path);ge!==Yt&&(Ae(ge||null,B),ci(Yt)&&(Ce(Yt,B),B.control=Yt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(B){const ge=this.form.get(B.path);(function ni(Y,$){Pt(Y,$)})(ge,B),ge.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(B){if(this.form){const ge=this.form.get(B.path);ge&&function kt(Y,$){return Jt(Y,$)}(ge,B)&&ge.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pt(this.form,this),this._oldForm&&Jt(this._oldForm,this)}_checkFormPresent(){}}return Y.\u0275fac=function(B){return new(B||Y)(f.Y36(Ut,10),f.Y36(nt,10))},Y.\u0275dir=f.lG2({type:Y,selectors:[["","formGroup",""]],hostBindings:function(B,ge){1&B&&f.NdJ("submit",function(Ln){return ge.onSubmit(Ln)})("reset",function(){return ge.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Lo]),f.qOj,f.TTD]}),Y})();const q={provide:Vr,useExisting:(0,f.Gpc)(()=>Me)};let Me=(()=>{class Y extends Vr{constructor(B,ge,Yt,Ln,vn){super(),this._ngModelWarningConfig=vn,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=B,this._setValidators(ge),this._setAsyncValidators(Yt),this.valueAccessor=He(0,Ln)}set isDisabled(B){}ngOnChanges(B){this._added||this._setUpControl(),Xn(B,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}get path(){return bt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return Y._ngModelWarningSentOnce=!1,Y.\u0275fac=function(B){return new(B||Y)(f.Y36(cr,13),f.Y36(Ut,10),f.Y36(nt,10),f.Y36(xe,10),f.Y36(Oo,8))},Y.\u0275dir=f.lG2({type:Y,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([q]),f.qOj,f.TTD]}),Y})(),_i=(()=>{class Y{}return Y.\u0275fac=function(B){return new(B||Y)},Y.\u0275mod=f.oAB({type:Y}),Y.\u0275inj=f.cJS({imports:[[di]]}),Y})(),ji=(()=>{class Y{}return Y.\u0275fac=function(B){return new(B||Y)},Y.\u0275mod=f.oAB({type:Y}),Y.\u0275inj=f.cJS({imports:[_i]}),Y})(),Hi=(()=>{class Y{static withConfig(B){return{ngModule:Y,providers:[{provide:Oo,useValue:B.warnOnNgModelWithFormControl}]}}}return Y.\u0275fac=function(B){return new(B||Y)},Y.\u0275mod=f.oAB({type:Y}),Y.\u0275inj=f.cJS({imports:[_i]}),Y})()},2313:(wr,an,fe)=>{"use strict";fe.d(an,{b2:()=>Kn,H7:()=>Jn,q6:()=>Pr});var f=fe(9808),j=fe(2096);class H extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class tt extends H{static makeCurrent(){(0,f.HT)(new tt)}onAndCancel(dt,ke,mt){return dt.addEventListener(ke,mt,!1),()=>{dt.removeEventListener(ke,mt,!1)}}dispatchEvent(dt,ke){dt.dispatchEvent(ke)}remove(dt){dt.parentNode&&dt.parentNode.removeChild(dt)}createElement(dt,ke){return(ke=ke||this.getDefaultDocument()).createElement(dt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(dt){return dt.nodeType===Node.ELEMENT_NODE}isShadowRoot(dt){return dt instanceof DocumentFragment}getGlobalEventTarget(dt,ke){return"window"===ke?window:"document"===ke?dt:"body"===ke?dt.body:null}getBaseHref(dt){const ke=function we(){return Le=Le||document.querySelector("base"),Le?Le.getAttribute("href"):null}();return null==ke?null:function Dt(kt){_e=_e||document.createElement("a"),_e.setAttribute("href",kt);const dt=_e.pathname;return"/"===dt.charAt(0)?dt:`/${dt}`}(ke)}resetBaseElement(){Le=null}getUserAgent(){return window.navigator.userAgent}getCookie(dt){return(0,f.Mx)(document.cookie,dt)}}let _e,Le=null;const qe=new j.OlP("TRANSITION_ID"),Se=[{provide:j.ip1,useFactory:function x(kt,dt,ke){return()=>{ke.get(j.CZH).donePromise.then(()=>{const mt=(0,f.q)(),Lt=dt.querySelectorAll(`style[ng-transition="${kt}"]`);for(let Xn=0;Xn<Lt.length;Xn++)mt.remove(Lt[Xn])})}},deps:[qe,f.K0,j.zs3],multi:!0}];class xe{static init(){(0,j.VLi)(new xe)}addToWindow(dt){j.dqk.getAngularTestability=(mt,Lt=!0)=>{const Xn=dt.findTestabilityInTree(mt,Lt);if(null==Xn)throw new Error("Could not find testability for element.");return Xn},j.dqk.getAllAngularTestabilities=()=>dt.getAllTestabilities(),j.dqk.getAllAngularRootElements=()=>dt.getAllRootElements(),j.dqk.frameworkStabilizers||(j.dqk.frameworkStabilizers=[]),j.dqk.frameworkStabilizers.push(mt=>{const Lt=j.dqk.getAllAngularTestabilities();let Xn=Lt.length,Er=!1;const Ve=function(He){Er=Er||He,Xn--,0==Xn&&mt(Er)};Lt.forEach(function(He){He.whenStable(Ve)})})}findTestabilityInTree(dt,ke,mt){if(null==ke)return null;const Lt=dt.getTestability(ke);return null!=Lt?Lt:mt?(0,f.q)().isShadowRoot(ke)?this.findTestabilityInTree(dt,ke.host,!0):this.findTestabilityInTree(dt,ke.parentElement,!0):null}}let ce=(()=>{class kt{build(){return new XMLHttpRequest}}return kt.\u0275fac=function(ke){return new(ke||kt)},kt.\u0275prov=j.Yz7({token:kt,factory:kt.\u0275fac}),kt})();const ve=new j.OlP("EventManagerPlugins");let Pe=(()=>{class kt{constructor(ke,mt){this._zone=mt,this._eventNameToPlugin=new Map,ke.forEach(Lt=>Lt.manager=this),this._plugins=ke.slice().reverse()}addEventListener(ke,mt,Lt){return this._findPluginFor(mt).addEventListener(ke,mt,Lt)}addGlobalEventListener(ke,mt,Lt){return this._findPluginFor(mt).addGlobalEventListener(ke,mt,Lt)}getZone(){return this._zone}_findPluginFor(ke){const mt=this._eventNameToPlugin.get(ke);if(mt)return mt;const Lt=this._plugins;for(let Xn=0;Xn<Lt.length;Xn++){const Er=Lt[Xn];if(Er.supports(ke))return this._eventNameToPlugin.set(ke,Er),Er}throw new Error(`No event manager plugin found for event ${ke}`)}}return kt.\u0275fac=function(ke){return new(ke||kt)(j.LFG(ve),j.LFG(j.R0b))},kt.\u0275prov=j.Yz7({token:kt,factory:kt.\u0275fac}),kt})();class ue{constructor(dt){this._doc=dt}addGlobalEventListener(dt,ke,mt){const Lt=(0,f.q)().getGlobalEventTarget(this._doc,dt);if(!Lt)throw new Error(`Unsupported event target ${Lt} for event ${ke}`);return this.addEventListener(Lt,ke,mt)}}let Ge=(()=>{class kt{constructor(){this._stylesSet=new Set}addStyles(ke){const mt=new Set;ke.forEach(Lt=>{this._stylesSet.has(Lt)||(this._stylesSet.add(Lt),mt.add(Lt))}),this.onStylesAdded(mt)}onStylesAdded(ke){}getAllStyles(){return Array.from(this._stylesSet)}}return kt.\u0275fac=function(ke){return new(ke||kt)},kt.\u0275prov=j.Yz7({token:kt,factory:kt.\u0275fac}),kt})(),Qe=(()=>{class kt extends Ge{constructor(ke){super(),this._doc=ke,this._hostNodes=new Map,this._hostNodes.set(ke.head,[])}_addStylesToHost(ke,mt,Lt){ke.forEach(Xn=>{const Er=this._doc.createElement("style");Er.textContent=Xn,Lt.push(mt.appendChild(Er))})}addHost(ke){const mt=[];this._addStylesToHost(this._stylesSet,ke,mt),this._hostNodes.set(ke,mt)}removeHost(ke){const mt=this._hostNodes.get(ke);mt&&mt.forEach(ct),this._hostNodes.delete(ke)}onStylesAdded(ke){this._hostNodes.forEach((mt,Lt)=>{this._addStylesToHost(ke,Lt,mt)})}ngOnDestroy(){this._hostNodes.forEach(ke=>ke.forEach(ct))}}return kt.\u0275fac=function(ke){return new(ke||kt)(j.LFG(f.K0))},kt.\u0275prov=j.Yz7({token:kt,factory:kt.\u0275fac}),kt})();function ct(kt){(0,f.q)().remove(kt)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ut=/%COMP%/g;function ze(kt,dt,ke){for(let mt=0;mt<dt.length;mt++){let Lt=dt[mt];Array.isArray(Lt)?ze(kt,Lt,ke):(Lt=Lt.replace(Ut,kt),ke.push(Lt))}return ke}function ae(kt){return dt=>{if("__ngUnwrap__"===dt)return kt;!1===kt(dt)&&(dt.preventDefault(),dt.returnValue=!1)}}let Ke=(()=>{class kt{constructor(ke,mt,Lt){this.eventManager=ke,this.sharedStylesHost=mt,this.appId=Lt,this.rendererByCompId=new Map,this.defaultRenderer=new at(ke)}createRenderer(ke,mt){if(!ke||!mt)return this.defaultRenderer;switch(mt.encapsulation){case j.ifc.Emulated:{let Lt=this.rendererByCompId.get(mt.id);return Lt||(Lt=new Tt(this.eventManager,this.sharedStylesHost,mt,this.appId),this.rendererByCompId.set(mt.id,Lt)),Lt.applyToHost(ke),Lt}case 1:case j.ifc.ShadowDom:return new At(this.eventManager,this.sharedStylesHost,ke,mt);default:if(!this.rendererByCompId.has(mt.id)){const Lt=ze(mt.id,mt.styles,[]);this.sharedStylesHost.addStyles(Lt),this.rendererByCompId.set(mt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return kt.\u0275fac=function(ke){return new(ke||kt)(j.LFG(Pe),j.LFG(Qe),j.LFG(j.AFp))},kt.\u0275prov=j.Yz7({token:kt,factory:kt.\u0275fac}),kt})();class at{constructor(dt){this.eventManager=dt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(dt,ke){return ke?document.createElementNS(wt[ke]||ke,dt):document.createElement(dt)}createComment(dt){return document.createComment(dt)}createText(dt){return document.createTextNode(dt)}appendChild(dt,ke){dt.appendChild(ke)}insertBefore(dt,ke,mt){dt&&dt.insertBefore(ke,mt)}removeChild(dt,ke){dt&&dt.removeChild(ke)}selectRootElement(dt,ke){let mt="string"==typeof dt?document.querySelector(dt):dt;if(!mt)throw new Error(`The selector "${dt}" did not match any elements`);return ke||(mt.textContent=""),mt}parentNode(dt){return dt.parentNode}nextSibling(dt){return dt.nextSibling}setAttribute(dt,ke,mt,Lt){if(Lt){ke=Lt+":"+ke;const Xn=wt[Lt];Xn?dt.setAttributeNS(Xn,ke,mt):dt.setAttribute(ke,mt)}else dt.setAttribute(ke,mt)}removeAttribute(dt,ke,mt){if(mt){const Lt=wt[mt];Lt?dt.removeAttributeNS(Lt,ke):dt.removeAttribute(`${mt}:${ke}`)}else dt.removeAttribute(ke)}addClass(dt,ke){dt.classList.add(ke)}removeClass(dt,ke){dt.classList.remove(ke)}setStyle(dt,ke,mt,Lt){Lt&(j.JOm.DashCase|j.JOm.Important)?dt.style.setProperty(ke,mt,Lt&j.JOm.Important?"important":""):dt.style[ke]=mt}removeStyle(dt,ke,mt){mt&j.JOm.DashCase?dt.style.removeProperty(ke):dt.style[ke]=""}setProperty(dt,ke,mt){dt[ke]=mt}setValue(dt,ke){dt.nodeValue=ke}listen(dt,ke,mt){return"string"==typeof dt?this.eventManager.addGlobalEventListener(dt,ke,ae(mt)):this.eventManager.addEventListener(dt,ke,ae(mt))}}class Tt extends at{constructor(dt,ke,mt,Lt){super(dt),this.component=mt;const Xn=ze(Lt+"-"+mt.id,mt.styles,[]);ke.addStyles(Xn),this.contentAttr=function rn(kt){return"_ngcontent-%COMP%".replace(Ut,kt)}(Lt+"-"+mt.id),this.hostAttr=function Ye(kt){return"_nghost-%COMP%".replace(Ut,kt)}(Lt+"-"+mt.id)}applyToHost(dt){super.setAttribute(dt,this.hostAttr,"")}createElement(dt,ke){const mt=super.createElement(dt,ke);return super.setAttribute(mt,this.contentAttr,""),mt}}class At extends at{constructor(dt,ke,mt,Lt){super(dt),this.sharedStylesHost=ke,this.hostEl=mt,this.shadowRoot=mt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Xn=ze(Lt.id,Lt.styles,[]);for(let Er=0;Er<Xn.length;Er++){const Ve=document.createElement("style");Ve.textContent=Xn[Er],this.shadowRoot.appendChild(Ve)}}nodeOrShadowRoot(dt){return dt===this.hostEl?this.shadowRoot:dt}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(dt,ke){return super.appendChild(this.nodeOrShadowRoot(dt),ke)}insertBefore(dt,ke,mt){return super.insertBefore(this.nodeOrShadowRoot(dt),ke,mt)}removeChild(dt,ke){return super.removeChild(this.nodeOrShadowRoot(dt),ke)}parentNode(dt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(dt)))}}let Rt=(()=>{class kt extends ue{constructor(ke){super(ke)}supports(ke){return!0}addEventListener(ke,mt,Lt){return ke.addEventListener(mt,Lt,!1),()=>this.removeEventListener(ke,mt,Lt)}removeEventListener(ke,mt,Lt){return ke.removeEventListener(mt,Lt)}}return kt.\u0275fac=function(ke){return new(ke||kt)(j.LFG(f.K0))},kt.\u0275prov=j.Yz7({token:kt,factory:kt.\u0275fac}),kt})();const St=["alt","control","meta","shift"],Mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ft={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},on={alt:kt=>kt.altKey,control:kt=>kt.ctrlKey,meta:kt=>kt.metaKey,shift:kt=>kt.shiftKey};let We=(()=>{class kt extends ue{constructor(ke){super(ke)}supports(ke){return null!=kt.parseEventName(ke)}addEventListener(ke,mt,Lt){const Xn=kt.parseEventName(mt),Er=kt.eventCallback(Xn.fullKey,Lt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(ke,Xn.domEventName,Er))}static parseEventName(ke){const mt=ke.toLowerCase().split("."),Lt=mt.shift();if(0===mt.length||"keydown"!==Lt&&"keyup"!==Lt)return null;const Xn=kt._normalizeKey(mt.pop());let Er="";if(St.forEach(He=>{const nn=mt.indexOf(He);nn>-1&&(mt.splice(nn,1),Er+=He+".")}),Er+=Xn,0!=mt.length||0===Xn.length)return null;const Ve={};return Ve.domEventName=Lt,Ve.fullKey=Er,Ve}static getEventFullKey(ke){let mt="",Lt=function Bn(kt){let dt=kt.key;if(null==dt){if(dt=kt.keyIdentifier,null==dt)return"Unidentified";dt.startsWith("U+")&&(dt=String.fromCharCode(parseInt(dt.substring(2),16)),3===kt.location&&Ft.hasOwnProperty(dt)&&(dt=Ft[dt]))}return Mt[dt]||dt}(ke);return Lt=Lt.toLowerCase()," "===Lt?Lt="space":"."===Lt&&(Lt="dot"),St.forEach(Xn=>{Xn!=Lt&&on[Xn](ke)&&(mt+=Xn+".")}),mt+=Lt,mt}static eventCallback(ke,mt,Lt){return Xn=>{kt.getEventFullKey(Xn)===ke&&Lt.runGuarded(()=>mt(Xn))}}static _normalizeKey(ke){return"esc"===ke?"escape":ke}}return kt.\u0275fac=function(ke){return new(ke||kt)(j.LFG(f.K0))},kt.\u0275prov=j.Yz7({token:kt,factory:kt.\u0275fac}),kt})();const Pr=(0,j.eFA)(j._c5,"browser",[{provide:j.Lbi,useValue:f.bD},{provide:j.g9A,useValue:function yn(){tt.makeCurrent(),xe.init()},multi:!0},{provide:f.K0,useFactory:function Mn(){return(0,j.RDi)(document),document},deps:[]}]),or=[{provide:j.zSh,useValue:"root"},{provide:j.qLn,useFactory:function ar(){return new j.qLn},deps:[]},{provide:ve,useClass:Rt,multi:!0,deps:[f.K0,j.R0b,j.Lbi]},{provide:ve,useClass:We,multi:!0,deps:[f.K0]},{provide:Ke,useClass:Ke,deps:[Pe,Qe,j.AFp]},{provide:j.FYo,useExisting:Ke},{provide:Ge,useExisting:Qe},{provide:Qe,useClass:Qe,deps:[f.K0]},{provide:j.dDg,useClass:j.dDg,deps:[j.R0b]},{provide:Pe,useClass:Pe,deps:[ve,j.R0b]},{provide:f.JF,useClass:ce,deps:[]}];let Kn=(()=>{class kt{constructor(ke){if(ke)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ke){return{ngModule:kt,providers:[{provide:j.AFp,useValue:ke.appId},{provide:qe,useExisting:j.AFp},Se]}}}return kt.\u0275fac=function(ke){return new(ke||kt)(j.LFG(kt,12))},kt.\u0275mod=j.oAB({type:kt}),kt.\u0275inj=j.cJS({providers:or,imports:[f.ez,j.hGG]}),kt})();"undefined"!=typeof window&&window;let Jn=(()=>{class kt{}return kt.\u0275fac=function(ke){return new(ke||kt)},kt.\u0275prov=j.Yz7({token:kt,factory:function(ke){let mt=null;return mt=ke?new(ke||kt):j.LFG(sr),mt},providedIn:"root"}),kt})(),sr=(()=>{class kt extends Jn{constructor(ke){super(),this._doc=ke}sanitize(ke,mt){if(null==mt)return null;switch(ke){case j.q3G.NONE:return mt;case j.q3G.HTML:return(0,j.qzn)(mt,"HTML")?(0,j.z3N)(mt):(0,j.EiD)(this._doc,String(mt)).toString();case j.q3G.STYLE:return(0,j.qzn)(mt,"Style")?(0,j.z3N)(mt):mt;case j.q3G.SCRIPT:if((0,j.qzn)(mt,"Script"))return(0,j.z3N)(mt);throw new Error("unsafe value used in a script context");case j.q3G.URL:return(0,j.yhl)(mt),(0,j.qzn)(mt,"URL")?(0,j.z3N)(mt):(0,j.mCW)(String(mt));case j.q3G.RESOURCE_URL:if((0,j.qzn)(mt,"ResourceURL"))return(0,j.z3N)(mt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ke} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ke){return(0,j.JVY)(ke)}bypassSecurityTrustStyle(ke){return(0,j.L6k)(ke)}bypassSecurityTrustScript(ke){return(0,j.eBb)(ke)}bypassSecurityTrustUrl(ke){return(0,j.LAX)(ke)}bypassSecurityTrustResourceUrl(ke){return(0,j.pB0)(ke)}}return kt.\u0275fac=function(ke){return new(ke||kt)(j.LFG(f.K0))},kt.\u0275prov=j.Yz7({token:kt,factory:function(ke){let mt=null;return mt=ke?new ke:function Cr(kt){return new sr(kt.get(f.K0))}(j.LFG(j.zs3)),mt},providedIn:"root"}),kt})()},501:(wr,an,fe)=>{"use strict";fe.d(an,{gz:()=>Z,y6:()=>B,OD:()=>bt,eC:()=>Lt,wm:()=>vu,wN:()=>fa,F0:()=>xi,rH:()=>Pu,Bz:()=>na,Hx:()=>be});var f=fe(2096),j=fe(2866),H=fe(3009),tt=fe(6454);function Le(...N){let A=N[N.length-1];return(0,j.K)(A)?(N.pop(),(0,tt.r)(N,A)):(0,H.n)(N)}var we=fe(6688),_e=fe(3489);class Dt extends _e.L{notifyNext(A,D,U,ee,le){this.destination.next(D)}notifyError(A,D){this.destination.error(A)}notifyComplete(A){this.destination.complete()}}class qe extends _e.L{constructor(A,D,U){super(),this.parent=A,this.outerValue=D,this.outerIndex=U,this.index=0}_next(A){this.parent.notifyNext(this.outerValue,A,this.outerIndex,this.index++,this)}_error(A){this.parent.notifyError(A,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var x=fe(9249),Se=fe(2916);function xe(N,A,D,U,ee=new qe(N,D,U)){if(!ee.closed)return A instanceof Se.y?A.subscribe(ee):(0,x.s)(A)(ee)}const ce={};class Pe{constructor(A){this.resultSelector=A}call(A,D){return D.subscribe(new ue(A,this.resultSelector))}}class ue extends Dt{constructor(A,D){super(A),this.resultSelector=D,this.active=0,this.values=[],this.observables=[]}_next(A){this.values.push(ce),this.observables.push(A)}_complete(){const A=this.observables,D=A.length;if(0===D)this.destination.complete();else{this.active=D,this.toRespond=D;for(let U=0;U<D;U++)this.add(xe(this,A[U],void 0,U))}}notifyComplete(A){0==(this.active-=1)&&this.destination.complete()}notifyNext(A,D,U){const ee=this.values,Xe=this.toRespond?ee[U]===ce?--this.toRespond:this.toRespond:0;ee[U]=D,0===Xe&&(this.resultSelector?this._tryResultSelector(ee):this.destination.next(ee.slice()))}_tryResultSelector(A){let D;try{D=this.resultSelector.apply(this,A)}catch(U){return void this.destination.error(U)}this.destination.next(D)}}function Ge(N,A){return new Se.y(A?D=>A.schedule(Qe,0,{error:N,subscriber:D}):D=>D.error(N))}function Qe({error:N,subscriber:A}){A.error(N)}const wt=(()=>{function N(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return N.prototype=Object.create(Error.prototype),N})();var Ut=fe(9146);function rt(...N){return function nt(){return(0,Ut.J)(1)}()(Le(...N))}var Nt=fe(5254);const Et=new Se.y(N=>N.complete());function rn(N){return N?function Ye(N){return new Se.y(A=>N.schedule(()=>A.complete()))}(N):Et}function ze(N){return new Se.y(A=>{let D;try{D=N()}catch(ee){return void A.error(ee)}return(D?(0,Nt.D)(D):rn()).subscribe(A)})}var ae=fe(591),Be=fe(1762),Ke=fe(5529);const Tn=(()=>{function N(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return N.prototype=Object.create(Error.prototype),N})();function gn(N){return A=>0===N?rn():A.lift(new Tt(N))}class Tt{constructor(A){if(this.total=A,this.total<0)throw new Tn}call(A,D){return D.subscribe(new At(A,this.total))}}class At extends _e.L{constructor(A,D){super(A),this.total=D,this.count=0}_next(A){const D=this.total,U=++this.count;U<=D&&(this.destination.next(A),U===D&&(this.destination.complete(),this.unsubscribe()))}}function St(N,A){let D=!1;return arguments.length>=2&&(D=!0),function(ee){return ee.lift(new yt(N,A,D))}}class yt{constructor(A,D,U=!1){this.accumulator=A,this.seed=D,this.hasSeed=U}call(A,D){return D.subscribe(new Mt(A,this.accumulator,this.seed,this.hasSeed))}}class Mt extends _e.L{constructor(A,D,U,ee){super(A),this.accumulator=D,this._seed=U,this.hasSeed=ee,this.index=0}get seed(){return this._seed}set seed(A){this.hasSeed=!0,this._seed=A}_next(A){if(this.hasSeed)return this._tryNext(A);this.seed=A,this.destination.next(A)}_tryNext(A){const D=this.index++;let U;try{U=this.accumulator(this.seed,A,D)}catch(ee){this.destination.error(ee)}this.seed=U,this.destination.next(U)}}var Ft=fe(1177);function on(N){return function(D){const U=new We(N),ee=D.lift(U);return U.caught=ee}}class We{constructor(A){this.selector=A}call(A,D){return D.subscribe(new Bn(A,this.selector,this.caught))}}class Bn extends Ft.Ds{constructor(A,D,U){super(A),this.selector=D,this.caught=U}error(A){if(!this.isStopped){let D;try{D=this.selector(A,this.caught)}catch(le){return void super.error(le)}this._unsubscribeAndRecycle();const U=new Ft.IY(this);this.add(U);const ee=(0,Ft.ft)(D,U);ee!==U&&this.add(ee)}}}var yn=fe(1709);function ar(N,A){return(0,yn.zg)(N,A,1)}var Mn=fe(2198);function er(N){return function(D){return 0===N?rn():D.lift(new Pr(N))}}class Pr{constructor(A){if(this.total=A,this.total<0)throw new Tn}call(A,D){return D.subscribe(new or(A,this.total))}}class or extends _e.L{constructor(A,D){super(A),this.total=D,this.ring=new Array,this.count=0}_next(A){const D=this.ring,U=this.total,ee=this.count++;D.length<U?D.push(A):D[ee%U]=A}_complete(){const A=this.destination;let D=this.count;if(D>0){const U=this.count>=this.total?this.total:this.count,ee=this.ring;for(let le=0;le<U;le++){const Xe=D++%U;A.next(ee[Xe])}}A.complete()}}function Kn(N=Fr){return A=>A.lift(new Vr(N))}class Vr{constructor(A){this.errorFactory=A}call(A,D){return D.subscribe(new cr(A,this.errorFactory))}}class cr extends _e.L{constructor(A,D){super(A),this.errorFactory=D,this.hasValue=!1}_next(A){this.hasValue=!0,this.destination.next(A)}_complete(){if(this.hasValue)return this.destination.complete();{let A;try{A=this.errorFactory()}catch(D){A=D}this.destination.error(A)}}}function Fr(){return new wt}function Lr(N=null){return A=>A.lift(new Sr(N))}class Sr{constructor(A){this.defaultValue=A}call(A,D){return D.subscribe(new rr(A,this.defaultValue))}}class rr extends _e.L{constructor(A,D){super(A),this.defaultValue=D,this.isEmpty=!0}_next(A){this.isEmpty=!1,this.destination.next(A)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Rr=fe(5379);function Hr(N,A){const D=arguments.length>=2;return U=>U.pipe(N?(0,Mn.h)((ee,le)=>N(ee,le,U)):Rr.y,gn(1),D?Lr(A):Kn(()=>new wt))}function Gn(){}var nr=fe(7043);function br(N,A,D){return function(ee){return ee.lift(new $t(N,A,D))}}class $t{constructor(A,D,U){this.nextOrObserver=A,this.error=D,this.complete=U}call(A,D){return D.subscribe(new Qn(A,this.nextOrObserver,this.error,this.complete))}}class Qn extends _e.L{constructor(A,D,U,ee){super(A),this._tapNext=Gn,this._tapError=Gn,this._tapComplete=Gn,this._tapError=U||Gn,this._tapComplete=ee||Gn,(0,nr.m)(D)?(this._context=this,this._tapNext=D):D&&(this._context=D,this._tapNext=D.next||Gn,this._tapError=D.error||Gn,this._tapComplete=D.complete||Gn)}_next(A){try{this._tapNext.call(this._context,A)}catch(D){return void this.destination.error(D)}this.destination.next(A)}_error(A){try{this._tapError.call(this._context,A)}catch(D){return void this.destination.error(D)}this.destination.error(A)}_complete(){try{this._tapComplete.call(this._context)}catch(A){return void this.destination.error(A)}return this.destination.complete()}}var vr=fe(2654);class xr{constructor(A){this.callback=A}call(A,D){return D.subscribe(new Si(A,this.callback))}}class Si extends _e.L{constructor(A,D){super(A),this.add(new vr.w(D))}}var Or=fe(4850),kr=fe(7545),Zr=fe(4327),it=fe(9808);class Ue{constructor(A,D){this.id=A,this.url=D}}class bt extends Ue{constructor(A,D,U="imperative",ee=null){super(A,D),this.navigationTrigger=U,this.restoredState=ee}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ce extends Ue{constructor(A,D,U){super(A,D),this.urlAfterRedirects=U}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ae extends Ue{constructor(A,D,U){super(A,D),this.reason=U}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class st extends Ue{constructor(A,D,U){super(A,D),this.error=U}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ot extends Ue{constructor(A,D,U,ee){super(A,D),this.urlAfterRedirects=U,this.state=ee}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pt extends Ue{constructor(A,D,U,ee){super(A,D),this.urlAfterRedirects=U,this.state=ee}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jt extends Ue{constructor(A,D,U,ee,le){super(A,D),this.urlAfterRedirects=U,this.state=ee,this.shouldActivate=le}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fn extends Ue{constructor(A,D,U,ee){super(A,D),this.urlAfterRedirects=U,this.state=ee}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends Ue{constructor(A,D,U,ee){super(A,D),this.urlAfterRedirects=U,this.state=ee}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cr{constructor(A){this.route=A}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sr{constructor(A){this.route=A}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ni{constructor(A){this.snapshot=A}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kt{constructor(A){this.snapshot=A}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dt{constructor(A){this.snapshot=A}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ke{constructor(A){this.snapshot=A}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mt{constructor(A,D,U){this.routerEvent=A,this.position=D,this.anchor=U}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Lt="primary";class Xn{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const D=this.params[A];return Array.isArray(D)?D[0]:D}return null}getAll(A){if(this.has(A)){const D=this.params[A];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function Er(N){return new Xn(N)}const Ve="ngNavigationCancelingError";function He(N){const A=Error("NavigationCancelingError: "+N);return A[Ve]=!0,A}function zt(N,A,D){const U=D.path.split("/");if(U.length>N.length||"full"===D.pathMatch&&(A.hasChildren()||U.length<N.length))return null;const ee={};for(let le=0;le<U.length;le++){const Xe=U[le],gt=N[le];if(Xe.startsWith(":"))ee[Xe.substring(1)]=gt;else if(Xe!==gt.path)return null}return{consumed:N.slice(0,U.length),posParams:ee}}function dn(N,A){const D=N?Object.keys(N):void 0,U=A?Object.keys(A):void 0;if(!D||!U||D.length!=U.length)return!1;let ee;for(let le=0;le<D.length;le++)if(ee=D[le],!cn(N[ee],A[ee]))return!1;return!0}function cn(N,A){if(Array.isArray(N)&&Array.isArray(A)){if(N.length!==A.length)return!1;const D=[...N].sort(),U=[...A].sort();return D.every((ee,le)=>U[le]===ee)}return N===A}function An(N){return Array.prototype.concat.apply([],N)}function In(N){return N.length>0?N[N.length-1]:null}function Nn(N,A){for(const D in N)N.hasOwnProperty(D)&&A(N[D],D)}function lr(N){return(0,f.CqO)(N)?N:(0,f.QGY)(N)?(0,Nt.D)(Promise.resolve(N)):Le(N)}const ii={exact:function _r(N,A,D){if(!ne(N.segments,A.segments)||!$r(N.segments,A.segments,D)||N.numberOfChildren!==A.numberOfChildren)return!1;for(const U in A.children)if(!N.children[U]||!_r(N.children[U],A.children[U],D))return!1;return!0},subset:Ai},Di={exact:function bn(N,A){return dn(N,A)},subset:function Qr(N,A){return Object.keys(A).length<=Object.keys(N).length&&Object.keys(A).every(D=>cn(N[D],A[D]))},ignored:()=>!0};function ci(N,A,D){return ii[D.paths](N.root,A.root,D.matrixParams)&&Di[D.queryParams](N.queryParams,A.queryParams)&&!("exact"===D.fragment&&N.fragment!==A.fragment)}function Ai(N,A,D){return Ki(N,A,A.segments,D)}function Ki(N,A,D,U){if(N.segments.length>D.length){const ee=N.segments.slice(0,D.length);return!(!ne(ee,D)||A.hasChildren()||!$r(ee,D,U))}if(N.segments.length===D.length){if(!ne(N.segments,D)||!$r(N.segments,D,U))return!1;for(const ee in A.children)if(!N.children[ee]||!Ai(N.children[ee],A.children[ee],U))return!1;return!0}{const ee=D.slice(0,N.segments.length),le=D.slice(N.segments.length);return!!(ne(N.segments,ee)&&$r(N.segments,ee,U)&&N.children[Lt])&&Ki(N.children[Lt],A,le,U)}}function $r(N,A,D){return A.every((U,ee)=>Di[D](N[ee].parameters,U.parameters))}class zn{constructor(A,D,U){this.root=A,this.queryParams=D,this.fragment=U}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Er(this.queryParams)),this._queryParamMap}toString(){return ut.serialize(this)}}class Dn{constructor(A,D){this.segments=A,this.children=D,this.parent=null,Nn(D,(U,ee)=>U.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lt(this)}}class fr{constructor(A,D){this.path=A,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=Er(this.parameters)),this._parameterMap}toString(){return Ir(this)}}function ne(N,A){return N.length===A.length&&N.every((D,U)=>D.path===A[U].path)}class be{}class Fe{parse(A){const D=new Oo(A);return new zn(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(A){const D=`/${It(A.root,!0)}`,U=function Wr(N){const A=Object.keys(N).map(D=>{const U=N[D];return Array.isArray(U)?U.map(ee=>`${Wt(D)}=${Wt(ee)}`).join("&"):`${Wt(D)}=${Wt(U)}`}).filter(D=>!!D);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${D}${U}${"string"==typeof A.fragment?`#${function Bt(N){return encodeURI(N)}(A.fragment)}`:""}`}}const ut=new Fe;function lt(N){return N.segments.map(A=>Ir(A)).join("/")}function It(N,A){if(!N.hasChildren())return lt(N);if(A){const D=N.children[Lt]?It(N.children[Lt],!1):"",U=[];return Nn(N.children,(ee,le)=>{le!==Lt&&U.push(`${le}:${It(ee,!1)}`)}),U.length>0?`${D}(${U.join("//")})`:D}{const D=function Oe(N,A){let D=[];return Nn(N.children,(U,ee)=>{ee===Lt&&(D=D.concat(A(U,ee)))}),Nn(N.children,(U,ee)=>{ee!==Lt&&(D=D.concat(A(U,ee)))}),D}(N,(U,ee)=>ee===Lt?[It(N.children[Lt],!1)]:[`${ee}:${It(U,!1)}`]);return 1===Object.keys(N.children).length&&null!=N.children[Lt]?`${lt(N)}/${D[0]}`:`${lt(N)}/(${D.join("//")})`}}function en(N){return encodeURIComponent(N).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wt(N){return en(N).replace(/%3B/gi,";")}function On(N){return en(N).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tr(N){return decodeURIComponent(N)}function pr(N){return tr(N.replace(/\+/g,"%20"))}function Ir(N){return`${On(N.path)}${function lo(N){return Object.keys(N).map(A=>`;${On(A)}=${On(N[A])}`).join("")}(N.parameters)}`}const Zi=/^[^\/()?;=#]+/;function di(N){const A=N.match(Zi);return A?A[0]:""}const $i=/^[^=?&#]+/,rs=/^[^&#]+/;class Oo{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let U={};return this.peekStartsWith("(")&&(U=this.parseParens(!1)),(A.length>0||Object.keys(D).length>0)&&(U[Lt]=new Dn(A,D)),U}parseSegment(){const A=di(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(A),new fr(tr(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const D=di(this.remaining);if(!D)return;this.capture(D);let U="";if(this.consumeOptional("=")){const ee=di(this.remaining);ee&&(U=ee,this.capture(U))}A[tr(D)]=tr(U)}parseQueryParam(A){const D=function Do(N){const A=N.match($i);return A?A[0]:""}(this.remaining);if(!D)return;this.capture(D);let U="";if(this.consumeOptional("=")){const Xe=function gr(N){const A=N.match(rs);return A?A[0]:""}(this.remaining);Xe&&(U=Xe,this.capture(U))}const ee=pr(D),le=pr(U);if(A.hasOwnProperty(ee)){let Xe=A[ee];Array.isArray(Xe)||(Xe=[Xe],A[ee]=Xe),Xe.push(le)}else A[ee]=le}parseParens(A){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const U=di(this.remaining),ee=this.remaining[U.length];if("/"!==ee&&")"!==ee&&";"!==ee)throw new Error(`Cannot parse url '${this.url}'`);let le;U.indexOf(":")>-1?(le=U.substr(0,U.indexOf(":")),this.capture(le),this.capture(":")):A&&(le=Lt);const Xe=this.parseChildren();D[le]=1===Object.keys(Xe).length?Xe[Lt]:new Dn([],Xe),this.consumeOptional("//")}return D}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new Error(`Expected "${A}".`)}}class wo{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const D=this.pathFromRoot(A);return D.length>1?D[D.length-2]:null}children(A){const D=Xi(A,this._root);return D?D.children.map(U=>U.value):[]}firstChild(A){const D=Xi(A,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(A){const D=Lo(A,this._root);return D.length<2?[]:D[D.length-2].children.map(ee=>ee.value).filter(ee=>ee!==A)}pathFromRoot(A){return Lo(A,this._root).map(D=>D.value)}}function Xi(N,A){if(N===A.value)return A;for(const D of A.children){const U=Xi(N,D);if(U)return U}return null}function Lo(N,A){if(N===A.value)return[A];for(const D of A.children){const U=Lo(N,D);if(U.length)return U.unshift(A),U}return[]}class Ar{constructor(A,D){this.value=A,this.children=D}toString(){return`TreeNode(${this.value})`}}function Yr(N){const A={};return N&&N.children.forEach(D=>A[D.value.outlet]=D),A}class ur extends wo{constructor(A,D){super(A),this.snapshot=D,jt(this,A)}toString(){return this.snapshot.toString()}}function li(N,A){const D=function bo(N,A){const Xe=new Je([],{},{},"",{},Lt,A,null,N.root,-1,{});return new Ct("",new Ar(Xe,[]))}(N,A),U=new ae.X([new fr("",{})]),ee=new ae.X({}),le=new ae.X({}),Xe=new ae.X({}),gt=new ae.X(""),un=new Z(U,ee,Xe,gt,le,Lt,A,D.root);return un.snapshot=D.root,new ur(new Ar(un,[]),D)}class Z{constructor(A,D,U,ee,le,Xe,gt,un){this.url=A,this.params=D,this.queryParams=U,this.fragment=ee,this.data=le,this.outlet=Xe,this.component=gt,this._futureSnapshot=un}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Or.U)(A=>Er(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Or.U)(A=>Er(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function q(N,A="emptyOnly"){const D=N.pathFromRoot;let U=0;if("always"!==A)for(U=D.length-1;U>=1;){const ee=D[U],le=D[U-1];if(ee.routeConfig&&""===ee.routeConfig.path)U--;else{if(le.component)break;U--}}return function Me(N){return N.reduce((A,D)=>({params:Object.assign(Object.assign({},A.params),D.params),data:Object.assign(Object.assign({},A.data),D.data),resolve:Object.assign(Object.assign({},A.resolve),D._resolvedData)}),{params:{},data:{},resolve:{}})}(D.slice(U))}class Je{constructor(A,D,U,ee,le,Xe,gt,un,ir,Oi,Nr){this.url=A,this.params=D,this.queryParams=U,this.fragment=ee,this.data=le,this.outlet=Xe,this.component=gt,this.routeConfig=un,this._urlSegment=ir,this._lastPathIndex=Oi,this._resolve=Nr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Er(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Er(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(U=>U.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ct extends wo{constructor(A,D){super(D),this.url=A,jt(this,D)}toString(){return En(this._root)}}function jt(N,A){A.value._routerState=N,A.children.forEach(D=>jt(N,D))}function En(N){const A=N.children.length>0?` { ${N.children.map(En).join(", ")} } `:"";return`${N.value}${A}`}function xn(N){if(N.snapshot){const A=N.snapshot,D=N._futureSnapshot;N.snapshot=D,dn(A.queryParams,D.queryParams)||N.queryParams.next(D.queryParams),A.fragment!==D.fragment&&N.fragment.next(D.fragment),dn(A.params,D.params)||N.params.next(D.params),function tn(N,A){if(N.length!==A.length)return!1;for(let D=0;D<N.length;++D)if(!dn(N[D],A[D]))return!1;return!0}(A.url,D.url)||N.url.next(D.url),dn(A.data,D.data)||N.data.next(D.data)}else N.snapshot=N._futureSnapshot,N.data.next(N._futureSnapshot.data)}function Un(N,A){const D=dn(N.params,A.params)&&function gi(N,A){return ne(N,A)&&N.every((D,U)=>dn(D.parameters,A[U].parameters))}(N.url,A.url);return D&&!(!N.parent!=!A.parent)&&(!N.parent||Un(N.parent,A.parent))}function dr(N,A,D){if(D&&N.shouldReuseRoute(A.value,D.value.snapshot)){const U=D.value;U._futureSnapshot=A.value;const ee=function oi(N,A,D){return A.children.map(U=>{for(const ee of D.children)if(N.shouldReuseRoute(U.value,ee.value.snapshot))return dr(N,U,ee);return dr(N,U)})}(N,A,D);return new Ar(U,ee)}{if(N.shouldAttach(A.value)){const le=N.retrieve(A.value);if(null!==le){const Xe=le.route;return Xe.value._futureSnapshot=A.value,Xe.children=A.children.map(gt=>dr(N,gt)),Xe}}const U=function mi(N){return new Z(new ae.X(N.url),new ae.X(N.params),new ae.X(N.queryParams),new ae.X(N.fragment),new ae.X(N.data),N.outlet,N.component,N)}(A.value),ee=A.children.map(le=>dr(N,le));return new Ar(U,ee)}}function Mr(N){return"object"==typeof N&&null!=N&&!N.outlets&&!N.segmentPath}function vi(N){return"object"==typeof N&&null!=N&&N.outlets}function Qi(N,A,D,U,ee){let le={};if(U&&Nn(U,(gt,un)=>{le[un]=Array.isArray(gt)?gt.map(ir=>`${ir}`):`${gt}`}),N===A)return new zn(D,le,ee);const Xe=Ur(N,A,D);return new zn(Xe,le,ee)}function Ur(N,A,D){const U={};return Nn(N.children,(ee,le)=>{U[le]=ee===A?D:Ur(ee,A,D)}),new Dn(N.segments,U)}class Ui{constructor(A,D,U){if(this.isAbsolute=A,this.numberOfDoubleDots=D,this.commands=U,A&&U.length>0&&Mr(U[0]))throw new Error("Root segment cannot have matrix parameters");const ee=U.find(vi);if(ee&&ee!==In(U))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mi{constructor(A,D,U){this.segmentGroup=A,this.processChildren=D,this.index=U}}function z(N,A,D){if(N||(N=new Dn([],{})),0===N.segments.length&&N.hasChildren())return oe(N,A,D);const U=function K(N,A,D){let U=0,ee=A;const le={match:!1,pathIndex:0,commandIndex:0};for(;ee<N.segments.length;){if(U>=D.length)return le;const Xe=N.segments[ee],gt=D[U];if(vi(gt))break;const un=`${gt}`,ir=U<D.length-1?D[U+1]:null;if(ee>0&&void 0===un)break;if(un&&ir&&"object"==typeof ir&&void 0===ir.outlets){if(!Cn(un,ir,Xe))return le;U+=2}else{if(!Cn(un,{},Xe))return le;U++}ee++}return{match:!0,pathIndex:ee,commandIndex:U}}(N,A,D),ee=D.slice(U.commandIndex);if(U.match&&U.pathIndex<N.segments.length){const le=new Dn(N.segments.slice(0,U.pathIndex),{});return le.children[Lt]=new Dn(N.segments.slice(U.pathIndex),N.children),oe(le,0,ee)}return U.match&&0===ee.length?new Dn(N.segments,{}):U.match&&!N.hasChildren()?Ee(N,A,D):U.match?oe(N,0,ee):Ee(N,A,D)}function oe(N,A,D){if(0===D.length)return new Dn(N.segments,{});{const U=function to(N){return vi(N[0])?N[0].outlets:{[Lt]:N}}(D),ee={};return Nn(U,(le,Xe)=>{"string"==typeof le&&(le=[le]),null!==le&&(ee[Xe]=z(N.children[Xe],A,le))}),Nn(N.children,(le,Xe)=>{void 0===U[Xe]&&(ee[Xe]=le)}),new Dn(N.segments,ee)}}function Ee(N,A,D){const U=N.segments.slice(0,A);let ee=0;for(;ee<D.length;){const le=D[ee];if(vi(le)){const un=ht(le.outlets);return new Dn(U,un)}if(0===ee&&Mr(D[0])){U.push(new fr(N.segments[A].path,Ht(D[0]))),ee++;continue}const Xe=vi(le)?le.outlets[Lt]:`${le}`,gt=ee<D.length-1?D[ee+1]:null;Xe&&gt&&Mr(gt)?(U.push(new fr(Xe,Ht(gt))),ee+=2):(U.push(new fr(Xe,{})),ee++)}return new Dn(U,{})}function ht(N){const A={};return Nn(N,(D,U)=>{"string"==typeof D&&(D=[D]),null!==D&&(A[U]=Ee(new Dn([],{}),0,D))}),A}function Ht(N){const A={};return Nn(N,(D,U)=>A[U]=`${D}`),A}function Cn(N,A,D){return N==D.path&&dn(A,D.parameters)}class yi{constructor(A,D,U,ee){this.routeReuseStrategy=A,this.futureState=D,this.currState=U,this.forwardEvent=ee}activate(A){const D=this.futureState._root,U=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,U,A),xn(this.futureState.root),this.activateChildRoutes(D,U,A)}deactivateChildRoutes(A,D,U){const ee=Yr(D);A.children.forEach(le=>{const Xe=le.value.outlet;this.deactivateRoutes(le,ee[Xe],U),delete ee[Xe]}),Nn(ee,(le,Xe)=>{this.deactivateRouteAndItsChildren(le,U)})}deactivateRoutes(A,D,U){const ee=A.value,le=D?D.value:null;if(ee===le)if(ee.component){const Xe=U.getContext(ee.outlet);Xe&&this.deactivateChildRoutes(A,D,Xe.children)}else this.deactivateChildRoutes(A,D,U);else le&&this.deactivateRouteAndItsChildren(D,U)}deactivateRouteAndItsChildren(A,D){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,D):this.deactivateRouteAndOutlet(A,D)}detachAndStoreRouteSubtree(A,D){const U=D.getContext(A.value.outlet),ee=U&&A.value.component?U.children:D,le=Yr(A);for(const Xe of Object.keys(le))this.deactivateRouteAndItsChildren(le[Xe],ee);if(U&&U.outlet){const Xe=U.outlet.detach(),gt=U.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:Xe,route:A,contexts:gt})}}deactivateRouteAndOutlet(A,D){const U=D.getContext(A.value.outlet),ee=U&&A.value.component?U.children:D,le=Yr(A);for(const Xe of Object.keys(le))this.deactivateRouteAndItsChildren(le[Xe],ee);U&&U.outlet&&(U.outlet.deactivate(),U.children.onOutletDeactivated(),U.attachRef=null,U.resolver=null,U.route=null)}activateChildRoutes(A,D,U){const ee=Yr(D);A.children.forEach(le=>{this.activateRoutes(le,ee[le.value.outlet],U),this.forwardEvent(new ke(le.value.snapshot))}),A.children.length&&this.forwardEvent(new kt(A.value.snapshot))}activateRoutes(A,D,U){const ee=A.value,le=D?D.value:null;if(xn(ee),ee===le)if(ee.component){const Xe=U.getOrCreateContext(ee.outlet);this.activateChildRoutes(A,D,Xe.children)}else this.activateChildRoutes(A,D,U);else if(ee.component){const Xe=U.getOrCreateContext(ee.outlet);if(this.routeReuseStrategy.shouldAttach(ee.snapshot)){const gt=this.routeReuseStrategy.retrieve(ee.snapshot);this.routeReuseStrategy.store(ee.snapshot,null),Xe.children.onOutletReAttached(gt.contexts),Xe.attachRef=gt.componentRef,Xe.route=gt.route.value,Xe.outlet&&Xe.outlet.attach(gt.componentRef,gt.route.value),xn(gt.route.value),this.activateChildRoutes(A,null,Xe.children)}else{const gt=function si(N){for(let A=N.parent;A;A=A.parent){const D=A.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig;if(D&&D.component)return null}return null}(ee.snapshot),un=gt?gt.module.componentFactoryResolver:null;Xe.attachRef=null,Xe.route=ee,Xe.resolver=un,Xe.outlet&&Xe.outlet.activateWith(ee,un),this.activateChildRoutes(A,null,Xe.children)}}else this.activateChildRoutes(A,null,U)}}class jr{constructor(A,D){this.routes=A,this.module=D}}function Gr(N){return"function"==typeof N}function _i(N){return N instanceof zn}const hi=Symbol("INITIAL_VALUE");function Y(){return(0,kr.w)(N=>function ve(...N){let A,D;return(0,j.K)(N[N.length-1])&&(D=N.pop()),"function"==typeof N[N.length-1]&&(A=N.pop()),1===N.length&&(0,we.k)(N[0])&&(N=N[0]),(0,H.n)(N,D).lift(new Pe(A))}(N.map(A=>A.pipe(gn(1),function Rt(...N){const A=N[N.length-1];return(0,j.K)(A)?(N.pop(),D=>rt(N,D,A)):D=>rt(N,D)}(hi)))).pipe(St((A,D)=>{let U=!1;return D.reduce((ee,le,Xe)=>ee!==hi?ee:(le===hi&&(U=!0),U||!1!==le&&Xe!==D.length-1&&!_i(le)?ee:le),A)},hi),(0,Mn.h)(A=>A!==hi),(0,Or.U)(A=>_i(A)?A:!0===A),gn(1)))}class ${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new B,this.attachRef=null}}class B{constructor(){this.contexts=new Map}onChildOutletCreated(A,D){const U=this.getOrCreateContext(A);U.outlet=D,this.contexts.set(A,U)}onChildOutletDestroyed(A){const D=this.getContext(A);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let D=this.getContext(A);return D||(D=new $,this.contexts.set(A,D)),D}getContext(A){return this.contexts.get(A)||null}}let ge=(()=>{class N{constructor(D,U,ee,le,Xe){this.parentContexts=D,this.location=U,this.resolver=ee,this.changeDetector=Xe,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=le||Lt,D.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const D=this.parentContexts.getContext(this.name);D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,U){this.activated=D,this._activatedRoute=U,this.location.insert(D.hostView),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,U){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=D;const Xe=(U=U||this.resolver).resolveComponentFactory(D._futureSnapshot.routeConfig.component),gt=this.parentContexts.getOrCreateContext(this.name).children,un=new Yt(D,gt,this.location.injector);this.activated=this.location.createComponent(Xe,this.location.length,un),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return N.\u0275fac=function(D){return new(D||N)(f.Y36(B),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},N.\u0275dir=f.lG2({type:N,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),N})();class Yt{constructor(A,D,U){this.route=A,this.childContexts=D,this.parent=U}get(A,D){return A===Z?this.route:A===B?this.childContexts:this.parent.get(A,D)}}let Ln=(()=>{class N{}return N.\u0275fac=function(D){return new(D||N)},N.\u0275cmp=f.Xpm({type:N,selectors:[["ng-component"]],decls:1,vars:0,template:function(D,U){1&D&&f._UZ(0,"router-outlet")},directives:[ge],encapsulation:2}),N})();function vn(N,A=""){for(let D=0;D<N.length;D++){const U=N[D];E(U,X(A,U))}}function E(N,A){N.children&&vn(N.children,A)}function X(N,A){return A?N||A.path?N&&!A.path?`${N}/`:!N&&A.path?A.path:`${N}/${A.path}`:"":N}function b(N){const A=N.children&&N.children.map(b),D=A?Object.assign(Object.assign({},N),{children:A}):Object.assign({},N);return!D.component&&(A||D.loadChildren)&&D.outlet&&D.outlet!==Lt&&(D.component=Ln),D}function G(N){return N.outlet||Lt}function de(N,A){const D=N.filter(U=>G(U)===A);return D.push(...N.filter(U=>G(U)!==A)),D}const Kt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Sn(N,A,D){var U;if(""===A.path)return"full"===A.pathMatch&&(N.hasChildren()||D.length>0)?Object.assign({},Kt):{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const le=(A.matcher||zt)(D,N,A);if(!le)return Object.assign({},Kt);const Xe={};Nn(le.posParams,(un,ir)=>{Xe[ir]=un.path});const gt=le.consumed.length>0?Object.assign(Object.assign({},Xe),le.consumed[le.consumed.length-1].parameters):Xe;return{matched:!0,consumedSegments:le.consumed,remainingSegments:D.slice(le.consumed.length),parameters:gt,positionalParamSegments:null!==(U=le.posParams)&&void 0!==U?U:{}}}function Vt(N,A,D,U,ee="corrected"){if(D.length>0&&function zr(N,A,D){return D.some(U=>no(N,A,U)&&G(U)!==Lt)}(N,D,U)){const Xe=new Dn(A,function wi(N,A,D,U){const ee={};ee[Lt]=U,U._sourceSegment=N,U._segmentIndexShift=A.length;for(const le of D)if(""===le.path&&G(le)!==Lt){const Xe=new Dn([],{});Xe._sourceSegment=N,Xe._segmentIndexShift=A.length,ee[G(le)]=Xe}return ee}(N,A,U,new Dn(D,N.children)));return Xe._sourceSegment=N,Xe._segmentIndexShift=A.length,{segmentGroup:Xe,slicedSegments:[]}}if(0===D.length&&function so(N,A,D){return D.some(U=>no(N,A,U))}(N,D,U)){const Xe=new Dn(N.segments,function Vn(N,A,D,U,ee,le){const Xe={};for(const gt of U)if(no(N,D,gt)&&!ee[G(gt)]){const un=new Dn([],{});un._sourceSegment=N,un._segmentIndexShift="legacy"===le?N.segments.length:A.length,Xe[G(gt)]=un}return Object.assign(Object.assign({},ee),Xe)}(N,A,D,U,N.children,ee));return Xe._sourceSegment=N,Xe._segmentIndexShift=A.length,{segmentGroup:Xe,slicedSegments:D}}const le=new Dn(N.segments,N.children);return le._sourceSegment=N,le._segmentIndexShift=A.length,{segmentGroup:le,slicedSegments:D}}function no(N,A,D){return(!(N.hasChildren()||A.length>0)||"full"!==D.pathMatch)&&""===D.path}function Wi(N,A,D,U){return!!(G(N)===U||U!==Lt&&no(A,D,N))&&("**"===N.path||Sn(A,N,D).matched)}function Li(N,A,D){return 0===A.length&&!N.children[D]}class _n{constructor(A){this.segmentGroup=A||null}}class Qs{constructor(A){this.urlTree=A}}function Pi(N){return Ge(new _n(N))}function Bo(N){return Ge(new Qs(N))}class vo{constructor(A,D,U,ee,le){this.configLoader=D,this.urlSerializer=U,this.urlTree=ee,this.config=le,this.allowRedirects=!0,this.ngModule=A.get(f.h0i)}apply(){const A=Vt(this.urlTree.root,[],[],this.config).segmentGroup,D=new Dn(A.segments,A.children);return this.expandSegmentGroup(this.ngModule,this.config,D,Lt).pipe((0,Or.U)(le=>this.createUrlTree(Vo(le),this.urlTree.queryParams,this.urlTree.fragment))).pipe(on(le=>{if(le instanceof Qs)return this.allowRedirects=!1,this.match(le.urlTree);throw le instanceof _n?this.noMatchError(le):le}))}match(A){return this.expandSegmentGroup(this.ngModule,this.config,A.root,Lt).pipe((0,Or.U)(ee=>this.createUrlTree(Vo(ee),A.queryParams,A.fragment))).pipe(on(ee=>{throw ee instanceof _n?this.noMatchError(ee):ee}))}noMatchError(A){return new Error(`Cannot match any routes. URL Segment: '${A.segmentGroup}'`)}createUrlTree(A,D,U){const ee=A.segments.length>0?new Dn([],{[Lt]:A}):A;return new zn(ee,D,U)}expandSegmentGroup(A,D,U,ee){return 0===U.segments.length&&U.hasChildren()?this.expandChildren(A,D,U).pipe((0,Or.U)(le=>new Dn([],le))):this.expandSegment(A,U,D,U.segments,ee,!0)}expandChildren(A,D,U){const ee=[];for(const le of Object.keys(U.children))"primary"===le?ee.unshift(le):ee.push(le);return(0,Nt.D)(ee).pipe(ar(le=>{const Xe=U.children[le],gt=de(D,le);return this.expandSegmentGroup(A,gt,Xe,le).pipe((0,Or.U)(un=>({segment:un,outlet:le})))}),St((le,Xe)=>(le[Xe.outlet]=Xe.segment,le),{}),function fi(N,A){const D=arguments.length>=2;return U=>U.pipe(N?(0,Mn.h)((ee,le)=>N(ee,le,U)):Rr.y,er(1),D?Lr(A):Kn(()=>new wt))}())}expandSegment(A,D,U,ee,le,Xe){return(0,Nt.D)(U).pipe(ar(gt=>this.expandSegmentAgainstRoute(A,D,U,gt,ee,le,Xe).pipe(on(ir=>{if(ir instanceof _n)return Le(null);throw ir}))),Hr(gt=>!!gt),on((gt,un)=>{if(gt instanceof wt||"EmptyError"===gt.name)return Li(D,ee,le)?Le(new Dn([],{})):Pi(D);throw gt}))}expandSegmentAgainstRoute(A,D,U,ee,le,Xe,gt){return Wi(ee,D,le,Xe)?void 0===ee.redirectTo?this.matchSegmentAgainstRoute(A,D,ee,le,Xe):gt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,D,U,ee,le,Xe):Pi(D):Pi(D)}expandSegmentAgainstRouteUsingRedirect(A,D,U,ee,le,Xe){return"**"===ee.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,U,ee,Xe):this.expandRegularSegmentAgainstRouteUsingRedirect(A,D,U,ee,le,Xe)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,D,U,ee){const le=this.applyRedirectCommands([],U.redirectTo,{});return U.redirectTo.startsWith("/")?Bo(le):this.lineralizeSegments(U,le).pipe((0,yn.zg)(Xe=>{const gt=new Dn(Xe,{});return this.expandSegment(A,gt,D,Xe,ee,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,D,U,ee,le,Xe){const{matched:gt,consumedSegments:un,remainingSegments:ir,positionalParamSegments:Oi}=Sn(D,ee,le);if(!gt)return Pi(D);const Nr=this.applyRedirectCommands(un,ee.redirectTo,Oi);return ee.redirectTo.startsWith("/")?Bo(Nr):this.lineralizeSegments(ee,Nr).pipe((0,yn.zg)(Vi=>this.expandSegment(A,D,U,Vi.concat(ir),Xe,!1)))}matchSegmentAgainstRoute(A,D,U,ee,le){if("**"===U.path)return U.loadChildren?(U._loadedConfig?Le(U._loadedConfig):this.configLoader.load(A.injector,U)).pipe((0,Or.U)(Nr=>(U._loadedConfig=Nr,new Dn(ee,{})))):Le(new Dn(ee,{}));const{matched:Xe,consumedSegments:gt,remainingSegments:un}=Sn(D,U,ee);return Xe?this.getChildConfig(A,U,ee).pipe((0,yn.zg)(Oi=>{const Nr=Oi.module,Vi=Oi.routes,{segmentGroup:Ci,slicedSegments:ps}=Vt(D,gt,un,Vi),Co=new Dn(Ci.segments,Ci.children);if(0===ps.length&&Co.hasChildren())return this.expandChildren(Nr,Vi,Co).pipe((0,Or.U)(Fu=>new Dn(gt,Fu)));if(0===Vi.length&&0===ps.length)return Le(new Dn(gt,{}));const nu=G(U)===le;return this.expandSegment(Nr,Co,Vi,ps,nu?Lt:le,!0).pipe((0,Or.U)(Zo=>new Dn(gt.concat(Zo.segments),Zo.children)))})):Pi(D)}getChildConfig(A,D,U){return D.children?Le(new jr(D.children,A)):D.loadChildren?void 0!==D._loadedConfig?Le(D._loadedConfig):this.runCanLoadGuards(A.injector,D,U).pipe((0,yn.zg)(ee=>ee?this.configLoader.load(A.injector,D).pipe((0,Or.U)(le=>(D._loadedConfig=le,le))):function mo(N){return Ge(He(`Cannot load children because the guard of the route "path: '${N.path}'" returned false`))}(D))):Le(new jr([],A))}runCanLoadGuards(A,D,U){const ee=D.canLoad;return ee&&0!==ee.length?Le(ee.map(Xe=>{const gt=A.get(Xe);let un;if(function ji(N){return N&&Gr(N.canLoad)}(gt))un=gt.canLoad(D,U);else{if(!Gr(gt))throw new Error("Invalid CanLoad guard");un=gt(D,U)}return lr(un)})).pipe(Y(),br(Xe=>{if(!_i(Xe))return;const gt=He(`Redirecting to "${this.urlSerializer.serialize(Xe)}"`);throw gt.url=Xe,gt}),(0,Or.U)(Xe=>!0===Xe)):Le(!0)}lineralizeSegments(A,D){let U=[],ee=D.root;for(;;){if(U=U.concat(ee.segments),0===ee.numberOfChildren)return Le(U);if(ee.numberOfChildren>1||!ee.children[Lt])return Ge(new Error(`Only absolute redirects can have named outlets. redirectTo: '${A.redirectTo}'`));ee=ee.children[Lt]}}applyRedirectCommands(A,D,U){return this.applyRedirectCreatreUrlTree(D,this.urlSerializer.parse(D),A,U)}applyRedirectCreatreUrlTree(A,D,U,ee){const le=this.createSegmentGroup(A,D.root,U,ee);return new zn(le,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(A,D){const U={};return Nn(A,(ee,le)=>{if("string"==typeof ee&&ee.startsWith(":")){const gt=ee.substring(1);U[le]=D[gt]}else U[le]=ee}),U}createSegmentGroup(A,D,U,ee){const le=this.createSegments(A,D.segments,U,ee);let Xe={};return Nn(D.children,(gt,un)=>{Xe[un]=this.createSegmentGroup(A,gt,U,ee)}),new Dn(le,Xe)}createSegments(A,D,U,ee){return D.map(le=>le.path.startsWith(":")?this.findPosParam(A,le,ee):this.findOrReturn(le,U))}findPosParam(A,D,U){const ee=U[D.path.substring(1)];if(!ee)throw new Error(`Cannot redirect to '${A}'. Cannot find '${D.path}'.`);return ee}findOrReturn(A,D){let U=0;for(const ee of D){if(ee.path===A.path)return D.splice(U),ee;U++}return A}}function Vo(N){const A={};for(const U of Object.keys(N.children)){const le=Vo(N.children[U]);(le.segments.length>0||le.hasChildren())&&(A[U]=le)}return function ks(N){if(1===N.numberOfChildren&&N.children[Lt]){const A=N.children[Lt];return new Dn(N.segments.concat(A.segments),A.children)}return N}(new Dn(N.segments,A))}class $o{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Is{constructor(A,D){this.component=A,this.route=D}}function La(N,A,D){const U=N._root;return Po(U,A?A._root:null,D,[U.value])}function fo(N,A,D){const U=function ca(N){if(!N)return null;for(let A=N.parent;A;A=A.parent){const D=A.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig}return null}(A);return(U?U.module.injector:D).get(N)}function Po(N,A,D,U,ee={canDeactivateChecks:[],canActivateChecks:[]}){const le=Yr(A);return N.children.forEach(Xe=>{(function Ns(N,A,D,U,ee={canDeactivateChecks:[],canActivateChecks:[]}){const le=N.value,Xe=A?A.value:null,gt=D?D.getContext(N.value.outlet):null;if(Xe&&le.routeConfig===Xe.routeConfig){const un=function Ia(N,A,D){if("function"==typeof D)return D(N,A);switch(D){case"pathParamsChange":return!ne(N.url,A.url);case"pathParamsOrQueryParamsChange":return!ne(N.url,A.url)||!dn(N.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Un(N,A)||!dn(N.queryParams,A.queryParams);default:return!Un(N,A)}}(Xe,le,le.routeConfig.runGuardsAndResolvers);un?ee.canActivateChecks.push(new $o(U)):(le.data=Xe.data,le._resolvedData=Xe._resolvedData),Po(N,A,le.component?gt?gt.children:null:D,U,ee),un&&gt&&gt.outlet&&gt.outlet.isActivated&&ee.canDeactivateChecks.push(new Is(gt.outlet.component,Xe))}else Xe&&Jo(A,gt,ee),ee.canActivateChecks.push(new $o(U)),Po(N,null,le.component?gt?gt.children:null:D,U,ee)})(Xe,le[Xe.value.outlet],D,U.concat([Xe.value]),ee),delete le[Xe.value.outlet]}),Nn(le,(Xe,gt)=>Jo(Xe,D.getContext(gt),ee)),ee}function Jo(N,A,D){const U=Yr(N),ee=N.value;Nn(U,(le,Xe)=>{Jo(le,ee.component?A?A.children.getContext(Xe):null:A,D)}),D.canDeactivateChecks.push(new Is(ee.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,ee))}class jo{}function Bi(N){return new Se.y(A=>A.error(N))}class Da{constructor(A,D,U,ee,le,Xe){this.rootComponentType=A,this.config=D,this.urlTree=U,this.url=ee,this.paramsInheritanceStrategy=le,this.relativeLinkResolution=Xe}recognize(){const A=Vt(this.urlTree.root,[],[],this.config.filter(Xe=>void 0===Xe.redirectTo),this.relativeLinkResolution).segmentGroup,D=this.processSegmentGroup(this.config,A,Lt);if(null===D)return null;const U=new Je([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),ee=new Ar(U,D),le=new Ct(this.url,ee);return this.inheritParamsAndData(le._root),le}inheritParamsAndData(A){const D=A.value,U=q(D,this.paramsInheritanceStrategy);D.params=Object.freeze(U.params),D.data=Object.freeze(U.data),A.children.forEach(ee=>this.inheritParamsAndData(ee))}processSegmentGroup(A,D,U){return 0===D.segments.length&&D.hasChildren()?this.processChildren(A,D):this.processSegment(A,D,D.segments,U)}processChildren(A,D){const U=[];for(const le of Object.keys(D.children)){const Xe=D.children[le],gt=de(A,le),un=this.processSegmentGroup(gt,Xe,le);if(null===un)return null;U.push(...un)}const ee=y(U);return function Zs(N){N.sort((A,D)=>A.value.outlet===Lt?-1:D.value.outlet===Lt?1:A.value.outlet.localeCompare(D.value.outlet))}(ee),ee}processSegment(A,D,U,ee){for(const le of A){const Xe=this.processSegmentAgainstRoute(le,D,U,ee);if(null!==Xe)return Xe}return Li(D,U,ee)?[]:null}processSegmentAgainstRoute(A,D,U,ee){if(A.redirectTo||!Wi(A,D,U,ee))return null;let le,Xe=[],gt=[];if("**"===A.path){const Ci=U.length>0?In(U).parameters:{};le=new Je(U,Ci,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ft(A),G(A),A.component,A,te(D),Ie(D)+U.length,Gt(A))}else{const Ci=Sn(D,A,U);if(!Ci.matched)return null;Xe=Ci.consumedSegments,gt=Ci.remainingSegments,le=new Je(Xe,Ci.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ft(A),G(A),A.component,A,te(D),Ie(D)+Xe.length,Gt(A))}const un=function zo(N){return N.children?N.children:N.loadChildren?N._loadedConfig.routes:[]}(A),{segmentGroup:ir,slicedSegments:Oi}=Vt(D,Xe,gt,un.filter(Ci=>void 0===Ci.redirectTo),this.relativeLinkResolution);if(0===Oi.length&&ir.hasChildren()){const Ci=this.processChildren(un,ir);return null===Ci?null:[new Ar(le,Ci)]}if(0===un.length&&0===Oi.length)return[new Ar(le,[])];const Nr=G(A)===ee,Vi=this.processSegment(un,ir,Oi,Nr?Lt:ee);return null===Vi?null:[new Ar(le,Vi)]}}function ea(N){const A=N.value.routeConfig;return A&&""===A.path&&void 0===A.redirectTo}function y(N){const A=[],D=new Set;for(const U of N){if(!ea(U)){A.push(U);continue}const ee=A.find(le=>U.value.routeConfig===le.value.routeConfig);void 0!==ee?(ee.children.push(...U.children),D.add(ee)):A.push(U)}for(const U of D){const ee=y(U.children);A.push(new Ar(U.value,ee))}return A.filter(U=>!D.has(U))}function te(N){let A=N;for(;A._sourceSegment;)A=A._sourceSegment;return A}function Ie(N){let A=N,D=A._segmentIndexShift?A._segmentIndexShift:0;for(;A._sourceSegment;)A=A._sourceSegment,D+=A._segmentIndexShift?A._segmentIndexShift:0;return D-1}function ft(N){return N.data||{}}function Gt(N){return N.resolve||{}}function Eo(N){return[...Object.keys(N),...Object.getOwnPropertySymbols(N)]}function hs(N){return(0,kr.w)(A=>{const D=N(A);return D?(0,Nt.D)(D).pipe((0,Or.U)(()=>A)):Le(A)})}class fa{}class Nu extends class Hs{shouldDetach(A){return!1}store(A,D){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,D){return A.routeConfig===D.routeConfig}}{}const Gs=new f.OlP("ROUTES");class So{constructor(A,D,U,ee){this.injector=A,this.compiler=D,this.onLoadStartListener=U,this.onLoadEndListener=ee}load(A,D){if(D._loader$)return D._loader$;this.onLoadStartListener&&this.onLoadStartListener(D);const ee=this.loadModuleFactory(D.loadChildren).pipe((0,Or.U)(le=>{this.onLoadEndListener&&this.onLoadEndListener(D);const Xe=le.create(A);return new jr(An(Xe.injector.get(Gs,void 0,f.XFs.Self|f.XFs.Optional)).map(b),Xe)}),on(le=>{throw D._loader$=void 0,le}));return D._loader$=new Be.c(ee,()=>new Ke.xQ).pipe((0,Zr.x)()),D._loader$}loadModuleFactory(A){return lr(A()).pipe((0,yn.zg)(D=>D instanceof f.YKP?Le(D):(0,Nt.D)(this.compiler.compileModuleAsync(D))))}}class Qa{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,D){return A}}function Ts(N){throw N}function Va(N,A,D){return A.parse("/")}function ta(N,A){return Le(null)}const Wo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},da={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xi=(()=>{class N{constructor(D,U,ee,le,Xe,gt,un){this.rootComponentType=D,this.urlSerializer=U,this.rootContexts=ee,this.location=le,this.config=un,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ke.xQ,this.errorHandler=Ts,this.malformedUriErrorHandler=Va,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ta,afterPreactivation:ta},this.urlHandlingStrategy=new Qa,this.routeReuseStrategy=new Nu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Xe.get(f.h0i),this.console=Xe.get(f.c2e);const Nr=Xe.get(f.R0b);this.isNgZoneEnabled=Nr instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(un),this.currentUrlTree=function Zn(){return new zn(new Dn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new So(Xe,gt,Vi=>this.triggerEvent(new Cr(Vi)),Vi=>this.triggerEvent(new sr(Vi))),this.routerState=li(this.currentUrlTree,this.rootComponentType),this.transitions=new ae.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var D;return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}setupNavigations(D){const U=this.events;return D.pipe((0,Mn.h)(ee=>0!==ee.id),(0,Or.U)(ee=>Object.assign(Object.assign({},ee),{extractedUrl:this.urlHandlingStrategy.extract(ee.rawUrl)})),(0,kr.w)(ee=>{let le=!1,Xe=!1;return Le(ee).pipe(br(gt=>{this.currentNavigation={id:gt.id,initialUrl:gt.currentRawUrl,extractedUrl:gt.extractedUrl,trigger:gt.source,extras:gt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,kr.w)(gt=>{const un=this.browserUrlTree.toString(),ir=!this.navigated||gt.extractedUrl.toString()!==un||un!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ir)&&this.urlHandlingStrategy.shouldProcessUrl(gt.rawUrl))return _s(gt.source)&&(this.browserUrlTree=gt.extractedUrl),Le(gt).pipe((0,kr.w)(Nr=>{const Vi=this.transitions.getValue();return U.next(new bt(Nr.id,this.serializeUrl(Nr.extractedUrl),Nr.source,Nr.restoredState)),Vi!==this.transitions.getValue()?Et:Promise.resolve(Nr)}),function Js(N,A,D,U){return(0,kr.w)(ee=>function Qo(N,A,D,U,ee){return new vo(N,A,D,U,ee).apply()}(N,A,D,ee.extractedUrl,U).pipe((0,Or.U)(le=>Object.assign(Object.assign({},ee),{urlAfterRedirects:le}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),br(Nr=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Nr.urlAfterRedirects})}),function Hn(N,A,D,U,ee){return(0,yn.zg)(le=>function la(N,A,D,U,ee="emptyOnly",le="legacy"){try{const Xe=new Da(N,A,D,U,ee,le).recognize();return null===Xe?Bi(new jo):Le(Xe)}catch(Xe){return Bi(Xe)}}(N,A,le.urlAfterRedirects,D(le.urlAfterRedirects),U,ee).pipe((0,Or.U)(Xe=>Object.assign(Object.assign({},le),{targetSnapshot:Xe}))))}(this.rootComponentType,this.config,Nr=>this.serializeUrl(Nr),this.paramsInheritanceStrategy,this.relativeLinkResolution),br(Nr=>{if("eager"===this.urlUpdateStrategy){if(!Nr.extras.skipLocationChange){const Ci=this.urlHandlingStrategy.merge(Nr.urlAfterRedirects,Nr.rawUrl);this.setBrowserUrl(Ci,Nr)}this.browserUrlTree=Nr.urlAfterRedirects}const Vi=new Ot(Nr.id,this.serializeUrl(Nr.extractedUrl),this.serializeUrl(Nr.urlAfterRedirects),Nr.targetSnapshot);U.next(Vi)}));if(ir&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Vi,extractedUrl:Ci,source:ps,restoredState:Co,extras:nu}=gt,Ua=new bt(Vi,this.serializeUrl(Ci),ps,Co);U.next(Ua);const Zo=li(Ci,this.rootComponentType).snapshot;return Le(Object.assign(Object.assign({},gt),{targetSnapshot:Zo,urlAfterRedirects:Ci,extras:Object.assign(Object.assign({},nu),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=gt.rawUrl,gt.resolve(null),Et}),hs(gt=>{const{targetSnapshot:un,id:ir,extractedUrl:Oi,rawUrl:Nr,extras:{skipLocationChange:Vi,replaceUrl:Ci}}=gt;return this.hooks.beforePreactivation(un,{navigationId:ir,appliedUrlTree:Oi,rawUrlTree:Nr,skipLocationChange:!!Vi,replaceUrl:!!Ci})}),br(gt=>{const un=new Pt(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot);this.triggerEvent(un)}),(0,Or.U)(gt=>Object.assign(Object.assign({},gt),{guards:La(gt.targetSnapshot,gt.currentSnapshot,this.rootContexts)})),function ro(N,A){return(0,yn.zg)(D=>{const{targetSnapshot:U,currentSnapshot:ee,guards:{canActivateChecks:le,canDeactivateChecks:Xe}}=D;return 0===Xe.length&&0===le.length?Le(Object.assign(Object.assign({},D),{guardsResult:!0})):function Uo(N,A,D,U){return(0,Nt.D)(N).pipe((0,yn.zg)(ee=>function io(N,A,D,U,ee){const le=A&&A.routeConfig?A.routeConfig.canDeactivate:null;return le&&0!==le.length?Le(le.map(gt=>{const un=fo(gt,A,ee);let ir;if(function ei(N){return N&&Gr(N.canDeactivate)}(un))ir=lr(un.canDeactivate(N,A,D,U));else{if(!Gr(un))throw new Error("Invalid CanDeactivate guard");ir=lr(un(N,A,D,U))}return ir.pipe(Hr())})).pipe(Y()):Le(!0)}(ee.component,ee.route,D,A,U)),Hr(ee=>!0!==ee,!0))}(Xe,U,ee,N).pipe((0,yn.zg)(gt=>gt&&function Ti(N){return"boolean"==typeof N}(gt)?function Ps(N,A,D,U){return(0,Nt.D)(A).pipe(ar(ee=>rt(function qo(N,A){return null!==N&&A&&A(new ni(N)),Le(!0)}(ee.route.parent,U),function Ds(N,A){return null!==N&&A&&A(new dt(N)),Le(!0)}(ee.route,U),function mu(N,A,D){const U=A[A.length-1],le=A.slice(0,A.length-1).reverse().map(Xe=>function is(N){const A=N.routeConfig?N.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:N,guards:A}:null}(Xe)).filter(Xe=>null!==Xe).map(Xe=>ze(()=>Le(Xe.guards.map(un=>{const ir=fo(un,Xe.node,D);let Oi;if(function zi(N){return N&&Gr(N.canActivateChild)}(ir))Oi=lr(ir.canActivateChild(U,N));else{if(!Gr(ir))throw new Error("Invalid CanActivateChild guard");Oi=lr(ir(U,N))}return Oi.pipe(Hr())})).pipe(Y())));return Le(le).pipe(Y())}(N,ee.path,D),function Ba(N,A,D){const U=A.routeConfig?A.routeConfig.canActivate:null;if(!U||0===U.length)return Le(!0);const ee=U.map(le=>ze(()=>{const Xe=fo(le,A,D);let gt;if(function Hi(N){return N&&Gr(N.canActivate)}(Xe))gt=lr(Xe.canActivate(A,N));else{if(!Gr(Xe))throw new Error("Invalid CanActivate guard");gt=lr(Xe(A,N))}return gt.pipe(Hr())}));return Le(ee).pipe(Y())}(N,ee.route,D))),Hr(ee=>!0!==ee,!0))}(U,le,N,A):Le(gt)),(0,Or.U)(gt=>Object.assign(Object.assign({},D),{guardsResult:gt})))})}(this.ngModule.injector,gt=>this.triggerEvent(gt)),br(gt=>{if(_i(gt.guardsResult)){const ir=He(`Redirecting to "${this.serializeUrl(gt.guardsResult)}"`);throw ir.url=gt.guardsResult,ir}const un=new Jt(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot,!!gt.guardsResult);this.triggerEvent(un)}),(0,Mn.h)(gt=>!!gt.guardsResult||(this.restoreHistory(gt),this.cancelNavigationTransition(gt,""),!1)),hs(gt=>{if(gt.guards.canActivateChecks.length)return Le(gt).pipe(br(un=>{const ir=new Fn(un.id,this.serializeUrl(un.extractedUrl),this.serializeUrl(un.urlAfterRedirects),un.targetSnapshot);this.triggerEvent(ir)}),(0,kr.w)(un=>{let ir=!1;return Le(un).pipe(function Ri(N,A){return(0,yn.zg)(D=>{const{targetSnapshot:U,guards:{canActivateChecks:ee}}=D;if(!ee.length)return Le(D);let le=0;return(0,Nt.D)(ee).pipe(ar(Xe=>function ai(N,A,D,U){return function Gi(N,A,D,U){const ee=Eo(N);if(0===ee.length)return Le({});const le={};return(0,Nt.D)(ee).pipe((0,yn.zg)(Xe=>function yo(N,A,D,U){const ee=fo(N,A,U);return lr(ee.resolve?ee.resolve(A,D):ee(A,D))}(N[Xe],A,D,U).pipe(br(gt=>{le[Xe]=gt}))),er(1),(0,yn.zg)(()=>Eo(le).length===ee.length?Le(le):Et))}(N._resolve,N,A,U).pipe((0,Or.U)(le=>(N._resolvedData=le,N.data=Object.assign(Object.assign({},N.data),q(N,D).resolve),null)))}(Xe.route,U,N,A)),br(()=>le++),er(1),(0,yn.zg)(Xe=>le===ee.length?Le(D):Et))})}(this.paramsInheritanceStrategy,this.ngModule.injector),br({next:()=>ir=!0,complete:()=>{ir||(this.restoreHistory(un),this.cancelNavigationTransition(un,"At least one route resolver didn't emit any value."))}}))}),br(un=>{const ir=new Jn(un.id,this.serializeUrl(un.extractedUrl),this.serializeUrl(un.urlAfterRedirects),un.targetSnapshot);this.triggerEvent(ir)}))}),hs(gt=>{const{targetSnapshot:un,id:ir,extractedUrl:Oi,rawUrl:Nr,extras:{skipLocationChange:Vi,replaceUrl:Ci}}=gt;return this.hooks.afterPreactivation(un,{navigationId:ir,appliedUrlTree:Oi,rawUrlTree:Nr,skipLocationChange:!!Vi,replaceUrl:!!Ci})}),(0,Or.U)(gt=>{const un=function mr(N,A,D){const U=dr(N,A._root,D?D._root:void 0);return new ur(U,A)}(this.routeReuseStrategy,gt.targetSnapshot,gt.currentRouterState);return Object.assign(Object.assign({},gt),{targetRouterState:un})}),br(gt=>{this.currentUrlTree=gt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(gt.urlAfterRedirects,gt.rawUrl),this.routerState=gt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(gt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,gt),this.browserUrlTree=gt.urlAfterRedirects)}),((N,A,D)=>(0,Or.U)(U=>(new yi(A,U.targetRouterState,U.currentRouterState,D).activate(N),U)))(this.rootContexts,this.routeReuseStrategy,gt=>this.triggerEvent(gt)),br({next(){le=!0},complete(){le=!0}}),function Ei(N){return A=>A.lift(new xr(N))}(()=>{var gt;le||Xe||this.cancelNavigationTransition(ee,`Navigation ID ${ee.id} is not equal to the current navigation id ${this.navigationId}`),(null===(gt=this.currentNavigation)||void 0===gt?void 0:gt.id)===ee.id&&(this.currentNavigation=null)}),on(gt=>{if(Xe=!0,function nn(N){return N&&N[Ve]}(gt)){const un=_i(gt.url);un||(this.navigated=!0,this.restoreHistory(ee,!0));const ir=new Ae(ee.id,this.serializeUrl(ee.extractedUrl),gt.message);U.next(ir),un?setTimeout(()=>{const Oi=this.urlHandlingStrategy.merge(gt.url,this.rawUrlTree),Nr={skipLocationChange:ee.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_s(ee.source)};this.scheduleNavigation(Oi,"imperative",null,Nr,{resolve:ee.resolve,reject:ee.reject,promise:ee.promise})},0):ee.resolve(!1)}else{this.restoreHistory(ee,!0);const un=new st(ee.id,this.serializeUrl(ee.extractedUrl),gt);U.next(un);try{ee.resolve(this.errorHandler(gt))}catch(ir){ee.reject(ir)}}return Et}))}))}resetRootComponentType(D){this.rootComponentType=D,this.routerState.root.component=this.rootComponentType}setTransition(D){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),D))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const U="popstate"===D.type?"popstate":"hashchange";"popstate"===U&&setTimeout(()=>{var ee;const le={replaceUrl:!0},Xe=(null===(ee=D.state)||void 0===ee?void 0:ee.navigationId)?D.state:null;if(Xe){const un=Object.assign({},Xe);delete un.navigationId,delete un.\u0275routerPageId,0!==Object.keys(un).length&&(le.state=un)}const gt=this.parseUrl(D.url);this.scheduleNavigation(gt,U,Xe,le)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(D){this.events.next(D)}resetConfig(D){vn(D),this.config=D.map(b),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,U={}){const{relativeTo:ee,queryParams:le,fragment:Xe,queryParamsHandling:gt,preserveFragment:un}=U,ir=ee||this.routerState.root,Oi=un?this.currentUrlTree.fragment:Xe;let Nr=null;switch(gt){case"merge":Nr=Object.assign(Object.assign({},this.currentUrlTree.queryParams),le);break;case"preserve":Nr=this.currentUrlTree.queryParams;break;default:Nr=le||null}return null!==Nr&&(Nr=this.removeEmptyProps(Nr)),function po(N,A,D,U,ee){if(0===D.length)return Qi(A.root,A.root,A.root,U,ee);const le=function eo(N){if("string"==typeof N[0]&&1===N.length&&"/"===N[0])return new Ui(!0,0,N);let A=0,D=!1;const U=N.reduce((ee,le,Xe)=>{if("object"==typeof le&&null!=le){if(le.outlets){const gt={};return Nn(le.outlets,(un,ir)=>{gt[ir]="string"==typeof un?un.split("/"):un}),[...ee,{outlets:gt}]}if(le.segmentPath)return[...ee,le.segmentPath]}return"string"!=typeof le?[...ee,le]:0===Xe?(le.split("/").forEach((gt,un)=>{0==un&&"."===gt||(0==un&&""===gt?D=!0:".."===gt?A++:""!=gt&&ee.push(gt))}),ee):[...ee,le]},[]);return new Ui(D,A,U)}(D);if(le.toRoot())return Qi(A.root,A.root,new Dn([],{}),U,ee);const Xe=function Fi(N,A,D){if(N.isAbsolute)return new Mi(A.root,!0,0);if(-1===D.snapshot._lastPathIndex){const le=D.snapshot._urlSegment;return new Mi(le,le===A.root,0)}const U=Mr(N.commands[0])?0:1;return function To(N,A,D){let U=N,ee=A,le=D;for(;le>ee;){if(le-=ee,U=U.parent,!U)throw new Error("Invalid number of '../'");ee=U.segments.length}return new Mi(U,!1,ee-le)}(D.snapshot._urlSegment,D.snapshot._lastPathIndex+U,N.numberOfDoubleDots)}(le,A,N),gt=Xe.processChildren?oe(Xe.segmentGroup,Xe.index,le.commands):z(Xe.segmentGroup,Xe.index,le.commands);return Qi(A.root,Xe.segmentGroup,gt,U,ee)}(ir,this.currentUrlTree,D,Nr,null!=Oi?Oi:null)}navigateByUrl(D,U={skipLocationChange:!1}){const ee=_i(D)?D:this.parseUrl(D),le=this.urlHandlingStrategy.merge(ee,this.rawUrlTree);return this.scheduleNavigation(le,"imperative",null,U)}navigate(D,U={skipLocationChange:!1}){return function Ss(N){for(let A=0;A<N.length;A++){const D=N[A];if(null==D)throw new Error(`The requested path contains ${D} segment at index ${A}`)}}(D),this.navigateByUrl(this.createUrlTree(D,U),U)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let U;try{U=this.urlSerializer.parse(D)}catch(ee){U=this.malformedUriErrorHandler(ee,this.urlSerializer,D)}return U}isActive(D,U){let ee;if(ee=!0===U?Object.assign({},Wo):!1===U?Object.assign({},da):U,_i(D))return ci(this.currentUrlTree,D,ee);const le=this.parseUrl(D);return ci(this.currentUrlTree,le,ee)}removeEmptyProps(D){return Object.keys(D).reduce((U,ee)=>{const le=D[ee];return null!=le&&(U[ee]=le),U},{})}processNavigations(){this.navigations.subscribe(D=>{this.navigated=!0,this.lastSuccessfulId=D.id,this.currentPageId=D.targetPageId,this.events.next(new Ce(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,D.resolve(!0)},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)})}scheduleNavigation(D,U,ee,le,Xe){var gt,un;if(this.disposed)return Promise.resolve(!1);let ir,Oi,Nr;Xe?(ir=Xe.resolve,Oi=Xe.reject,Nr=Xe.promise):Nr=new Promise((ps,Co)=>{ir=ps,Oi=Co});const Vi=++this.navigationId;let Ci;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(ee=this.location.getState()),Ci=ee&&ee.\u0275routerPageId?ee.\u0275routerPageId:le.replaceUrl||le.skipLocationChange?null!==(gt=this.browserPageId)&&void 0!==gt?gt:0:(null!==(un=this.browserPageId)&&void 0!==un?un:0)+1):Ci=0,this.setTransition({id:Vi,targetPageId:Ci,source:U,restoredState:ee,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:D,extras:le,resolve:ir,reject:Oi,promise:Nr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Nr.catch(ps=>Promise.reject(ps))}setBrowserUrl(D,U){const ee=this.urlSerializer.serialize(D),le=Object.assign(Object.assign({},U.extras.state),this.generateNgRouterState(U.id,U.targetPageId));this.location.isCurrentPathEqualTo(ee)||U.extras.replaceUrl?this.location.replaceState(ee,"",le):this.location.go(ee,"",le)}restoreHistory(D,U=!1){var ee,le;if("computed"===this.canceledNavigationResolution){const Xe=this.currentPageId-D.targetPageId;"popstate"!==D.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(ee=this.currentNavigation)||void 0===ee?void 0:ee.finalUrl)||0===Xe?this.currentUrlTree===(null===(le=this.currentNavigation)||void 0===le?void 0:le.finalUrl)&&0===Xe&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Xe)}else"replace"===this.canceledNavigationResolution&&(U&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(D,U){const ee=new Ae(D.id,this.serializeUrl(D.extractedUrl),U);this.triggerEvent(ee),D.resolve(!1)}generateNgRouterState(D,U){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:U}:{navigationId:D}}}return N.\u0275fac=function(D){f.$Z()},N.\u0275prov=f.Yz7({token:N,factory:N.\u0275fac}),N})();function _s(N){return"imperative"!==N}let Pu=(()=>{class N{constructor(D,U,ee,le,Xe){this.router=D,this.route=U,this.tabIndexAttribute=ee,this.renderer=le,this.el=Xe,this.commands=null,this.onChanges=new Ke.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){if(null!=this.tabIndexAttribute)return;const U=this.renderer,ee=this.el.nativeElement;null!==D?U.setAttribute(ee,"tabindex",D):U.removeAttribute(ee,"tabindex")}ngOnChanges(D){this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const D={skipLocationChange:ts(this.skipLocationChange),replaceUrl:ts(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,D),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ts(this.preserveFragment)})}}return N.\u0275fac=function(D){return new(D||N)(f.Y36(xi),f.Y36(Z),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},N.\u0275dir=f.lG2({type:N,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(D,U){1&D&&f.NdJ("click",function(){return U.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),N})();function ts(N){return""===N||!!N}class qs{}class vu{preload(A,D){return D().pipe(on(()=>Le(null)))}}class yu{preload(A,D){return Le(null)}}let Ja=(()=>{class N{constructor(D,U,ee,le){this.router=D,this.injector=ee,this.preloadingStrategy=le,this.loader=new So(ee,U,un=>D.triggerEvent(new Cr(un)),un=>D.triggerEvent(new sr(un)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Mn.h)(D=>D instanceof Ce),ar(()=>this.preload())).subscribe(()=>{})}preload(){const D=this.injector.get(f.h0i);return this.processRoutes(D,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,U){const ee=[];for(const le of U)if(le.loadChildren&&!le.canLoad&&le._loadedConfig){const Xe=le._loadedConfig;ee.push(this.processRoutes(Xe.module,Xe.routes))}else le.loadChildren&&!le.canLoad?ee.push(this.preloadConfig(D,le)):le.children&&ee.push(this.processRoutes(D,le.children));return(0,Nt.D)(ee).pipe((0,Ut.J)(),(0,Or.U)(le=>{}))}preloadConfig(D,U){return this.preloadingStrategy.preload(U,()=>(U._loadedConfig?Le(U._loadedConfig):this.loader.load(D.injector,U)).pipe((0,yn.zg)(le=>(U._loadedConfig=le,this.processRoutes(le.module,le.routes)))))}}return N.\u0275fac=function(D){return new(D||N)(f.LFG(xi),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(qs))},N.\u0275prov=f.Yz7({token:N,factory:N.\u0275fac}),N})(),zs=(()=>{class N{constructor(D,U,ee={}){this.router=D,this.viewportScroller=U,this.options=ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ee.scrollPositionRestoration=ee.scrollPositionRestoration||"disabled",ee.anchorScrolling=ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(D=>{D instanceof bt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Ce&&(this.lastId=D.id,this.scheduleScrollEvent(D,this.router.parseUrl(D.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(D=>{D instanceof mt&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,U){this.router.triggerEvent(new mt(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,U))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return N.\u0275fac=function(D){f.$Z()},N.\u0275prov=f.Yz7({token:N,factory:N.\u0275fac}),N})();const Ws=new f.OlP("ROUTER_CONFIGURATION"),us=new f.OlP("ROUTER_FORROOT_GUARD"),Dr=[it.Ye,{provide:be,useClass:Fe},{provide:xi,useFactory:function bu(N,A,D,U,ee,le,Xe={},gt,un){const ir=new xi(null,N,A,D,U,ee,An(le));return gt&&(ir.urlHandlingStrategy=gt),un&&(ir.routeReuseStrategy=un),function Ju(N,A){N.errorHandler&&(A.errorHandler=N.errorHandler),N.malformedUriErrorHandler&&(A.malformedUriErrorHandler=N.malformedUriErrorHandler),N.onSameUrlNavigation&&(A.onSameUrlNavigation=N.onSameUrlNavigation),N.paramsInheritanceStrategy&&(A.paramsInheritanceStrategy=N.paramsInheritanceStrategy),N.relativeLinkResolution&&(A.relativeLinkResolution=N.relativeLinkResolution),N.urlUpdateStrategy&&(A.urlUpdateStrategy=N.urlUpdateStrategy),N.canceledNavigationResolution&&(A.canceledNavigationResolution=N.canceledNavigationResolution)}(Xe,ir),Xe.enableTracing&&ir.events.subscribe(Oi=>{var Nr,Vi;null===(Nr=console.group)||void 0===Nr||Nr.call(console,`Router Event: ${Oi.constructor.name}`),console.log(Oi.toString()),console.log(Oi),null===(Vi=console.groupEnd)||void 0===Vi||Vi.call(console)}),ir},deps:[be,B,it.Ye,f.zs3,f.Sil,Gs,Ws,[class ao{},new f.FiY],[fa,new f.FiY]]},B,{provide:Z,useFactory:function ra(N){return N.routerState.root},deps:[xi]},Ja,yu,vu,{provide:Ws,useValue:{enableTracing:!1}}];function uo(){return new f.PXZ("Router",xi)}let na=(()=>{class N{constructor(D,U){}static forRoot(D,U){return{ngModule:N,providers:[Dr,wu(D),{provide:us,useFactory:Ys,deps:[[xi,new f.FiY,new f.tp0]]},{provide:Ws,useValue:U||{}},{provide:it.S$,useFactory:pa,deps:[it.lw,[new f.tBr(it.mr),new f.FiY],Ws]},{provide:zs,useFactory:Za,deps:[xi,it.EM,Ws]},{provide:qs,useExisting:U&&U.preloadingStrategy?U.preloadingStrategy:yu},{provide:f.PXZ,multi:!0,useFactory:uo},[eu,{provide:f.ip1,multi:!0,useFactory:tu,deps:[eu]},{provide:Ao,useFactory:ia,deps:[eu]},{provide:f.tb,multi:!0,useExisting:Ao}]]}}static forChild(D){return{ngModule:N,providers:[wu(D)]}}}return N.\u0275fac=function(D){return new(D||N)(f.LFG(us,8),f.LFG(xi,8))},N.\u0275mod=f.oAB({type:N}),N.\u0275inj=f.cJS({}),N})();function Za(N,A,D){return D.scrollOffset&&A.setOffset(D.scrollOffset),new zs(N,A,D)}function pa(N,A,D={}){return D.useHash?new it.Do(N,A):new it.b0(N,A)}function Ys(N){return"guarded"}function wu(N){return[{provide:f.deG,multi:!0,useValue:N},{provide:Gs,multi:!0,useValue:N}]}let eu=(()=>{class N{constructor(D){this.injector=D,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ke.xQ}appInitializer(){return this.injector.get(it.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let U=null;const ee=new Promise(gt=>U=gt),le=this.injector.get(xi),Xe=this.injector.get(Ws);return"disabled"===Xe.initialNavigation?(le.setUpLocationChangeListener(),U(!0)):"enabled"===Xe.initialNavigation||"enabledBlocking"===Xe.initialNavigation?(le.hooks.afterPreactivation=()=>this.initNavigation?Le(null):(this.initNavigation=!0,U(!0),this.resultOfPreactivationDone),le.initialNavigation()):U(!0),ee})}bootstrapListener(D){const U=this.injector.get(Ws),ee=this.injector.get(Ja),le=this.injector.get(zs),Xe=this.injector.get(xi),gt=this.injector.get(f.z2F);D===gt.components[0]&&(("enabledNonBlocking"===U.initialNavigation||void 0===U.initialNavigation)&&Xe.initialNavigation(),ee.setUpPreloading(),le.init(),Xe.resetRootComponentType(gt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return N.\u0275fac=function(D){return new(D||N)(f.LFG(f.zs3))},N.\u0275prov=f.Yz7({token:N,factory:N.\u0275fac}),N})();function tu(N){return N.appInitializer.bind(N)}function ia(N){return N.bootstrapListener.bind(N)}const Ao=new f.OlP("Router Initializer")},5861:(wr,an,fe)=>{"use strict";function f(H,tt,Le,we,_e,Dt,qe){try{var x=H[Dt](qe),Se=x.value}catch(xe){return void Le(xe)}x.done?tt(Se):Promise.resolve(Se).then(we,_e)}function j(H){return function(){var tt=this,Le=arguments;return new Promise(function(we,_e){var Dt=H.apply(tt,Le);function qe(Se){f(Dt,we,_e,qe,x,"next",Se)}function x(Se){f(Dt,we,_e,qe,x,"throw",Se)}qe(void 0)})}}fe.d(an,{Z:()=>j})}},wr=>{wr(wr.s=4739)}]);